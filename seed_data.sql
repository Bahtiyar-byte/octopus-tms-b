-- Combined script to insert sample data into the Octopus TMS database
-- Created on 2025-08-04
-- Modified on 2025-08-04 to handle duplicate key violations

-- First, insert companies
-- Insert companies of different types (BROKER, CARRIER, SHIPPER)
-- Using ON CONFLICT DO NOTHING to prevent duplicate key violations
INSERT INTO companies (
    id,
    name,
    type,
    mc_number,
    dot_number,
    ein,
    address_line1,
    address_line2,
    city,
    state,
    zip_code,
    country,
    phone,
    email,
    website,
    logo_url,
    status,
    credit_limit,
    credit_used,
    payment_terms,
    created_at,
    updated_at
) VALUES 
-- Broker company
('a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890',
'Octopus Logistics',
'BROKER',
'MC123456',
'DOT7890123',
'12-3456789',
'123 Main Street',
'Suite 400',
'Chicago',
'IL',
'60601',
'USA',
'(312) 555-1234',
'info@octopus-tms.com',
'https://www.octopus-tms.com',
'https://storage.googleapis.com/octopus-tms/logos/octopus-logo.png',
'ACTIVE',
100000.00,
25000.00,
30,
'2025-01-01 00:00:00',
'2025-07-28 21:14:00'),

-- Carrier company 1
('550e8400-e29b-41d4-a716-446655440003',
'FastTrack Carriers',
'CARRIER',
'MC789012',
'DOT4567890',
'45-6789012',
'456 Transport Ave',
'Building B',
'Dallas',
'TX',
'75201',
'USA',
'(214) 555-6789',
'dispatch@fasttrackcarriers.com',
'https://www.fasttrackcarriers.com',
'https://storage.googleapis.com/octopus-tms/logos/fasttrack-logo.png',
'ACTIVE',
50000.00,
15000.00,
15,
'2025-01-15 00:00:00',
'2025-07-28 21:14:00'),

-- Carrier company 2
('550e8400-e29b-41d4-a716-446655440005',
'Reliable Transport Inc',
'CARRIER',
'MC345678',
'DOT9012345',
'78-9012345',
'789 Freight Blvd',
null,
'Atlanta',
'GA',
'30301',
'USA',
'(404) 555-7890',
'operations@reliabletransport.com',
'https://www.reliabletransport.com',
'https://storage.googleapis.com/octopus-tms/logos/reliable-logo.png',
'ACTIVE',
75000.00,
30000.00,
30,
'2025-02-01 00:00:00',
'2025-07-28 21:14:00'),

-- Shipper company 1
('550e8400-e29b-41d4-a716-446655440004',
'Global Manufacturing Co',
'SHIPPER',
null,
null,
'34-5678901',
'789 Industry Parkway',
'Building 7',
'Detroit',
'MI',
'48201',
'USA',
'(313) 555-4567',
'shipping@globalmanufacturing.com',
'https://www.globalmanufacturing.com',
'https://storage.googleapis.com/octopus-tms/logos/global-logo.png',
'ACTIVE',
null,
null,
null,
'2025-01-20 00:00:00',
'2025-07-28 21:14:00'),

-- Shipper company 2
('550e8400-e29b-41d4-a716-446655440007',
'Fresh Produce Distributors',
'SHIPPER',
null,
null,
'56-7890123',
'321 Harvest Road',
null,
'Fresno',
'CA',
'93706',
'USA',
'(559) 555-2345',
'logistics@freshproduce.com',
'https://www.freshproducedist.com',
'https://storage.googleapis.com/octopus-tms/logos/fresh-logo.png',
'ACTIVE',
null,
null,
null,
'2025-02-15 00:00:00',
'2025-07-28 21:14:00')
ON CONFLICT (id) DO NOTHING;

-- Then, insert users
INSERT INTO users (
    id, 
    username, 
    email, 
    password_hash, 
    first_name, 
    last_name, 
    phone, 
    role, 
    department, 
    avatar_url, 
    status, 
    last_login, 
    failed_login_attempts, 
    locked_until, 
    reset_token, 
    reset_token_starts, 
    created_at, 
    updated_at, 
    company_id, 
    company_type
) VALUES 
-- User 1: John Carrier (DISPATCHER at FastTrack Carriers)
('e62c9fe5-c56e-41ab-b5bb-7b2ac7e8dc0d', 
'carrier1@octopustms.com', 
'carrier1@octopustms.com', 
'{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
'John', 
'Carrier', 
'(555)999-8899', 
'DISPATCHER', 
'Dispatching', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-09 16:55:38.763475', 
'2025-07-09 16:55:38.763475', 
'550e8400-e29b-41d4-a716-446655440003', 
'CARRIER'),

-- User 2: Emily Anderson (ADMIN at Octopus Logistics)
('650e8400-e29b-41d4-a716-446655440006', 
'emily.anderson@octopus-tms.com', 
'emily.anderson@octopus-tms.com', 
'{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
'Emily', 
'Anderson', 
'(555)777-8899', 
'ADMIN', 
'Operations10', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-15 10:30:00', 
'2025-07-15 10:30:00', 
'a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890', 
'BROKER'),

-- User 3: Brandon Hay (ADMIN at Octopus Logistics)
('80a6d72c-bdd5-466e-b0c4-db2cb9d1d1b4', 
'brandon.hay@octopus-tms.com', 
'brandon.hay@octopus-tms.com', 
'{bcrypt}$2a$10$ndqjyOWI6lpbvlUGkOqfeObRKLx9uDkjlr7f/47.BH5vHO.iWDtiK', 
'Brandon', 
'Hay', 
'4125105854', 
'ADMIN', 
'BOSS', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-01 09:15:00', 
'2025-07-01 09:15:00', 
'a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890', 
'BROKER'),

-- User 4: Admin User (ADMIN at Octopus Logistics)
('650e8400-e29b-41d4-a716-446655440001', 
'admin@octopustms.com', 
'admin@octopustms.com', 
'{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
'Admin', 
'User', 
'(908)777-8899', 
'ADMIN', 
'Sales', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-01 22:19:08.463000', 
'2025-07-01 22:19:08.463000', 
'a1b2c3d4-e5f6-7890-a1b2-c3d4e5f67890', 
'BROKER'),

-- User 5: Sarah Shipper (ADMIN at Global Manufacturing Co)
('1fe61315-5f1e-4b11-a3b1-14db1c2dd556', 
'shipper1@octopustms.com', 
'shipper1@octopustms.com', 
'{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
'Sarah', 
'Shipper', 
'8887705854', 
'ADMIN', 
'Transport', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-10 14:45:00', 
'2025-07-10 14:45:00', 
'550e8400-e29b-41d4-a716-446655440004', 
'SHIPPER'),

-- User 6: Michael Driver (DRIVER at FastTrack Carriers)
('7f9c6b5a-4e3d-2c1b-0a9f-8e7d6c5b4a3e', 
'michael.driver@fasttrackcarriers.com', 
'michael.driver@fasttrackcarriers.com', 
'{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
'Michael', 
'Driver', 
'(214)555-1234', 
'DRIVER', 
'Operations', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-05 08:30:00', 
'2025-07-05 08:30:00', 
'550e8400-e29b-41d4-a716-446655440003', 
'CARRIER'),

-- User 7: Jennifer Trucker (DRIVER at Reliable Transport Inc)
('6e5d4c3b-2a1f-0e9d-8c7b-6a5d4c3b2a1f', 
'jennifer.trucker@reliabletransport.com', 
'jennifer.trucker@reliabletransport.com', 
'{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
'Jennifer', 
'Trucker', 
'(404)555-5678', 
'DRIVER', 
'Operations', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-08 09:45:00', 
'2025-07-08 09:45:00', 
'550e8400-e29b-41d4-a716-446655440005', 
'CARRIER'),

-- User 8: Robert Dispatcher (DISPATCHER at Reliable Transport Inc)
('5d4c3b2a-1f0e-9d8c-7b6a-5d4c3b2a1f0e', 
'robert.dispatcher@reliabletransport.com', 
'robert.dispatcher@reliabletransport.com', 
'{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
'Robert', 
'Dispatcher', 
'(404)555-9012', 
'DISPATCHER', 
'Logistics', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-03 11:15:00', 
'2025-07-03 11:15:00', 
'550e8400-e29b-41d4-a716-446655440005', 
'CARRIER'),

-- User 9: Lisa Logistics (SUPERVISOR at Global Manufacturing Co)
('4c3b2a1f-0e9d-8c7b-6a5d-4c3b2a1f0e9d', 
'lisa.logistics@globalmanufacturing.com', 
'lisa.logistics@globalmanufacturing.com', 
'{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
'Lisa', 
'Logistics', 
'(313)555-3456', 
'SUPERVISOR', 
'Shipping', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-12 13:20:00', 
'2025-07-12 13:20:00', 
'550e8400-e29b-41d4-a716-446655440004', 
'SHIPPER'),

-- User 10: David Produce (SUPERVISOR at Fresh Produce Distributors)
('3b2a1f0e-9d8c-7b6a-5d4c-3b2a1f0e9d8c', 
'david.produce@freshproduce.com', 
'david.produce@freshproduce.com', 
'{bcrypt}$2a$10$dXJ3SW6G7P50lGmMkkmwe.20cQQubK3.HZWzG3YB1tlRy.fqvM/BG', 
'David', 
'Produce', 
'(559)555-7890', 
'SUPERVISOR', 
'Distribution', 
null, 
'ACTIVE', 
null, 
null, 
null, 
null, 
null, 
'2025-07-18 10:00:00', 
'2025-07-18 10:00:00', 
'550e8400-e29b-41d4-a716-446655440007', 
'SHIPPER')
ON CONFLICT (id) DO NOTHING;