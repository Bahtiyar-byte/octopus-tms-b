var Rie=Object.defineProperty;var U$=t=>{throw TypeError(t)};var Iie=(t,e,r)=>e in t?Rie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var kr=(t,e,r)=>Iie(t,typeof e!="symbol"?e+"":e,r),EP=(t,e,r)=>e.has(t)||U$("Cannot "+r);var D=(t,e,r)=>(EP(t,e,"read from private field"),r?r.call(t):e.get(t)),Te=(t,e,r)=>e.has(t)?U$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),je=(t,e,r,n)=>(EP(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_e=(t,e,r)=>(EP(t,e,"access private method"),r);var ea=(t,e,r,n)=>({set _(i){je(t,e,i,r)},get _(){return D(t,e,n)}});function DY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var L2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ur(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TP={exports:{}},ob={},PP={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q$;function Fie(){if(q$)return Wr;q$=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function y(ve){return ve===null||typeof ve!="object"?null:(ve=g&&ve[g]||ve["@@iterator"],typeof ve=="function"?ve:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function C(ve,Se,He){this.props=ve,this.context=Se,this.refs=k,this.updater=He||N}C.prototype.isReactComponent={},C.prototype.setState=function(ve,Se){if(typeof ve!="object"&&typeof ve!="function"&&ve!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ve,Se,"setState")},C.prototype.forceUpdate=function(ve){this.updater.enqueueForceUpdate(this,ve,"forceUpdate")};function O(){}O.prototype=C.prototype;function T(ve,Se,He){this.props=ve,this.context=Se,this.refs=k,this.updater=He||N}var M=T.prototype=new O;M.constructor=T,_(M,C.prototype),M.isPureReactComponent=!0;var B=Array.isArray,F=Object.prototype.hasOwnProperty,V={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function Z(ve,Se,He){var De,$e={},Ue=null,Ke=null;if(Se!=null)for(De in Se.ref!==void 0&&(Ke=Se.ref),Se.key!==void 0&&(Ue=""+Se.key),Se)F.call(Se,De)&&!H.hasOwnProperty(De)&&($e[De]=Se[De]);var nt=arguments.length-2;if(nt===1)$e.children=He;else if(1<nt){for(var Me=Array(nt),qe=0;qe<nt;qe++)Me[qe]=arguments[qe+2];$e.children=Me}if(ve&&ve.defaultProps)for(De in nt=ve.defaultProps,nt)$e[De]===void 0&&($e[De]=nt[De]);return{$$typeof:t,type:ve,key:Ue,ref:Ke,props:$e,_owner:V.current}}function re(ve,Se){return{$$typeof:t,type:ve.type,key:Se,ref:ve.ref,props:ve.props,_owner:ve._owner}}function le(ve){return typeof ve=="object"&&ve!==null&&ve.$$typeof===t}function ce(ve){var Se={"=":"=0",":":"=2"};return"$"+ve.replace(/[=:]/g,function(He){return Se[He]})}var he=/\/+/g;function fe(ve,Se){return typeof ve=="object"&&ve!==null&&ve.key!=null?ce(""+ve.key):Se.toString(36)}function ee(ve,Se,He,De,$e){var Ue=typeof ve;(Ue==="undefined"||Ue==="boolean")&&(ve=null);var Ke=!1;if(ve===null)Ke=!0;else switch(Ue){case"string":case"number":Ke=!0;break;case"object":switch(ve.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=ve,$e=$e(Ke),ve=De===""?"."+fe(Ke,0):De,B($e)?(He="",ve!=null&&(He=ve.replace(he,"$&/")+"/"),ee($e,Se,He,"",function(qe){return qe})):$e!=null&&(le($e)&&($e=re($e,He+(!$e.key||Ke&&Ke.key===$e.key?"":(""+$e.key).replace(he,"$&/")+"/")+ve)),Se.push($e)),1;if(Ke=0,De=De===""?".":De+":",B(ve))for(var nt=0;nt<ve.length;nt++){Ue=ve[nt];var Me=De+fe(Ue,nt);Ke+=ee(Ue,Se,He,Me,$e)}else if(Me=y(ve),typeof Me=="function")for(ve=Me.call(ve),nt=0;!(Ue=ve.next()).done;)Ue=Ue.value,Me=De+fe(Ue,nt++),Ke+=ee(Ue,Se,He,Me,$e);else if(Ue==="object")throw Se=String(ve),Error("Objects are not valid as a React child (found: "+(Se==="[object Object]"?"object with keys {"+Object.keys(ve).join(", ")+"}":Se)+"). If you meant to render a collection of children, use an array instead.");return Ke}function xe(ve,Se,He){if(ve==null)return ve;var De=[],$e=0;return ee(ve,De,"","",function(Ue){return Se.call(He,Ue,$e++)}),De}function ie(ve){if(ve._status===-1){var Se=ve._result;Se=Se(),Se.then(function(He){(ve._status===0||ve._status===-1)&&(ve._status=1,ve._result=He)},function(He){(ve._status===0||ve._status===-1)&&(ve._status=2,ve._result=He)}),ve._status===-1&&(ve._status=0,ve._result=Se)}if(ve._status===1)return ve._result.default;throw ve._result}var ge={current:null},G={transition:null},ue={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:G,ReactCurrentOwner:V};function ke(){throw Error("act(...) is not supported in production builds of React.")}return Wr.Children={map:xe,forEach:function(ve,Se,He){xe(ve,function(){Se.apply(this,arguments)},He)},count:function(ve){var Se=0;return xe(ve,function(){Se++}),Se},toArray:function(ve){return xe(ve,function(Se){return Se})||[]},only:function(ve){if(!le(ve))throw Error("React.Children.only expected to receive a single React element child.");return ve}},Wr.Component=C,Wr.Fragment=r,Wr.Profiler=i,Wr.PureComponent=T,Wr.StrictMode=n,Wr.Suspense=u,Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Wr.act=ke,Wr.cloneElement=function(ve,Se,He){if(ve==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ve+".");var De=_({},ve.props),$e=ve.key,Ue=ve.ref,Ke=ve._owner;if(Se!=null){if(Se.ref!==void 0&&(Ue=Se.ref,Ke=V.current),Se.key!==void 0&&($e=""+Se.key),ve.type&&ve.type.defaultProps)var nt=ve.type.defaultProps;for(Me in Se)F.call(Se,Me)&&!H.hasOwnProperty(Me)&&(De[Me]=Se[Me]===void 0&&nt!==void 0?nt[Me]:Se[Me])}var Me=arguments.length-2;if(Me===1)De.children=He;else if(1<Me){nt=Array(Me);for(var qe=0;qe<Me;qe++)nt[qe]=arguments[qe+2];De.children=nt}return{$$typeof:t,type:ve.type,key:$e,ref:Ue,props:De,_owner:Ke}},Wr.createContext=function(ve){return ve={$$typeof:o,_currentValue:ve,_currentValue2:ve,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ve.Provider={$$typeof:a,_context:ve},ve.Consumer=ve},Wr.createElement=Z,Wr.createFactory=function(ve){var Se=Z.bind(null,ve);return Se.type=ve,Se},Wr.createRef=function(){return{current:null}},Wr.forwardRef=function(ve){return{$$typeof:l,render:ve}},Wr.isValidElement=le,Wr.lazy=function(ve){return{$$typeof:f,_payload:{_status:-1,_result:ve},_init:ie}},Wr.memo=function(ve,Se){return{$$typeof:h,type:ve,compare:Se===void 0?null:Se}},Wr.startTransition=function(ve){var Se=G.transition;G.transition={};try{ve()}finally{G.transition=Se}},Wr.unstable_act=ke,Wr.useCallback=function(ve,Se){return ge.current.useCallback(ve,Se)},Wr.useContext=function(ve){return ge.current.useContext(ve)},Wr.useDebugValue=function(){},Wr.useDeferredValue=function(ve){return ge.current.useDeferredValue(ve)},Wr.useEffect=function(ve,Se){return ge.current.useEffect(ve,Se)},Wr.useId=function(){return ge.current.useId()},Wr.useImperativeHandle=function(ve,Se,He){return ge.current.useImperativeHandle(ve,Se,He)},Wr.useInsertionEffect=function(ve,Se){return ge.current.useInsertionEffect(ve,Se)},Wr.useLayoutEffect=function(ve,Se){return ge.current.useLayoutEffect(ve,Se)},Wr.useMemo=function(ve,Se){return ge.current.useMemo(ve,Se)},Wr.useReducer=function(ve,Se,He){return ge.current.useReducer(ve,Se,He)},Wr.useRef=function(ve){return ge.current.useRef(ve)},Wr.useState=function(ve){return ge.current.useState(ve)},Wr.useSyncExternalStore=function(ve,Se,He){return ge.current.useSyncExternalStore(ve,Se,He)},Wr.useTransition=function(){return ge.current.useTransition()},Wr.version="18.3.1",Wr}var X$;function av(){return X$||(X$=1,PP.exports=Fie()),PP.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y$;function Bie(){if(Y$)return ob;Y$=1;var t=av(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,h){var f,g={},y=null,N=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(N=u.ref);for(f in u)n.call(u,f)&&!a.hasOwnProperty(f)&&(g[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)g[f]===void 0&&(g[f]=u[f]);return{$$typeof:e,type:l,key:y,ref:N,props:g,_owner:i.current}}return ob.Fragment=r,ob.jsx=o,ob.jsxs=o,ob}var G$;function $ie(){return G$||(G$=1,TP.exports=Bie()),TP.exports}var s=$ie(),Y=av();const Oe=Ur(Y),zie=DY({__proto__:null,default:Oe},[Y]);var O2={},MP={exports:{}},ka={},LP={exports:{}},OP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z$;function Hie(){return Z$||(Z$=1,function(t){function e(G,ue){var ke=G.length;G.push(ue);e:for(;0<ke;){var ve=ke-1>>>1,Se=G[ve];if(0<i(Se,ue))G[ve]=ue,G[ke]=Se,ke=ve;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ue=G[0],ke=G.pop();if(ke!==ue){G[0]=ke;e:for(var ve=0,Se=G.length,He=Se>>>1;ve<He;){var De=2*(ve+1)-1,$e=G[De],Ue=De+1,Ke=G[Ue];if(0>i($e,ke))Ue<Se&&0>i(Ke,$e)?(G[ve]=Ke,G[Ue]=ke,ve=Ue):(G[ve]=$e,G[De]=ke,ve=De);else if(Ue<Se&&0>i(Ke,ke))G[ve]=Ke,G[Ue]=ke,ve=Ue;else break e}}return ue}function i(G,ue){var ke=G.sortIndex-ue.sortIndex;return ke!==0?ke:G.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,g=null,y=3,N=!1,_=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(G){for(var ue=r(h);ue!==null;){if(ue.callback===null)n(h);else if(ue.startTime<=G)n(h),ue.sortIndex=ue.expirationTime,e(u,ue);else break;ue=r(h)}}function B(G){if(k=!1,M(G),!_)if(r(u)!==null)_=!0,ie(F);else{var ue=r(h);ue!==null&&ge(B,ue.startTime-G)}}function F(G,ue){_=!1,k&&(k=!1,O(Z),Z=-1),N=!0;var ke=y;try{for(M(ue),g=r(u);g!==null&&(!(g.expirationTime>ue)||G&&!ce());){var ve=g.callback;if(typeof ve=="function"){g.callback=null,y=g.priorityLevel;var Se=ve(g.expirationTime<=ue);ue=t.unstable_now(),typeof Se=="function"?g.callback=Se:g===r(u)&&n(u),M(ue)}else n(u);g=r(u)}if(g!==null)var He=!0;else{var De=r(h);De!==null&&ge(B,De.startTime-ue),He=!1}return He}finally{g=null,y=ke,N=!1}}var V=!1,H=null,Z=-1,re=5,le=-1;function ce(){return!(t.unstable_now()-le<re)}function he(){if(H!==null){var G=t.unstable_now();le=G;var ue=!0;try{ue=H(!0,G)}finally{ue?fe():(V=!1,H=null)}}else V=!1}var fe;if(typeof T=="function")fe=function(){T(he)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,xe=ee.port2;ee.port1.onmessage=he,fe=function(){xe.postMessage(null)}}else fe=function(){C(he,0)};function ie(G){H=G,V||(V=!0,fe())}function ge(G,ue){Z=C(function(){G(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){_||N||(_=!0,ie(F))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var ke=y;y=ue;try{return G()}finally{y=ke}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ue){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ke=y;y=G;try{return ue()}finally{y=ke}},t.unstable_scheduleCallback=function(G,ue,ke){var ve=t.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?ve+ke:ve):ke=ve,G){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ke+Se,G={id:f++,callback:ue,priorityLevel:G,startTime:ke,expirationTime:Se,sortIndex:-1},ke>ve?(G.sortIndex=ke,e(h,G),r(u)===null&&G===r(h)&&(k?(O(Z),Z=-1):k=!0,ge(B,ke-ve))):(G.sortIndex=Se,e(u,G),_||N||(_=!0,ie(F))),G},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(G){var ue=y;return function(){var ke=y;y=ue;try{return G.apply(this,arguments)}finally{y=ke}}}}(OP)),OP}var K$;function Wie(){return K$||(K$=1,LP.exports=Hie()),LP.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J$;function Vie(){if(J$)return ka;J$=1;var t=av(),e=Wie();function r(p){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+p,E=1;E<arguments.length;E++)b+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+p+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(p,b){o(p,b),o(p+"Capture",b)}function o(p,b){for(i[p]=b,p=0;p<b.length;p++)n.add(b[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function y(p){return u.call(g,p)?!0:u.call(f,p)?!1:h.test(p)?g[p]=!0:(f[p]=!0,!1)}function N(p,b,E,W){if(E!==null&&E.type===0)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return W?!1:E!==null?!E.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function _(p,b,E,W){if(b===null||typeof b>"u"||N(p,b,E,W))return!0;if(W)return!1;if(E!==null)switch(E.type){case 3:return!b;case 4:return b===!1;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function k(p,b,E,W,J,ne,Ne){this.acceptsBooleans=b===2||b===3||b===4,this.attributeName=W,this.attributeNamespace=J,this.mustUseProperty=E,this.propertyName=p,this.type=b,this.sanitizeURL=ne,this.removeEmptyString=Ne}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){C[p]=new k(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var b=p[0];C[b]=new k(b,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){C[p]=new k(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){C[p]=new k(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){C[p]=new k(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){C[p]=new k(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){C[p]=new k(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){C[p]=new k(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){C[p]=new k(p,5,!1,p.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function T(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var b=p.replace(O,T);C[b]=new k(b,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var b=p.replace(O,T);C[b]=new k(b,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var b=p.replace(O,T);C[b]=new k(b,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){C[p]=new k(p,1,!1,p.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){C[p]=new k(p,1,!1,p.toLowerCase(),null,!0,!0)});function M(p,b,E,W){var J=C.hasOwnProperty(b)?C[b]:null;(J!==null?J.type!==0:W||!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(_(b,E,J,W)&&(E=null),W||J===null?y(b)&&(E===null?p.removeAttribute(b):p.setAttribute(b,""+E)):J.mustUseProperty?p[J.propertyName]=E===null?J.type===3?!1:"":E:(b=J.attributeName,W=J.attributeNamespace,E===null?p.removeAttribute(b):(J=J.type,E=J===3||J===4&&E===!0?"":""+E,W?p.setAttributeNS(W,b,E):p.setAttribute(b,E))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),V=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),ce=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),G=Symbol.iterator;function ue(p){return p===null||typeof p!="object"?null:(p=G&&p[G]||p["@@iterator"],typeof p=="function"?p:null)}var ke=Object.assign,ve;function Se(p){if(ve===void 0)try{throw Error()}catch(E){var b=E.stack.trim().match(/\n( *(at )?)/);ve=b&&b[1]||""}return`
`+ve+p}var He=!1;function De(p,b){if(!p||He)return"";He=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(ct){var W=ct}Reflect.construct(p,[],b)}else{try{b.call()}catch(ct){W=ct}p.call(b.prototype)}else{try{throw Error()}catch(ct){W=ct}p()}}catch(ct){if(ct&&W&&typeof ct.stack=="string"){for(var J=ct.stack.split(`
`),ne=W.stack.split(`
`),Ne=J.length-1,Re=ne.length-1;1<=Ne&&0<=Re&&J[Ne]!==ne[Re];)Re--;for(;1<=Ne&&0<=Re;Ne--,Re--)if(J[Ne]!==ne[Re]){if(Ne!==1||Re!==1)do if(Ne--,Re--,0>Re||J[Ne]!==ne[Re]){var Ve=`
`+J[Ne].replace(" at new "," at ");return p.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",p.displayName)),Ve}while(1<=Ne&&0<=Re);break}}}finally{He=!1,Error.prepareStackTrace=E}return(p=p?p.displayName||p.name:"")?Se(p):""}function $e(p){switch(p.tag){case 5:return Se(p.type);case 16:return Se("Lazy");case 13:return Se("Suspense");case 19:return Se("SuspenseList");case 0:case 2:case 15:return p=De(p.type,!1),p;case 11:return p=De(p.type.render,!1),p;case 1:return p=De(p.type,!0),p;default:return""}}function Ue(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case H:return"Fragment";case V:return"Portal";case re:return"Profiler";case Z:return"StrictMode";case fe:return"Suspense";case ee:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case ce:return(p.displayName||"Context")+".Consumer";case le:return(p._context.displayName||"Context")+".Provider";case he:var b=p.render;return p=p.displayName,p||(p=b.displayName||b.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case xe:return b=p.displayName||null,b!==null?b:Ue(p.type)||"Memo";case ie:b=p._payload,p=p._init;try{return Ue(p(b))}catch{}}return null}function Ke(p){var b=p.type;switch(p.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=b.render,p=p.displayName||p.name||"",b.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(b);case 8:return b===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function nt(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function Me(p){var b=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function qe(p){var b=Me(p)?"checked":"value",E=Object.getOwnPropertyDescriptor(p.constructor.prototype,b),W=""+p[b];if(!p.hasOwnProperty(b)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var J=E.get,ne=E.set;return Object.defineProperty(p,b,{configurable:!0,get:function(){return J.call(this)},set:function(Ne){W=""+Ne,ne.call(this,Ne)}}),Object.defineProperty(p,b,{enumerable:E.enumerable}),{getValue:function(){return W},setValue:function(Ne){W=""+Ne},stopTracking:function(){p._valueTracker=null,delete p[b]}}}}function ht(p){p._valueTracker||(p._valueTracker=qe(p))}function ye(p){if(!p)return!1;var b=p._valueTracker;if(!b)return!0;var E=b.getValue(),W="";return p&&(W=Me(p)?p.checked?"true":"false":p.value),p=W,p!==E?(b.setValue(p),!0):!1}function Xe(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function dt(p,b){var E=b.checked;return ke({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??p._wrapperState.initialChecked})}function Tt(p,b){var E=b.defaultValue==null?"":b.defaultValue,W=b.checked!=null?b.checked:b.defaultChecked;E=nt(b.value!=null?b.value:E),p._wrapperState={initialChecked:W,initialValue:E,controlled:b.type==="checkbox"||b.type==="radio"?b.checked!=null:b.value!=null}}function Ct(p,b){b=b.checked,b!=null&&M(p,"checked",b,!1)}function or(p,b){Ct(p,b);var E=nt(b.value),W=b.type;if(E!=null)W==="number"?(E===0&&p.value===""||p.value!=E)&&(p.value=""+E):p.value!==""+E&&(p.value=""+E);else if(W==="submit"||W==="reset"){p.removeAttribute("value");return}b.hasOwnProperty("value")?cs(p,b.type,E):b.hasOwnProperty("defaultValue")&&cs(p,b.type,nt(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(p.defaultChecked=!!b.defaultChecked)}function Cr(p,b,E){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var W=b.type;if(!(W!=="submit"&&W!=="reset"||b.value!==void 0&&b.value!==null))return;b=""+p._wrapperState.initialValue,E||b===p.value||(p.value=b),p.defaultValue=b}E=p.name,E!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,E!==""&&(p.name=E)}function cs(p,b,E){(b!=="number"||Xe(p.ownerDocument)!==p)&&(E==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+E&&(p.defaultValue=""+E))}var Ie=Array.isArray;function Ge(p,b,E,W){if(p=p.options,b){b={};for(var J=0;J<E.length;J++)b["$"+E[J]]=!0;for(E=0;E<p.length;E++)J=b.hasOwnProperty("$"+p[E].value),p[E].selected!==J&&(p[E].selected=J),J&&W&&(p[E].defaultSelected=!0)}else{for(E=""+nt(E),b=null,J=0;J<p.length;J++){if(p[J].value===E){p[J].selected=!0,W&&(p[J].defaultSelected=!0);return}b!==null||p[J].disabled||(b=p[J])}b!==null&&(b.selected=!0)}}function it(p,b){if(b.dangerouslySetInnerHTML!=null)throw Error(r(91));return ke({},b,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function kt(p,b){var E=b.value;if(E==null){if(E=b.children,b=b.defaultValue,E!=null){if(b!=null)throw Error(r(92));if(Ie(E)){if(1<E.length)throw Error(r(93));E=E[0]}b=E}b==null&&(b=""),E=b}p._wrapperState={initialValue:nt(E)}}function jt(p,b){var E=nt(b.value),W=nt(b.defaultValue);E!=null&&(E=""+E,E!==p.value&&(p.value=E),b.defaultValue==null&&p.defaultValue!==E&&(p.defaultValue=E)),W!=null&&(p.defaultValue=""+W)}function bt(p){var b=p.textContent;b===p._wrapperState.initialValue&&b!==""&&b!==null&&(p.value=b)}function Ot(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(p,b){return p==null||p==="http://www.w3.org/1999/xhtml"?Ot(b):p==="http://www.w3.org/2000/svg"&&b==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var lr,Er=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,E,W,J){MSApp.execUnsafeLocalFunction(function(){return p(b,E,W,J)})}:p}(function(p,b){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=b;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=lr.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;b.firstChild;)p.appendChild(b.firstChild)}});function _s(p,b){if(b){var E=p.firstChild;if(E&&E===p.lastChild&&E.nodeType===3){E.nodeValue=b;return}}p.textContent=b}var Ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];Object.keys(Ee).forEach(function(p){yt.forEach(function(b){b=b+p.charAt(0).toUpperCase()+p.substring(1),Ee[b]=Ee[p]})});function zt(p,b,E){return b==null||typeof b=="boolean"||b===""?"":E||typeof b!="number"||b===0||Ee.hasOwnProperty(p)&&Ee[p]?(""+b).trim():b+"px"}function ts(p,b){p=p.style;for(var E in b)if(b.hasOwnProperty(E)){var W=E.indexOf("--")===0,J=zt(E,b[E],W);E==="float"&&(E="cssFloat"),W?p.setProperty(E,J):p[E]=J}}var An=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qs(p,b){if(b){if(An[p]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw Error(r(60));if(typeof b.dangerouslySetInnerHTML!="object"||!("__html"in b.dangerouslySetInnerHTML))throw Error(r(61))}if(b.style!=null&&typeof b.style!="object")throw Error(r(62))}}function Ts(p,b){if(p.indexOf("-")===-1)return typeof b.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function xa(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var ei=null,ti=null,zn=null;function xl(p){if(p=_d(p)){if(typeof ei!="function")throw Error(r(280));var b=p.stateNode;b&&(b=Qg(b),ei(p.stateNode,p.type,b))}}function Mo(p){ti?zn?zn.push(p):zn=[p]:ti=p}function yl(){if(ti){var p=ti,b=zn;if(zn=ti=null,xl(p),b)for(p=0;p<b.length;p++)xl(b[p])}}function Lo(p,b){return p(b)}function Ga(){}var ya=!1;function Oo(p,b,E){if(ya)return p(b,E);ya=!0;try{return Lo(p,b,E)}finally{ya=!1,(ti!==null||zn!==null)&&(Ga(),yl())}}function Za(p,b){var E=p.stateNode;if(E===null)return null;var W=Qg(E);if(W===null)return null;E=W[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(W=!W.disabled)||(p=p.type,W=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!W;break e;default:p=!1}if(p)return null;if(E&&typeof E!="function")throw Error(r(231,b,typeof E));return E}var We=!1;if(l)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){We=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{We=!1}function at(p,b,E,W,J,ne,Ne,Re,Ve){var ct=Array.prototype.slice.call(arguments,3);try{b.apply(E,ct)}catch(_t){this.onError(_t)}}var xt=!1,ut=null,Ht=!1,sr=null,Wt={onError:function(p){xt=!0,ut=p}};function Xt(p,b,E,W,J,ne,Ne,Re,Ve){xt=!1,ut=null,at.apply(Wt,arguments)}function Ft(p,b,E,W,J,ne,Ne,Re,Ve){if(Xt.apply(this,arguments),xt){if(xt){var ct=ut;xt=!1,ut=null}else throw Error(r(198));Ht||(Ht=!0,sr=ct)}}function $t(p){var b=p,E=p;if(p.alternate)for(;b.return;)b=b.return;else{p=b;do b=p,(b.flags&4098)!==0&&(E=b.return),p=b.return;while(p)}return b.tag===3?E:null}function dr(p){if(p.tag===13){var b=p.memoizedState;if(b===null&&(p=p.alternate,p!==null&&(b=p.memoizedState)),b!==null)return b.dehydrated}return null}function Sr(p){if($t(p)!==p)throw Error(r(188))}function Os(p){var b=p.alternate;if(!b){if(b=$t(p),b===null)throw Error(r(188));return b!==p?null:p}for(var E=p,W=b;;){var J=E.return;if(J===null)break;var ne=J.alternate;if(ne===null){if(W=J.return,W!==null){E=W;continue}break}if(J.child===ne.child){for(ne=J.child;ne;){if(ne===E)return Sr(J),p;if(ne===W)return Sr(J),b;ne=ne.sibling}throw Error(r(188))}if(E.return!==W.return)E=J,W=ne;else{for(var Ne=!1,Re=J.child;Re;){if(Re===E){Ne=!0,E=J,W=ne;break}if(Re===W){Ne=!0,W=J,E=ne;break}Re=Re.sibling}if(!Ne){for(Re=ne.child;Re;){if(Re===E){Ne=!0,E=ne,W=J;break}if(Re===W){Ne=!0,W=ne,E=J;break}Re=Re.sibling}if(!Ne)throw Error(r(189))}}if(E.alternate!==W)throw Error(r(190))}if(E.tag!==3)throw Error(r(188));return E.stateNode.current===E?p:b}function qr(p){return p=Os(p),p!==null?Ir(p):null}function Ir(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var b=Ir(p);if(b!==null)return b;p=p.sibling}return null}var me=e.unstable_scheduleCallback,c=e.unstable_cancelCallback,d=e.unstable_shouldYield,m=e.unstable_requestPaint,v=e.unstable_now,w=e.unstable_getCurrentPriorityLevel,j=e.unstable_ImmediatePriority,S=e.unstable_UserBlockingPriority,P=e.unstable_NormalPriority,I=e.unstable_LowPriority,z=e.unstable_IdlePriority,U=null,X=null;function Q(p){if(X&&typeof X.onCommitFiberRoot=="function")try{X.onCommitFiberRoot(U,p,void 0,(p.current.flags&128)===128)}catch{}}var te=Math.clz32?Math.clz32:we,ae=Math.log,pe=Math.LN2;function we(p){return p>>>=0,p===0?32:31-(ae(p)/pe|0)|0}var Ce=64,R=4194304;function q(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function se(p,b){var E=p.pendingLanes;if(E===0)return 0;var W=0,J=p.suspendedLanes,ne=p.pingedLanes,Ne=E&268435455;if(Ne!==0){var Re=Ne&~J;Re!==0?W=q(Re):(ne&=Ne,ne!==0&&(W=q(ne)))}else Ne=E&~J,Ne!==0?W=q(Ne):ne!==0&&(W=q(ne));if(W===0)return 0;if(b!==0&&b!==W&&(b&J)===0&&(J=W&-W,ne=b&-b,J>=ne||J===16&&(ne&4194240)!==0))return b;if((W&4)!==0&&(W|=E&16),b=p.entangledLanes,b!==0)for(p=p.entanglements,b&=W;0<b;)E=31-te(b),J=1<<E,W|=p[E],b&=~J;return W}function be(p,b){switch(p){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pe(p,b){for(var E=p.suspendedLanes,W=p.pingedLanes,J=p.expirationTimes,ne=p.pendingLanes;0<ne;){var Ne=31-te(ne),Re=1<<Ne,Ve=J[Ne];Ve===-1?((Re&E)===0||(Re&W)!==0)&&(J[Ne]=be(Re,b)):Ve<=b&&(p.expiredLanes|=Re),ne&=~Re}}function Le(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function ze(){var p=Ce;return Ce<<=1,(Ce&4194240)===0&&(Ce=64),p}function Fe(p){for(var b=[],E=0;31>E;E++)b.push(p);return b}function tt(p,b,E){p.pendingLanes|=b,b!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,b=31-te(b),p[b]=E}function ft(p,b){var E=p.pendingLanes&~b;p.pendingLanes=b,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=b,p.mutableReadLanes&=b,p.entangledLanes&=b,b=p.entanglements;var W=p.eventTimes;for(p=p.expirationTimes;0<E;){var J=31-te(E),ne=1<<J;b[J]=0,W[J]=-1,p[J]=-1,E&=~ne}}function mt(p,b){var E=p.entangledLanes|=b;for(p=p.entanglements;E;){var W=31-te(E),J=1<<W;J&b|p[W]&b&&(p[W]|=b),E&=~J}}var vt=0;function Dt(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var ur,wr,zr,ds,Jr,us=!1,Cn=[],wn=null,Yi=null,Ci=null,hn=new Map,Kt=new Map,fn=[],Ss="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _v(p,b){switch(p){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":hn.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kt.delete(b.pointerId)}}function pd(p,b,E,W,J,ne){return p===null||p.nativeEvent!==ne?(p={blockedOn:b,domEventName:E,eventSystemFlags:W,nativeEvent:ne,targetContainers:[J]},b!==null&&(b=_d(b),b!==null&&wr(b)),p):(p.eventSystemFlags|=W,b=p.targetContainers,J!==null&&b.indexOf(J)===-1&&b.push(J),p)}function Sv(p,b,E,W,J){switch(b){case"focusin":return wn=pd(wn,p,b,E,W,J),!0;case"dragenter":return Yi=pd(Yi,p,b,E,W,J),!0;case"mouseover":return Ci=pd(Ci,p,b,E,W,J),!0;case"pointerover":var ne=J.pointerId;return hn.set(ne,pd(hn.get(ne)||null,p,b,E,W,J)),!0;case"gotpointercapture":return ne=J.pointerId,Kt.set(ne,pd(Kt.get(ne)||null,p,b,E,W,J)),!0}return!1}function Rg(p){var b=Nd(p.target);if(b!==null){var E=$t(b);if(E!==null){if(b=E.tag,b===13){if(b=dr(E),b!==null){p.blockedOn=b,Jr(p.priority,function(){zr(E)});return}}else if(b===3&&E.stateNode.current.memoizedState.isDehydrated){p.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Do(p){if(p.blockedOn!==null)return!1;for(var b=p.targetContainers;0<b.length;){var E=Bg(p.domEventName,p.eventSystemFlags,b[0],p.nativeEvent);if(E===null){E=p.nativeEvent;var W=new E.constructor(E.type,E);pi=W,E.target.dispatchEvent(W),pi=null}else return b=_d(E),b!==null&&wr(b),p.blockedOn=E,!1;b.shift()}return!0}function Ig(p,b,E){Do(p)&&E.delete(b)}function em(){us=!1,wn!==null&&Do(wn)&&(wn=null),Yi!==null&&Do(Yi)&&(Yi=null),Ci!==null&&Do(Ci)&&(Ci=null),hn.forEach(Ig),Kt.forEach(Ig)}function Qs(p,b){p.blockedOn===b&&(p.blockedOn=null,us||(us=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,em)))}function Ka(p){function b(J){return Qs(J,p)}if(0<Cn.length){Qs(Cn[0],p);for(var E=1;E<Cn.length;E++){var W=Cn[E];W.blockedOn===p&&(W.blockedOn=null)}}for(wn!==null&&Qs(wn,p),Yi!==null&&Qs(Yi,p),Ci!==null&&Qs(Ci,p),hn.forEach(b),Kt.forEach(b),E=0;E<fn.length;E++)W=fn[E],W.blockedOn===p&&(W.blockedOn=null);for(;0<fn.length&&(E=fn[0],E.blockedOn===null);)Rg(E),E.blockedOn===null&&fn.shift()}var gd=B.ReactCurrentBatchConfig,tm=!0;function dT(p,b,E,W){var J=vt,ne=gd.transition;gd.transition=null;try{vt=1,rm(p,b,E,W)}finally{vt=J,gd.transition=ne}}function AN(p,b,E,W){var J=vt,ne=gd.transition;gd.transition=null;try{vt=4,rm(p,b,E,W)}finally{vt=J,gd.transition=ne}}function rm(p,b,E,W){if(tm){var J=Bg(p,b,E,W);if(J===null)x(p,b,W,Fg,E),_v(p,W);else if(Sv(J,p,b,E,W))W.stopPropagation();else if(_v(p,W),b&4&&-1<Ss.indexOf(p)){for(;J!==null;){var ne=_d(J);if(ne!==null&&ur(ne),ne=Bg(p,b,E,W),ne===null&&x(p,b,W,Fg,E),ne===J)break;J=ne}J!==null&&W.stopPropagation()}else x(p,b,W,null,E)}}var Fg=null;function Bg(p,b,E,W){if(Fg=null,p=xa(W),p=Nd(p),p!==null)if(b=$t(p),b===null)p=null;else if(E=b.tag,E===13){if(p=dr(b),p!==null)return p;p=null}else if(E===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;p=null}else b!==p&&(p=null);return Fg=p,null}function Xr(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w()){case j:return 1;case S:return 4;case P:case I:return 16;case z:return 536870912;default:return 16}default:return 16}}var dc=null,Gi=null,uc=null;function kv(){if(uc)return uc;var p,b=Gi,E=b.length,W,J="value"in dc?dc.value:dc.textContent,ne=J.length;for(p=0;p<E&&b[p]===J[p];p++);var Ne=E-p;for(W=1;W<=Ne&&b[E-W]===J[ne-W];W++);return uc=J.slice(p,1<W?1-W:void 0)}function $g(p){var b=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&b===13&&(p=13)):p=b,p===10&&(p=13),32<=p||p===13?p:0}function th(){return!0}function CN(){return!1}function Ei(p){function b(E,W,J,ne,Ne){this._reactName=E,this._targetInst=J,this.type=W,this.nativeEvent=ne,this.target=Ne,this.currentTarget=null;for(var Re in p)p.hasOwnProperty(Re)&&(E=p[Re],this[Re]=E?E(ne):ne[Re]);return this.isDefaultPrevented=(ne.defaultPrevented!=null?ne.defaultPrevented:ne.returnValue===!1)?th:CN,this.isPropagationStopped=CN,this}return ke(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=th)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=th)},persist:function(){},isPersistent:th}),b}var rh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Av=Ei(rh),xd=ke({},rh,{view:0,detail:0}),uT=Ei(xd),va,Cv,sh,Ja=ke({},xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==sh&&(sh&&p.type==="mousemove"?(va=p.screenX-sh.screenX,Cv=p.screenY-sh.screenY):Cv=va=0,sh=p),va)},movementY:function(p){return"movementY"in p?p.movementY:Cv}}),Ev=Ei(Ja),EN=ke({},Ja,{dataTransfer:0}),Tv=Ei(EN),hT=ke({},xd,{relatedTarget:0}),zg=Ei(hT),TN=ke({},rh,{animationName:0,elapsedTime:0,pseudoElement:0}),fT=Ei(TN),mT=ke({},rh,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Pv=Ei(mT),pT=ke({},rh,{data:0}),Mv=Ei(pT),PN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gT(p){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(p):(p=yd[p])?!!b[p]:!1}function vd(){return gT}var ba=ke({},xd,{key:function(p){if(p.key){var b=PN[p.key]||p.key;if(b!=="Unidentified")return b}return p.type==="keypress"?(p=$g(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Hg[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(p){return p.type==="keypress"?$g(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?$g(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),MN=Ei(ba),LN=ke({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ON=Ei(LN),Lv=ke({},xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),Ov=Ei(Lv),xT=ke({},rh,{propertyName:0,elapsedTime:0,pseudoElement:0}),yT=Ei(xT),DN=ke({},Ja,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),vT=Ei(DN),Qa=[9,13,27,32],hc=l&&"CompositionEvent"in window,sm=null;l&&"documentMode"in document&&(sm=document.documentMode);var vl=l&&"TextEvent"in window&&!sm,RN=l&&(!hc||sm&&8<sm&&11>=sm),bd=" ",IN=!1;function nh(p,b){switch(p){case"keyup":return Qa.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dv(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var bl=!1;function bT(p,b){switch(p){case"compositionend":return Dv(b);case"keypress":return b.which!==32?null:(IN=!0,bd);case"textInput":return p=b.data,p===bd&&IN?null:p;default:return null}}function fc(p,b){if(bl)return p==="compositionend"||!hc&&nh(p,b)?(p=kv(),uc=Gi=dc=null,bl=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return RN&&b.locale!=="ko"?null:b.data;default:return null}}var Wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FN(p){var b=p&&p.nodeName&&p.nodeName.toLowerCase();return b==="input"?!!Wg[p.type]:b==="textarea"}function Vg(p,b,E,W){Mo(W),b=$(b,"onChange"),0<b.length&&(E=new Av("onChange","change",null,E,W),p.push({event:E,listeners:b}))}var nm=null,Zi=null;function wT(p){Vv(p,0)}function wl(p){var b=Sd(p);if(ye(b))return p}function jT(p,b){if(p==="change")return b}var Ro=!1;if(l){var ih;if(l){var Ug="oninput"in document;if(!Ug){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Ug=typeof qg.oninput=="function"}ih=Ug}else ih=!1;Ro=ih&&(!document.documentMode||9<document.documentMode)}function im(){nm&&(nm.detachEvent("onpropertychange",Xg),Zi=nm=null)}function Xg(p){if(p.propertyName==="value"&&wl(Zi)){var b=[];Vg(b,Zi,p,xa(p)),Oo(wT,b)}}function Yg(p,b,E){p==="focusin"?(im(),nm=b,Zi=E,nm.attachEvent("onpropertychange",Xg)):p==="focusout"&&im()}function ah(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return wl(Zi)}function Gg(p,b){if(p==="click")return wl(b)}function Rv(p,b){if(p==="input"||p==="change")return wl(b)}function BN(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var eo=typeof Object.is=="function"?Object.is:BN;function mc(p,b){if(eo(p,b))return!0;if(typeof p!="object"||p===null||typeof b!="object"||b===null)return!1;var E=Object.keys(p),W=Object.keys(b);if(E.length!==W.length)return!1;for(W=0;W<E.length;W++){var J=E[W];if(!u.call(b,J)||!eo(p[J],b[J]))return!1}return!0}function $N(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Iv(p,b){var E=$N(p);p=0;for(var W;E;){if(E.nodeType===3){if(W=p+E.textContent.length,p<=b&&W>=b)return{node:E,offset:b-p};p=W}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=$N(E)}}function zN(p,b){return p&&b?p===b?!0:p&&p.nodeType===3?!1:b&&b.nodeType===3?zN(p,b.parentNode):"contains"in p?p.contains(b):p.compareDocumentPosition?!!(p.compareDocumentPosition(b)&16):!1:!1}function Fv(){for(var p=window,b=Xe();b instanceof p.HTMLIFrameElement;){try{var E=typeof b.contentWindow.location.href=="string"}catch{E=!1}if(E)p=b.contentWindow;else break;b=Xe(p.document)}return b}function Bv(p){var b=p&&p.nodeName&&p.nodeName.toLowerCase();return b&&(b==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||b==="textarea"||p.contentEditable==="true")}function Io(p){var b=Fv(),E=p.focusedElem,W=p.selectionRange;if(b!==E&&E&&E.ownerDocument&&zN(E.ownerDocument.documentElement,E)){if(W!==null&&Bv(E)){if(b=W.start,p=W.end,p===void 0&&(p=b),"selectionStart"in E)E.selectionStart=b,E.selectionEnd=Math.min(p,E.value.length);else if(p=(b=E.ownerDocument||document)&&b.defaultView||window,p.getSelection){p=p.getSelection();var J=E.textContent.length,ne=Math.min(W.start,J);W=W.end===void 0?ne:Math.min(W.end,J),!p.extend&&ne>W&&(J=W,W=ne,ne=J),J=Iv(E,ne);var Ne=Iv(E,W);J&&Ne&&(p.rangeCount!==1||p.anchorNode!==J.node||p.anchorOffset!==J.offset||p.focusNode!==Ne.node||p.focusOffset!==Ne.offset)&&(b=b.createRange(),b.setStart(J.node,J.offset),p.removeAllRanges(),ne>W?(p.addRange(b),p.extend(Ne.node,Ne.offset)):(b.setEnd(Ne.node,Ne.offset),p.addRange(b)))}}for(b=[],p=E;p=p.parentNode;)p.nodeType===1&&b.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<b.length;E++)p=b[E],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Zg=l&&"documentMode"in document&&11>=document.documentMode,oh=null,lh=null,am=null,Kg=!1;function HN(p,b,E){var W=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;Kg||oh==null||oh!==Xe(W)||(W=oh,"selectionStart"in W&&Bv(W)?W={start:W.selectionStart,end:W.selectionEnd}:(W=(W.ownerDocument&&W.ownerDocument.defaultView||window).getSelection(),W={anchorNode:W.anchorNode,anchorOffset:W.anchorOffset,focusNode:W.focusNode,focusOffset:W.focusOffset}),am&&mc(am,W)||(am=W,W=$(lh,"onSelect"),0<W.length&&(b=new Av("onSelect","select",null,b,E),p.push({event:b,listeners:W}),b.target=oh)))}function pc(p,b){var E={};return E[p.toLowerCase()]=b.toLowerCase(),E["Webkit"+p]="webkit"+b,E["Moz"+p]="moz"+b,E}var ch={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},gc={},$v={};l&&($v=document.createElement("div").style,"AnimationEvent"in window||(delete ch.animationend.animation,delete ch.animationiteration.animation,delete ch.animationstart.animation),"TransitionEvent"in window||delete ch.transitionend.transition);function om(p){if(gc[p])return gc[p];if(!ch[p])return p;var b=ch[p],E;for(E in b)if(b.hasOwnProperty(E)&&E in $v)return gc[p]=b[E];return p}var WN=om("animationend"),Fo=om("animationiteration"),zv=om("animationstart"),Hv=om("transitionend"),dh=new Map,VN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(p,b){dh.set(p,b),a(b,[p])}for(var wd=0;wd<VN.length;wd++){var Jg=VN[wd],UN=Jg.toLowerCase(),NT=Jg[0].toUpperCase()+Jg.slice(1);to(UN,"on"+NT)}to(WN,"onAnimationEnd"),to(Fo,"onAnimationIteration"),to(zv,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(Hv,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qN=new Set("cancel close invalid load scroll toggle".split(" ").concat(uh));function Wv(p,b,E){var W=p.type||"unknown-event";p.currentTarget=E,Ft(W,b,void 0,p),p.currentTarget=null}function Vv(p,b){b=(b&4)!==0;for(var E=0;E<p.length;E++){var W=p[E],J=W.event;W=W.listeners;e:{var ne=void 0;if(b)for(var Ne=W.length-1;0<=Ne;Ne--){var Re=W[Ne],Ve=Re.instance,ct=Re.currentTarget;if(Re=Re.listener,Ve!==ne&&J.isPropagationStopped())break e;Wv(J,Re,ct),ne=Ve}else for(Ne=0;Ne<W.length;Ne++){if(Re=W[Ne],Ve=Re.instance,ct=Re.currentTarget,Re=Re.listener,Ve!==ne&&J.isPropagationStopped())break e;Wv(J,Re,ct),ne=Ve}}}if(Ht)throw p=sr,Ht=!1,sr=null,p}function ks(p,b){var E=b[ph];E===void 0&&(E=b[ph]=new Set);var W=p+"__bubble";E.has(W)||(XN(b,p,2,!1),E.add(W))}function Uv(p,b,E){var W=0;b&&(W|=4),XN(E,p,W,b)}var lm="_reactListening"+Math.random().toString(36).slice(2);function hh(p){if(!p[lm]){p[lm]=!0,n.forEach(function(E){E!=="selectionchange"&&(qN.has(E)||Uv(E,!1,p),Uv(E,!0,p))});var b=p.nodeType===9?p:p.ownerDocument;b===null||b[lm]||(b[lm]=!0,Uv("selectionchange",!1,b))}}function XN(p,b,E,W){switch(Xr(b)){case 1:var J=dT;break;case 4:J=AN;break;default:J=rm}E=J.bind(null,b,E,p),J=void 0,!We||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(J=!0),W?J!==void 0?p.addEventListener(b,E,{capture:!0,passive:J}):p.addEventListener(b,E,!0):J!==void 0?p.addEventListener(b,E,{passive:J}):p.addEventListener(b,E,!1)}function x(p,b,E,W,J){var ne=W;if((b&1)===0&&(b&2)===0&&W!==null)e:for(;;){if(W===null)return;var Ne=W.tag;if(Ne===3||Ne===4){var Re=W.stateNode.containerInfo;if(Re===J||Re.nodeType===8&&Re.parentNode===J)break;if(Ne===4)for(Ne=W.return;Ne!==null;){var Ve=Ne.tag;if((Ve===3||Ve===4)&&(Ve=Ne.stateNode.containerInfo,Ve===J||Ve.nodeType===8&&Ve.parentNode===J))return;Ne=Ne.return}for(;Re!==null;){if(Ne=Nd(Re),Ne===null)return;if(Ve=Ne.tag,Ve===5||Ve===6){W=ne=Ne;continue e}Re=Re.parentNode}}W=W.return}Oo(function(){var ct=ne,_t=xa(E),St=[];e:{var Nt=dh.get(p);if(Nt!==void 0){var qt=Av,Jt=p;switch(p){case"keypress":if($g(E)===0)break e;case"keydown":case"keyup":qt=MN;break;case"focusin":Jt="focus",qt=zg;break;case"focusout":Jt="blur",qt=zg;break;case"beforeblur":case"afterblur":qt=zg;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qt=Ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qt=Tv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qt=Ov;break;case WN:case Fo:case zv:qt=fT;break;case Hv:qt=yT;break;case"scroll":qt=uT;break;case"wheel":qt=vT;break;case"copy":case"cut":case"paste":qt=Pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qt=ON}var tr=(b&4)!==0,jn=!tr&&p==="scroll",et=tr?Nt!==null?Nt+"Capture":null:Nt;tr=[];for(var Ye=ct,rt;Ye!==null;){rt=Ye;var Pt=rt.stateNode;if(rt.tag===5&&Pt!==null&&(rt=Pt,et!==null&&(Pt=Za(Ye,et),Pt!=null&&tr.push(A(Ye,Pt,rt)))),jn)break;Ye=Ye.return}0<tr.length&&(Nt=new qt(Nt,Jt,null,E,_t),St.push({event:Nt,listeners:tr}))}}if((b&7)===0){e:{if(Nt=p==="mouseover"||p==="pointerover",qt=p==="mouseout"||p==="pointerout",Nt&&E!==pi&&(Jt=E.relatedTarget||E.fromElement)&&(Nd(Jt)||Jt[hs]))break e;if((qt||Nt)&&(Nt=_t.window===_t?_t:(Nt=_t.ownerDocument)?Nt.defaultView||Nt.parentWindow:window,qt?(Jt=E.relatedTarget||E.toElement,qt=ct,Jt=Jt?Nd(Jt):null,Jt!==null&&(jn=$t(Jt),Jt!==jn||Jt.tag!==5&&Jt.tag!==6)&&(Jt=null)):(qt=null,Jt=ct),qt!==Jt)){if(tr=Ev,Pt="onMouseLeave",et="onMouseEnter",Ye="mouse",(p==="pointerout"||p==="pointerover")&&(tr=ON,Pt="onPointerLeave",et="onPointerEnter",Ye="pointer"),jn=qt==null?Nt:Sd(qt),rt=Jt==null?Nt:Sd(Jt),Nt=new tr(Pt,Ye+"leave",qt,E,_t),Nt.target=jn,Nt.relatedTarget=rt,Pt=null,Nd(_t)===ct&&(tr=new tr(et,Ye+"enter",Jt,E,_t),tr.target=rt,tr.relatedTarget=jn,Pt=tr),jn=Pt,qt&&Jt)t:{for(tr=qt,et=Jt,Ye=0,rt=tr;rt;rt=K(rt))Ye++;for(rt=0,Pt=et;Pt;Pt=K(Pt))rt++;for(;0<Ye-rt;)tr=K(tr),Ye--;for(;0<rt-Ye;)et=K(et),rt--;for(;Ye--;){if(tr===et||et!==null&&tr===et.alternate)break t;tr=K(tr),et=K(et)}tr=null}else tr=null;qt!==null&&de(St,Nt,qt,tr,!1),Jt!==null&&jn!==null&&de(St,jn,Jt,tr,!0)}}e:{if(Nt=ct?Sd(ct):window,qt=Nt.nodeName&&Nt.nodeName.toLowerCase(),qt==="select"||qt==="input"&&Nt.type==="file")var nr=jT;else if(FN(Nt))if(Ro)nr=Rv;else{nr=ah;var pr=Yg}else(qt=Nt.nodeName)&&qt.toLowerCase()==="input"&&(Nt.type==="checkbox"||Nt.type==="radio")&&(nr=Gg);if(nr&&(nr=nr(p,ct))){Vg(St,nr,E,_t);break e}pr&&pr(p,Nt,ct),p==="focusout"&&(pr=Nt._wrapperState)&&pr.controlled&&Nt.type==="number"&&cs(Nt,"number",Nt.value)}switch(pr=ct?Sd(ct):window,p){case"focusin":(FN(pr)||pr.contentEditable==="true")&&(oh=pr,lh=ct,am=null);break;case"focusout":am=lh=oh=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,HN(St,E,_t);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":HN(St,E,_t)}var gr;if(hc)e:{switch(p){case"compositionstart":var jr="onCompositionStart";break e;case"compositionend":jr="onCompositionEnd";break e;case"compositionupdate":jr="onCompositionUpdate";break e}jr=void 0}else bl?nh(p,E)&&(jr="onCompositionEnd"):p==="keydown"&&E.keyCode===229&&(jr="onCompositionStart");jr&&(RN&&E.locale!=="ko"&&(bl||jr!=="onCompositionStart"?jr==="onCompositionEnd"&&bl&&(gr=kv()):(dc=_t,Gi="value"in dc?dc.value:dc.textContent,bl=!0)),pr=$(ct,jr),0<pr.length&&(jr=new Mv(jr,p,null,E,_t),St.push({event:jr,listeners:pr}),gr?jr.data=gr:(gr=Dv(E),gr!==null&&(jr.data=gr)))),(gr=vl?bT(p,E):fc(p,E))&&(ct=$(ct,"onBeforeInput"),0<ct.length&&(_t=new Mv("onBeforeInput","beforeinput",null,E,_t),St.push({event:_t,listeners:ct}),_t.data=gr))}Vv(St,b)})}function A(p,b,E){return{instance:p,listener:b,currentTarget:E}}function $(p,b){for(var E=b+"Capture",W=[];p!==null;){var J=p,ne=J.stateNode;J.tag===5&&ne!==null&&(J=ne,ne=Za(p,E),ne!=null&&W.unshift(A(p,ne,J)),ne=Za(p,b),ne!=null&&W.push(A(p,ne,J))),p=p.return}return W}function K(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function de(p,b,E,W,J){for(var ne=b._reactName,Ne=[];E!==null&&E!==W;){var Re=E,Ve=Re.alternate,ct=Re.stateNode;if(Ve!==null&&Ve===W)break;Re.tag===5&&ct!==null&&(Re=ct,J?(Ve=Za(E,ne),Ve!=null&&Ne.unshift(A(E,Ve,Re))):J||(Ve=Za(E,ne),Ve!=null&&Ne.push(A(E,Ve,Re)))),E=E.return}Ne.length!==0&&p.push({event:b,listeners:Ne})}var Ae=/\r\n?/g,Be=/\u0000|\uFFFD/g;function Qe(p){return(typeof p=="string"?p:""+p).replace(Ae,`
`).replace(Be,"")}function ot(p,b,E){if(b=Qe(b),Qe(p)!==b&&E)throw Error(r(425))}function wt(){}var Bt=null,mr=null;function Mr(p,b){return p==="textarea"||p==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var Hn=typeof setTimeout=="function"?setTimeout:void 0,En=typeof clearTimeout=="function"?clearTimeout:void 0,Ki=typeof Promise=="function"?Promise:void 0,Ti=typeof queueMicrotask=="function"?queueMicrotask:typeof Ki<"u"?function(p){return Ki.resolve(null).then(p).catch(fh)}:Hn;function fh(p){setTimeout(function(){throw p})}function qv(p,b){var E=b,W=0;do{var J=E.nextSibling;if(p.removeChild(E),J&&J.nodeType===8)if(E=J.data,E==="/$"){if(W===0){p.removeChild(J),Ka(b);return}W--}else E!=="$"&&E!=="$?"&&E!=="$!"||W++;E=J}while(E);Ka(b)}function xc(p){for(;p!=null;p=p.nextSibling){var b=p.nodeType;if(b===1||b===3)break;if(b===8){if(b=p.data,b==="$"||b==="$!"||b==="$?")break;if(b==="/$")return null}}return p}function YN(p){p=p.previousSibling;for(var b=0;p;){if(p.nodeType===8){var E=p.data;if(E==="$"||E==="$!"||E==="$?"){if(b===0)return p;b--}else E==="/$"&&b++}p=p.previousSibling}return null}var jd=Math.random().toString(36).slice(2),Bo="__reactFiber$"+jd,mh="__reactProps$"+jd,hs="__reactContainer$"+jd,ph="__reactEvents$"+jd,_T="__reactListeners$"+jd,ST="__reactHandles$"+jd;function Nd(p){var b=p[Bo];if(b)return b;for(var E=p.parentNode;E;){if(b=E[hs]||E[Bo]){if(E=b.alternate,b.child!==null||E!==null&&E.child!==null)for(p=YN(p);p!==null;){if(E=p[Bo])return E;p=YN(p)}return b}p=E,E=p.parentNode}return null}function _d(p){return p=p[Bo]||p[hs],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Sd(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function Qg(p){return p[mh]||null}var kT=[],ex=-1;function gh(p){return{current:p}}function Hs(p){0>ex||(p.current=kT[ex],kT[ex]=null,ex--)}function Ds(p,b){ex++,kT[ex]=p.current,p.current=b}var xh={},Pi=gh(xh),wa=gh(!1),cm=xh;function tx(p,b){var E=p.type.contextTypes;if(!E)return xh;var W=p.stateNode;if(W&&W.__reactInternalMemoizedUnmaskedChildContext===b)return W.__reactInternalMemoizedMaskedChildContext;var J={},ne;for(ne in E)J[ne]=b[ne];return W&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=b,p.__reactInternalMemoizedMaskedChildContext=J),J}function ja(p){return p=p.childContextTypes,p!=null}function GN(){Hs(wa),Hs(Pi)}function fB(p,b,E){if(Pi.current!==xh)throw Error(r(168));Ds(Pi,b),Ds(wa,E)}function mB(p,b,E){var W=p.stateNode;if(b=b.childContextTypes,typeof W.getChildContext!="function")return E;W=W.getChildContext();for(var J in W)if(!(J in b))throw Error(r(108,Ke(p)||"Unknown",J));return ke({},E,W)}function ZN(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||xh,cm=Pi.current,Ds(Pi,p),Ds(wa,wa.current),!0}function pB(p,b,E){var W=p.stateNode;if(!W)throw Error(r(169));E?(p=mB(p,b,cm),W.__reactInternalMemoizedMergedChildContext=p,Hs(wa),Hs(Pi),Ds(Pi,p)):Hs(wa),Ds(wa,E)}var kd=null,KN=!1,AT=!1;function gB(p){kd===null?kd=[p]:kd.push(p)}function tie(p){KN=!0,gB(p)}function yh(){if(!AT&&kd!==null){AT=!0;var p=0,b=vt;try{var E=kd;for(vt=1;p<E.length;p++){var W=E[p];do W=W(!0);while(W!==null)}kd=null,KN=!1}catch(J){throw kd!==null&&(kd=kd.slice(p+1)),me(j,yh),J}finally{vt=b,AT=!1}}return null}var rx=[],sx=0,JN=null,QN=0,$o=[],zo=0,dm=null,Ad=1,Cd="";function um(p,b){rx[sx++]=QN,rx[sx++]=JN,JN=p,QN=b}function xB(p,b,E){$o[zo++]=Ad,$o[zo++]=Cd,$o[zo++]=dm,dm=p;var W=Ad;p=Cd;var J=32-te(W)-1;W&=~(1<<J),E+=1;var ne=32-te(b)+J;if(30<ne){var Ne=J-J%5;ne=(W&(1<<Ne)-1).toString(32),W>>=Ne,J-=Ne,Ad=1<<32-te(b)+J|E<<J|W,Cd=ne+p}else Ad=1<<ne|E<<J|W,Cd=p}function CT(p){p.return!==null&&(um(p,1),xB(p,1,0))}function ET(p){for(;p===JN;)JN=rx[--sx],rx[sx]=null,QN=rx[--sx],rx[sx]=null;for(;p===dm;)dm=$o[--zo],$o[zo]=null,Cd=$o[--zo],$o[zo]=null,Ad=$o[--zo],$o[zo]=null}var ro=null,so=null,Xs=!1,jl=null;function yB(p,b){var E=Uo(5,null,null,0);E.elementType="DELETED",E.stateNode=b,E.return=p,b=p.deletions,b===null?(p.deletions=[E],p.flags|=16):b.push(E)}function vB(p,b){switch(p.tag){case 5:var E=p.type;return b=b.nodeType!==1||E.toLowerCase()!==b.nodeName.toLowerCase()?null:b,b!==null?(p.stateNode=b,ro=p,so=xc(b.firstChild),!0):!1;case 6:return b=p.pendingProps===""||b.nodeType!==3?null:b,b!==null?(p.stateNode=b,ro=p,so=null,!0):!1;case 13:return b=b.nodeType!==8?null:b,b!==null?(E=dm!==null?{id:Ad,overflow:Cd}:null,p.memoizedState={dehydrated:b,treeContext:E,retryLane:1073741824},E=Uo(18,null,null,0),E.stateNode=b,E.return=p,p.child=E,ro=p,so=null,!0):!1;default:return!1}}function TT(p){return(p.mode&1)!==0&&(p.flags&128)===0}function PT(p){if(Xs){var b=so;if(b){var E=b;if(!vB(p,b)){if(TT(p))throw Error(r(418));b=xc(E.nextSibling);var W=ro;b&&vB(p,b)?yB(W,E):(p.flags=p.flags&-4097|2,Xs=!1,ro=p)}}else{if(TT(p))throw Error(r(418));p.flags=p.flags&-4097|2,Xs=!1,ro=p}}}function bB(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;ro=p}function e2(p){if(p!==ro)return!1;if(!Xs)return bB(p),Xs=!0,!1;var b;if((b=p.tag!==3)&&!(b=p.tag!==5)&&(b=p.type,b=b!=="head"&&b!=="body"&&!Mr(p.type,p.memoizedProps)),b&&(b=so)){if(TT(p))throw wB(),Error(r(418));for(;b;)yB(p,b),b=xc(b.nextSibling)}if(bB(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,b=0;p;){if(p.nodeType===8){var E=p.data;if(E==="/$"){if(b===0){so=xc(p.nextSibling);break e}b--}else E!=="$"&&E!=="$!"&&E!=="$?"||b++}p=p.nextSibling}so=null}}else so=ro?xc(p.stateNode.nextSibling):null;return!0}function wB(){for(var p=so;p;)p=xc(p.nextSibling)}function nx(){so=ro=null,Xs=!1}function MT(p){jl===null?jl=[p]:jl.push(p)}var rie=B.ReactCurrentBatchConfig;function Xv(p,b,E){if(p=E.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(r(309));var W=E.stateNode}if(!W)throw Error(r(147,p));var J=W,ne=""+p;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===ne?b.ref:(b=function(Ne){var Re=J.refs;Ne===null?delete Re[ne]:Re[ne]=Ne},b._stringRef=ne,b)}if(typeof p!="string")throw Error(r(284));if(!E._owner)throw Error(r(290,p))}return p}function t2(p,b){throw p=Object.prototype.toString.call(b),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":p))}function jB(p){var b=p._init;return b(p._payload)}function NB(p){function b(et,Ye){if(p){var rt=et.deletions;rt===null?(et.deletions=[Ye],et.flags|=16):rt.push(Ye)}}function E(et,Ye){if(!p)return null;for(;Ye!==null;)b(et,Ye),Ye=Ye.sibling;return null}function W(et,Ye){for(et=new Map;Ye!==null;)Ye.key!==null?et.set(Ye.key,Ye):et.set(Ye.index,Ye),Ye=Ye.sibling;return et}function J(et,Ye){return et=kh(et,Ye),et.index=0,et.sibling=null,et}function ne(et,Ye,rt){return et.index=rt,p?(rt=et.alternate,rt!==null?(rt=rt.index,rt<Ye?(et.flags|=2,Ye):rt):(et.flags|=2,Ye)):(et.flags|=1048576,Ye)}function Ne(et){return p&&et.alternate===null&&(et.flags|=2),et}function Re(et,Ye,rt,Pt){return Ye===null||Ye.tag!==6?(Ye=NP(rt,et.mode,Pt),Ye.return=et,Ye):(Ye=J(Ye,rt),Ye.return=et,Ye)}function Ve(et,Ye,rt,Pt){var nr=rt.type;return nr===H?_t(et,Ye,rt.props.children,Pt,rt.key):Ye!==null&&(Ye.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===ie&&jB(nr)===Ye.type)?(Pt=J(Ye,rt.props),Pt.ref=Xv(et,Ye,rt),Pt.return=et,Pt):(Pt=S2(rt.type,rt.key,rt.props,null,et.mode,Pt),Pt.ref=Xv(et,Ye,rt),Pt.return=et,Pt)}function ct(et,Ye,rt,Pt){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==rt.containerInfo||Ye.stateNode.implementation!==rt.implementation?(Ye=_P(rt,et.mode,Pt),Ye.return=et,Ye):(Ye=J(Ye,rt.children||[]),Ye.return=et,Ye)}function _t(et,Ye,rt,Pt,nr){return Ye===null||Ye.tag!==7?(Ye=vm(rt,et.mode,Pt,nr),Ye.return=et,Ye):(Ye=J(Ye,rt),Ye.return=et,Ye)}function St(et,Ye,rt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return Ye=NP(""+Ye,et.mode,rt),Ye.return=et,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case F:return rt=S2(Ye.type,Ye.key,Ye.props,null,et.mode,rt),rt.ref=Xv(et,null,Ye),rt.return=et,rt;case V:return Ye=_P(Ye,et.mode,rt),Ye.return=et,Ye;case ie:var Pt=Ye._init;return St(et,Pt(Ye._payload),rt)}if(Ie(Ye)||ue(Ye))return Ye=vm(Ye,et.mode,rt,null),Ye.return=et,Ye;t2(et,Ye)}return null}function Nt(et,Ye,rt,Pt){var nr=Ye!==null?Ye.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number")return nr!==null?null:Re(et,Ye,""+rt,Pt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case F:return rt.key===nr?Ve(et,Ye,rt,Pt):null;case V:return rt.key===nr?ct(et,Ye,rt,Pt):null;case ie:return nr=rt._init,Nt(et,Ye,nr(rt._payload),Pt)}if(Ie(rt)||ue(rt))return nr!==null?null:_t(et,Ye,rt,Pt,null);t2(et,rt)}return null}function qt(et,Ye,rt,Pt,nr){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return et=et.get(rt)||null,Re(Ye,et,""+Pt,nr);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case F:return et=et.get(Pt.key===null?rt:Pt.key)||null,Ve(Ye,et,Pt,nr);case V:return et=et.get(Pt.key===null?rt:Pt.key)||null,ct(Ye,et,Pt,nr);case ie:var pr=Pt._init;return qt(et,Ye,rt,pr(Pt._payload),nr)}if(Ie(Pt)||ue(Pt))return et=et.get(rt)||null,_t(Ye,et,Pt,nr,null);t2(Ye,Pt)}return null}function Jt(et,Ye,rt,Pt){for(var nr=null,pr=null,gr=Ye,jr=Ye=0,ni=null;gr!==null&&jr<rt.length;jr++){gr.index>jr?(ni=gr,gr=null):ni=gr.sibling;var ns=Nt(et,gr,rt[jr],Pt);if(ns===null){gr===null&&(gr=ni);break}p&&gr&&ns.alternate===null&&b(et,gr),Ye=ne(ns,Ye,jr),pr===null?nr=ns:pr.sibling=ns,pr=ns,gr=ni}if(jr===rt.length)return E(et,gr),Xs&&um(et,jr),nr;if(gr===null){for(;jr<rt.length;jr++)gr=St(et,rt[jr],Pt),gr!==null&&(Ye=ne(gr,Ye,jr),pr===null?nr=gr:pr.sibling=gr,pr=gr);return Xs&&um(et,jr),nr}for(gr=W(et,gr);jr<rt.length;jr++)ni=qt(gr,et,jr,rt[jr],Pt),ni!==null&&(p&&ni.alternate!==null&&gr.delete(ni.key===null?jr:ni.key),Ye=ne(ni,Ye,jr),pr===null?nr=ni:pr.sibling=ni,pr=ni);return p&&gr.forEach(function(Ah){return b(et,Ah)}),Xs&&um(et,jr),nr}function tr(et,Ye,rt,Pt){var nr=ue(rt);if(typeof nr!="function")throw Error(r(150));if(rt=nr.call(rt),rt==null)throw Error(r(151));for(var pr=nr=null,gr=Ye,jr=Ye=0,ni=null,ns=rt.next();gr!==null&&!ns.done;jr++,ns=rt.next()){gr.index>jr?(ni=gr,gr=null):ni=gr.sibling;var Ah=Nt(et,gr,ns.value,Pt);if(Ah===null){gr===null&&(gr=ni);break}p&&gr&&Ah.alternate===null&&b(et,gr),Ye=ne(Ah,Ye,jr),pr===null?nr=Ah:pr.sibling=Ah,pr=Ah,gr=ni}if(ns.done)return E(et,gr),Xs&&um(et,jr),nr;if(gr===null){for(;!ns.done;jr++,ns=rt.next())ns=St(et,ns.value,Pt),ns!==null&&(Ye=ne(ns,Ye,jr),pr===null?nr=ns:pr.sibling=ns,pr=ns);return Xs&&um(et,jr),nr}for(gr=W(et,gr);!ns.done;jr++,ns=rt.next())ns=qt(gr,et,jr,ns.value,Pt),ns!==null&&(p&&ns.alternate!==null&&gr.delete(ns.key===null?jr:ns.key),Ye=ne(ns,Ye,jr),pr===null?nr=ns:pr.sibling=ns,pr=ns);return p&&gr.forEach(function(Die){return b(et,Die)}),Xs&&um(et,jr),nr}function jn(et,Ye,rt,Pt){if(typeof rt=="object"&&rt!==null&&rt.type===H&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case F:e:{for(var nr=rt.key,pr=Ye;pr!==null;){if(pr.key===nr){if(nr=rt.type,nr===H){if(pr.tag===7){E(et,pr.sibling),Ye=J(pr,rt.props.children),Ye.return=et,et=Ye;break e}}else if(pr.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===ie&&jB(nr)===pr.type){E(et,pr.sibling),Ye=J(pr,rt.props),Ye.ref=Xv(et,pr,rt),Ye.return=et,et=Ye;break e}E(et,pr);break}else b(et,pr);pr=pr.sibling}rt.type===H?(Ye=vm(rt.props.children,et.mode,Pt,rt.key),Ye.return=et,et=Ye):(Pt=S2(rt.type,rt.key,rt.props,null,et.mode,Pt),Pt.ref=Xv(et,Ye,rt),Pt.return=et,et=Pt)}return Ne(et);case V:e:{for(pr=rt.key;Ye!==null;){if(Ye.key===pr)if(Ye.tag===4&&Ye.stateNode.containerInfo===rt.containerInfo&&Ye.stateNode.implementation===rt.implementation){E(et,Ye.sibling),Ye=J(Ye,rt.children||[]),Ye.return=et,et=Ye;break e}else{E(et,Ye);break}else b(et,Ye);Ye=Ye.sibling}Ye=_P(rt,et.mode,Pt),Ye.return=et,et=Ye}return Ne(et);case ie:return pr=rt._init,jn(et,Ye,pr(rt._payload),Pt)}if(Ie(rt))return Jt(et,Ye,rt,Pt);if(ue(rt))return tr(et,Ye,rt,Pt);t2(et,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"?(rt=""+rt,Ye!==null&&Ye.tag===6?(E(et,Ye.sibling),Ye=J(Ye,rt),Ye.return=et,et=Ye):(E(et,Ye),Ye=NP(rt,et.mode,Pt),Ye.return=et,et=Ye),Ne(et)):E(et,Ye)}return jn}var ix=NB(!0),_B=NB(!1),r2=gh(null),s2=null,ax=null,LT=null;function OT(){LT=ax=s2=null}function DT(p){var b=r2.current;Hs(r2),p._currentValue=b}function RT(p,b,E){for(;p!==null;){var W=p.alternate;if((p.childLanes&b)!==b?(p.childLanes|=b,W!==null&&(W.childLanes|=b)):W!==null&&(W.childLanes&b)!==b&&(W.childLanes|=b),p===E)break;p=p.return}}function ox(p,b){s2=p,LT=ax=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&b)!==0&&(Na=!0),p.firstContext=null)}function Ho(p){var b=p._currentValue;if(LT!==p)if(p={context:p,memoizedValue:b,next:null},ax===null){if(s2===null)throw Error(r(308));ax=p,s2.dependencies={lanes:0,firstContext:p}}else ax=ax.next=p;return b}var hm=null;function IT(p){hm===null?hm=[p]:hm.push(p)}function SB(p,b,E,W){var J=b.interleaved;return J===null?(E.next=E,IT(b)):(E.next=J.next,J.next=E),b.interleaved=E,Ed(p,W)}function Ed(p,b){p.lanes|=b;var E=p.alternate;for(E!==null&&(E.lanes|=b),E=p,p=p.return;p!==null;)p.childLanes|=b,E=p.alternate,E!==null&&(E.childLanes|=b),E=p,p=p.return;return E.tag===3?E.stateNode:null}var vh=!1;function FT(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kB(p,b){p=p.updateQueue,b.updateQueue===p&&(b.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Td(p,b){return{eventTime:p,lane:b,tag:0,payload:null,callback:null,next:null}}function bh(p,b,E){var W=p.updateQueue;if(W===null)return null;if(W=W.shared,(rs&2)!==0){var J=W.pending;return J===null?b.next=b:(b.next=J.next,J.next=b),W.pending=b,Ed(p,E)}return J=W.interleaved,J===null?(b.next=b,IT(W)):(b.next=J.next,J.next=b),W.interleaved=b,Ed(p,E)}function n2(p,b,E){if(b=b.updateQueue,b!==null&&(b=b.shared,(E&4194240)!==0)){var W=b.lanes;W&=p.pendingLanes,E|=W,b.lanes=E,mt(p,E)}}function AB(p,b){var E=p.updateQueue,W=p.alternate;if(W!==null&&(W=W.updateQueue,E===W)){var J=null,ne=null;if(E=E.firstBaseUpdate,E!==null){do{var Ne={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};ne===null?J=ne=Ne:ne=ne.next=Ne,E=E.next}while(E!==null);ne===null?J=ne=b:ne=ne.next=b}else J=ne=b;E={baseState:W.baseState,firstBaseUpdate:J,lastBaseUpdate:ne,shared:W.shared,effects:W.effects},p.updateQueue=E;return}p=E.lastBaseUpdate,p===null?E.firstBaseUpdate=b:p.next=b,E.lastBaseUpdate=b}function i2(p,b,E,W){var J=p.updateQueue;vh=!1;var ne=J.firstBaseUpdate,Ne=J.lastBaseUpdate,Re=J.shared.pending;if(Re!==null){J.shared.pending=null;var Ve=Re,ct=Ve.next;Ve.next=null,Ne===null?ne=ct:Ne.next=ct,Ne=Ve;var _t=p.alternate;_t!==null&&(_t=_t.updateQueue,Re=_t.lastBaseUpdate,Re!==Ne&&(Re===null?_t.firstBaseUpdate=ct:Re.next=ct,_t.lastBaseUpdate=Ve))}if(ne!==null){var St=J.baseState;Ne=0,_t=ct=Ve=null,Re=ne;do{var Nt=Re.lane,qt=Re.eventTime;if((W&Nt)===Nt){_t!==null&&(_t=_t.next={eventTime:qt,lane:0,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null});e:{var Jt=p,tr=Re;switch(Nt=b,qt=E,tr.tag){case 1:if(Jt=tr.payload,typeof Jt=="function"){St=Jt.call(qt,St,Nt);break e}St=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=tr.payload,Nt=typeof Jt=="function"?Jt.call(qt,St,Nt):Jt,Nt==null)break e;St=ke({},St,Nt);break e;case 2:vh=!0}}Re.callback!==null&&Re.lane!==0&&(p.flags|=64,Nt=J.effects,Nt===null?J.effects=[Re]:Nt.push(Re))}else qt={eventTime:qt,lane:Nt,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},_t===null?(ct=_t=qt,Ve=St):_t=_t.next=qt,Ne|=Nt;if(Re=Re.next,Re===null){if(Re=J.shared.pending,Re===null)break;Nt=Re,Re=Nt.next,Nt.next=null,J.lastBaseUpdate=Nt,J.shared.pending=null}}while(!0);if(_t===null&&(Ve=St),J.baseState=Ve,J.firstBaseUpdate=ct,J.lastBaseUpdate=_t,b=J.shared.interleaved,b!==null){J=b;do Ne|=J.lane,J=J.next;while(J!==b)}else ne===null&&(J.shared.lanes=0);pm|=Ne,p.lanes=Ne,p.memoizedState=St}}function CB(p,b,E){if(p=b.effects,b.effects=null,p!==null)for(b=0;b<p.length;b++){var W=p[b],J=W.callback;if(J!==null){if(W.callback=null,W=E,typeof J!="function")throw Error(r(191,J));J.call(W)}}}var Yv={},yc=gh(Yv),Gv=gh(Yv),Zv=gh(Yv);function fm(p){if(p===Yv)throw Error(r(174));return p}function BT(p,b){switch(Ds(Zv,b),Ds(Gv,p),Ds(yc,Yv),p=b.nodeType,p){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:rr(null,"");break;default:p=p===8?b.parentNode:b,b=p.namespaceURI||null,p=p.tagName,b=rr(b,p)}Hs(yc),Ds(yc,b)}function lx(){Hs(yc),Hs(Gv),Hs(Zv)}function EB(p){fm(Zv.current);var b=fm(yc.current),E=rr(b,p.type);b!==E&&(Ds(Gv,p),Ds(yc,E))}function $T(p){Gv.current===p&&(Hs(yc),Hs(Gv))}var en=gh(0);function a2(p){for(var b=p;b!==null;){if(b.tag===13){var E=b.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var zT=[];function HT(){for(var p=0;p<zT.length;p++)zT[p]._workInProgressVersionPrimary=null;zT.length=0}var o2=B.ReactCurrentDispatcher,WT=B.ReactCurrentBatchConfig,mm=0,tn=null,Wn=null,ri=null,l2=!1,Kv=!1,Jv=0,sie=0;function Mi(){throw Error(r(321))}function VT(p,b){if(b===null)return!1;for(var E=0;E<b.length&&E<p.length;E++)if(!eo(p[E],b[E]))return!1;return!0}function UT(p,b,E,W,J,ne){if(mm=ne,tn=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,o2.current=p===null||p.memoizedState===null?oie:lie,p=E(W,J),Kv){ne=0;do{if(Kv=!1,Jv=0,25<=ne)throw Error(r(301));ne+=1,ri=Wn=null,b.updateQueue=null,o2.current=cie,p=E(W,J)}while(Kv)}if(o2.current=u2,b=Wn!==null&&Wn.next!==null,mm=0,ri=Wn=tn=null,l2=!1,b)throw Error(r(300));return p}function qT(){var p=Jv!==0;return Jv=0,p}function vc(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?tn.memoizedState=ri=p:ri=ri.next=p,ri}function Wo(){if(Wn===null){var p=tn.alternate;p=p!==null?p.memoizedState:null}else p=Wn.next;var b=ri===null?tn.memoizedState:ri.next;if(b!==null)ri=b,Wn=p;else{if(p===null)throw Error(r(310));Wn=p,p={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},ri===null?tn.memoizedState=ri=p:ri=ri.next=p}return ri}function Qv(p,b){return typeof b=="function"?b(p):b}function XT(p){var b=Wo(),E=b.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=p;var W=Wn,J=W.baseQueue,ne=E.pending;if(ne!==null){if(J!==null){var Ne=J.next;J.next=ne.next,ne.next=Ne}W.baseQueue=J=ne,E.pending=null}if(J!==null){ne=J.next,W=W.baseState;var Re=Ne=null,Ve=null,ct=ne;do{var _t=ct.lane;if((mm&_t)===_t)Ve!==null&&(Ve=Ve.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),W=ct.hasEagerState?ct.eagerState:p(W,ct.action);else{var St={lane:_t,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};Ve===null?(Re=Ve=St,Ne=W):Ve=Ve.next=St,tn.lanes|=_t,pm|=_t}ct=ct.next}while(ct!==null&&ct!==ne);Ve===null?Ne=W:Ve.next=Re,eo(W,b.memoizedState)||(Na=!0),b.memoizedState=W,b.baseState=Ne,b.baseQueue=Ve,E.lastRenderedState=W}if(p=E.interleaved,p!==null){J=p;do ne=J.lane,tn.lanes|=ne,pm|=ne,J=J.next;while(J!==p)}else J===null&&(E.lanes=0);return[b.memoizedState,E.dispatch]}function YT(p){var b=Wo(),E=b.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=p;var W=E.dispatch,J=E.pending,ne=b.memoizedState;if(J!==null){E.pending=null;var Ne=J=J.next;do ne=p(ne,Ne.action),Ne=Ne.next;while(Ne!==J);eo(ne,b.memoizedState)||(Na=!0),b.memoizedState=ne,b.baseQueue===null&&(b.baseState=ne),E.lastRenderedState=ne}return[ne,W]}function TB(){}function PB(p,b){var E=tn,W=Wo(),J=b(),ne=!eo(W.memoizedState,J);if(ne&&(W.memoizedState=J,Na=!0),W=W.queue,GT(OB.bind(null,E,W,p),[p]),W.getSnapshot!==b||ne||ri!==null&&ri.memoizedState.tag&1){if(E.flags|=2048,eb(9,LB.bind(null,E,W,J,b),void 0,null),si===null)throw Error(r(349));(mm&30)!==0||MB(E,b,J)}return J}function MB(p,b,E){p.flags|=16384,p={getSnapshot:b,value:E},b=tn.updateQueue,b===null?(b={lastEffect:null,stores:null},tn.updateQueue=b,b.stores=[p]):(E=b.stores,E===null?b.stores=[p]:E.push(p))}function LB(p,b,E,W){b.value=E,b.getSnapshot=W,DB(b)&&RB(p)}function OB(p,b,E){return E(function(){DB(b)&&RB(p)})}function DB(p){var b=p.getSnapshot;p=p.value;try{var E=b();return!eo(p,E)}catch{return!0}}function RB(p){var b=Ed(p,1);b!==null&&kl(b,p,1,-1)}function IB(p){var b=vc();return typeof p=="function"&&(p=p()),b.memoizedState=b.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qv,lastRenderedState:p},b.queue=p,p=p.dispatch=aie.bind(null,tn,p),[b.memoizedState,p]}function eb(p,b,E,W){return p={tag:p,create:b,destroy:E,deps:W,next:null},b=tn.updateQueue,b===null?(b={lastEffect:null,stores:null},tn.updateQueue=b,b.lastEffect=p.next=p):(E=b.lastEffect,E===null?b.lastEffect=p.next=p:(W=E.next,E.next=p,p.next=W,b.lastEffect=p)),p}function FB(){return Wo().memoizedState}function c2(p,b,E,W){var J=vc();tn.flags|=p,J.memoizedState=eb(1|b,E,void 0,W===void 0?null:W)}function d2(p,b,E,W){var J=Wo();W=W===void 0?null:W;var ne=void 0;if(Wn!==null){var Ne=Wn.memoizedState;if(ne=Ne.destroy,W!==null&&VT(W,Ne.deps)){J.memoizedState=eb(b,E,ne,W);return}}tn.flags|=p,J.memoizedState=eb(1|b,E,ne,W)}function BB(p,b){return c2(8390656,8,p,b)}function GT(p,b){return d2(2048,8,p,b)}function $B(p,b){return d2(4,2,p,b)}function zB(p,b){return d2(4,4,p,b)}function HB(p,b){if(typeof b=="function")return p=p(),b(p),function(){b(null)};if(b!=null)return p=p(),b.current=p,function(){b.current=null}}function WB(p,b,E){return E=E!=null?E.concat([p]):null,d2(4,4,HB.bind(null,b,p),E)}function ZT(){}function VB(p,b){var E=Wo();b=b===void 0?null:b;var W=E.memoizedState;return W!==null&&b!==null&&VT(b,W[1])?W[0]:(E.memoizedState=[p,b],p)}function UB(p,b){var E=Wo();b=b===void 0?null:b;var W=E.memoizedState;return W!==null&&b!==null&&VT(b,W[1])?W[0]:(p=p(),E.memoizedState=[p,b],p)}function qB(p,b,E){return(mm&21)===0?(p.baseState&&(p.baseState=!1,Na=!0),p.memoizedState=E):(eo(E,b)||(E=ze(),tn.lanes|=E,pm|=E,p.baseState=!0),b)}function nie(p,b){var E=vt;vt=E!==0&&4>E?E:4,p(!0);var W=WT.transition;WT.transition={};try{p(!1),b()}finally{vt=E,WT.transition=W}}function XB(){return Wo().memoizedState}function iie(p,b,E){var W=_h(p);if(E={lane:W,action:E,hasEagerState:!1,eagerState:null,next:null},YB(p))GB(b,E);else if(E=SB(p,b,E,W),E!==null){var J=Qi();kl(E,p,W,J),ZB(E,b,W)}}function aie(p,b,E){var W=_h(p),J={lane:W,action:E,hasEagerState:!1,eagerState:null,next:null};if(YB(p))GB(b,J);else{var ne=p.alternate;if(p.lanes===0&&(ne===null||ne.lanes===0)&&(ne=b.lastRenderedReducer,ne!==null))try{var Ne=b.lastRenderedState,Re=ne(Ne,E);if(J.hasEagerState=!0,J.eagerState=Re,eo(Re,Ne)){var Ve=b.interleaved;Ve===null?(J.next=J,IT(b)):(J.next=Ve.next,Ve.next=J),b.interleaved=J;return}}catch{}finally{}E=SB(p,b,J,W),E!==null&&(J=Qi(),kl(E,p,W,J),ZB(E,b,W))}}function YB(p){var b=p.alternate;return p===tn||b!==null&&b===tn}function GB(p,b){Kv=l2=!0;var E=p.pending;E===null?b.next=b:(b.next=E.next,E.next=b),p.pending=b}function ZB(p,b,E){if((E&4194240)!==0){var W=b.lanes;W&=p.pendingLanes,E|=W,b.lanes=E,mt(p,E)}}var u2={readContext:Ho,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useInsertionEffect:Mi,useLayoutEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useMutableSource:Mi,useSyncExternalStore:Mi,useId:Mi,unstable_isNewReconciler:!1},oie={readContext:Ho,useCallback:function(p,b){return vc().memoizedState=[p,b===void 0?null:b],p},useContext:Ho,useEffect:BB,useImperativeHandle:function(p,b,E){return E=E!=null?E.concat([p]):null,c2(4194308,4,HB.bind(null,b,p),E)},useLayoutEffect:function(p,b){return c2(4194308,4,p,b)},useInsertionEffect:function(p,b){return c2(4,2,p,b)},useMemo:function(p,b){var E=vc();return b=b===void 0?null:b,p=p(),E.memoizedState=[p,b],p},useReducer:function(p,b,E){var W=vc();return b=E!==void 0?E(b):b,W.memoizedState=W.baseState=b,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:b},W.queue=p,p=p.dispatch=iie.bind(null,tn,p),[W.memoizedState,p]},useRef:function(p){var b=vc();return p={current:p},b.memoizedState=p},useState:IB,useDebugValue:ZT,useDeferredValue:function(p){return vc().memoizedState=p},useTransition:function(){var p=IB(!1),b=p[0];return p=nie.bind(null,p[1]),vc().memoizedState=p,[b,p]},useMutableSource:function(){},useSyncExternalStore:function(p,b,E){var W=tn,J=vc();if(Xs){if(E===void 0)throw Error(r(407));E=E()}else{if(E=b(),si===null)throw Error(r(349));(mm&30)!==0||MB(W,b,E)}J.memoizedState=E;var ne={value:E,getSnapshot:b};return J.queue=ne,BB(OB.bind(null,W,ne,p),[p]),W.flags|=2048,eb(9,LB.bind(null,W,ne,E,b),void 0,null),E},useId:function(){var p=vc(),b=si.identifierPrefix;if(Xs){var E=Cd,W=Ad;E=(W&~(1<<32-te(W)-1)).toString(32)+E,b=":"+b+"R"+E,E=Jv++,0<E&&(b+="H"+E.toString(32)),b+=":"}else E=sie++,b=":"+b+"r"+E.toString(32)+":";return p.memoizedState=b},unstable_isNewReconciler:!1},lie={readContext:Ho,useCallback:VB,useContext:Ho,useEffect:GT,useImperativeHandle:WB,useInsertionEffect:$B,useLayoutEffect:zB,useMemo:UB,useReducer:XT,useRef:FB,useState:function(){return XT(Qv)},useDebugValue:ZT,useDeferredValue:function(p){var b=Wo();return qB(b,Wn.memoizedState,p)},useTransition:function(){var p=XT(Qv)[0],b=Wo().memoizedState;return[p,b]},useMutableSource:TB,useSyncExternalStore:PB,useId:XB,unstable_isNewReconciler:!1},cie={readContext:Ho,useCallback:VB,useContext:Ho,useEffect:GT,useImperativeHandle:WB,useInsertionEffect:$B,useLayoutEffect:zB,useMemo:UB,useReducer:YT,useRef:FB,useState:function(){return YT(Qv)},useDebugValue:ZT,useDeferredValue:function(p){var b=Wo();return Wn===null?b.memoizedState=p:qB(b,Wn.memoizedState,p)},useTransition:function(){var p=YT(Qv)[0],b=Wo().memoizedState;return[p,b]},useMutableSource:TB,useSyncExternalStore:PB,useId:XB,unstable_isNewReconciler:!1};function Nl(p,b){if(p&&p.defaultProps){b=ke({},b),p=p.defaultProps;for(var E in p)b[E]===void 0&&(b[E]=p[E]);return b}return b}function KT(p,b,E,W){b=p.memoizedState,E=E(W,b),E=E==null?b:ke({},b,E),p.memoizedState=E,p.lanes===0&&(p.updateQueue.baseState=E)}var h2={isMounted:function(p){return(p=p._reactInternals)?$t(p)===p:!1},enqueueSetState:function(p,b,E){p=p._reactInternals;var W=Qi(),J=_h(p),ne=Td(W,J);ne.payload=b,E!=null&&(ne.callback=E),b=bh(p,ne,J),b!==null&&(kl(b,p,J,W),n2(b,p,J))},enqueueReplaceState:function(p,b,E){p=p._reactInternals;var W=Qi(),J=_h(p),ne=Td(W,J);ne.tag=1,ne.payload=b,E!=null&&(ne.callback=E),b=bh(p,ne,J),b!==null&&(kl(b,p,J,W),n2(b,p,J))},enqueueForceUpdate:function(p,b){p=p._reactInternals;var E=Qi(),W=_h(p),J=Td(E,W);J.tag=2,b!=null&&(J.callback=b),b=bh(p,J,W),b!==null&&(kl(b,p,W,E),n2(b,p,W))}};function KB(p,b,E,W,J,ne,Ne){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(W,ne,Ne):b.prototype&&b.prototype.isPureReactComponent?!mc(E,W)||!mc(J,ne):!0}function JB(p,b,E){var W=!1,J=xh,ne=b.contextType;return typeof ne=="object"&&ne!==null?ne=Ho(ne):(J=ja(b)?cm:Pi.current,W=b.contextTypes,ne=(W=W!=null)?tx(p,J):xh),b=new b(E,ne),p.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=h2,p.stateNode=b,b._reactInternals=p,W&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=J,p.__reactInternalMemoizedMaskedChildContext=ne),b}function QB(p,b,E,W){p=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(E,W),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(E,W),b.state!==p&&h2.enqueueReplaceState(b,b.state,null)}function JT(p,b,E,W){var J=p.stateNode;J.props=E,J.state=p.memoizedState,J.refs={},FT(p);var ne=b.contextType;typeof ne=="object"&&ne!==null?J.context=Ho(ne):(ne=ja(b)?cm:Pi.current,J.context=tx(p,ne)),J.state=p.memoizedState,ne=b.getDerivedStateFromProps,typeof ne=="function"&&(KT(p,b,ne,E),J.state=p.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(b=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),b!==J.state&&h2.enqueueReplaceState(J,J.state,null),i2(p,E,J,W),J.state=p.memoizedState),typeof J.componentDidMount=="function"&&(p.flags|=4194308)}function cx(p,b){try{var E="",W=b;do E+=$e(W),W=W.return;while(W);var J=E}catch(ne){J=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:p,source:b,stack:J,digest:null}}function QT(p,b,E){return{value:p,source:null,stack:E??null,digest:b??null}}function eP(p,b){try{console.error(b.value)}catch(E){setTimeout(function(){throw E})}}var die=typeof WeakMap=="function"?WeakMap:Map;function e$(p,b,E){E=Td(-1,E),E.tag=3,E.payload={element:null};var W=b.value;return E.callback=function(){v2||(v2=!0,pP=W),eP(p,b)},E}function t$(p,b,E){E=Td(-1,E),E.tag=3;var W=p.type.getDerivedStateFromError;if(typeof W=="function"){var J=b.value;E.payload=function(){return W(J)},E.callback=function(){eP(p,b)}}var ne=p.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(E.callback=function(){eP(p,b),typeof W!="function"&&(jh===null?jh=new Set([this]):jh.add(this));var Ne=b.stack;this.componentDidCatch(b.value,{componentStack:Ne!==null?Ne:""})}),E}function r$(p,b,E){var W=p.pingCache;if(W===null){W=p.pingCache=new die;var J=new Set;W.set(b,J)}else J=W.get(b),J===void 0&&(J=new Set,W.set(b,J));J.has(E)||(J.add(E),p=_ie.bind(null,p,b,E),b.then(p,p))}function s$(p){do{var b;if((b=p.tag===13)&&(b=p.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return p;p=p.return}while(p!==null);return null}function n$(p,b,E,W,J){return(p.mode&1)===0?(p===b?p.flags|=65536:(p.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(b=Td(-1,1),b.tag=2,bh(E,b,1))),E.lanes|=1),p):(p.flags|=65536,p.lanes=J,p)}var uie=B.ReactCurrentOwner,Na=!1;function Ji(p,b,E,W){b.child=p===null?_B(b,null,E,W):ix(b,p.child,E,W)}function i$(p,b,E,W,J){E=E.render;var ne=b.ref;return ox(b,J),W=UT(p,b,E,W,ne,J),E=qT(),p!==null&&!Na?(b.updateQueue=p.updateQueue,b.flags&=-2053,p.lanes&=~J,Pd(p,b,J)):(Xs&&E&&CT(b),b.flags|=1,Ji(p,b,W,J),b.child)}function a$(p,b,E,W,J){if(p===null){var ne=E.type;return typeof ne=="function"&&!jP(ne)&&ne.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(b.tag=15,b.type=ne,o$(p,b,ne,W,J)):(p=S2(E.type,null,W,b,b.mode,J),p.ref=b.ref,p.return=b,b.child=p)}if(ne=p.child,(p.lanes&J)===0){var Ne=ne.memoizedProps;if(E=E.compare,E=E!==null?E:mc,E(Ne,W)&&p.ref===b.ref)return Pd(p,b,J)}return b.flags|=1,p=kh(ne,W),p.ref=b.ref,p.return=b,b.child=p}function o$(p,b,E,W,J){if(p!==null){var ne=p.memoizedProps;if(mc(ne,W)&&p.ref===b.ref)if(Na=!1,b.pendingProps=W=ne,(p.lanes&J)!==0)(p.flags&131072)!==0&&(Na=!0);else return b.lanes=p.lanes,Pd(p,b,J)}return tP(p,b,E,W,J)}function l$(p,b,E){var W=b.pendingProps,J=W.children,ne=p!==null?p.memoizedState:null;if(W.mode==="hidden")if((b.mode&1)===0)b.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ds(ux,no),no|=E;else{if((E&1073741824)===0)return p=ne!==null?ne.baseLanes|E:E,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:p,cachePool:null,transitions:null},b.updateQueue=null,Ds(ux,no),no|=p,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null},W=ne!==null?ne.baseLanes:E,Ds(ux,no),no|=W}else ne!==null?(W=ne.baseLanes|E,b.memoizedState=null):W=E,Ds(ux,no),no|=W;return Ji(p,b,J,E),b.child}function c$(p,b){var E=b.ref;(p===null&&E!==null||p!==null&&p.ref!==E)&&(b.flags|=512,b.flags|=2097152)}function tP(p,b,E,W,J){var ne=ja(E)?cm:Pi.current;return ne=tx(b,ne),ox(b,J),E=UT(p,b,E,W,ne,J),W=qT(),p!==null&&!Na?(b.updateQueue=p.updateQueue,b.flags&=-2053,p.lanes&=~J,Pd(p,b,J)):(Xs&&W&&CT(b),b.flags|=1,Ji(p,b,E,J),b.child)}function d$(p,b,E,W,J){if(ja(E)){var ne=!0;ZN(b)}else ne=!1;if(ox(b,J),b.stateNode===null)m2(p,b),JB(b,E,W),JT(b,E,W,J),W=!0;else if(p===null){var Ne=b.stateNode,Re=b.memoizedProps;Ne.props=Re;var Ve=Ne.context,ct=E.contextType;typeof ct=="object"&&ct!==null?ct=Ho(ct):(ct=ja(E)?cm:Pi.current,ct=tx(b,ct));var _t=E.getDerivedStateFromProps,St=typeof _t=="function"||typeof Ne.getSnapshotBeforeUpdate=="function";St||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Re!==W||Ve!==ct)&&QB(b,Ne,W,ct),vh=!1;var Nt=b.memoizedState;Ne.state=Nt,i2(b,W,Ne,J),Ve=b.memoizedState,Re!==W||Nt!==Ve||wa.current||vh?(typeof _t=="function"&&(KT(b,E,_t,W),Ve=b.memoizedState),(Re=vh||KB(b,E,Re,W,Nt,Ve,ct))?(St||typeof Ne.UNSAFE_componentWillMount!="function"&&typeof Ne.componentWillMount!="function"||(typeof Ne.componentWillMount=="function"&&Ne.componentWillMount(),typeof Ne.UNSAFE_componentWillMount=="function"&&Ne.UNSAFE_componentWillMount()),typeof Ne.componentDidMount=="function"&&(b.flags|=4194308)):(typeof Ne.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=W,b.memoizedState=Ve),Ne.props=W,Ne.state=Ve,Ne.context=ct,W=Re):(typeof Ne.componentDidMount=="function"&&(b.flags|=4194308),W=!1)}else{Ne=b.stateNode,kB(p,b),Re=b.memoizedProps,ct=b.type===b.elementType?Re:Nl(b.type,Re),Ne.props=ct,St=b.pendingProps,Nt=Ne.context,Ve=E.contextType,typeof Ve=="object"&&Ve!==null?Ve=Ho(Ve):(Ve=ja(E)?cm:Pi.current,Ve=tx(b,Ve));var qt=E.getDerivedStateFromProps;(_t=typeof qt=="function"||typeof Ne.getSnapshotBeforeUpdate=="function")||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(Re!==St||Nt!==Ve)&&QB(b,Ne,W,Ve),vh=!1,Nt=b.memoizedState,Ne.state=Nt,i2(b,W,Ne,J);var Jt=b.memoizedState;Re!==St||Nt!==Jt||wa.current||vh?(typeof qt=="function"&&(KT(b,E,qt,W),Jt=b.memoizedState),(ct=vh||KB(b,E,ct,W,Nt,Jt,Ve)||!1)?(_t||typeof Ne.UNSAFE_componentWillUpdate!="function"&&typeof Ne.componentWillUpdate!="function"||(typeof Ne.componentWillUpdate=="function"&&Ne.componentWillUpdate(W,Jt,Ve),typeof Ne.UNSAFE_componentWillUpdate=="function"&&Ne.UNSAFE_componentWillUpdate(W,Jt,Ve)),typeof Ne.componentDidUpdate=="function"&&(b.flags|=4),typeof Ne.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof Ne.componentDidUpdate!="function"||Re===p.memoizedProps&&Nt===p.memoizedState||(b.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Re===p.memoizedProps&&Nt===p.memoizedState||(b.flags|=1024),b.memoizedProps=W,b.memoizedState=Jt),Ne.props=W,Ne.state=Jt,Ne.context=Ve,W=ct):(typeof Ne.componentDidUpdate!="function"||Re===p.memoizedProps&&Nt===p.memoizedState||(b.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||Re===p.memoizedProps&&Nt===p.memoizedState||(b.flags|=1024),W=!1)}return rP(p,b,E,W,ne,J)}function rP(p,b,E,W,J,ne){c$(p,b);var Ne=(b.flags&128)!==0;if(!W&&!Ne)return J&&pB(b,E,!1),Pd(p,b,ne);W=b.stateNode,uie.current=b;var Re=Ne&&typeof E.getDerivedStateFromError!="function"?null:W.render();return b.flags|=1,p!==null&&Ne?(b.child=ix(b,p.child,null,ne),b.child=ix(b,null,Re,ne)):Ji(p,b,Re,ne),b.memoizedState=W.state,J&&pB(b,E,!0),b.child}function u$(p){var b=p.stateNode;b.pendingContext?fB(p,b.pendingContext,b.pendingContext!==b.context):b.context&&fB(p,b.context,!1),BT(p,b.containerInfo)}function h$(p,b,E,W,J){return nx(),MT(J),b.flags|=256,Ji(p,b,E,W),b.child}var sP={dehydrated:null,treeContext:null,retryLane:0};function nP(p){return{baseLanes:p,cachePool:null,transitions:null}}function f$(p,b,E){var W=b.pendingProps,J=en.current,ne=!1,Ne=(b.flags&128)!==0,Re;if((Re=Ne)||(Re=p!==null&&p.memoizedState===null?!1:(J&2)!==0),Re?(ne=!0,b.flags&=-129):(p===null||p.memoizedState!==null)&&(J|=1),Ds(en,J&1),p===null)return PT(b),p=b.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((b.mode&1)===0?b.lanes=1:p.data==="$!"?b.lanes=8:b.lanes=1073741824,null):(Ne=W.children,p=W.fallback,ne?(W=b.mode,ne=b.child,Ne={mode:"hidden",children:Ne},(W&1)===0&&ne!==null?(ne.childLanes=0,ne.pendingProps=Ne):ne=k2(Ne,W,0,null),p=vm(p,W,E,null),ne.return=b,p.return=b,ne.sibling=p,b.child=ne,b.child.memoizedState=nP(E),b.memoizedState=sP,p):iP(b,Ne));if(J=p.memoizedState,J!==null&&(Re=J.dehydrated,Re!==null))return hie(p,b,Ne,W,Re,J,E);if(ne){ne=W.fallback,Ne=b.mode,J=p.child,Re=J.sibling;var Ve={mode:"hidden",children:W.children};return(Ne&1)===0&&b.child!==J?(W=b.child,W.childLanes=0,W.pendingProps=Ve,b.deletions=null):(W=kh(J,Ve),W.subtreeFlags=J.subtreeFlags&14680064),Re!==null?ne=kh(Re,ne):(ne=vm(ne,Ne,E,null),ne.flags|=2),ne.return=b,W.return=b,W.sibling=ne,b.child=W,W=ne,ne=b.child,Ne=p.child.memoizedState,Ne=Ne===null?nP(E):{baseLanes:Ne.baseLanes|E,cachePool:null,transitions:Ne.transitions},ne.memoizedState=Ne,ne.childLanes=p.childLanes&~E,b.memoizedState=sP,W}return ne=p.child,p=ne.sibling,W=kh(ne,{mode:"visible",children:W.children}),(b.mode&1)===0&&(W.lanes=E),W.return=b,W.sibling=null,p!==null&&(E=b.deletions,E===null?(b.deletions=[p],b.flags|=16):E.push(p)),b.child=W,b.memoizedState=null,W}function iP(p,b){return b=k2({mode:"visible",children:b},p.mode,0,null),b.return=p,p.child=b}function f2(p,b,E,W){return W!==null&&MT(W),ix(b,p.child,null,E),p=iP(b,b.pendingProps.children),p.flags|=2,b.memoizedState=null,p}function hie(p,b,E,W,J,ne,Ne){if(E)return b.flags&256?(b.flags&=-257,W=QT(Error(r(422))),f2(p,b,Ne,W)):b.memoizedState!==null?(b.child=p.child,b.flags|=128,null):(ne=W.fallback,J=b.mode,W=k2({mode:"visible",children:W.children},J,0,null),ne=vm(ne,J,Ne,null),ne.flags|=2,W.return=b,ne.return=b,W.sibling=ne,b.child=W,(b.mode&1)!==0&&ix(b,p.child,null,Ne),b.child.memoizedState=nP(Ne),b.memoizedState=sP,ne);if((b.mode&1)===0)return f2(p,b,Ne,null);if(J.data==="$!"){if(W=J.nextSibling&&J.nextSibling.dataset,W)var Re=W.dgst;return W=Re,ne=Error(r(419)),W=QT(ne,W,void 0),f2(p,b,Ne,W)}if(Re=(Ne&p.childLanes)!==0,Na||Re){if(W=si,W!==null){switch(Ne&-Ne){case 4:J=2;break;case 16:J=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:J=32;break;case 536870912:J=268435456;break;default:J=0}J=(J&(W.suspendedLanes|Ne))!==0?0:J,J!==0&&J!==ne.retryLane&&(ne.retryLane=J,Ed(p,J),kl(W,p,J,-1))}return wP(),W=QT(Error(r(421))),f2(p,b,Ne,W)}return J.data==="$?"?(b.flags|=128,b.child=p.child,b=Sie.bind(null,p),J._reactRetry=b,null):(p=ne.treeContext,so=xc(J.nextSibling),ro=b,Xs=!0,jl=null,p!==null&&($o[zo++]=Ad,$o[zo++]=Cd,$o[zo++]=dm,Ad=p.id,Cd=p.overflow,dm=b),b=iP(b,W.children),b.flags|=4096,b)}function m$(p,b,E){p.lanes|=b;var W=p.alternate;W!==null&&(W.lanes|=b),RT(p.return,b,E)}function aP(p,b,E,W,J){var ne=p.memoizedState;ne===null?p.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:W,tail:E,tailMode:J}:(ne.isBackwards=b,ne.rendering=null,ne.renderingStartTime=0,ne.last=W,ne.tail=E,ne.tailMode=J)}function p$(p,b,E){var W=b.pendingProps,J=W.revealOrder,ne=W.tail;if(Ji(p,b,W.children,E),W=en.current,(W&2)!==0)W=W&1|2,b.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=b.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&m$(p,E,b);else if(p.tag===19)m$(p,E,b);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===b)break e;for(;p.sibling===null;){if(p.return===null||p.return===b)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}W&=1}if(Ds(en,W),(b.mode&1)===0)b.memoizedState=null;else switch(J){case"forwards":for(E=b.child,J=null;E!==null;)p=E.alternate,p!==null&&a2(p)===null&&(J=E),E=E.sibling;E=J,E===null?(J=b.child,b.child=null):(J=E.sibling,E.sibling=null),aP(b,!1,J,E,ne);break;case"backwards":for(E=null,J=b.child,b.child=null;J!==null;){if(p=J.alternate,p!==null&&a2(p)===null){b.child=J;break}p=J.sibling,J.sibling=E,E=J,J=p}aP(b,!0,E,null,ne);break;case"together":aP(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function m2(p,b){(b.mode&1)===0&&p!==null&&(p.alternate=null,b.alternate=null,b.flags|=2)}function Pd(p,b,E){if(p!==null&&(b.dependencies=p.dependencies),pm|=b.lanes,(E&b.childLanes)===0)return null;if(p!==null&&b.child!==p.child)throw Error(r(153));if(b.child!==null){for(p=b.child,E=kh(p,p.pendingProps),b.child=E,E.return=b;p.sibling!==null;)p=p.sibling,E=E.sibling=kh(p,p.pendingProps),E.return=b;E.sibling=null}return b.child}function fie(p,b,E){switch(b.tag){case 3:u$(b),nx();break;case 5:EB(b);break;case 1:ja(b.type)&&ZN(b);break;case 4:BT(b,b.stateNode.containerInfo);break;case 10:var W=b.type._context,J=b.memoizedProps.value;Ds(r2,W._currentValue),W._currentValue=J;break;case 13:if(W=b.memoizedState,W!==null)return W.dehydrated!==null?(Ds(en,en.current&1),b.flags|=128,null):(E&b.child.childLanes)!==0?f$(p,b,E):(Ds(en,en.current&1),p=Pd(p,b,E),p!==null?p.sibling:null);Ds(en,en.current&1);break;case 19:if(W=(E&b.childLanes)!==0,(p.flags&128)!==0){if(W)return p$(p,b,E);b.flags|=128}if(J=b.memoizedState,J!==null&&(J.rendering=null,J.tail=null,J.lastEffect=null),Ds(en,en.current),W)break;return null;case 22:case 23:return b.lanes=0,l$(p,b,E)}return Pd(p,b,E)}var g$,oP,x$,y$;g$=function(p,b){for(var E=b.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===b)break;for(;E.sibling===null;){if(E.return===null||E.return===b)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},oP=function(){},x$=function(p,b,E,W){var J=p.memoizedProps;if(J!==W){p=b.stateNode,fm(yc.current);var ne=null;switch(E){case"input":J=dt(p,J),W=dt(p,W),ne=[];break;case"select":J=ke({},J,{value:void 0}),W=ke({},W,{value:void 0}),ne=[];break;case"textarea":J=it(p,J),W=it(p,W),ne=[];break;default:typeof J.onClick!="function"&&typeof W.onClick=="function"&&(p.onclick=wt)}qs(E,W);var Ne;E=null;for(ct in J)if(!W.hasOwnProperty(ct)&&J.hasOwnProperty(ct)&&J[ct]!=null)if(ct==="style"){var Re=J[ct];for(Ne in Re)Re.hasOwnProperty(Ne)&&(E||(E={}),E[Ne]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(i.hasOwnProperty(ct)?ne||(ne=[]):(ne=ne||[]).push(ct,null));for(ct in W){var Ve=W[ct];if(Re=J!=null?J[ct]:void 0,W.hasOwnProperty(ct)&&Ve!==Re&&(Ve!=null||Re!=null))if(ct==="style")if(Re){for(Ne in Re)!Re.hasOwnProperty(Ne)||Ve&&Ve.hasOwnProperty(Ne)||(E||(E={}),E[Ne]="");for(Ne in Ve)Ve.hasOwnProperty(Ne)&&Re[Ne]!==Ve[Ne]&&(E||(E={}),E[Ne]=Ve[Ne])}else E||(ne||(ne=[]),ne.push(ct,E)),E=Ve;else ct==="dangerouslySetInnerHTML"?(Ve=Ve?Ve.__html:void 0,Re=Re?Re.__html:void 0,Ve!=null&&Re!==Ve&&(ne=ne||[]).push(ct,Ve)):ct==="children"?typeof Ve!="string"&&typeof Ve!="number"||(ne=ne||[]).push(ct,""+Ve):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(i.hasOwnProperty(ct)?(Ve!=null&&ct==="onScroll"&&ks("scroll",p),ne||Re===Ve||(ne=[])):(ne=ne||[]).push(ct,Ve))}E&&(ne=ne||[]).push("style",E);var ct=ne;(b.updateQueue=ct)&&(b.flags|=4)}},y$=function(p,b,E,W){E!==W&&(b.flags|=4)};function tb(p,b){if(!Xs)switch(p.tailMode){case"hidden":b=p.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?p.tail=null:E.sibling=null;break;case"collapsed":E=p.tail;for(var W=null;E!==null;)E.alternate!==null&&(W=E),E=E.sibling;W===null?b||p.tail===null?p.tail=null:p.tail.sibling=null:W.sibling=null}}function Li(p){var b=p.alternate!==null&&p.alternate.child===p.child,E=0,W=0;if(b)for(var J=p.child;J!==null;)E|=J.lanes|J.childLanes,W|=J.subtreeFlags&14680064,W|=J.flags&14680064,J.return=p,J=J.sibling;else for(J=p.child;J!==null;)E|=J.lanes|J.childLanes,W|=J.subtreeFlags,W|=J.flags,J.return=p,J=J.sibling;return p.subtreeFlags|=W,p.childLanes=E,b}function mie(p,b,E){var W=b.pendingProps;switch(ET(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(b),null;case 1:return ja(b.type)&&GN(),Li(b),null;case 3:return W=b.stateNode,lx(),Hs(wa),Hs(Pi),HT(),W.pendingContext&&(W.context=W.pendingContext,W.pendingContext=null),(p===null||p.child===null)&&(e2(b)?b.flags|=4:p===null||p.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,jl!==null&&(yP(jl),jl=null))),oP(p,b),Li(b),null;case 5:$T(b);var J=fm(Zv.current);if(E=b.type,p!==null&&b.stateNode!=null)x$(p,b,E,W,J),p.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!W){if(b.stateNode===null)throw Error(r(166));return Li(b),null}if(p=fm(yc.current),e2(b)){W=b.stateNode,E=b.type;var ne=b.memoizedProps;switch(W[Bo]=b,W[mh]=ne,p=(b.mode&1)!==0,E){case"dialog":ks("cancel",W),ks("close",W);break;case"iframe":case"object":case"embed":ks("load",W);break;case"video":case"audio":for(J=0;J<uh.length;J++)ks(uh[J],W);break;case"source":ks("error",W);break;case"img":case"image":case"link":ks("error",W),ks("load",W);break;case"details":ks("toggle",W);break;case"input":Tt(W,ne),ks("invalid",W);break;case"select":W._wrapperState={wasMultiple:!!ne.multiple},ks("invalid",W);break;case"textarea":kt(W,ne),ks("invalid",W)}qs(E,ne),J=null;for(var Ne in ne)if(ne.hasOwnProperty(Ne)){var Re=ne[Ne];Ne==="children"?typeof Re=="string"?W.textContent!==Re&&(ne.suppressHydrationWarning!==!0&&ot(W.textContent,Re,p),J=["children",Re]):typeof Re=="number"&&W.textContent!==""+Re&&(ne.suppressHydrationWarning!==!0&&ot(W.textContent,Re,p),J=["children",""+Re]):i.hasOwnProperty(Ne)&&Re!=null&&Ne==="onScroll"&&ks("scroll",W)}switch(E){case"input":ht(W),Cr(W,ne,!0);break;case"textarea":ht(W),bt(W);break;case"select":case"option":break;default:typeof ne.onClick=="function"&&(W.onclick=wt)}W=J,b.updateQueue=W,W!==null&&(b.flags|=4)}else{Ne=J.nodeType===9?J:J.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=Ot(E)),p==="http://www.w3.org/1999/xhtml"?E==="script"?(p=Ne.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof W.is=="string"?p=Ne.createElement(E,{is:W.is}):(p=Ne.createElement(E),E==="select"&&(Ne=p,W.multiple?Ne.multiple=!0:W.size&&(Ne.size=W.size))):p=Ne.createElementNS(p,E),p[Bo]=b,p[mh]=W,g$(p,b,!1,!1),b.stateNode=p;e:{switch(Ne=Ts(E,W),E){case"dialog":ks("cancel",p),ks("close",p),J=W;break;case"iframe":case"object":case"embed":ks("load",p),J=W;break;case"video":case"audio":for(J=0;J<uh.length;J++)ks(uh[J],p);J=W;break;case"source":ks("error",p),J=W;break;case"img":case"image":case"link":ks("error",p),ks("load",p),J=W;break;case"details":ks("toggle",p),J=W;break;case"input":Tt(p,W),J=dt(p,W),ks("invalid",p);break;case"option":J=W;break;case"select":p._wrapperState={wasMultiple:!!W.multiple},J=ke({},W,{value:void 0}),ks("invalid",p);break;case"textarea":kt(p,W),J=it(p,W),ks("invalid",p);break;default:J=W}qs(E,J),Re=J;for(ne in Re)if(Re.hasOwnProperty(ne)){var Ve=Re[ne];ne==="style"?ts(p,Ve):ne==="dangerouslySetInnerHTML"?(Ve=Ve?Ve.__html:void 0,Ve!=null&&Er(p,Ve)):ne==="children"?typeof Ve=="string"?(E!=="textarea"||Ve!=="")&&_s(p,Ve):typeof Ve=="number"&&_s(p,""+Ve):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?Ve!=null&&ne==="onScroll"&&ks("scroll",p):Ve!=null&&M(p,ne,Ve,Ne))}switch(E){case"input":ht(p),Cr(p,W,!1);break;case"textarea":ht(p),bt(p);break;case"option":W.value!=null&&p.setAttribute("value",""+nt(W.value));break;case"select":p.multiple=!!W.multiple,ne=W.value,ne!=null?Ge(p,!!W.multiple,ne,!1):W.defaultValue!=null&&Ge(p,!!W.multiple,W.defaultValue,!0);break;default:typeof J.onClick=="function"&&(p.onclick=wt)}switch(E){case"button":case"input":case"select":case"textarea":W=!!W.autoFocus;break e;case"img":W=!0;break e;default:W=!1}}W&&(b.flags|=4)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return Li(b),null;case 6:if(p&&b.stateNode!=null)y$(p,b,p.memoizedProps,W);else{if(typeof W!="string"&&b.stateNode===null)throw Error(r(166));if(E=fm(Zv.current),fm(yc.current),e2(b)){if(W=b.stateNode,E=b.memoizedProps,W[Bo]=b,(ne=W.nodeValue!==E)&&(p=ro,p!==null))switch(p.tag){case 3:ot(W.nodeValue,E,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&ot(W.nodeValue,E,(p.mode&1)!==0)}ne&&(b.flags|=4)}else W=(E.nodeType===9?E:E.ownerDocument).createTextNode(W),W[Bo]=b,b.stateNode=W}return Li(b),null;case 13:if(Hs(en),W=b.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(Xs&&so!==null&&(b.mode&1)!==0&&(b.flags&128)===0)wB(),nx(),b.flags|=98560,ne=!1;else if(ne=e2(b),W!==null&&W.dehydrated!==null){if(p===null){if(!ne)throw Error(r(318));if(ne=b.memoizedState,ne=ne!==null?ne.dehydrated:null,!ne)throw Error(r(317));ne[Bo]=b}else nx(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;Li(b),ne=!1}else jl!==null&&(yP(jl),jl=null),ne=!0;if(!ne)return b.flags&65536?b:null}return(b.flags&128)!==0?(b.lanes=E,b):(W=W!==null,W!==(p!==null&&p.memoizedState!==null)&&W&&(b.child.flags|=8192,(b.mode&1)!==0&&(p===null||(en.current&1)!==0?Vn===0&&(Vn=3):wP())),b.updateQueue!==null&&(b.flags|=4),Li(b),null);case 4:return lx(),oP(p,b),p===null&&hh(b.stateNode.containerInfo),Li(b),null;case 10:return DT(b.type._context),Li(b),null;case 17:return ja(b.type)&&GN(),Li(b),null;case 19:if(Hs(en),ne=b.memoizedState,ne===null)return Li(b),null;if(W=(b.flags&128)!==0,Ne=ne.rendering,Ne===null)if(W)tb(ne,!1);else{if(Vn!==0||p!==null&&(p.flags&128)!==0)for(p=b.child;p!==null;){if(Ne=a2(p),Ne!==null){for(b.flags|=128,tb(ne,!1),W=Ne.updateQueue,W!==null&&(b.updateQueue=W,b.flags|=4),b.subtreeFlags=0,W=E,E=b.child;E!==null;)ne=E,p=W,ne.flags&=14680066,Ne=ne.alternate,Ne===null?(ne.childLanes=0,ne.lanes=p,ne.child=null,ne.subtreeFlags=0,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=Ne.childLanes,ne.lanes=Ne.lanes,ne.child=Ne.child,ne.subtreeFlags=0,ne.deletions=null,ne.memoizedProps=Ne.memoizedProps,ne.memoizedState=Ne.memoizedState,ne.updateQueue=Ne.updateQueue,ne.type=Ne.type,p=Ne.dependencies,ne.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),E=E.sibling;return Ds(en,en.current&1|2),b.child}p=p.sibling}ne.tail!==null&&v()>hx&&(b.flags|=128,W=!0,tb(ne,!1),b.lanes=4194304)}else{if(!W)if(p=a2(Ne),p!==null){if(b.flags|=128,W=!0,E=p.updateQueue,E!==null&&(b.updateQueue=E,b.flags|=4),tb(ne,!0),ne.tail===null&&ne.tailMode==="hidden"&&!Ne.alternate&&!Xs)return Li(b),null}else 2*v()-ne.renderingStartTime>hx&&E!==1073741824&&(b.flags|=128,W=!0,tb(ne,!1),b.lanes=4194304);ne.isBackwards?(Ne.sibling=b.child,b.child=Ne):(E=ne.last,E!==null?E.sibling=Ne:b.child=Ne,ne.last=Ne)}return ne.tail!==null?(b=ne.tail,ne.rendering=b,ne.tail=b.sibling,ne.renderingStartTime=v(),b.sibling=null,E=en.current,Ds(en,W?E&1|2:E&1),b):(Li(b),null);case 22:case 23:return bP(),W=b.memoizedState!==null,p!==null&&p.memoizedState!==null!==W&&(b.flags|=8192),W&&(b.mode&1)!==0?(no&1073741824)!==0&&(Li(b),b.subtreeFlags&6&&(b.flags|=8192)):Li(b),null;case 24:return null;case 25:return null}throw Error(r(156,b.tag))}function pie(p,b){switch(ET(b),b.tag){case 1:return ja(b.type)&&GN(),p=b.flags,p&65536?(b.flags=p&-65537|128,b):null;case 3:return lx(),Hs(wa),Hs(Pi),HT(),p=b.flags,(p&65536)!==0&&(p&128)===0?(b.flags=p&-65537|128,b):null;case 5:return $T(b),null;case 13:if(Hs(en),p=b.memoizedState,p!==null&&p.dehydrated!==null){if(b.alternate===null)throw Error(r(340));nx()}return p=b.flags,p&65536?(b.flags=p&-65537|128,b):null;case 19:return Hs(en),null;case 4:return lx(),null;case 10:return DT(b.type._context),null;case 22:case 23:return bP(),null;case 24:return null;default:return null}}var p2=!1,Oi=!1,gie=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function dx(p,b){var E=p.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(W){mn(p,b,W)}else E.current=null}function lP(p,b,E){try{E()}catch(W){mn(p,b,W)}}var v$=!1;function xie(p,b){if(Bt=tm,p=Fv(),Bv(p)){if("selectionStart"in p)var E={start:p.selectionStart,end:p.selectionEnd};else e:{E=(E=p.ownerDocument)&&E.defaultView||window;var W=E.getSelection&&E.getSelection();if(W&&W.rangeCount!==0){E=W.anchorNode;var J=W.anchorOffset,ne=W.focusNode;W=W.focusOffset;try{E.nodeType,ne.nodeType}catch{E=null;break e}var Ne=0,Re=-1,Ve=-1,ct=0,_t=0,St=p,Nt=null;t:for(;;){for(var qt;St!==E||J!==0&&St.nodeType!==3||(Re=Ne+J),St!==ne||W!==0&&St.nodeType!==3||(Ve=Ne+W),St.nodeType===3&&(Ne+=St.nodeValue.length),(qt=St.firstChild)!==null;)Nt=St,St=qt;for(;;){if(St===p)break t;if(Nt===E&&++ct===J&&(Re=Ne),Nt===ne&&++_t===W&&(Ve=Ne),(qt=St.nextSibling)!==null)break;St=Nt,Nt=St.parentNode}St=qt}E=Re===-1||Ve===-1?null:{start:Re,end:Ve}}else E=null}E=E||{start:0,end:0}}else E=null;for(mr={focusedElem:p,selectionRange:E},tm=!1,Gt=b;Gt!==null;)if(b=Gt,p=b.child,(b.subtreeFlags&1028)!==0&&p!==null)p.return=b,Gt=p;else for(;Gt!==null;){b=Gt;try{var Jt=b.alternate;if((b.flags&1024)!==0)switch(b.tag){case 0:case 11:case 15:break;case 1:if(Jt!==null){var tr=Jt.memoizedProps,jn=Jt.memoizedState,et=b.stateNode,Ye=et.getSnapshotBeforeUpdate(b.elementType===b.type?tr:Nl(b.type,tr),jn);et.__reactInternalSnapshotBeforeUpdate=Ye}break;case 3:var rt=b.stateNode.containerInfo;rt.nodeType===1?rt.textContent="":rt.nodeType===9&&rt.documentElement&&rt.removeChild(rt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Pt){mn(b,b.return,Pt)}if(p=b.sibling,p!==null){p.return=b.return,Gt=p;break}Gt=b.return}return Jt=v$,v$=!1,Jt}function rb(p,b,E){var W=b.updateQueue;if(W=W!==null?W.lastEffect:null,W!==null){var J=W=W.next;do{if((J.tag&p)===p){var ne=J.destroy;J.destroy=void 0,ne!==void 0&&lP(b,E,ne)}J=J.next}while(J!==W)}}function g2(p,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var E=b=b.next;do{if((E.tag&p)===p){var W=E.create;E.destroy=W()}E=E.next}while(E!==b)}}function cP(p){var b=p.ref;if(b!==null){var E=p.stateNode;switch(p.tag){case 5:p=E;break;default:p=E}typeof b=="function"?b(p):b.current=p}}function b$(p){var b=p.alternate;b!==null&&(p.alternate=null,b$(b)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(b=p.stateNode,b!==null&&(delete b[Bo],delete b[mh],delete b[ph],delete b[_T],delete b[ST])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function w$(p){return p.tag===5||p.tag===3||p.tag===4}function j$(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||w$(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function dP(p,b,E){var W=p.tag;if(W===5||W===6)p=p.stateNode,b?E.nodeType===8?E.parentNode.insertBefore(p,b):E.insertBefore(p,b):(E.nodeType===8?(b=E.parentNode,b.insertBefore(p,E)):(b=E,b.appendChild(p)),E=E._reactRootContainer,E!=null||b.onclick!==null||(b.onclick=wt));else if(W!==4&&(p=p.child,p!==null))for(dP(p,b,E),p=p.sibling;p!==null;)dP(p,b,E),p=p.sibling}function uP(p,b,E){var W=p.tag;if(W===5||W===6)p=p.stateNode,b?E.insertBefore(p,b):E.appendChild(p);else if(W!==4&&(p=p.child,p!==null))for(uP(p,b,E),p=p.sibling;p!==null;)uP(p,b,E),p=p.sibling}var gi=null,_l=!1;function wh(p,b,E){for(E=E.child;E!==null;)N$(p,b,E),E=E.sibling}function N$(p,b,E){if(X&&typeof X.onCommitFiberUnmount=="function")try{X.onCommitFiberUnmount(U,E)}catch{}switch(E.tag){case 5:Oi||dx(E,b);case 6:var W=gi,J=_l;gi=null,wh(p,b,E),gi=W,_l=J,gi!==null&&(_l?(p=gi,E=E.stateNode,p.nodeType===8?p.parentNode.removeChild(E):p.removeChild(E)):gi.removeChild(E.stateNode));break;case 18:gi!==null&&(_l?(p=gi,E=E.stateNode,p.nodeType===8?qv(p.parentNode,E):p.nodeType===1&&qv(p,E),Ka(p)):qv(gi,E.stateNode));break;case 4:W=gi,J=_l,gi=E.stateNode.containerInfo,_l=!0,wh(p,b,E),gi=W,_l=J;break;case 0:case 11:case 14:case 15:if(!Oi&&(W=E.updateQueue,W!==null&&(W=W.lastEffect,W!==null))){J=W=W.next;do{var ne=J,Ne=ne.destroy;ne=ne.tag,Ne!==void 0&&((ne&2)!==0||(ne&4)!==0)&&lP(E,b,Ne),J=J.next}while(J!==W)}wh(p,b,E);break;case 1:if(!Oi&&(dx(E,b),W=E.stateNode,typeof W.componentWillUnmount=="function"))try{W.props=E.memoizedProps,W.state=E.memoizedState,W.componentWillUnmount()}catch(Re){mn(E,b,Re)}wh(p,b,E);break;case 21:wh(p,b,E);break;case 22:E.mode&1?(Oi=(W=Oi)||E.memoizedState!==null,wh(p,b,E),Oi=W):wh(p,b,E);break;default:wh(p,b,E)}}function _$(p){var b=p.updateQueue;if(b!==null){p.updateQueue=null;var E=p.stateNode;E===null&&(E=p.stateNode=new gie),b.forEach(function(W){var J=kie.bind(null,p,W);E.has(W)||(E.add(W),W.then(J,J))})}}function Sl(p,b){var E=b.deletions;if(E!==null)for(var W=0;W<E.length;W++){var J=E[W];try{var ne=p,Ne=b,Re=Ne;e:for(;Re!==null;){switch(Re.tag){case 5:gi=Re.stateNode,_l=!1;break e;case 3:gi=Re.stateNode.containerInfo,_l=!0;break e;case 4:gi=Re.stateNode.containerInfo,_l=!0;break e}Re=Re.return}if(gi===null)throw Error(r(160));N$(ne,Ne,J),gi=null,_l=!1;var Ve=J.alternate;Ve!==null&&(Ve.return=null),J.return=null}catch(ct){mn(J,b,ct)}}if(b.subtreeFlags&12854)for(b=b.child;b!==null;)S$(b,p),b=b.sibling}function S$(p,b){var E=p.alternate,W=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Sl(b,p),bc(p),W&4){try{rb(3,p,p.return),g2(3,p)}catch(tr){mn(p,p.return,tr)}try{rb(5,p,p.return)}catch(tr){mn(p,p.return,tr)}}break;case 1:Sl(b,p),bc(p),W&512&&E!==null&&dx(E,E.return);break;case 5:if(Sl(b,p),bc(p),W&512&&E!==null&&dx(E,E.return),p.flags&32){var J=p.stateNode;try{_s(J,"")}catch(tr){mn(p,p.return,tr)}}if(W&4&&(J=p.stateNode,J!=null)){var ne=p.memoizedProps,Ne=E!==null?E.memoizedProps:ne,Re=p.type,Ve=p.updateQueue;if(p.updateQueue=null,Ve!==null)try{Re==="input"&&ne.type==="radio"&&ne.name!=null&&Ct(J,ne),Ts(Re,Ne);var ct=Ts(Re,ne);for(Ne=0;Ne<Ve.length;Ne+=2){var _t=Ve[Ne],St=Ve[Ne+1];_t==="style"?ts(J,St):_t==="dangerouslySetInnerHTML"?Er(J,St):_t==="children"?_s(J,St):M(J,_t,St,ct)}switch(Re){case"input":or(J,ne);break;case"textarea":jt(J,ne);break;case"select":var Nt=J._wrapperState.wasMultiple;J._wrapperState.wasMultiple=!!ne.multiple;var qt=ne.value;qt!=null?Ge(J,!!ne.multiple,qt,!1):Nt!==!!ne.multiple&&(ne.defaultValue!=null?Ge(J,!!ne.multiple,ne.defaultValue,!0):Ge(J,!!ne.multiple,ne.multiple?[]:"",!1))}J[mh]=ne}catch(tr){mn(p,p.return,tr)}}break;case 6:if(Sl(b,p),bc(p),W&4){if(p.stateNode===null)throw Error(r(162));J=p.stateNode,ne=p.memoizedProps;try{J.nodeValue=ne}catch(tr){mn(p,p.return,tr)}}break;case 3:if(Sl(b,p),bc(p),W&4&&E!==null&&E.memoizedState.isDehydrated)try{Ka(b.containerInfo)}catch(tr){mn(p,p.return,tr)}break;case 4:Sl(b,p),bc(p);break;case 13:Sl(b,p),bc(p),J=p.child,J.flags&8192&&(ne=J.memoizedState!==null,J.stateNode.isHidden=ne,!ne||J.alternate!==null&&J.alternate.memoizedState!==null||(mP=v())),W&4&&_$(p);break;case 22:if(_t=E!==null&&E.memoizedState!==null,p.mode&1?(Oi=(ct=Oi)||_t,Sl(b,p),Oi=ct):Sl(b,p),bc(p),W&8192){if(ct=p.memoizedState!==null,(p.stateNode.isHidden=ct)&&!_t&&(p.mode&1)!==0)for(Gt=p,_t=p.child;_t!==null;){for(St=Gt=_t;Gt!==null;){switch(Nt=Gt,qt=Nt.child,Nt.tag){case 0:case 11:case 14:case 15:rb(4,Nt,Nt.return);break;case 1:dx(Nt,Nt.return);var Jt=Nt.stateNode;if(typeof Jt.componentWillUnmount=="function"){W=Nt,E=Nt.return;try{b=W,Jt.props=b.memoizedProps,Jt.state=b.memoizedState,Jt.componentWillUnmount()}catch(tr){mn(W,E,tr)}}break;case 5:dx(Nt,Nt.return);break;case 22:if(Nt.memoizedState!==null){C$(St);continue}}qt!==null?(qt.return=Nt,Gt=qt):C$(St)}_t=_t.sibling}e:for(_t=null,St=p;;){if(St.tag===5){if(_t===null){_t=St;try{J=St.stateNode,ct?(ne=J.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none"):(Re=St.stateNode,Ve=St.memoizedProps.style,Ne=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null,Re.style.display=zt("display",Ne))}catch(tr){mn(p,p.return,tr)}}}else if(St.tag===6){if(_t===null)try{St.stateNode.nodeValue=ct?"":St.memoizedProps}catch(tr){mn(p,p.return,tr)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===p)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===p)break e;for(;St.sibling===null;){if(St.return===null||St.return===p)break e;_t===St&&(_t=null),St=St.return}_t===St&&(_t=null),St.sibling.return=St.return,St=St.sibling}}break;case 19:Sl(b,p),bc(p),W&4&&_$(p);break;case 21:break;default:Sl(b,p),bc(p)}}function bc(p){var b=p.flags;if(b&2){try{e:{for(var E=p.return;E!==null;){if(w$(E)){var W=E;break e}E=E.return}throw Error(r(160))}switch(W.tag){case 5:var J=W.stateNode;W.flags&32&&(_s(J,""),W.flags&=-33);var ne=j$(p);uP(p,ne,J);break;case 3:case 4:var Ne=W.stateNode.containerInfo,Re=j$(p);dP(p,Re,Ne);break;default:throw Error(r(161))}}catch(Ve){mn(p,p.return,Ve)}p.flags&=-3}b&4096&&(p.flags&=-4097)}function yie(p,b,E){Gt=p,k$(p)}function k$(p,b,E){for(var W=(p.mode&1)!==0;Gt!==null;){var J=Gt,ne=J.child;if(J.tag===22&&W){var Ne=J.memoizedState!==null||p2;if(!Ne){var Re=J.alternate,Ve=Re!==null&&Re.memoizedState!==null||Oi;Re=p2;var ct=Oi;if(p2=Ne,(Oi=Ve)&&!ct)for(Gt=J;Gt!==null;)Ne=Gt,Ve=Ne.child,Ne.tag===22&&Ne.memoizedState!==null?E$(J):Ve!==null?(Ve.return=Ne,Gt=Ve):E$(J);for(;ne!==null;)Gt=ne,k$(ne),ne=ne.sibling;Gt=J,p2=Re,Oi=ct}A$(p)}else(J.subtreeFlags&8772)!==0&&ne!==null?(ne.return=J,Gt=ne):A$(p)}}function A$(p){for(;Gt!==null;){var b=Gt;if((b.flags&8772)!==0){var E=b.alternate;try{if((b.flags&8772)!==0)switch(b.tag){case 0:case 11:case 15:Oi||g2(5,b);break;case 1:var W=b.stateNode;if(b.flags&4&&!Oi)if(E===null)W.componentDidMount();else{var J=b.elementType===b.type?E.memoizedProps:Nl(b.type,E.memoizedProps);W.componentDidUpdate(J,E.memoizedState,W.__reactInternalSnapshotBeforeUpdate)}var ne=b.updateQueue;ne!==null&&CB(b,ne,W);break;case 3:var Ne=b.updateQueue;if(Ne!==null){if(E=null,b.child!==null)switch(b.child.tag){case 5:E=b.child.stateNode;break;case 1:E=b.child.stateNode}CB(b,Ne,E)}break;case 5:var Re=b.stateNode;if(E===null&&b.flags&4){E=Re;var Ve=b.memoizedProps;switch(b.type){case"button":case"input":case"select":case"textarea":Ve.autoFocus&&E.focus();break;case"img":Ve.src&&(E.src=Ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(b.memoizedState===null){var ct=b.alternate;if(ct!==null){var _t=ct.memoizedState;if(_t!==null){var St=_t.dehydrated;St!==null&&Ka(St)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Oi||b.flags&512&&cP(b)}catch(Nt){mn(b,b.return,Nt)}}if(b===p){Gt=null;break}if(E=b.sibling,E!==null){E.return=b.return,Gt=E;break}Gt=b.return}}function C$(p){for(;Gt!==null;){var b=Gt;if(b===p){Gt=null;break}var E=b.sibling;if(E!==null){E.return=b.return,Gt=E;break}Gt=b.return}}function E$(p){for(;Gt!==null;){var b=Gt;try{switch(b.tag){case 0:case 11:case 15:var E=b.return;try{g2(4,b)}catch(Ve){mn(b,E,Ve)}break;case 1:var W=b.stateNode;if(typeof W.componentDidMount=="function"){var J=b.return;try{W.componentDidMount()}catch(Ve){mn(b,J,Ve)}}var ne=b.return;try{cP(b)}catch(Ve){mn(b,ne,Ve)}break;case 5:var Ne=b.return;try{cP(b)}catch(Ve){mn(b,Ne,Ve)}}}catch(Ve){mn(b,b.return,Ve)}if(b===p){Gt=null;break}var Re=b.sibling;if(Re!==null){Re.return=b.return,Gt=Re;break}Gt=b.return}}var vie=Math.ceil,x2=B.ReactCurrentDispatcher,hP=B.ReactCurrentOwner,Vo=B.ReactCurrentBatchConfig,rs=0,si=null,Tn=null,xi=0,no=0,ux=gh(0),Vn=0,sb=null,pm=0,y2=0,fP=0,nb=null,_a=null,mP=0,hx=1/0,Md=null,v2=!1,pP=null,jh=null,b2=!1,Nh=null,w2=0,ib=0,gP=null,j2=-1,N2=0;function Qi(){return(rs&6)!==0?v():j2!==-1?j2:j2=v()}function _h(p){return(p.mode&1)===0?1:(rs&2)!==0&&xi!==0?xi&-xi:rie.transition!==null?(N2===0&&(N2=ze()),N2):(p=vt,p!==0||(p=window.event,p=p===void 0?16:Xr(p.type)),p)}function kl(p,b,E,W){if(50<ib)throw ib=0,gP=null,Error(r(185));tt(p,E,W),((rs&2)===0||p!==si)&&(p===si&&((rs&2)===0&&(y2|=E),Vn===4&&Sh(p,xi)),Sa(p,W),E===1&&rs===0&&(b.mode&1)===0&&(hx=v()+500,KN&&yh()))}function Sa(p,b){var E=p.callbackNode;Pe(p,b);var W=se(p,p===si?xi:0);if(W===0)E!==null&&c(E),p.callbackNode=null,p.callbackPriority=0;else if(b=W&-W,p.callbackPriority!==b){if(E!=null&&c(E),b===1)p.tag===0?tie(P$.bind(null,p)):gB(P$.bind(null,p)),Ti(function(){(rs&6)===0&&yh()}),E=null;else{switch(Dt(W)){case 1:E=j;break;case 4:E=S;break;case 16:E=P;break;case 536870912:E=z;break;default:E=P}E=B$(E,T$.bind(null,p))}p.callbackPriority=b,p.callbackNode=E}}function T$(p,b){if(j2=-1,N2=0,(rs&6)!==0)throw Error(r(327));var E=p.callbackNode;if(fx()&&p.callbackNode!==E)return null;var W=se(p,p===si?xi:0);if(W===0)return null;if((W&30)!==0||(W&p.expiredLanes)!==0||b)b=_2(p,W);else{b=W;var J=rs;rs|=2;var ne=L$();(si!==p||xi!==b)&&(Md=null,hx=v()+500,xm(p,b));do try{jie();break}catch(Re){M$(p,Re)}while(!0);OT(),x2.current=ne,rs=J,Tn!==null?b=0:(si=null,xi=0,b=Vn)}if(b!==0){if(b===2&&(J=Le(p),J!==0&&(W=J,b=xP(p,J))),b===1)throw E=sb,xm(p,0),Sh(p,W),Sa(p,v()),E;if(b===6)Sh(p,W);else{if(J=p.current.alternate,(W&30)===0&&!bie(J)&&(b=_2(p,W),b===2&&(ne=Le(p),ne!==0&&(W=ne,b=xP(p,ne))),b===1))throw E=sb,xm(p,0),Sh(p,W),Sa(p,v()),E;switch(p.finishedWork=J,p.finishedLanes=W,b){case 0:case 1:throw Error(r(345));case 2:ym(p,_a,Md);break;case 3:if(Sh(p,W),(W&130023424)===W&&(b=mP+500-v(),10<b)){if(se(p,0)!==0)break;if(J=p.suspendedLanes,(J&W)!==W){Qi(),p.pingedLanes|=p.suspendedLanes&J;break}p.timeoutHandle=Hn(ym.bind(null,p,_a,Md),b);break}ym(p,_a,Md);break;case 4:if(Sh(p,W),(W&4194240)===W)break;for(b=p.eventTimes,J=-1;0<W;){var Ne=31-te(W);ne=1<<Ne,Ne=b[Ne],Ne>J&&(J=Ne),W&=~ne}if(W=J,W=v()-W,W=(120>W?120:480>W?480:1080>W?1080:1920>W?1920:3e3>W?3e3:4320>W?4320:1960*vie(W/1960))-W,10<W){p.timeoutHandle=Hn(ym.bind(null,p,_a,Md),W);break}ym(p,_a,Md);break;case 5:ym(p,_a,Md);break;default:throw Error(r(329))}}}return Sa(p,v()),p.callbackNode===E?T$.bind(null,p):null}function xP(p,b){var E=nb;return p.current.memoizedState.isDehydrated&&(xm(p,b).flags|=256),p=_2(p,b),p!==2&&(b=_a,_a=E,b!==null&&yP(b)),p}function yP(p){_a===null?_a=p:_a.push.apply(_a,p)}function bie(p){for(var b=p;;){if(b.flags&16384){var E=b.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var W=0;W<E.length;W++){var J=E[W],ne=J.getSnapshot;J=J.value;try{if(!eo(ne(),J))return!1}catch{return!1}}}if(E=b.child,b.subtreeFlags&16384&&E!==null)E.return=b,b=E;else{if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Sh(p,b){for(b&=~fP,b&=~y2,p.suspendedLanes|=b,p.pingedLanes&=~b,p=p.expirationTimes;0<b;){var E=31-te(b),W=1<<E;p[E]=-1,b&=~W}}function P$(p){if((rs&6)!==0)throw Error(r(327));fx();var b=se(p,0);if((b&1)===0)return Sa(p,v()),null;var E=_2(p,b);if(p.tag!==0&&E===2){var W=Le(p);W!==0&&(b=W,E=xP(p,W))}if(E===1)throw E=sb,xm(p,0),Sh(p,b),Sa(p,v()),E;if(E===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=b,ym(p,_a,Md),Sa(p,v()),null}function vP(p,b){var E=rs;rs|=1;try{return p(b)}finally{rs=E,rs===0&&(hx=v()+500,KN&&yh())}}function gm(p){Nh!==null&&Nh.tag===0&&(rs&6)===0&&fx();var b=rs;rs|=1;var E=Vo.transition,W=vt;try{if(Vo.transition=null,vt=1,p)return p()}finally{vt=W,Vo.transition=E,rs=b,(rs&6)===0&&yh()}}function bP(){no=ux.current,Hs(ux)}function xm(p,b){p.finishedWork=null,p.finishedLanes=0;var E=p.timeoutHandle;if(E!==-1&&(p.timeoutHandle=-1,En(E)),Tn!==null)for(E=Tn.return;E!==null;){var W=E;switch(ET(W),W.tag){case 1:W=W.type.childContextTypes,W!=null&&GN();break;case 3:lx(),Hs(wa),Hs(Pi),HT();break;case 5:$T(W);break;case 4:lx();break;case 13:Hs(en);break;case 19:Hs(en);break;case 10:DT(W.type._context);break;case 22:case 23:bP()}E=E.return}if(si=p,Tn=p=kh(p.current,null),xi=no=b,Vn=0,sb=null,fP=y2=pm=0,_a=nb=null,hm!==null){for(b=0;b<hm.length;b++)if(E=hm[b],W=E.interleaved,W!==null){E.interleaved=null;var J=W.next,ne=E.pending;if(ne!==null){var Ne=ne.next;ne.next=J,W.next=Ne}E.pending=W}hm=null}return p}function M$(p,b){do{var E=Tn;try{if(OT(),o2.current=u2,l2){for(var W=tn.memoizedState;W!==null;){var J=W.queue;J!==null&&(J.pending=null),W=W.next}l2=!1}if(mm=0,ri=Wn=tn=null,Kv=!1,Jv=0,hP.current=null,E===null||E.return===null){Vn=1,sb=b,Tn=null;break}e:{var ne=p,Ne=E.return,Re=E,Ve=b;if(b=xi,Re.flags|=32768,Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var ct=Ve,_t=Re,St=_t.tag;if((_t.mode&1)===0&&(St===0||St===11||St===15)){var Nt=_t.alternate;Nt?(_t.updateQueue=Nt.updateQueue,_t.memoizedState=Nt.memoizedState,_t.lanes=Nt.lanes):(_t.updateQueue=null,_t.memoizedState=null)}var qt=s$(Ne);if(qt!==null){qt.flags&=-257,n$(qt,Ne,Re,ne,b),qt.mode&1&&r$(ne,ct,b),b=qt,Ve=ct;var Jt=b.updateQueue;if(Jt===null){var tr=new Set;tr.add(Ve),b.updateQueue=tr}else Jt.add(Ve);break e}else{if((b&1)===0){r$(ne,ct,b),wP();break e}Ve=Error(r(426))}}else if(Xs&&Re.mode&1){var jn=s$(Ne);if(jn!==null){(jn.flags&65536)===0&&(jn.flags|=256),n$(jn,Ne,Re,ne,b),MT(cx(Ve,Re));break e}}ne=Ve=cx(Ve,Re),Vn!==4&&(Vn=2),nb===null?nb=[ne]:nb.push(ne),ne=Ne;do{switch(ne.tag){case 3:ne.flags|=65536,b&=-b,ne.lanes|=b;var et=e$(ne,Ve,b);AB(ne,et);break e;case 1:Re=Ve;var Ye=ne.type,rt=ne.stateNode;if((ne.flags&128)===0&&(typeof Ye.getDerivedStateFromError=="function"||rt!==null&&typeof rt.componentDidCatch=="function"&&(jh===null||!jh.has(rt)))){ne.flags|=65536,b&=-b,ne.lanes|=b;var Pt=t$(ne,Re,b);AB(ne,Pt);break e}}ne=ne.return}while(ne!==null)}D$(E)}catch(nr){b=nr,Tn===E&&E!==null&&(Tn=E=E.return);continue}break}while(!0)}function L$(){var p=x2.current;return x2.current=u2,p===null?u2:p}function wP(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),si===null||(pm&268435455)===0&&(y2&268435455)===0||Sh(si,xi)}function _2(p,b){var E=rs;rs|=2;var W=L$();(si!==p||xi!==b)&&(Md=null,xm(p,b));do try{wie();break}catch(J){M$(p,J)}while(!0);if(OT(),rs=E,x2.current=W,Tn!==null)throw Error(r(261));return si=null,xi=0,Vn}function wie(){for(;Tn!==null;)O$(Tn)}function jie(){for(;Tn!==null&&!d();)O$(Tn)}function O$(p){var b=F$(p.alternate,p,no);p.memoizedProps=p.pendingProps,b===null?D$(p):Tn=b,hP.current=null}function D$(p){var b=p;do{var E=b.alternate;if(p=b.return,(b.flags&32768)===0){if(E=mie(E,b,no),E!==null){Tn=E;return}}else{if(E=pie(E,b),E!==null){E.flags&=32767,Tn=E;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Vn=6,Tn=null;return}}if(b=b.sibling,b!==null){Tn=b;return}Tn=b=p}while(b!==null);Vn===0&&(Vn=5)}function ym(p,b,E){var W=vt,J=Vo.transition;try{Vo.transition=null,vt=1,Nie(p,b,E,W)}finally{Vo.transition=J,vt=W}return null}function Nie(p,b,E,W){do fx();while(Nh!==null);if((rs&6)!==0)throw Error(r(327));E=p.finishedWork;var J=p.finishedLanes;if(E===null)return null;if(p.finishedWork=null,p.finishedLanes=0,E===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var ne=E.lanes|E.childLanes;if(ft(p,ne),p===si&&(Tn=si=null,xi=0),(E.subtreeFlags&2064)===0&&(E.flags&2064)===0||b2||(b2=!0,B$(P,function(){return fx(),null})),ne=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||ne){ne=Vo.transition,Vo.transition=null;var Ne=vt;vt=1;var Re=rs;rs|=4,hP.current=null,xie(p,E),S$(E,p),Io(mr),tm=!!Bt,mr=Bt=null,p.current=E,yie(E),m(),rs=Re,vt=Ne,Vo.transition=ne}else p.current=E;if(b2&&(b2=!1,Nh=p,w2=J),ne=p.pendingLanes,ne===0&&(jh=null),Q(E.stateNode),Sa(p,v()),b!==null)for(W=p.onRecoverableError,E=0;E<b.length;E++)J=b[E],W(J.value,{componentStack:J.stack,digest:J.digest});if(v2)throw v2=!1,p=pP,pP=null,p;return(w2&1)!==0&&p.tag!==0&&fx(),ne=p.pendingLanes,(ne&1)!==0?p===gP?ib++:(ib=0,gP=p):ib=0,yh(),null}function fx(){if(Nh!==null){var p=Dt(w2),b=Vo.transition,E=vt;try{if(Vo.transition=null,vt=16>p?16:p,Nh===null)var W=!1;else{if(p=Nh,Nh=null,w2=0,(rs&6)!==0)throw Error(r(331));var J=rs;for(rs|=4,Gt=p.current;Gt!==null;){var ne=Gt,Ne=ne.child;if((Gt.flags&16)!==0){var Re=ne.deletions;if(Re!==null){for(var Ve=0;Ve<Re.length;Ve++){var ct=Re[Ve];for(Gt=ct;Gt!==null;){var _t=Gt;switch(_t.tag){case 0:case 11:case 15:rb(8,_t,ne)}var St=_t.child;if(St!==null)St.return=_t,Gt=St;else for(;Gt!==null;){_t=Gt;var Nt=_t.sibling,qt=_t.return;if(b$(_t),_t===ct){Gt=null;break}if(Nt!==null){Nt.return=qt,Gt=Nt;break}Gt=qt}}}var Jt=ne.alternate;if(Jt!==null){var tr=Jt.child;if(tr!==null){Jt.child=null;do{var jn=tr.sibling;tr.sibling=null,tr=jn}while(tr!==null)}}Gt=ne}}if((ne.subtreeFlags&2064)!==0&&Ne!==null)Ne.return=ne,Gt=Ne;else e:for(;Gt!==null;){if(ne=Gt,(ne.flags&2048)!==0)switch(ne.tag){case 0:case 11:case 15:rb(9,ne,ne.return)}var et=ne.sibling;if(et!==null){et.return=ne.return,Gt=et;break e}Gt=ne.return}}var Ye=p.current;for(Gt=Ye;Gt!==null;){Ne=Gt;var rt=Ne.child;if((Ne.subtreeFlags&2064)!==0&&rt!==null)rt.return=Ne,Gt=rt;else e:for(Ne=Ye;Gt!==null;){if(Re=Gt,(Re.flags&2048)!==0)try{switch(Re.tag){case 0:case 11:case 15:g2(9,Re)}}catch(nr){mn(Re,Re.return,nr)}if(Re===Ne){Gt=null;break e}var Pt=Re.sibling;if(Pt!==null){Pt.return=Re.return,Gt=Pt;break e}Gt=Re.return}}if(rs=J,yh(),X&&typeof X.onPostCommitFiberRoot=="function")try{X.onPostCommitFiberRoot(U,p)}catch{}W=!0}return W}finally{vt=E,Vo.transition=b}}return!1}function R$(p,b,E){b=cx(E,b),b=e$(p,b,1),p=bh(p,b,1),b=Qi(),p!==null&&(tt(p,1,b),Sa(p,b))}function mn(p,b,E){if(p.tag===3)R$(p,p,E);else for(;b!==null;){if(b.tag===3){R$(b,p,E);break}else if(b.tag===1){var W=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof W.componentDidCatch=="function"&&(jh===null||!jh.has(W))){p=cx(E,p),p=t$(b,p,1),b=bh(b,p,1),p=Qi(),b!==null&&(tt(b,1,p),Sa(b,p));break}}b=b.return}}function _ie(p,b,E){var W=p.pingCache;W!==null&&W.delete(b),b=Qi(),p.pingedLanes|=p.suspendedLanes&E,si===p&&(xi&E)===E&&(Vn===4||Vn===3&&(xi&130023424)===xi&&500>v()-mP?xm(p,0):fP|=E),Sa(p,b)}function I$(p,b){b===0&&((p.mode&1)===0?b=1:(b=R,R<<=1,(R&130023424)===0&&(R=4194304)));var E=Qi();p=Ed(p,b),p!==null&&(tt(p,b,E),Sa(p,E))}function Sie(p){var b=p.memoizedState,E=0;b!==null&&(E=b.retryLane),I$(p,E)}function kie(p,b){var E=0;switch(p.tag){case 13:var W=p.stateNode,J=p.memoizedState;J!==null&&(E=J.retryLane);break;case 19:W=p.stateNode;break;default:throw Error(r(314))}W!==null&&W.delete(b),I$(p,E)}var F$;F$=function(p,b,E){if(p!==null)if(p.memoizedProps!==b.pendingProps||wa.current)Na=!0;else{if((p.lanes&E)===0&&(b.flags&128)===0)return Na=!1,fie(p,b,E);Na=(p.flags&131072)!==0}else Na=!1,Xs&&(b.flags&1048576)!==0&&xB(b,QN,b.index);switch(b.lanes=0,b.tag){case 2:var W=b.type;m2(p,b),p=b.pendingProps;var J=tx(b,Pi.current);ox(b,E),J=UT(null,b,W,p,J,E);var ne=qT();return b.flags|=1,typeof J=="object"&&J!==null&&typeof J.render=="function"&&J.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,ja(W)?(ne=!0,ZN(b)):ne=!1,b.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,FT(b),J.updater=h2,b.stateNode=J,J._reactInternals=b,JT(b,W,p,E),b=rP(null,b,W,!0,ne,E)):(b.tag=0,Xs&&ne&&CT(b),Ji(null,b,J,E),b=b.child),b;case 16:W=b.elementType;e:{switch(m2(p,b),p=b.pendingProps,J=W._init,W=J(W._payload),b.type=W,J=b.tag=Cie(W),p=Nl(W,p),J){case 0:b=tP(null,b,W,p,E);break e;case 1:b=d$(null,b,W,p,E);break e;case 11:b=i$(null,b,W,p,E);break e;case 14:b=a$(null,b,W,Nl(W.type,p),E);break e}throw Error(r(306,W,""))}return b;case 0:return W=b.type,J=b.pendingProps,J=b.elementType===W?J:Nl(W,J),tP(p,b,W,J,E);case 1:return W=b.type,J=b.pendingProps,J=b.elementType===W?J:Nl(W,J),d$(p,b,W,J,E);case 3:e:{if(u$(b),p===null)throw Error(r(387));W=b.pendingProps,ne=b.memoizedState,J=ne.element,kB(p,b),i2(b,W,null,E);var Ne=b.memoizedState;if(W=Ne.element,ne.isDehydrated)if(ne={element:W,isDehydrated:!1,cache:Ne.cache,pendingSuspenseBoundaries:Ne.pendingSuspenseBoundaries,transitions:Ne.transitions},b.updateQueue.baseState=ne,b.memoizedState=ne,b.flags&256){J=cx(Error(r(423)),b),b=h$(p,b,W,E,J);break e}else if(W!==J){J=cx(Error(r(424)),b),b=h$(p,b,W,E,J);break e}else for(so=xc(b.stateNode.containerInfo.firstChild),ro=b,Xs=!0,jl=null,E=_B(b,null,W,E),b.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(nx(),W===J){b=Pd(p,b,E);break e}Ji(p,b,W,E)}b=b.child}return b;case 5:return EB(b),p===null&&PT(b),W=b.type,J=b.pendingProps,ne=p!==null?p.memoizedProps:null,Ne=J.children,Mr(W,J)?Ne=null:ne!==null&&Mr(W,ne)&&(b.flags|=32),c$(p,b),Ji(p,b,Ne,E),b.child;case 6:return p===null&&PT(b),null;case 13:return f$(p,b,E);case 4:return BT(b,b.stateNode.containerInfo),W=b.pendingProps,p===null?b.child=ix(b,null,W,E):Ji(p,b,W,E),b.child;case 11:return W=b.type,J=b.pendingProps,J=b.elementType===W?J:Nl(W,J),i$(p,b,W,J,E);case 7:return Ji(p,b,b.pendingProps,E),b.child;case 8:return Ji(p,b,b.pendingProps.children,E),b.child;case 12:return Ji(p,b,b.pendingProps.children,E),b.child;case 10:e:{if(W=b.type._context,J=b.pendingProps,ne=b.memoizedProps,Ne=J.value,Ds(r2,W._currentValue),W._currentValue=Ne,ne!==null)if(eo(ne.value,Ne)){if(ne.children===J.children&&!wa.current){b=Pd(p,b,E);break e}}else for(ne=b.child,ne!==null&&(ne.return=b);ne!==null;){var Re=ne.dependencies;if(Re!==null){Ne=ne.child;for(var Ve=Re.firstContext;Ve!==null;){if(Ve.context===W){if(ne.tag===1){Ve=Td(-1,E&-E),Ve.tag=2;var ct=ne.updateQueue;if(ct!==null){ct=ct.shared;var _t=ct.pending;_t===null?Ve.next=Ve:(Ve.next=_t.next,_t.next=Ve),ct.pending=Ve}}ne.lanes|=E,Ve=ne.alternate,Ve!==null&&(Ve.lanes|=E),RT(ne.return,E,b),Re.lanes|=E;break}Ve=Ve.next}}else if(ne.tag===10)Ne=ne.type===b.type?null:ne.child;else if(ne.tag===18){if(Ne=ne.return,Ne===null)throw Error(r(341));Ne.lanes|=E,Re=Ne.alternate,Re!==null&&(Re.lanes|=E),RT(Ne,E,b),Ne=ne.sibling}else Ne=ne.child;if(Ne!==null)Ne.return=ne;else for(Ne=ne;Ne!==null;){if(Ne===b){Ne=null;break}if(ne=Ne.sibling,ne!==null){ne.return=Ne.return,Ne=ne;break}Ne=Ne.return}ne=Ne}Ji(p,b,J.children,E),b=b.child}return b;case 9:return J=b.type,W=b.pendingProps.children,ox(b,E),J=Ho(J),W=W(J),b.flags|=1,Ji(p,b,W,E),b.child;case 14:return W=b.type,J=Nl(W,b.pendingProps),J=Nl(W.type,J),a$(p,b,W,J,E);case 15:return o$(p,b,b.type,b.pendingProps,E);case 17:return W=b.type,J=b.pendingProps,J=b.elementType===W?J:Nl(W,J),m2(p,b),b.tag=1,ja(W)?(p=!0,ZN(b)):p=!1,ox(b,E),JB(b,W,J),JT(b,W,J,E),rP(null,b,W,!0,p,E);case 19:return p$(p,b,E);case 22:return l$(p,b,E)}throw Error(r(156,b.tag))};function B$(p,b){return me(p,b)}function Aie(p,b,E,W){this.tag=p,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=W,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uo(p,b,E,W){return new Aie(p,b,E,W)}function jP(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Cie(p){if(typeof p=="function")return jP(p)?1:0;if(p!=null){if(p=p.$$typeof,p===he)return 11;if(p===xe)return 14}return 2}function kh(p,b){var E=p.alternate;return E===null?(E=Uo(p.tag,b,p.key,p.mode),E.elementType=p.elementType,E.type=p.type,E.stateNode=p.stateNode,E.alternate=p,p.alternate=E):(E.pendingProps=b,E.type=p.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=p.flags&14680064,E.childLanes=p.childLanes,E.lanes=p.lanes,E.child=p.child,E.memoizedProps=p.memoizedProps,E.memoizedState=p.memoizedState,E.updateQueue=p.updateQueue,b=p.dependencies,E.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},E.sibling=p.sibling,E.index=p.index,E.ref=p.ref,E}function S2(p,b,E,W,J,ne){var Ne=2;if(W=p,typeof p=="function")jP(p)&&(Ne=1);else if(typeof p=="string")Ne=5;else e:switch(p){case H:return vm(E.children,J,ne,b);case Z:Ne=8,J|=8;break;case re:return p=Uo(12,E,b,J|2),p.elementType=re,p.lanes=ne,p;case fe:return p=Uo(13,E,b,J),p.elementType=fe,p.lanes=ne,p;case ee:return p=Uo(19,E,b,J),p.elementType=ee,p.lanes=ne,p;case ge:return k2(E,J,ne,b);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case le:Ne=10;break e;case ce:Ne=9;break e;case he:Ne=11;break e;case xe:Ne=14;break e;case ie:Ne=16,W=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return b=Uo(Ne,E,b,J),b.elementType=p,b.type=W,b.lanes=ne,b}function vm(p,b,E,W){return p=Uo(7,p,W,b),p.lanes=E,p}function k2(p,b,E,W){return p=Uo(22,p,W,b),p.elementType=ge,p.lanes=E,p.stateNode={isHidden:!1},p}function NP(p,b,E){return p=Uo(6,p,null,b),p.lanes=E,p}function _P(p,b,E){return b=Uo(4,p.children!==null?p.children:[],p.key,b),b.lanes=E,b.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},b}function Eie(p,b,E,W,J){this.tag=b,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fe(0),this.expirationTimes=Fe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.identifierPrefix=W,this.onRecoverableError=J,this.mutableSourceEagerHydrationData=null}function SP(p,b,E,W,J,ne,Ne,Re,Ve){return p=new Eie(p,b,E,Re,Ve),b===1?(b=1,ne===!0&&(b|=8)):b=0,ne=Uo(3,null,null,b),p.current=ne,ne.stateNode=p,ne.memoizedState={element:W,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},FT(ne),p}function Tie(p,b,E){var W=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:W==null?null:""+W,children:p,containerInfo:b,implementation:E}}function $$(p){if(!p)return xh;p=p._reactInternals;e:{if($t(p)!==p||p.tag!==1)throw Error(r(170));var b=p;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if(ja(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(r(171))}if(p.tag===1){var E=p.type;if(ja(E))return mB(p,E,b)}return b}function z$(p,b,E,W,J,ne,Ne,Re,Ve){return p=SP(E,W,!0,p,J,ne,Ne,Re,Ve),p.context=$$(null),E=p.current,W=Qi(),J=_h(E),ne=Td(W,J),ne.callback=b??null,bh(E,ne,J),p.current.lanes=J,tt(p,J,W),Sa(p,W),p}function A2(p,b,E,W){var J=b.current,ne=Qi(),Ne=_h(J);return E=$$(E),b.context===null?b.context=E:b.pendingContext=E,b=Td(ne,Ne),b.payload={element:p},W=W===void 0?null:W,W!==null&&(b.callback=W),p=bh(J,b,Ne),p!==null&&(kl(p,J,Ne,ne),n2(p,J,Ne)),Ne}function C2(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function H$(p,b){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var E=p.retryLane;p.retryLane=E!==0&&E<b?E:b}}function kP(p,b){H$(p,b),(p=p.alternate)&&H$(p,b)}function Pie(){return null}var W$=typeof reportError=="function"?reportError:function(p){console.error(p)};function AP(p){this._internalRoot=p}E2.prototype.render=AP.prototype.render=function(p){var b=this._internalRoot;if(b===null)throw Error(r(409));A2(p,b,null,null)},E2.prototype.unmount=AP.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var b=p.containerInfo;gm(function(){A2(null,p,null,null)}),b[hs]=null}};function E2(p){this._internalRoot=p}E2.prototype.unstable_scheduleHydration=function(p){if(p){var b=ds();p={blockedOn:null,target:p,priority:b};for(var E=0;E<fn.length&&b!==0&&b<fn[E].priority;E++);fn.splice(E,0,p),E===0&&Rg(p)}};function CP(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function T2(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function V$(){}function Mie(p,b,E,W,J){if(J){if(typeof W=="function"){var ne=W;W=function(){var ct=C2(Ne);ne.call(ct)}}var Ne=z$(b,W,p,0,null,!1,!1,"",V$);return p._reactRootContainer=Ne,p[hs]=Ne.current,hh(p.nodeType===8?p.parentNode:p),gm(),Ne}for(;J=p.lastChild;)p.removeChild(J);if(typeof W=="function"){var Re=W;W=function(){var ct=C2(Ve);Re.call(ct)}}var Ve=SP(p,0,!1,null,null,!1,!1,"",V$);return p._reactRootContainer=Ve,p[hs]=Ve.current,hh(p.nodeType===8?p.parentNode:p),gm(function(){A2(b,Ve,E,W)}),Ve}function P2(p,b,E,W,J){var ne=E._reactRootContainer;if(ne){var Ne=ne;if(typeof J=="function"){var Re=J;J=function(){var Ve=C2(Ne);Re.call(Ve)}}A2(b,Ne,p,J)}else Ne=Mie(E,b,p,J,W);return C2(Ne)}ur=function(p){switch(p.tag){case 3:var b=p.stateNode;if(b.current.memoizedState.isDehydrated){var E=q(b.pendingLanes);E!==0&&(mt(b,E|1),Sa(b,v()),(rs&6)===0&&(hx=v()+500,yh()))}break;case 13:gm(function(){var W=Ed(p,1);if(W!==null){var J=Qi();kl(W,p,1,J)}}),kP(p,1)}},wr=function(p){if(p.tag===13){var b=Ed(p,134217728);if(b!==null){var E=Qi();kl(b,p,134217728,E)}kP(p,134217728)}},zr=function(p){if(p.tag===13){var b=_h(p),E=Ed(p,b);if(E!==null){var W=Qi();kl(E,p,b,W)}kP(p,b)}},ds=function(){return vt},Jr=function(p,b){var E=vt;try{return vt=p,b()}finally{vt=E}},ei=function(p,b,E){switch(b){case"input":if(or(p,E),b=E.name,E.type==="radio"&&b!=null){for(E=p;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<E.length;b++){var W=E[b];if(W!==p&&W.form===p.form){var J=Qg(W);if(!J)throw Error(r(90));ye(W),or(W,J)}}}break;case"textarea":jt(p,E);break;case"select":b=E.value,b!=null&&Ge(p,!!E.multiple,b,!1)}},Lo=vP,Ga=gm;var Lie={usingClientEntryPoint:!1,Events:[_d,Sd,Qg,Mo,yl,vP]},ab={findFiberByHostInstance:Nd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oie={bundleType:ab.bundleType,version:ab.version,rendererPackageName:ab.rendererPackageName,rendererConfig:ab.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=qr(p),p===null?null:p.stateNode},findFiberByHostInstance:ab.findFiberByHostInstance||Pie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M2.isDisabled&&M2.supportsFiber)try{U=M2.inject(Oie),X=M2}catch{}}return ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lie,ka.createPortal=function(p,b){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CP(b))throw Error(r(200));return Tie(p,b,null,E)},ka.createRoot=function(p,b){if(!CP(p))throw Error(r(299));var E=!1,W="",J=W$;return b!=null&&(b.unstable_strictMode===!0&&(E=!0),b.identifierPrefix!==void 0&&(W=b.identifierPrefix),b.onRecoverableError!==void 0&&(J=b.onRecoverableError)),b=SP(p,1,!1,null,null,E,!1,W,J),p[hs]=b.current,hh(p.nodeType===8?p.parentNode:p),new AP(b)},ka.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var b=p._reactInternals;if(b===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=qr(b),p=p===null?null:p.stateNode,p},ka.flushSync=function(p){return gm(p)},ka.hydrate=function(p,b,E){if(!T2(b))throw Error(r(200));return P2(null,p,b,!0,E)},ka.hydrateRoot=function(p,b,E){if(!CP(p))throw Error(r(405));var W=E!=null&&E.hydratedSources||null,J=!1,ne="",Ne=W$;if(E!=null&&(E.unstable_strictMode===!0&&(J=!0),E.identifierPrefix!==void 0&&(ne=E.identifierPrefix),E.onRecoverableError!==void 0&&(Ne=E.onRecoverableError)),b=z$(b,null,p,1,E??null,J,!1,ne,Ne),p[hs]=b.current,hh(p),W)for(p=0;p<W.length;p++)E=W[p],J=E._getVersion,J=J(E._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[E,J]:b.mutableSourceEagerHydrationData.push(E,J);return new E2(b)},ka.render=function(p,b,E){if(!T2(b))throw Error(r(200));return P2(null,p,b,!1,E)},ka.unmountComponentAtNode=function(p){if(!T2(p))throw Error(r(40));return p._reactRootContainer?(gm(function(){P2(null,null,p,!1,function(){p._reactRootContainer=null,p[hs]=null})}),!0):!1},ka.unstable_batchedUpdates=vP,ka.unstable_renderSubtreeIntoContainer=function(p,b,E,W){if(!T2(E))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return P2(p,b,E,!1,W)},ka.version="18.3.1-next-f1338f8080-20240426",ka}var Q$;function RY(){if(Q$)return MP.exports;Q$=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),MP.exports=Vie(),MP.exports}var e8;function Uie(){if(e8)return O2;e8=1;var t=RY();return O2.createRoot=t.createRoot,O2.hydrateRoot=t.hydrateRoot,O2}var qie=Uie(),zI=RY();const IY=Ur(zI),Xie=DY({__proto__:null,default:IY},[zI]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gs.apply(this,arguments)}var Dn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dn||(Dn={}));const t8="popstate";function Yie(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return zw("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:rg(i)}return Zie(e,r,null,t)}function Yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gie(){return Math.random().toString(36).substr(2,8)}function r8(t,e){return{usr:t.state,key:t.key,idx:e}}function zw(t,e,r,n){return r===void 0&&(r=null),Gs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vf(e):e,{state:r,key:e&&e.key||n||Gie()})}function rg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Zie(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Dn.Pop,u=null,h=f();h==null&&(h=0,o.replaceState(Gs({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function g(){l=Dn.Pop;let C=f(),O=C==null?null:C-h;h=C,u&&u({action:l,location:k.location,delta:O})}function y(C,O){l=Dn.Push;let T=zw(k.location,C,O);h=f()+1;let M=r8(T,h),B=k.createHref(T);try{o.pushState(M,"",B)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(B)}a&&u&&u({action:l,location:k.location,delta:1})}function N(C,O){l=Dn.Replace;let T=zw(k.location,C,O);h=f();let M=r8(T,h),B=k.createHref(T);o.replaceState(M,"",B),a&&u&&u({action:l,location:k.location,delta:0})}function _(C){let O=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof C=="string"?C:rg(C);return T=T.replace(/ $/,"%20"),Yr(O,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,O)}let k={get action(){return l},get location(){return t(i,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(t8,g),u=C,()=>{i.removeEventListener(t8,g),u=null}},createHref(C){return e(i,C)},createURL:_,encodeLocation(C){let O=_(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:N,go(C){return o.go(C)}};return k}var ws;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ws||(ws={}));const Kie=new Set(["lazy","caseSensitive","path","id","index","children"]);function Jie(t){return t.index===!0}function Ek(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,a)=>{let o=[...r,String(a)],l=typeof i.id=="string"?i.id:o.join("-");if(Yr(i.index!==!0||!i.children,"Cannot specify children on an index route"),Yr(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Jie(i)){let u=Gs({},i,e(i),{id:l});return n[l]=u,u}else{let u=Gs({},i,e(i),{id:l,children:void 0});return n[l]=u,i.children&&(u.children=Ek(i.children,e,o,n)),u}})}function Fm(t,e,r){return r===void 0&&(r="/"),m_(t,e,r,!1)}function m_(t,e,r,n){let i=typeof e=="string"?Vf(e):e,a=ov(i.pathname||"/",r);if(a==null)return null;let o=FY(t);eae(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=uae(a);l=cae(o[u],h,n)}return l}function Qie(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function FY(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Yr(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let h=ku([n,u.relativePath]),f=r.concat(u);a.children&&a.children.length>0&&(Yr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),FY(a.children,e,f,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:oae(h,a.index),routesMeta:f})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let u of BY(a.path))i(a,o,u)}),e}function BY(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=BY(n.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function eae(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:lae(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const tae=/^:[\w-]+$/,rae=3,sae=2,nae=1,iae=10,aae=-2,s8=t=>t==="*";function oae(t,e){let r=t.split("/"),n=r.length;return r.some(s8)&&(n+=aae),e&&(n+=sae),r.filter(i=>!s8(i)).reduce((i,a)=>i+(tae.test(a)?rae:a===""?nae:iae),n)}function lae(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function cae(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",g=n8({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),y=u.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=n8({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:ku([a,g.pathname]),pathnameBase:mae(ku([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=ku([a,g.pathnameBase]))}return o}function n8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=dae(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,f,g)=>{let{paramName:y,isOptional:N}=f;if(y==="*"){let k=l[g]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const _=l[g];return N&&!_?h[y]=void 0:h[y]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function dae(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),uy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function uae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ov(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function hae(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Vf(t):t;return{pathname:r?r.startsWith("/")?r:fae(r,e):e,search:pae(n),hash:gae(i)}}function fae(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function DP(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $Y(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function DC(t,e){let r=$Y(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function RC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Vf(t):(i=Gs({},t),Yr(!i.pathname||!i.pathname.includes("?"),DP("?","pathname","search",i)),Yr(!i.pathname||!i.pathname.includes("#"),DP("#","pathname","hash",i)),Yr(!i.search||!i.search.includes("#"),DP("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let g=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}l=g>=0?e[g]:"/"}let u=hae(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const ku=t=>t.join("/").replace(/\/\/+/g,"/"),mae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Tk{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Hw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zY=["post","put","patch","delete"],xae=new Set(zY),yae=["get",...zY],vae=new Set(yae),bae=new Set([301,302,303,307,308]),wae=new Set([307,308]),RP={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jae={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lb={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},HI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nae=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),HY="remix-router-transitions";function _ae(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Yr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let We=t.detectErrorBoundary;i=Ze=>({hasErrorBoundary:We(Ze)})}else i=Nae;let a={},o=Ek(t.routes,i,void 0,a),l,u=t.basename||"/",h=t.dataStrategy||Cae,f=t.patchRoutesOnNavigation,g=Gs({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),y=null,N=new Set,_=null,k=null,C=null,O=t.hydrationData!=null,T=Fm(o,t.history.location,u),M=!1,B=null;if(T==null&&!f){let We=Ra(404,{pathname:t.history.location.pathname}),{matches:Ze,route:at}=p8(o);T=Ze,B={[at.id]:We}}T&&!t.hydrationData&&Ga(T,o,t.history.location.pathname).active&&(T=null);let F;if(T)if(T.some(We=>We.route.lazy))F=!1;else if(!T.some(We=>We.route.loader))F=!0;else if(g.v7_partialHydration){let We=t.hydrationData?t.hydrationData.loaderData:null,Ze=t.hydrationData?t.hydrationData.errors:null;if(Ze){let at=T.findIndex(xt=>Ze[xt.route.id]!==void 0);F=T.slice(0,at+1).every(xt=>!CO(xt.route,We,Ze))}else F=T.every(at=>!CO(at.route,We,Ze))}else F=t.hydrationData!=null;else if(F=!1,T=[],g.v7_partialHydration){let We=Ga(null,o,t.history.location.pathname);We.active&&We.matches&&(M=!0,T=We.matches)}let V,H={historyAction:t.history.action,location:t.history.location,matches:T,initialized:F,navigation:RP,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||B,fetchers:new Map,blockers:new Map},Z=Dn.Pop,re=!1,le,ce=!1,he=new Map,fe=null,ee=!1,xe=!1,ie=[],ge=new Set,G=new Map,ue=0,ke=-1,ve=new Map,Se=new Set,He=new Map,De=new Map,$e=new Set,Ue=new Map,Ke=new Map,nt;function Me(){if(y=t.history.listen(We=>{let{action:Ze,location:at,delta:xt}=We;if(nt){nt(),nt=void 0;return}uy(Ke.size===0||xt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ut=ei({currentLocation:H.location,nextLocation:at,historyAction:Ze});if(ut&&xt!=null){let Ht=new Promise(sr=>{nt=sr});t.history.go(xt*-1),xa(ut,{state:"blocked",location:at,proceed(){xa(ut,{state:"proceeding",proceed:void 0,reset:void 0,location:at}),Ht.then(()=>t.history.go(xt))},reset(){let sr=new Map(H.blockers);sr.set(ut,lb),ye({blockers:sr})}});return}return Ct(Ze,at)}),r){Hae(e,he);let We=()=>Wae(e,he);e.addEventListener("pagehide",We),fe=()=>e.removeEventListener("pagehide",We)}return H.initialized||Ct(Dn.Pop,H.location,{initialHydration:!0}),V}function qe(){y&&y(),fe&&fe(),N.clear(),le&&le.abort(),H.fetchers.forEach((We,Ze)=>Ee(Ze)),H.blockers.forEach((We,Ze)=>pi(Ze))}function ht(We){return N.add(We),()=>N.delete(We)}function ye(We,Ze){Ze===void 0&&(Ze={}),H=Gs({},H,We);let at=[],xt=[];g.v7_fetcherPersist&&H.fetchers.forEach((ut,Ht)=>{ut.state==="idle"&&($e.has(Ht)?xt.push(Ht):at.push(Ht))}),$e.forEach(ut=>{!H.fetchers.has(ut)&&!G.has(ut)&&xt.push(ut)}),[...N].forEach(ut=>ut(H,{deletedFetchers:xt,viewTransitionOpts:Ze.viewTransitionOpts,flushSync:Ze.flushSync===!0})),g.v7_fetcherPersist?(at.forEach(ut=>H.fetchers.delete(ut)),xt.forEach(ut=>Ee(ut))):xt.forEach(ut=>$e.delete(ut))}function Xe(We,Ze,at){var xt,ut;let{flushSync:Ht}=at===void 0?{}:at,sr=H.actionData!=null&&H.navigation.formMethod!=null&&Xl(H.navigation.formMethod)&&H.navigation.state==="loading"&&((xt=We.state)==null?void 0:xt._isRedirect)!==!0,Wt;Ze.actionData?Object.keys(Ze.actionData).length>0?Wt=Ze.actionData:Wt=null:sr?Wt=H.actionData:Wt=null;let Xt=Ze.loaderData?f8(H.loaderData,Ze.loaderData,Ze.matches||[],Ze.errors):H.loaderData,Ft=H.blockers;Ft.size>0&&(Ft=new Map(Ft),Ft.forEach((Sr,Os)=>Ft.set(Os,lb)));let $t=re===!0||H.navigation.formMethod!=null&&Xl(H.navigation.formMethod)&&((ut=We.state)==null?void 0:ut._isRedirect)!==!0;l&&(o=l,l=void 0),ee||Z===Dn.Pop||(Z===Dn.Push?t.history.push(We,We.state):Z===Dn.Replace&&t.history.replace(We,We.state));let dr;if(Z===Dn.Pop){let Sr=he.get(H.location.pathname);Sr&&Sr.has(We.pathname)?dr={currentLocation:H.location,nextLocation:We}:he.has(We.pathname)&&(dr={currentLocation:We,nextLocation:H.location})}else if(ce){let Sr=he.get(H.location.pathname);Sr?Sr.add(We.pathname):(Sr=new Set([We.pathname]),he.set(H.location.pathname,Sr)),dr={currentLocation:H.location,nextLocation:We}}ye(Gs({},Ze,{actionData:Wt,loaderData:Xt,historyAction:Z,location:We,initialized:!0,navigation:RP,revalidation:"idle",restoreScrollPosition:Lo(We,Ze.matches||H.matches),preventScrollReset:$t,blockers:Ft}),{viewTransitionOpts:dr,flushSync:Ht===!0}),Z=Dn.Pop,re=!1,ce=!1,ee=!1,xe=!1,ie=[]}async function dt(We,Ze){if(typeof We=="number"){t.history.go(We);return}let at=AO(H.location,H.matches,u,g.v7_prependBasename,We,g.v7_relativeSplatPath,Ze==null?void 0:Ze.fromRouteId,Ze==null?void 0:Ze.relative),{path:xt,submission:ut,error:Ht}=i8(g.v7_normalizeFormMethod,!1,at,Ze),sr=H.location,Wt=zw(H.location,xt,Ze&&Ze.state);Wt=Gs({},Wt,t.history.encodeLocation(Wt));let Xt=Ze&&Ze.replace!=null?Ze.replace:void 0,Ft=Dn.Push;Xt===!0?Ft=Dn.Replace:Xt===!1||ut!=null&&Xl(ut.formMethod)&&ut.formAction===H.location.pathname+H.location.search&&(Ft=Dn.Replace);let $t=Ze&&"preventScrollReset"in Ze?Ze.preventScrollReset===!0:void 0,dr=(Ze&&Ze.flushSync)===!0,Sr=ei({currentLocation:sr,nextLocation:Wt,historyAction:Ft});if(Sr){xa(Sr,{state:"blocked",location:Wt,proceed(){xa(Sr,{state:"proceeding",proceed:void 0,reset:void 0,location:Wt}),dt(We,Ze)},reset(){let Os=new Map(H.blockers);Os.set(Sr,lb),ye({blockers:Os})}});return}return await Ct(Ft,Wt,{submission:ut,pendingError:Ht,preventScrollReset:$t,replace:Ze&&Ze.replace,enableViewTransition:Ze&&Ze.viewTransition,flushSync:dr})}function Tt(){if(rr(),ye({revalidation:"loading"}),H.navigation.state!=="submitting"){if(H.navigation.state==="idle"){Ct(H.historyAction,H.location,{startUninterruptedRevalidation:!0});return}Ct(Z||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:ce===!0})}}async function Ct(We,Ze,at){le&&le.abort(),le=null,Z=We,ee=(at&&at.startUninterruptedRevalidation)===!0,yl(H.location,H.matches),re=(at&&at.preventScrollReset)===!0,ce=(at&&at.enableViewTransition)===!0;let xt=l||o,ut=at&&at.overrideNavigation,Ht=at!=null&&at.initialHydration&&H.matches&&H.matches.length>0&&!M?H.matches:Fm(xt,Ze,u),sr=(at&&at.flushSync)===!0;if(Ht&&H.initialized&&!xe&&Oae(H.location,Ze)&&!(at&&at.submission&&Xl(at.submission.formMethod))){Xe(Ze,{matches:Ht},{flushSync:sr});return}let Wt=Ga(Ht,xt,Ze.pathname);if(Wt.active&&Wt.matches&&(Ht=Wt.matches),!Ht){let{error:qr,notFoundMatches:Ir,route:me}=ti(Ze.pathname);Xe(Ze,{matches:Ir,loaderData:{},errors:{[me.id]:qr}},{flushSync:sr});return}le=new AbortController;let Xt=mx(t.history,Ze,le.signal,at&&at.submission),Ft;if(at&&at.pendingError)Ft=[Bm(Ht).route.id,{type:ws.error,error:at.pendingError}];else if(at&&at.submission&&Xl(at.submission.formMethod)){let qr=await or(Xt,Ze,at.submission,Ht,Wt.active,{replace:at.replace,flushSync:sr});if(qr.shortCircuited)return;if(qr.pendingActionResult){let[Ir,me]=qr.pendingActionResult;if(bo(me)&&Hw(me.error)&&me.error.status===404){le=null,Xe(Ze,{matches:qr.matches,loaderData:{},errors:{[Ir]:me.error}});return}}Ht=qr.matches||Ht,Ft=qr.pendingActionResult,ut=IP(Ze,at.submission),sr=!1,Wt.active=!1,Xt=mx(t.history,Xt.url,Xt.signal)}let{shortCircuited:$t,matches:dr,loaderData:Sr,errors:Os}=await Cr(Xt,Ze,Ht,Wt.active,ut,at&&at.submission,at&&at.fetcherSubmission,at&&at.replace,at&&at.initialHydration===!0,sr,Ft);$t||(le=null,Xe(Ze,Gs({matches:dr||Ht},m8(Ft),{loaderData:Sr,errors:Os})))}async function or(We,Ze,at,xt,ut,Ht){Ht===void 0&&(Ht={}),rr();let sr=$ae(Ze,at);if(ye({navigation:sr},{flushSync:Ht.flushSync===!0}),ut){let Ft=await ya(xt,Ze.pathname,We.signal);if(Ft.type==="aborted")return{shortCircuited:!0};if(Ft.type==="error"){let $t=Bm(Ft.partialMatches).route.id;return{matches:Ft.partialMatches,pendingActionResult:[$t,{type:ws.error,error:Ft.error}]}}else if(Ft.matches)xt=Ft.matches;else{let{notFoundMatches:$t,error:dr,route:Sr}=ti(Ze.pathname);return{matches:$t,pendingActionResult:[Sr.id,{type:ws.error,error:dr}]}}}let Wt,Xt=Eb(xt,Ze);if(!Xt.route.action&&!Xt.route.lazy)Wt={type:ws.error,error:Ra(405,{method:We.method,pathname:Ze.pathname,routeId:Xt.route.id})};else if(Wt=(await bt("action",H,We,[Xt],xt,null))[Xt.route.id],We.signal.aborted)return{shortCircuited:!0};if(Wm(Wt)){let Ft;return Ht&&Ht.replace!=null?Ft=Ht.replace:Ft=d8(Wt.response.headers.get("Location"),new URL(We.url),u)===H.location.pathname+H.location.search,await jt(We,Wt,!0,{submission:at,replace:Ft}),{shortCircuited:!0}}if(Sf(Wt))throw Ra(400,{type:"defer-action"});if(bo(Wt)){let Ft=Bm(xt,Xt.route.id);return(Ht&&Ht.replace)!==!0&&(Z=Dn.Push),{matches:xt,pendingActionResult:[Ft.route.id,Wt]}}return{matches:xt,pendingActionResult:[Xt.route.id,Wt]}}async function Cr(We,Ze,at,xt,ut,Ht,sr,Wt,Xt,Ft,$t){let dr=ut||IP(Ze,Ht),Sr=Ht||sr||x8(dr),Os=!ee&&(!g.v7_partialHydration||!Xt);if(xt){if(Os){let U=cs($t);ye(Gs({navigation:dr},U!==void 0?{actionData:U}:{}),{flushSync:Ft})}let z=await ya(at,Ze.pathname,We.signal);if(z.type==="aborted")return{shortCircuited:!0};if(z.type==="error"){let U=Bm(z.partialMatches).route.id;return{matches:z.partialMatches,loaderData:{},errors:{[U]:z.error}}}else if(z.matches)at=z.matches;else{let{error:U,notFoundMatches:X,route:Q}=ti(Ze.pathname);return{matches:X,loaderData:{},errors:{[Q.id]:U}}}}let qr=l||o,[Ir,me]=o8(t.history,H,at,Sr,Ze,g.v7_partialHydration&&Xt===!0,g.v7_skipActionErrorRevalidation,xe,ie,ge,$e,He,Se,qr,u,$t);if(zn(z=>!(at&&at.some(U=>U.route.id===z))||Ir&&Ir.some(U=>U.route.id===z)),ke=++ue,Ir.length===0&&me.length===0){let z=An();return Xe(Ze,Gs({matches:at,loaderData:{},errors:$t&&bo($t[1])?{[$t[0]]:$t[1].error}:null},m8($t),z?{fetchers:new Map(H.fetchers)}:{}),{flushSync:Ft}),{shortCircuited:!0}}if(Os){let z={};if(!xt){z.navigation=dr;let U=cs($t);U!==void 0&&(z.actionData=U)}me.length>0&&(z.fetchers=Ie(me)),ye(z,{flushSync:Ft})}me.forEach(z=>{zt(z.key),z.controller&&G.set(z.key,z.controller)});let c=()=>me.forEach(z=>zt(z.key));le&&le.signal.addEventListener("abort",c);let{loaderResults:d,fetcherResults:m}=await Ot(H,at,Ir,me,We);if(We.signal.aborted)return{shortCircuited:!0};le&&le.signal.removeEventListener("abort",c),me.forEach(z=>G.delete(z.key));let v=D2(d);if(v)return await jt(We,v.result,!0,{replace:Wt}),{shortCircuited:!0};if(v=D2(m),v)return Se.add(v.key),await jt(We,v.result,!0,{replace:Wt}),{shortCircuited:!0};let{loaderData:w,errors:j}=h8(H,at,d,$t,me,m,Ue);Ue.forEach((z,U)=>{z.subscribe(X=>{(X||z.done)&&Ue.delete(U)})}),g.v7_partialHydration&&Xt&&H.errors&&(j=Gs({},H.errors,j));let S=An(),P=qs(ke),I=S||P||me.length>0;return Gs({matches:at,loaderData:w,errors:j},I?{fetchers:new Map(H.fetchers)}:{})}function cs(We){if(We&&!bo(We[1]))return{[We[0]]:We[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function Ie(We){return We.forEach(Ze=>{let at=H.fetchers.get(Ze.key),xt=cb(void 0,at?at.data:void 0);H.fetchers.set(Ze.key,xt)}),new Map(H.fetchers)}function Ge(We,Ze,at,xt){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");zt(We);let ut=(xt&&xt.flushSync)===!0,Ht=l||o,sr=AO(H.location,H.matches,u,g.v7_prependBasename,at,g.v7_relativeSplatPath,Ze,xt==null?void 0:xt.relative),Wt=Fm(Ht,sr,u),Xt=Ga(Wt,Ht,sr);if(Xt.active&&Xt.matches&&(Wt=Xt.matches),!Wt){Er(We,Ze,Ra(404,{pathname:sr}),{flushSync:ut});return}let{path:Ft,submission:$t,error:dr}=i8(g.v7_normalizeFormMethod,!0,sr,xt);if(dr){Er(We,Ze,dr,{flushSync:ut});return}let Sr=Eb(Wt,Ft),Os=(xt&&xt.preventScrollReset)===!0;if($t&&Xl($t.formMethod)){it(We,Ze,Ft,Sr,Wt,Xt.active,ut,Os,$t);return}He.set(We,{routeId:Ze,path:Ft}),kt(We,Ze,Ft,Sr,Wt,Xt.active,ut,Os,$t)}async function it(We,Ze,at,xt,ut,Ht,sr,Wt,Xt){rr(),He.delete(We);function Ft(te){if(!te.route.action&&!te.route.lazy){let ae=Ra(405,{method:Xt.formMethod,pathname:at,routeId:Ze});return Er(We,Ze,ae,{flushSync:sr}),!0}return!1}if(!Ht&&Ft(xt))return;let $t=H.fetchers.get(We);lr(We,zae(Xt,$t),{flushSync:sr});let dr=new AbortController,Sr=mx(t.history,at,dr.signal,Xt);if(Ht){let te=await ya(ut,new URL(Sr.url).pathname,Sr.signal,We);if(te.type==="aborted")return;if(te.type==="error"){Er(We,Ze,te.error,{flushSync:sr});return}else if(te.matches){if(ut=te.matches,xt=Eb(ut,at),Ft(xt))return}else{Er(We,Ze,Ra(404,{pathname:at}),{flushSync:sr});return}}G.set(We,dr);let Os=ue,Ir=(await bt("action",H,Sr,[xt],ut,We))[xt.route.id];if(Sr.signal.aborted){G.get(We)===dr&&G.delete(We);return}if(g.v7_fetcherPersist&&$e.has(We)){if(Wm(Ir)||bo(Ir)){lr(We,Oh(void 0));return}}else{if(Wm(Ir))if(G.delete(We),ke>Os){lr(We,Oh(void 0));return}else return Se.add(We),lr(We,cb(Xt)),jt(Sr,Ir,!1,{fetcherSubmission:Xt,preventScrollReset:Wt});if(bo(Ir)){Er(We,Ze,Ir.error);return}}if(Sf(Ir))throw Ra(400,{type:"defer-action"});let me=H.navigation.location||H.location,c=mx(t.history,me,dr.signal),d=l||o,m=H.navigation.state!=="idle"?Fm(d,H.navigation.location,u):H.matches;Yr(m,"Didn't find any matches after fetcher action");let v=++ue;ve.set(We,v);let w=cb(Xt,Ir.data);H.fetchers.set(We,w);let[j,S]=o8(t.history,H,m,Xt,me,!1,g.v7_skipActionErrorRevalidation,xe,ie,ge,$e,He,Se,d,u,[xt.route.id,Ir]);S.filter(te=>te.key!==We).forEach(te=>{let ae=te.key,pe=H.fetchers.get(ae),we=cb(void 0,pe?pe.data:void 0);H.fetchers.set(ae,we),zt(ae),te.controller&&G.set(ae,te.controller)}),ye({fetchers:new Map(H.fetchers)});let P=()=>S.forEach(te=>zt(te.key));dr.signal.addEventListener("abort",P);let{loaderResults:I,fetcherResults:z}=await Ot(H,m,j,S,c);if(dr.signal.aborted)return;dr.signal.removeEventListener("abort",P),ve.delete(We),G.delete(We),S.forEach(te=>G.delete(te.key));let U=D2(I);if(U)return jt(c,U.result,!1,{preventScrollReset:Wt});if(U=D2(z),U)return Se.add(U.key),jt(c,U.result,!1,{preventScrollReset:Wt});let{loaderData:X,errors:Q}=h8(H,m,I,void 0,S,z,Ue);if(H.fetchers.has(We)){let te=Oh(Ir.data);H.fetchers.set(We,te)}qs(v),H.navigation.state==="loading"&&v>ke?(Yr(Z,"Expected pending action"),le&&le.abort(),Xe(H.navigation.location,{matches:m,loaderData:X,errors:Q,fetchers:new Map(H.fetchers)})):(ye({errors:Q,loaderData:f8(H.loaderData,X,m,Q),fetchers:new Map(H.fetchers)}),xe=!1)}async function kt(We,Ze,at,xt,ut,Ht,sr,Wt,Xt){let Ft=H.fetchers.get(We);lr(We,cb(Xt,Ft?Ft.data:void 0),{flushSync:sr});let $t=new AbortController,dr=mx(t.history,at,$t.signal);if(Ht){let Ir=await ya(ut,new URL(dr.url).pathname,dr.signal,We);if(Ir.type==="aborted")return;if(Ir.type==="error"){Er(We,Ze,Ir.error,{flushSync:sr});return}else if(Ir.matches)ut=Ir.matches,xt=Eb(ut,at);else{Er(We,Ze,Ra(404,{pathname:at}),{flushSync:sr});return}}G.set(We,$t);let Sr=ue,qr=(await bt("loader",H,dr,[xt],ut,We))[xt.route.id];if(Sf(qr)&&(qr=await WI(qr,dr.signal,!0)||qr),G.get(We)===$t&&G.delete(We),!dr.signal.aborted){if($e.has(We)){lr(We,Oh(void 0));return}if(Wm(qr))if(ke>Sr){lr(We,Oh(void 0));return}else{Se.add(We),await jt(dr,qr,!1,{preventScrollReset:Wt});return}if(bo(qr)){Er(We,Ze,qr.error);return}Yr(!Sf(qr),"Unhandled fetcher deferred data"),lr(We,Oh(qr.data))}}async function jt(We,Ze,at,xt){let{submission:ut,fetcherSubmission:Ht,preventScrollReset:sr,replace:Wt}=xt===void 0?{}:xt;Ze.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let Xt=Ze.response.headers.get("Location");Yr(Xt,"Expected a Location header on the redirect Response"),Xt=d8(Xt,new URL(We.url),u);let Ft=zw(H.location,Xt,{_isRedirect:!0});if(r){let Ir=!1;if(Ze.response.headers.has("X-Remix-Reload-Document"))Ir=!0;else if(HI.test(Xt)){const me=t.history.createURL(Xt);Ir=me.origin!==e.location.origin||ov(me.pathname,u)==null}if(Ir){Wt?e.location.replace(Xt):e.location.assign(Xt);return}}le=null;let $t=Wt===!0||Ze.response.headers.has("X-Remix-Replace")?Dn.Replace:Dn.Push,{formMethod:dr,formAction:Sr,formEncType:Os}=H.navigation;!ut&&!Ht&&dr&&Sr&&Os&&(ut=x8(H.navigation));let qr=ut||Ht;if(wae.has(Ze.response.status)&&qr&&Xl(qr.formMethod))await Ct($t,Ft,{submission:Gs({},qr,{formAction:Xt}),preventScrollReset:sr||re,enableViewTransition:at?ce:void 0});else{let Ir=IP(Ft,ut);await Ct($t,Ft,{overrideNavigation:Ir,fetcherSubmission:Ht,preventScrollReset:sr||re,enableViewTransition:at?ce:void 0})}}async function bt(We,Ze,at,xt,ut,Ht){let sr,Wt={};try{sr=await Eae(h,We,Ze,at,xt,ut,Ht,a,i)}catch(Xt){return xt.forEach(Ft=>{Wt[Ft.route.id]={type:ws.error,error:Xt}}),Wt}for(let[Xt,Ft]of Object.entries(sr))if(Dae(Ft)){let $t=Ft.result;Wt[Xt]={type:ws.redirect,response:Mae($t,at,Xt,ut,u,g.v7_relativeSplatPath)}}else Wt[Xt]=await Pae(Ft);return Wt}async function Ot(We,Ze,at,xt,ut){let Ht=We.matches,sr=bt("loader",We,ut,at,Ze,null),Wt=Promise.all(xt.map(async $t=>{if($t.matches&&$t.match&&$t.controller){let Sr=(await bt("loader",We,mx(t.history,$t.path,$t.controller.signal),[$t.match],$t.matches,$t.key))[$t.match.route.id];return{[$t.key]:Sr}}else return Promise.resolve({[$t.key]:{type:ws.error,error:Ra(404,{pathname:$t.path})}})})),Xt=await sr,Ft=(await Wt).reduce(($t,dr)=>Object.assign($t,dr),{});return await Promise.all([Fae(Ze,Xt,ut.signal,Ht,We.loaderData),Bae(Ze,Ft,xt)]),{loaderResults:Xt,fetcherResults:Ft}}function rr(){xe=!0,ie.push(...zn()),He.forEach((We,Ze)=>{G.has(Ze)&&ge.add(Ze),zt(Ze)})}function lr(We,Ze,at){at===void 0&&(at={}),H.fetchers.set(We,Ze),ye({fetchers:new Map(H.fetchers)},{flushSync:(at&&at.flushSync)===!0})}function Er(We,Ze,at,xt){xt===void 0&&(xt={});let ut=Bm(H.matches,Ze);Ee(We),ye({errors:{[ut.route.id]:at},fetchers:new Map(H.fetchers)},{flushSync:(xt&&xt.flushSync)===!0})}function _s(We){return De.set(We,(De.get(We)||0)+1),$e.has(We)&&$e.delete(We),H.fetchers.get(We)||jae}function Ee(We){let Ze=H.fetchers.get(We);G.has(We)&&!(Ze&&Ze.state==="loading"&&ve.has(We))&&zt(We),He.delete(We),ve.delete(We),Se.delete(We),g.v7_fetcherPersist&&$e.delete(We),ge.delete(We),H.fetchers.delete(We)}function yt(We){let Ze=(De.get(We)||0)-1;Ze<=0?(De.delete(We),$e.add(We),g.v7_fetcherPersist||Ee(We)):De.set(We,Ze),ye({fetchers:new Map(H.fetchers)})}function zt(We){let Ze=G.get(We);Ze&&(Ze.abort(),G.delete(We))}function ts(We){for(let Ze of We){let at=_s(Ze),xt=Oh(at.data);H.fetchers.set(Ze,xt)}}function An(){let We=[],Ze=!1;for(let at of Se){let xt=H.fetchers.get(at);Yr(xt,"Expected fetcher: "+at),xt.state==="loading"&&(Se.delete(at),We.push(at),Ze=!0)}return ts(We),Ze}function qs(We){let Ze=[];for(let[at,xt]of ve)if(xt<We){let ut=H.fetchers.get(at);Yr(ut,"Expected fetcher: "+at),ut.state==="loading"&&(zt(at),ve.delete(at),Ze.push(at))}return ts(Ze),Ze.length>0}function Ts(We,Ze){let at=H.blockers.get(We)||lb;return Ke.get(We)!==Ze&&Ke.set(We,Ze),at}function pi(We){H.blockers.delete(We),Ke.delete(We)}function xa(We,Ze){let at=H.blockers.get(We)||lb;Yr(at.state==="unblocked"&&Ze.state==="blocked"||at.state==="blocked"&&Ze.state==="blocked"||at.state==="blocked"&&Ze.state==="proceeding"||at.state==="blocked"&&Ze.state==="unblocked"||at.state==="proceeding"&&Ze.state==="unblocked","Invalid blocker state transition: "+at.state+" -> "+Ze.state);let xt=new Map(H.blockers);xt.set(We,Ze),ye({blockers:xt})}function ei(We){let{currentLocation:Ze,nextLocation:at,historyAction:xt}=We;if(Ke.size===0)return;Ke.size>1&&uy(!1,"A router only supports one blocker at a time");let ut=Array.from(Ke.entries()),[Ht,sr]=ut[ut.length-1],Wt=H.blockers.get(Ht);if(!(Wt&&Wt.state==="proceeding")&&sr({currentLocation:Ze,nextLocation:at,historyAction:xt}))return Ht}function ti(We){let Ze=Ra(404,{pathname:We}),at=l||o,{matches:xt,route:ut}=p8(at);return zn(),{notFoundMatches:xt,route:ut,error:Ze}}function zn(We){let Ze=[];return Ue.forEach((at,xt)=>{(!We||We(xt))&&(at.cancel(),Ze.push(xt),Ue.delete(xt))}),Ze}function xl(We,Ze,at){if(_=We,C=Ze,k=at||null,!O&&H.navigation===RP){O=!0;let xt=Lo(H.location,H.matches);xt!=null&&ye({restoreScrollPosition:xt})}return()=>{_=null,C=null,k=null}}function Mo(We,Ze){return k&&k(We,Ze.map(xt=>Qie(xt,H.loaderData)))||We.key}function yl(We,Ze){if(_&&C){let at=Mo(We,Ze);_[at]=C()}}function Lo(We,Ze){if(_){let at=Mo(We,Ze),xt=_[at];if(typeof xt=="number")return xt}return null}function Ga(We,Ze,at){if(f)if(We){if(Object.keys(We[0].params).length>0)return{active:!0,matches:m_(Ze,at,u,!0)}}else return{active:!0,matches:m_(Ze,at,u,!0)||[]};return{active:!1,matches:null}}async function ya(We,Ze,at,xt){if(!f)return{type:"success",matches:We};let ut=We;for(;;){let Ht=l==null,sr=l||o,Wt=a;try{await f({signal:at,path:Ze,matches:ut,fetcherKey:xt,patch:($t,dr)=>{at.aborted||c8($t,dr,sr,Wt,i)}})}catch($t){return{type:"error",error:$t,partialMatches:ut}}finally{Ht&&!at.aborted&&(o=[...o])}if(at.aborted)return{type:"aborted"};let Xt=Fm(sr,Ze,u);if(Xt)return{type:"success",matches:Xt};let Ft=m_(sr,Ze,u,!0);if(!Ft||ut.length===Ft.length&&ut.every(($t,dr)=>$t.route.id===Ft[dr].route.id))return{type:"success",matches:null};ut=Ft}}function Oo(We){a={},l=Ek(We,i,void 0,a)}function Za(We,Ze){let at=l==null;c8(We,Ze,l||o,a,i),at&&(o=[...o],ye({}))}return V={get basename(){return u},get future(){return g},get state(){return H},get routes(){return o},get window(){return e},initialize:Me,subscribe:ht,enableScrollRestoration:xl,navigate:dt,fetch:Ge,revalidate:Tt,createHref:We=>t.history.createHref(We),encodeLocation:We=>t.history.encodeLocation(We),getFetcher:_s,deleteFetcher:yt,dispose:qe,getBlocker:Ts,deleteBlocker:pi,patchRoutes:Za,_internalFetchControllers:G,_internalActiveDeferreds:Ue,_internalSetRoutes:Oo},V}function Sae(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function AO(t,e,r,n,i,a,o,l){let u,h;if(o){u=[];for(let g of e)if(u.push(g),g.route.id===o){h=g;break}}else u=e,h=e[e.length-1];let f=RC(i||".",DC(u,a),ov(t.pathname,r)||t.pathname,l==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&h){let g=VI(f.search);if(h.route.index&&!g)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&g){let y=new URLSearchParams(f.search),N=y.getAll("index");y.delete("index"),N.filter(k=>k).forEach(k=>y.append("index",k));let _=y.toString();f.search=_?"?"+_:""}}return n&&r!=="/"&&(f.pathname=f.pathname==="/"?r:ku([r,f.pathname])),rg(f)}function i8(t,e,r,n){if(!n||!Sae(n))return{path:r};if(n.formMethod&&!Iae(n.formMethod))return{path:r,error:Ra(405,{method:n.formMethod})};let i=()=>({path:r,error:Ra(400,{type:"invalid-body"})}),a=n.formMethod||"get",o=t?a.toUpperCase():a.toLowerCase(),l=UY(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Xl(o))return i();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((N,_)=>{let[k,C]=_;return""+N+k+"="+C+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Xl(o))return i();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}Yr(typeof FormData=="function","FormData is not available in this environment");let u,h;if(n.formData)u=EO(n.formData),h=n.formData;else if(n.body instanceof FormData)u=EO(n.body),h=n.body;else if(n.body instanceof URLSearchParams)u=n.body,h=u8(u);else if(n.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(n.body),h=u8(u)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Xl(f.formMethod))return{path:r,submission:f};let g=Vf(r);return e&&g.search&&VI(g.search)&&u.append("index",""),g.search="?"+u,{path:rg(g),submission:f}}function a8(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(i=>i.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function o8(t,e,r,n,i,a,o,l,u,h,f,g,y,N,_,k){let C=k?bo(k[1])?k[1].error:k[1].data:void 0,O=t.createURL(e.location),T=t.createURL(i),M=r;a&&e.errors?M=a8(r,Object.keys(e.errors)[0],!0):k&&bo(k[1])&&(M=a8(r,k[0]));let B=k?k[1].statusCode:void 0,F=o&&B&&B>=400,V=M.filter((Z,re)=>{let{route:le}=Z;if(le.lazy)return!0;if(le.loader==null)return!1;if(a)return CO(le,e.loaderData,e.errors);if(kae(e.loaderData,e.matches[re],Z)||u.some(fe=>fe===Z.route.id))return!0;let ce=e.matches[re],he=Z;return l8(Z,Gs({currentUrl:O,currentParams:ce.params,nextUrl:T,nextParams:he.params},n,{actionResult:C,actionStatus:B,defaultShouldRevalidate:F?!1:l||O.pathname+O.search===T.pathname+T.search||O.search!==T.search||WY(ce,he)}))}),H=[];return g.forEach((Z,re)=>{if(a||!r.some(ee=>ee.route.id===Z.routeId)||f.has(re))return;let le=Fm(N,Z.path,_);if(!le){H.push({key:re,routeId:Z.routeId,path:Z.path,matches:null,match:null,controller:null});return}let ce=e.fetchers.get(re),he=Eb(le,Z.path),fe=!1;y.has(re)?fe=!1:h.has(re)?(h.delete(re),fe=!0):ce&&ce.state!=="idle"&&ce.data===void 0?fe=l:fe=l8(he,Gs({currentUrl:O,currentParams:e.matches[e.matches.length-1].params,nextUrl:T,nextParams:r[r.length-1].params},n,{actionResult:C,actionStatus:B,defaultShouldRevalidate:F?!1:l})),fe&&H.push({key:re,routeId:Z.routeId,path:Z.path,matches:le,match:he,controller:new AbortController})}),[V,H]}function CO(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function kae(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function WY(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function l8(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function c8(t,e,r,n,i){var a;let o;if(t){let h=n[t];Yr(h,"No route found to patch children into: routeId = "+t),h.children||(h.children=[]),o=h.children}else o=r;let l=e.filter(h=>!o.some(f=>VY(h,f))),u=Ek(l,i,[t||"_","patch",String(((a=o)==null?void 0:a.length)||"0")],n);o.push(...u)}function VY(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var i;return(i=e.children)==null?void 0:i.some(a=>VY(r,a))}):!1}async function Aae(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Yr(i,"No route found in manifest");let a={};for(let o in n){let u=i[o]!==void 0&&o!=="hasErrorBoundary";uy(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!Kie.has(o)&&(a[o]=n[o])}Object.assign(i,a),Object.assign(i,Gs({},e(i),{lazy:void 0}))}async function Cae(t){let{matches:e}=t,r=e.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,a,o)=>Object.assign(i,{[r[o].route.id]:a}),{})}async function Eae(t,e,r,n,i,a,o,l,u,h){let f=a.map(N=>N.route.lazy?Aae(N.route,u,l):void 0),g=a.map((N,_)=>{let k=f[_],C=i.some(T=>T.route.id===N.route.id);return Gs({},N,{shouldLoad:C,resolve:async T=>(T&&n.method==="GET"&&(N.route.lazy||N.route.loader)&&(C=!0),C?Tae(e,n,N,k,T,h):Promise.resolve({type:ws.data,result:void 0}))})}),y=await t({matches:g,request:n,params:a[0].params,fetcherKey:o,context:h});try{await Promise.all(f)}catch{}return y}async function Tae(t,e,r,n,i,a){let o,l,u=h=>{let f,g=new Promise((_,k)=>f=k);l=()=>f(),e.signal.addEventListener("abort",l);let y=_=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):h({request:e,params:r.params,context:a},..._!==void 0?[_]:[]),N=(async()=>{try{return{type:"data",result:await(i?i(k=>y(k)):y())}}catch(_){return{type:"error",result:_}}})();return Promise.race([N,g])};try{let h=r.route[t];if(n)if(h){let f,[g]=await Promise.all([u(h).catch(y=>{f=y}),n]);if(f!==void 0)throw f;o=g}else if(await n,h=r.route[t],h)o=await u(h);else if(t==="action"){let f=new URL(e.url),g=f.pathname+f.search;throw Ra(405,{method:e.method,pathname:g,routeId:r.route.id})}else return{type:ws.data,result:void 0};else if(h)o=await u(h);else{let f=new URL(e.url),g=f.pathname+f.search;throw Ra(404,{pathname:g})}Yr(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:ws.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function Pae(t){let{result:e,type:r}=t;if(qY(e)){let g;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(y){return{type:ws.error,error:y}}return r===ws.error?{type:ws.error,error:new Tk(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:ws.data,data:g,statusCode:e.status,headers:e.headers}}if(r===ws.error){if(g8(e)){var n,i;if(e.data instanceof Error){var a,o;return{type:ws.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:ws.error,error:new Tk(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:Hw(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:ws.error,error:e,statusCode:Hw(e)?e.status:void 0}}if(Rae(e)){var l,u;return{type:ws.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((u=e.init)==null?void 0:u.headers)&&new Headers(e.init.headers)}}if(g8(e)){var h,f;return{type:ws.data,data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}}return{type:ws.data,data:e}}function Mae(t,e,r,n,i,a){let o=t.headers.get("Location");if(Yr(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!HI.test(o)){let l=n.slice(0,n.findIndex(u=>u.route.id===r)+1);o=AO(new URL(e.url),l,i,!0,o,a),t.headers.set("Location",o)}return t}function d8(t,e,r){if(HI.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=ov(i.pathname,r)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function mx(t,e,r,n){let i=t.createURL(UY(e)).toString(),a={signal:r};if(n&&Xl(n.formMethod)){let{formMethod:o,formEncType:l}=n;a.method=o.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(n.json)):l==="text/plain"?a.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?a.body=EO(n.formData):a.body=n.formData}return new Request(i,a)}function EO(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function u8(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function Lae(t,e,r,n,i){let a={},o=null,l,u=!1,h={},f=r&&bo(r[1])?r[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let y=g.route.id,N=e[y];if(Yr(!Wm(N),"Cannot handle redirect results in processLoaderData"),bo(N)){let _=N.error;f!==void 0&&(_=f,f=void 0),o=o||{};{let k=Bm(t,y);o[k.route.id]==null&&(o[k.route.id]=_)}a[y]=void 0,u||(u=!0,l=Hw(N.error)?N.error.status:500),N.headers&&(h[y]=N.headers)}else Sf(N)?(n.set(y,N.deferredData),a[y]=N.deferredData.data,N.statusCode!=null&&N.statusCode!==200&&!u&&(l=N.statusCode),N.headers&&(h[y]=N.headers)):(a[y]=N.data,N.statusCode&&N.statusCode!==200&&!u&&(l=N.statusCode),N.headers&&(h[y]=N.headers))}),f!==void 0&&r&&(o={[r[0]]:f},a[r[0]]=void 0),{loaderData:a,errors:o,statusCode:l||200,loaderHeaders:h}}function h8(t,e,r,n,i,a,o){let{loaderData:l,errors:u}=Lae(e,r,n,o);return i.forEach(h=>{let{key:f,match:g,controller:y}=h,N=a[f];if(Yr(N,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(bo(N)){let _=Bm(t.matches,g==null?void 0:g.route.id);u&&u[_.route.id]||(u=Gs({},u,{[_.route.id]:N.error})),t.fetchers.delete(f)}else if(Wm(N))Yr(!1,"Unhandled fetcher revalidation redirect");else if(Sf(N))Yr(!1,"Unhandled fetcher deferred data");else{let _=Oh(N.data);t.fetchers.set(f,_)}}),{loaderData:l,errors:u}}function f8(t,e,r,n){let i=Gs({},e);for(let a of r){let o=a.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&a.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function m8(t){return t?bo(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Bm(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function p8(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ra(t,e){let{pathname:r,routeId:n,method:i,type:a,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&r&&n?u="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?u="defer() is not supported in actions":a==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+n+'" does not match URL "'+r+'"'):t===404?(l="Not Found",u='No route matches URL "'+r+'"'):t===405&&(l="Method Not Allowed",i&&r&&n?u="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Tk(t||500,l,new Error(u),!0)}function D2(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(Wm(i))return{key:n,result:i}}}function UY(t){let e=typeof t=="string"?Vf(t):t;return rg(Gs({},e,{hash:""}))}function Oae(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Dae(t){return qY(t.result)&&bae.has(t.result.status)}function Sf(t){return t.type===ws.deferred}function bo(t){return t.type===ws.error}function Wm(t){return(t&&t.type)===ws.redirect}function g8(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Rae(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function qY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Iae(t){return vae.has(t.toLowerCase())}function Xl(t){return xae.has(t.toLowerCase())}async function Fae(t,e,r,n,i){let a=Object.entries(e);for(let o=0;o<a.length;o++){let[l,u]=a[o],h=t.find(y=>(y==null?void 0:y.route.id)===l);if(!h)continue;let f=n.find(y=>y.route.id===h.route.id),g=f!=null&&!WY(f,h)&&(i&&i[h.route.id])!==void 0;Sf(u)&&g&&await WI(u,r,!1).then(y=>{y&&(e[l]=y)})}}async function Bae(t,e,r){for(let n=0;n<r.length;n++){let{key:i,routeId:a,controller:o}=r[n],l=e[i];t.find(h=>(h==null?void 0:h.route.id)===a)&&Sf(l)&&(Yr(o,"Expected an AbortController for revalidating fetcher deferred result"),await WI(l,o.signal,!0).then(h=>{h&&(e[i]=h)}))}}async function WI(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:ws.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ws.error,error:i}}return{type:ws.data,data:t.deferredData.data}}}function VI(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Eb(t,e){let r=typeof e=="string"?Vf(e).search:e.search;if(t[t.length-1].route.index&&VI(r||""))return t[t.length-1];let n=$Y(t);return n[n.length-1]}function x8(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function IP(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $ae(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function cb(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function zae(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Oh(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Hae(t,e){try{let r=t.sessionStorage.getItem(HY);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function Wae(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(HY,JSON.stringify(r))}catch(n){uy(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pk(){return Pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pk.apply(this,arguments)}const IC=Y.createContext(null),XY=Y.createContext(null),Uf=Y.createContext(null),UI=Y.createContext(null),dd=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),YY=Y.createContext(null);function Vae(t,e){let{relative:r}=e===void 0?{}:e;lv()||Yr(!1);let{basename:n,navigator:i}=Y.useContext(Uf),{hash:a,pathname:o,search:l}=ZY(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:ku([n,o])),i.createHref({pathname:u,search:l,hash:a})}function lv(){return Y.useContext(UI)!=null}function Yu(){return lv()||Yr(!1),Y.useContext(UI).location}function GY(t){Y.useContext(Uf).static||Y.useLayoutEffect(t)}function Bn(){let{isDataRoute:t}=Y.useContext(dd);return t?ioe():Uae()}function Uae(){lv()||Yr(!1);let t=Y.useContext(IC),{basename:e,future:r,navigator:n}=Y.useContext(Uf),{matches:i}=Y.useContext(dd),{pathname:a}=Yu(),o=JSON.stringify(DC(i,r.v7_relativeSplatPath)),l=Y.useRef(!1);return GY(()=>{l.current=!0}),Y.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=RC(h,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ku([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,a,t])}const qae=Y.createContext(null);function Xae(t){let e=Y.useContext(dd).outlet;return e&&Y.createElement(qae.Provider,{value:t},e)}function Yae(){let{matches:t}=Y.useContext(dd),e=t[t.length-1];return e?e.params:{}}function ZY(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=Y.useContext(Uf),{matches:i}=Y.useContext(dd),{pathname:a}=Yu(),o=JSON.stringify(DC(i,n.v7_relativeSplatPath));return Y.useMemo(()=>RC(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function Gae(t,e,r,n){lv()||Yr(!1);let{navigator:i}=Y.useContext(Uf),{matches:a}=Y.useContext(dd),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=Yu(),f;f=h;let g=f.pathname||"/",y=g;if(u!=="/"){let k=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=Fm(t,{pathname:y});return eoe(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:ku([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:ku([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,n)}function Zae(){let t=noe(),e=Hw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),r?Y.createElement("pre",{style:i},r):null,null)}const Kae=Y.createElement(Zae,null);class Jae extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Y.createElement(dd.Provider,{value:this.props.routeContext},Y.createElement(YY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qae(t){let{routeContext:e,match:r,children:n}=t,i=Y.useContext(IC);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Y.createElement(dd.Provider,{value:e},n)}function eoe(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);f>=0||Yr(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:y,errors:N}=r,_=g.route.loader&&y[g.route.id]===void 0&&(!N||N[g.route.id]===void 0);if(g.route.lazy||_){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,g,y)=>{let N,_=!1,k=null,C=null;r&&(N=l&&g.route.id?l[g.route.id]:void 0,k=g.route.errorElement||Kae,u&&(h<0&&y===0?(aoe("route-fallback"),_=!0,C=null):h===y&&(_=!0,C=g.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,y+1)),T=()=>{let M;return N?M=k:_?M=C:g.route.Component?M=Y.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=f,Y.createElement(Qae,{match:g,routeContext:{outlet:f,matches:O,isDataRoute:r!=null},children:M})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?Y.createElement(Jae,{location:r.location,revalidation:r.revalidation,component:k,error:N,children:T(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):T()},null)}var KY=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KY||{}),JY=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(JY||{});function toe(t){let e=Y.useContext(IC);return e||Yr(!1),e}function roe(t){let e=Y.useContext(XY);return e||Yr(!1),e}function soe(t){let e=Y.useContext(dd);return e||Yr(!1),e}function QY(t){let e=soe(),r=e.matches[e.matches.length-1];return r.route.id||Yr(!1),r.route.id}function noe(){var t;let e=Y.useContext(YY),r=roe(),n=QY();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function ioe(){let{router:t}=toe(KY.UseNavigateStable),e=QY(JY.UseNavigateStable),r=Y.useRef(!1);return GY(()=>{r.current=!0}),Y.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pk({fromRouteId:e},a)))},[t,e])}const y8={};function aoe(t,e,r){y8[t]||(y8[t]=!0)}function ooe(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Of(t){let{to:e,replace:r,state:n,relative:i}=t;lv()||Yr(!1);let{future:a,static:o}=Y.useContext(Uf),{matches:l}=Y.useContext(dd),{pathname:u}=Yu(),h=Bn(),f=RC(e,DC(l,a.v7_relativeSplatPath),u,i==="path"),g=JSON.stringify(f);return Y.useEffect(()=>h(JSON.parse(g),{replace:r,state:n,relative:i}),[h,g,i,r,n]),null}function loe(t){return Xae(t.context)}function coe(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Dn.Pop,navigator:a,static:o=!1,future:l}=t;lv()&&Yr(!1);let u=e.replace(/^\/*/,"/"),h=Y.useMemo(()=>({basename:u,navigator:a,static:o,future:Pk({v7_relativeSplatPath:!1},l)}),[u,l,a,o]);typeof n=="string"&&(n=Vf(n));let{pathname:f="/",search:g="",hash:y="",state:N=null,key:_="default"}=n,k=Y.useMemo(()=>{let C=ov(f,u);return C==null?null:{location:{pathname:C,search:g,hash:y,state:N,key:_},navigationType:i}},[u,f,g,y,N,_,i]);return k==null?null:Y.createElement(Uf.Provider,{value:h},Y.createElement(UI.Provider,{children:r,value:k}))}new Promise(()=>{});function doe(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:Y.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:Y.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:Y.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ww.apply(this,arguments)}function uoe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function hoe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function foe(t,e){return t.button===0&&(!e||e==="_self")&&!hoe(t)}function TO(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function moe(t,e){let r=TO(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const poe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],goe="6";try{window.__reactRouterVersion=goe}catch{}function xoe(t,e){return _ae({basename:void 0,future:Ww({},void 0,{v7_prependBasename:!0}),history:Yie({window:void 0}),hydrationData:yoe(),routes:t,mapRouteProperties:doe,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function yoe(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ww({},e,{errors:voe(e.errors)})),e}function voe(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Tk(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}const boe=Y.createContext({isTransitioning:!1}),woe=Y.createContext(new Map),joe="startTransition",v8=zie[joe],Noe="flushSync",b8=Xie[Noe];function _oe(t){v8?v8(t):t()}function db(t){b8?b8(t):t()}class Soe{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function koe(t){let{fallbackElement:e,router:r,future:n}=t,[i,a]=Y.useState(r.state),[o,l]=Y.useState(),[u,h]=Y.useState({isTransitioning:!1}),[f,g]=Y.useState(),[y,N]=Y.useState(),[_,k]=Y.useState(),C=Y.useRef(new Map),{v7_startTransition:O}=n||{},T=Y.useCallback(Z=>{O?_oe(Z):Z()},[O]),M=Y.useCallback((Z,re)=>{let{deletedFetchers:le,flushSync:ce,viewTransitionOpts:he}=re;Z.fetchers.forEach((ee,xe)=>{ee.data!==void 0&&C.current.set(xe,ee.data)}),le.forEach(ee=>C.current.delete(ee));let fe=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!he||fe){ce?db(()=>a(Z)):T(()=>a(Z));return}if(ce){db(()=>{y&&(f&&f.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:he.currentLocation,nextLocation:he.nextLocation})});let ee=r.window.document.startViewTransition(()=>{db(()=>a(Z))});ee.finished.finally(()=>{db(()=>{g(void 0),N(void 0),l(void 0),h({isTransitioning:!1})})}),db(()=>N(ee));return}y?(f&&f.resolve(),y.skipTransition(),k({state:Z,currentLocation:he.currentLocation,nextLocation:he.nextLocation})):(l(Z),h({isTransitioning:!0,flushSync:!1,currentLocation:he.currentLocation,nextLocation:he.nextLocation}))},[r.window,y,f,C,T]);Y.useLayoutEffect(()=>r.subscribe(M),[r,M]),Y.useEffect(()=>{u.isTransitioning&&!u.flushSync&&g(new Soe)},[u]),Y.useEffect(()=>{if(f&&o&&r.window){let Z=o,re=f.promise,le=r.window.document.startViewTransition(async()=>{T(()=>a(Z)),await re});le.finished.finally(()=>{g(void 0),N(void 0),l(void 0),h({isTransitioning:!1})}),N(le)}},[T,o,f,r.window]),Y.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,y,i.location,o]),Y.useEffect(()=>{!u.isTransitioning&&_&&(l(_.state),h({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),k(void 0))},[u.isTransitioning,_]),Y.useEffect(()=>{},[]);let B=Y.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:Z=>r.navigate(Z),push:(Z,re,le)=>r.navigate(Z,{state:re,preventScrollReset:le==null?void 0:le.preventScrollReset}),replace:(Z,re,le)=>r.navigate(Z,{replace:!0,state:re,preventScrollReset:le==null?void 0:le.preventScrollReset})}),[r]),F=r.basename||"/",V=Y.useMemo(()=>({router:r,navigator:B,static:!1,basename:F}),[r,B,F]),H=Y.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return Y.useEffect(()=>ooe(n,r.future),[n,r.future]),Y.createElement(Y.Fragment,null,Y.createElement(IC.Provider,{value:V},Y.createElement(XY.Provider,{value:i},Y.createElement(woe.Provider,{value:C.current},Y.createElement(boe.Provider,{value:u},Y.createElement(coe,{basename:F,location:i.location,navigationType:i.historyAction,navigator:B,future:H},i.initialized||r.future.v7_partialHydration?Y.createElement(Aoe,{routes:r.routes,future:r.future,state:i}):e))))),null)}const Aoe=Y.memo(Coe);function Coe(t){let{routes:e,future:r,state:n}=t;return Gae(e,void 0,n,r)}const Eoe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Toe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yo=Y.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:u,to:h,preventScrollReset:f,viewTransition:g}=e,y=uoe(e,poe),{basename:N}=Y.useContext(Uf),_,k=!1;if(typeof h=="string"&&Toe.test(h)&&(_=h,Eoe))try{let M=new URL(window.location.href),B=h.startsWith("//")?new URL(M.protocol+h):new URL(h),F=ov(B.pathname,N);B.origin===M.origin&&F!=null?h=F+B.search+B.hash:k=!0}catch{}let C=Vae(h,{relative:i}),O=Poe(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:g});function T(M){n&&n(M),M.defaultPrevented||O(M)}return Y.createElement("a",Ww({},y,{href:_||C,onClick:k||a?n:T,ref:r,target:u}))});var w8;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(w8||(w8={}));var j8;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(j8||(j8={}));function Poe(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,u=Bn(),h=Yu(),f=ZY(t,{relative:o});return Y.useCallback(g=>{if(foe(g,r)){g.preventDefault();let y=n!==void 0?n:rg(h)===rg(f);u(t,{replace:y,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[h,u,f,n,i,r,t,a,o,l])}function Moe(t){let e=Y.useRef(TO(t)),r=Y.useRef(!1),n=Yu(),i=Y.useMemo(()=>moe(n.search,r.current?null:e.current),[n.search]),a=Bn(),o=Y.useCallback((l,u)=>{const h=TO(typeof l=="function"?l(i):l);r.current=!0,a("?"+h,u)},[a,i]);return[i,o]}let Loe={data:""},Ooe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Loe,Doe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Roe=/\/\*[^]*?\*\/|  +/g,N8=/\n+/g,qh=(t,e)=>{let r="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?qh(o,a):a+"{"+qh(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=qh(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=qh.p?qh.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Ld={},eG=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+eG(t[r]);return e}return t},Ioe=(t,e,r,n,i)=>{let a=eG(t),o=Ld[a]||(Ld[a]=(u=>{let h=0,f=11;for(;h<u.length;)f=101*f+u.charCodeAt(h++)>>>0;return"go"+f})(a));if(!Ld[o]){let u=a!==t?t:(h=>{let f,g,y=[{}];for(;f=Doe.exec(h.replace(Roe,""));)f[4]?y.shift():f[3]?(g=f[3].replace(N8," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][f[1]]=f[2].replace(N8," ").trim();return y[0]})(t);Ld[o]=qh(i?{["@keyframes "+o]:u}:u,r?"":"."+o)}let l=r&&Ld.g?Ld.g:null;return r&&(Ld.g=Ld[o]),((u,h,f,g)=>{g?h.data=h.data.replace(g,u):h.data.indexOf(u)===-1&&(h.data=f?u+h.data:h.data+u)})(Ld[o],e,n,l),o},Foe=(t,e,r)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let l=o(r),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":qh(l,""):l===!1?"":l}return n+i+(o??"")},"");function FC(t){let e=this||{},r=t.call?t(e.p):t;return Ioe(r.unshift?r.raw?Foe(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,Ooe(e.target),e.g,e.o,e.k)}let tG,PO,MO;FC.bind({g:1});let Fu=FC.bind({k:1});function Boe(t,e,r,n){qh.p=e,tG=t,PO=r,MO=n}function qf(t,e){let r=this||{};return function(){let n=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;r.p=Object.assign({theme:PO&&PO()},l),r.o=/ *go\d+/.test(u),l.className=FC.apply(r,n)+(u?" "+u:"");let h=t;return t[0]&&(h=l.as||t,delete l.as),MO&&h[0]&&MO(l),tG(h,l)}return i}}var $oe=t=>typeof t=="function",Mk=(t,e)=>$oe(t)?t(e):t,zoe=(()=>{let t=0;return()=>(++t).toString()})(),rG=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Hoe=20,sG=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Hoe)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return sG(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},p_=[],Vm={toasts:[],pausedAt:void 0},Ng=t=>{Vm=sG(Vm,t),p_.forEach(e=>{e(Vm)})},Woe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Voe=(t={})=>{let[e,r]=Y.useState(Vm),n=Y.useRef(Vm);Y.useEffect(()=>(n.current!==Vm&&r(Vm),p_.push(r),()=>{let a=p_.indexOf(r);a>-1&&p_.splice(a,1)}),[]);let i=e.toasts.map(a=>{var o,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||Woe[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...e,toasts:i}},Uoe=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||zoe()}),Jj=t=>(e,r)=>{let n=Uoe(e,t,r);return Ng({type:2,toast:n}),n.id},lt=(t,e)=>Jj("blank")(t,e);lt.error=Jj("error");lt.success=Jj("success");lt.loading=Jj("loading");lt.custom=Jj("custom");lt.dismiss=t=>{Ng({type:3,toastId:t})};lt.remove=t=>Ng({type:4,toastId:t});lt.promise=(t,e,r)=>{let n=lt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?Mk(e.success,i):void 0;return a?lt.success(a,{id:n,...r,...r==null?void 0:r.success}):lt.dismiss(n),i}).catch(i=>{let a=e.error?Mk(e.error,i):void 0;a?lt.error(a,{id:n,...r,...r==null?void 0:r.error}):lt.dismiss(n)}),t};var qoe=(t,e)=>{Ng({type:1,toast:{id:t,height:e}})},Xoe=()=>{Ng({type:5,time:Date.now()})},Sw=new Map,Yoe=1e3,Goe=(t,e=Yoe)=>{if(Sw.has(t))return;let r=setTimeout(()=>{Sw.delete(t),Ng({type:4,toastId:t})},e);Sw.set(t,r)},Zoe=t=>{let{toasts:e,pausedAt:r}=Voe(t);Y.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let u=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(u<0){l.visible&&lt.dismiss(l.id);return}return setTimeout(()=>lt.dismiss(l.id),u)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=Y.useCallback(()=>{r&&Ng({type:6,time:Date.now()})},[r]),i=Y.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:u=8,defaultPosition:h}=o||{},f=e.filter(N=>(N.position||h)===(a.position||h)&&N.height),g=f.findIndex(N=>N.id===a.id),y=f.filter((N,_)=>_<g&&N.visible).length;return f.filter(N=>N.visible).slice(...l?[y+1]:[0,y]).reduce((N,_)=>N+(_.height||0)+u,0)},[e]);return Y.useEffect(()=>{e.forEach(a=>{if(a.dismissed)Goe(a.id,a.removeDelay);else{let o=Sw.get(a.id);o&&(clearTimeout(o),Sw.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:qoe,startPause:Xoe,endPause:n,calculateOffset:i}}},Koe=Fu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Joe=Fu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qoe=Fu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ele=qf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Koe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Joe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Qoe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tle=Fu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rle=qf("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${tle} 1s linear infinite;
`,sle=Fu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nle=Fu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ile=qf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sle} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nle} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ale=qf("div")`
  position: absolute;
`,ole=qf("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lle=Fu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cle=qf("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lle} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dle=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?Y.createElement(cle,null,e):e:r==="blank"?null:Y.createElement(ole,null,Y.createElement(rle,{...n}),r!=="loading"&&Y.createElement(ale,null,r==="error"?Y.createElement(ele,{...n}):Y.createElement(ile,{...n})))},ule=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hle=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,fle="0%{opacity:0;} 100%{opacity:1;}",mle="0%{opacity:1;} 100%{opacity:0;}",ple=qf("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,gle=qf("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,xle=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=rG()?[fle,mle]:[ule(r),hle(r)];return{animation:e?`${Fu(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fu(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},yle=Y.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?xle(t.position||e||"top-center",t.visible):{opacity:0},a=Y.createElement(dle,{toast:t}),o=Y.createElement(gle,{...t.ariaProps},Mk(t.message,t));return Y.createElement(ple,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):Y.createElement(Y.Fragment,null,a,o))});Boe(Y.createElement);var vle=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=Y.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;n(t,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return Y.createElement("div",{ref:a,className:e,style:r},i)},ble=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rG()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},wle=FC`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,R2=16,jle=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:u}=Zoe(r);return Y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:R2,left:R2,right:R2,bottom:R2,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(h=>{let f=h.position||e,g=u.calculateOffset(h,{reverseOrder:t,gutter:n,defaultPosition:e}),y=ble(f,g);return Y.createElement(vle,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?wle:"",style:y},h.type==="custom"?Mk(h.message,h):i?i(h):Y.createElement(yle,{toast:h,position:f}))}))},on=lt;class Nle extends Y.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){}render(){return this.state.hasError?this.props.fallback?s.jsx(s.Fragment,{children:this.props.fallback}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h1",{className:"mt-4 text-xl font-semibold text-center text-gray-900",children:"Something went wrong"}),s.jsx("p",{className:"mt-2 text-sm text-center text-gray-600",children:"We're sorry for the inconvenience. Please try refreshing the page."}),!1,s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 w-full px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Refresh Page"})]})}):this.props.children}}const wc={metrics:{totalLoadsToday:42,activeDrivers:18,revenueThisWeek:78500,loadsDeliveredOnTime:38,totalMiles:24680,fuelCost:12450,pendingInvoices:15,customerSatisfaction:92},revenuePerCustomer:[{customer:"Acme Co",revenue:22500,color:"#3498db"},{customer:"Global Logistics",revenue:18700,color:"#2ecc71"},{customer:"Fast Freight",revenue:25300,color:"#f39c12"},{customer:"Speedy Shipping",revenue:12e3,color:"#e74c3c"},{customer:"Reliable Transport",revenue:16800,color:"#9b59b6"},{customer:"Prime Delivery",revenue:19200,color:"#1abc9c"}],weeklyLoadVolume:{dates:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],counts:[12,18,15,22,28,16,14]},monthlyTrends:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],revenue:[45e3,52e3,49e3,58e3,62e3,68e3,72e3,75e3,7e4,78500,0,0],expenses:[32e3,35e3,33e3,37e3,39e3,42e3,45e3,47e3,44e3,48e3,0,0],loads:[85,92,88,98,105,112,118,125,115,130,0,0]},driverPerformance:[{name:"John Smith",miles:3250,deliveries:12,rating:4.8,onTime:95},{name:"Maria Garcia",miles:2980,deliveries:10,rating:4.9,onTime:100},{name:"Robert Johnson",miles:3100,deliveries:11,rating:4.7,onTime:90},{name:"Sarah Williams",miles:2850,deliveries:9,rating:4.8,onTime:95},{name:"David Brown",miles:3400,deliveries:13,rating:4.6,onTime:85}],recentActivity:[{load:"LD1001",origin:"New York, NY",destination:"Chicago, IL",status:"Booked",date:"2025-10-01",customer:"Acme Co",driver:"John Smith"},{load:"LD1002",origin:"Dallas, TX",destination:"Houston, TX",status:"Assigned",date:"2025-10-01",customer:"Global Logistics",driver:"Maria Garcia"},{load:"LD1003",origin:"Miami, FL",destination:"Atlanta, GA",status:"Picked Up",date:"2025-10-02",customer:"Fast Freight",driver:"Robert Johnson"},{load:"LD1004",origin:"Seattle, WA",destination:"Portland, OR",status:"Delivered",date:"2025-10-02",customer:"Speedy Shipping",driver:"Sarah Williams"},{load:"LD1005",origin:"Boston, MA",destination:"Philadelphia, PA",status:"Booked",date:"2025-10-03",customer:"Reliable Transport",driver:""},{load:"LD1006",origin:"San Francisco, CA",destination:"Los Angeles, CA",status:"Assigned",date:"2025-10-03",customer:"Prime Delivery",driver:"David Brown"},{load:"LD1007",origin:"Denver, CO",destination:"Phoenix, AZ",status:"Picked Up",date:"2025-10-04",customer:"Acme Co",driver:"John Smith"},{load:"LD1008",origin:"Minneapolis, MN",destination:"Milwaukee, WI",status:"Delivered",date:"2025-10-04",customer:"Global Logistics",driver:"Maria Garcia"}],upcomingDeliveries:[{load:"LD1003",destination:"Atlanta, GA",eta:"2025-10-05 14:30",status:"On Schedule",driver:"Robert Johnson"},{load:"LD1006",destination:"Los Angeles, CA",eta:"2025-10-06 09:15",status:"Delayed",driver:"David Brown"},{load:"LD1007",destination:"Phoenix, AZ",eta:"2025-10-05 18:45",status:"On Schedule",driver:"John Smith"}],fuelPrices:{regions:["Northeast","Southeast","Midwest","Southwest","West"],prices:[3.85,3.65,3.72,3.58,4.12]},weatherAlerts:[{region:"Northeast",alert:"Heavy Rain",impact:"Medium",affectedLoads:3},{region:"Midwest",alert:"Snow",impact:"High",affectedLoads:5}]},jc=(t,e=500)=>new Promise(r=>{setTimeout(()=>r(t),e)}),LO={getDashboardData:()=>jc(wc),getDashboardMetrics:()=>jc(wc.metrics),getRevenuePerCustomer:()=>jc(wc.revenuePerCustomer),getWeeklyLoadVolume:()=>jc(wc.weeklyLoadVolume),getMonthlyTrends:()=>jc(wc.monthlyTrends),getDriverPerformance:()=>jc(wc.driverPerformance),getRecentActivity:()=>jc(wc.recentActivity),getUpcomingDeliveries:()=>jc(wc.upcomingDeliveries),getFuelPrices:()=>jc(wc.fuelPrices),getWeatherAlerts:()=>jc(wc.weatherAlerts)},Nn=(t,e=800)=>new Promise(r=>{setTimeout(()=>r(t),e)}),At=(t,e="success")=>{e==="success"?lt.success(t):e==="error"?lt.error(t):lt.loading(t)},_8=[{id:"D1001",name:"John Smith",phone:"555-123-4567",status:"available"},{id:"D1002",name:"Maria Garcia",phone:"555-234-5678",status:"available"},{id:"D1003",name:"Robert Johnson",phone:"555-345-6789",status:"available"},{id:"D1004",name:"Sarah Williams",phone:"555-456-7890",status:"available"},{id:"D1005",name:"David Brown",phone:"555-567-8901",status:"available"}],Ps={assignDriver:async(t,e)=>{const r=_8.find(i=>i.id===e);if(!r)throw At("Failed to assign driver: Driver not found","error"),new Error("Driver not found");const n={id:t,status:"Assigned",driver:r.name};return await Nn(n),At(`Successfully assigned ${r.name} to load ${t}`),n},getAvailableDrivers:async()=>Nn(_8),markAsPickedUp:async t=>{const e=new Date().toLocaleDateString(),r={id:t,status:"Picked Up",pickupDate:e,eta:new Date(Date.now()+2*24*60*60*1e3).toLocaleDateString()+" 14:30"};return await Nn(r),At(`Load ${t} has been picked up`),r},markAsDelivered:async t=>{const e=new Date().toLocaleDateString(),r={id:t,status:"Delivered",deliveryDate:e};return await Nn(r),At(`Load ${t} has been delivered successfully`),r},createInvoice:async t=>{const e="INV-"+Math.floor(1e4+Math.random()*9e4);return await Nn({invoiceId:e,loadId:t}),At(`Invoice ${e} created for load ${t}`),{invoiceId:e,loadId:t}},createLoad:async t=>{const e="LD"+Math.floor(1e3+Math.random()*9e3);return await Nn({id:e}),At(`New load ${e} created successfully`),{id:e}},editLoad:async(t,e)=>(await Nn({id:t}),At(`Load ${t} updated successfully`),{id:t}),duplicateLoad:async t=>{const e="LD"+Math.floor(1e3+Math.random()*9e3);return await Nn({id:e,originalId:t}),At(`Load ${t} duplicated as ${e}`),{id:e,originalId:t}},uploadDocument:async(t,e)=>{const r="DOC-"+Math.floor(1e4+Math.random()*9e4);return await Nn({id:r,filename:t.name}),At(`Document ${t.name} uploaded successfully`),{id:r,filename:t.name}},downloadDocument:async t=>{await Nn({}),At("Document download started")},sendTrackingUpdate:async(t,e)=>{await Nn({}),At(`Tracking update sent for load ${t}`)},sendInvoice:async(t,e)=>{await Nn({}),At(`Invoice ${t} sent to ${e}`)},markInvoiceAsPaid:async t=>{const e=new Date().toLocaleDateString(),r={id:t,invoiceNumber:t,status:"paid",paidDate:e};return await Nn(r),At(`Invoice ${t} marked as paid`),r},sendInvoiceReminder:async t=>{await Nn({}),At(`Payment reminder sent for invoice ${t}`)},downloadInvoice:async t=>{await Nn({}),At(`Invoice ${t} download started`)},syncWithQuickBooks:async()=>{await Nn({},1500),At("Successfully synchronized with QuickBooks")},sendOverdueReminders:async()=>{await Nn({},1200),At("Payment reminders sent to all overdue customers")},downloadInvoiceReport:async()=>{await Nn({},1e3),At("Invoice report downloaded successfully")},bulkUpdateInvoiceStatus:async t=>{await Nn({},1500),At(`Selected invoices marked as ${t}`)},generateReport:async(t,e)=>{const r="RPT-"+Math.floor(1e4+Math.random()*9e4);return await Nn({reportId:r,url:`reports/${r}.pdf`}),At(`${t} report generated successfully`),{reportId:r,url:`reports/${r}.pdf`}},saveSettings:async t=>{await Nn({}),At("Settings saved successfully")}};var ln=(t=>(t.ADMIN="ADMIN",t.SUPERVISOR="SUPERVISOR",t.DISPATCHER="DISPATCHER",t.DRIVER="DRIVER",t.ACCOUNTING="ACCOUNTING",t.SALES="SALES",t.SUPPORT="SUPPORT",t.BROKER="BROKER",t.CARRIER="CARRIER",t.SHIPPER="SHIPPER",t.OPERATOR="OPERATOR",t))(ln||{});function nG(t,e){return function(){return t.apply(e,arguments)}}const{toString:_le}=Object.prototype,{getPrototypeOf:qI}=Object,{iterator:BC,toStringTag:iG}=Symbol,$C=(t=>e=>{const r=_le.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),oc=t=>(t=t.toLowerCase(),e=>$C(e)===t),zC=t=>e=>typeof e===t,{isArray:cv}=Array,Vw=zC("undefined");function Sle(t){return t!==null&&!Vw(t)&&t.constructor!==null&&!Vw(t.constructor)&&Wa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const aG=oc("ArrayBuffer");function kle(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&aG(t.buffer),e}const Ale=zC("string"),Wa=zC("function"),oG=zC("number"),HC=t=>t!==null&&typeof t=="object",Cle=t=>t===!0||t===!1,g_=t=>{if($C(t)!=="object")return!1;const e=qI(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(iG in t)&&!(BC in t)},Ele=oc("Date"),Tle=oc("File"),Ple=oc("Blob"),Mle=oc("FileList"),Lle=t=>HC(t)&&Wa(t.pipe),Ole=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Wa(t.append)&&((e=$C(t))==="formdata"||e==="object"&&Wa(t.toString)&&t.toString()==="[object FormData]"))},Dle=oc("URLSearchParams"),[Rle,Ile,Fle,Ble]=["ReadableStream","Request","Response","Headers"].map(oc),$le=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qj(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),cv(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(n=0;n<o;n++)l=a[n],e.call(null,t[l],l,t)}}function lG(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Um=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cG=t=>!Vw(t)&&t!==Um;function OO(){const{caseless:t}=cG(this)&&this||{},e={},r=(n,i)=>{const a=t&&lG(e,i)||i;g_(e[a])&&g_(n)?e[a]=OO(e[a],n):g_(n)?e[a]=OO({},n):cv(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Qj(arguments[n],r);return e}const zle=(t,e,r,{allOwnKeys:n}={})=>(Qj(e,(i,a)=>{r&&Wa(i)?t[a]=nG(i,r):t[a]=i},{allOwnKeys:n}),t),Hle=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Wle=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Vle=(t,e,r,n)=>{let i,a,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&qI(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Ule=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},qle=t=>{if(!t)return null;if(cv(t))return t;let e=t.length;if(!oG(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Xle=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&qI(Uint8Array)),Yle=(t,e)=>{const n=(t&&t[BC]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Gle=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Zle=oc("HTMLFormElement"),Kle=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),S8=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Jle=oc("RegExp"),dG=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Qj(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},Qle=t=>{dG(t,(e,r)=>{if(Wa(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Wa(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ece=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return cv(t)?n(t):n(String(t).split(e)),r},tce=()=>{},rce=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function sce(t){return!!(t&&Wa(t.append)&&t[iG]==="FormData"&&t[BC])}const nce=t=>{const e=new Array(10),r=(n,i)=>{if(HC(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=cv(n)?[]:{};return Qj(n,(o,l)=>{const u=r(o,i+1);!Vw(u)&&(a[l]=u)}),e[i]=void 0,a}}return n};return r(t,0)},ice=oc("AsyncFunction"),ace=t=>t&&(HC(t)||Wa(t))&&Wa(t.then)&&Wa(t.catch),uG=((t,e)=>t?setImmediate:e?((r,n)=>(Um.addEventListener("message",({source:i,data:a})=>{i===Um&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Um.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Wa(Um.postMessage)),oce=typeof queueMicrotask<"u"?queueMicrotask.bind(Um):typeof process<"u"&&process.nextTick||uG,lce=t=>t!=null&&Wa(t[BC]),pt={isArray:cv,isArrayBuffer:aG,isBuffer:Sle,isFormData:Ole,isArrayBufferView:kle,isString:Ale,isNumber:oG,isBoolean:Cle,isObject:HC,isPlainObject:g_,isReadableStream:Rle,isRequest:Ile,isResponse:Fle,isHeaders:Ble,isUndefined:Vw,isDate:Ele,isFile:Tle,isBlob:Ple,isRegExp:Jle,isFunction:Wa,isStream:Lle,isURLSearchParams:Dle,isTypedArray:Xle,isFileList:Mle,forEach:Qj,merge:OO,extend:zle,trim:$le,stripBOM:Hle,inherits:Wle,toFlatObject:Vle,kindOf:$C,kindOfTest:oc,endsWith:Ule,toArray:qle,forEachEntry:Yle,matchAll:Gle,isHTMLForm:Zle,hasOwnProperty:S8,hasOwnProp:S8,reduceDescriptors:dG,freezeMethods:Qle,toObjectSet:ece,toCamelCase:Kle,noop:tce,toFiniteNumber:rce,findKey:lG,global:Um,isContextDefined:cG,isSpecCompliantForm:sce,toJSONObject:nce,isAsyncFn:ice,isThenable:ace,setImmediate:uG,asap:oce,isIterable:lce};function Lr(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}pt.inherits(Lr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pt.toJSONObject(this.config),code:this.code,status:this.status}}});const hG=Lr.prototype,fG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fG[t]={value:t}});Object.defineProperties(Lr,fG);Object.defineProperty(hG,"isAxiosError",{value:!0});Lr.from=(t,e,r,n,i,a)=>{const o=Object.create(hG);return pt.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Lr.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const cce=null;function DO(t){return pt.isPlainObject(t)||pt.isArray(t)}function mG(t){return pt.endsWith(t,"[]")?t.slice(0,-2):t}function k8(t,e,r){return t?t.concat(e).map(function(i,a){return i=mG(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function dce(t){return pt.isArray(t)&&!t.some(DO)}const uce=pt.toFlatObject(pt,{},null,function(e){return/^is[A-Z]/.test(e)});function WC(t,e,r){if(!pt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=pt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,C){return!pt.isUndefined(C[k])});const n=r.metaTokens,i=r.visitor||f,a=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&pt.isSpecCompliantForm(e);if(!pt.isFunction(i))throw new TypeError("visitor must be a function");function h(_){if(_===null)return"";if(pt.isDate(_))return _.toISOString();if(!u&&pt.isBlob(_))throw new Lr("Blob is not supported. Use a Buffer instead.");return pt.isArrayBuffer(_)||pt.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,k,C){let O=_;if(_&&!C&&typeof _=="object"){if(pt.endsWith(k,"{}"))k=n?k:k.slice(0,-2),_=JSON.stringify(_);else if(pt.isArray(_)&&dce(_)||(pt.isFileList(_)||pt.endsWith(k,"[]"))&&(O=pt.toArray(_)))return k=mG(k),O.forEach(function(M,B){!(pt.isUndefined(M)||M===null)&&e.append(o===!0?k8([k],B,a):o===null?k:k+"[]",h(M))}),!1}return DO(_)?!0:(e.append(k8(C,k,a),h(_)),!1)}const g=[],y=Object.assign(uce,{defaultVisitor:f,convertValue:h,isVisitable:DO});function N(_,k){if(!pt.isUndefined(_)){if(g.indexOf(_)!==-1)throw Error("Circular reference detected in "+k.join("."));g.push(_),pt.forEach(_,function(O,T){(!(pt.isUndefined(O)||O===null)&&i.call(e,O,pt.isString(T)?T.trim():T,k,y))===!0&&N(O,k?k.concat(T):[T])}),g.pop()}}if(!pt.isObject(t))throw new TypeError("data must be an object");return N(t),e}function A8(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function XI(t,e){this._pairs=[],t&&WC(t,this,e)}const pG=XI.prototype;pG.append=function(e,r){this._pairs.push([e,r])};pG.toString=function(e){const r=e?function(n){return e.call(this,n,A8)}:A8;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function hce(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gG(t,e,r){if(!e)return t;const n=r&&r.encode||hce;pt.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(e,r):a=pt.isURLSearchParams(e)?e.toString():new XI(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class C8{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pt.forEach(this.handlers,function(n){n!==null&&e(n)})}}const xG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fce=typeof URLSearchParams<"u"?URLSearchParams:XI,mce=typeof FormData<"u"?FormData:null,pce=typeof Blob<"u"?Blob:null,gce={isBrowser:!0,classes:{URLSearchParams:fce,FormData:mce,Blob:pce},protocols:["http","https","file","blob","url","data"]},YI=typeof window<"u"&&typeof document<"u",RO=typeof navigator=="object"&&navigator||void 0,xce=YI&&(!RO||["ReactNative","NativeScript","NS"].indexOf(RO.product)<0),yce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vce=YI&&window.location.href||"http://localhost",bce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:YI,hasStandardBrowserEnv:xce,hasStandardBrowserWebWorkerEnv:yce,navigator:RO,origin:vce},Symbol.toStringTag,{value:"Module"})),Ui={...bce,...gce};function wce(t,e){return WC(t,new Ui.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Ui.isNode&&pt.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function jce(t){return pt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Nce(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function yG(t){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=a>=r.length;return o=!o&&pt.isArray(i)?i.length:o,u?(pt.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!pt.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&pt.isArray(i[o])&&(i[o]=Nce(i[o])),!l)}if(pt.isFormData(t)&&pt.isFunction(t.entries)){const r={};return pt.forEachEntry(t,(n,i)=>{e(jce(n),i,r,0)}),r}return null}function _ce(t,e,r){if(pt.isString(t))try{return(e||JSON.parse)(t),pt.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const eN={transitional:xG,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=pt.isObject(e);if(a&&pt.isHTMLForm(e)&&(e=new FormData(e)),pt.isFormData(e))return i?JSON.stringify(yG(e)):e;if(pt.isArrayBuffer(e)||pt.isBuffer(e)||pt.isStream(e)||pt.isFile(e)||pt.isBlob(e)||pt.isReadableStream(e))return e;if(pt.isArrayBufferView(e))return e.buffer;if(pt.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return wce(e,this.formSerializer).toString();if((l=pt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return WC(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),_ce(e)):e}],transformResponse:[function(e){const r=this.transitional||eN.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(pt.isResponse(e)||pt.isReadableStream(e))return e;if(e&&pt.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Lr.from(l,Lr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ui.classes.FormData,Blob:Ui.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pt.forEach(["delete","get","head","post","put","patch"],t=>{eN.headers[t]={}});const Sce=pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kce=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Sce[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},E8=Symbol("internals");function ub(t){return t&&String(t).trim().toLowerCase()}function x_(t){return t===!1||t==null?t:pt.isArray(t)?t.map(x_):String(t)}function Ace(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Cce=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function FP(t,e,r,n,i){if(pt.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!pt.isString(e)){if(pt.isString(n))return e.indexOf(n)!==-1;if(pt.isRegExp(n))return n.test(e)}}function Ece(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Tce(t,e){const r=pt.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}let Va=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(l,u,h){const f=ub(u);if(!f)throw new Error("header name must be a non-empty string");const g=pt.findKey(i,f);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||u]=x_(l))}const o=(l,u)=>pt.forEach(l,(h,f)=>a(h,f,u));if(pt.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(pt.isString(e)&&(e=e.trim())&&!Cce(e))o(kce(e),r);else if(pt.isObject(e)&&pt.isIterable(e)){let l={},u,h;for(const f of e){if(!pt.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[h=f[0]]=(u=l[h])?pt.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(l,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=ub(e),e){const n=pt.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Ace(i);if(pt.isFunction(r))return r.call(this,i,n);if(pt.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ub(e),e){const n=pt.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||FP(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=ub(o),o){const l=pt.findKey(n,o);l&&(!r||FP(n,n[l],l,r))&&(delete n[l],i=!0)}}return pt.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||FP(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return pt.forEach(this,(i,a)=>{const o=pt.findKey(n,a);if(o){r[o]=x_(i),delete r[a];return}const l=e?Ece(a):String(a).trim();l!==a&&delete r[a],r[l]=x_(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return pt.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&pt.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[E8]=this[E8]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=ub(o);n[l]||(Tce(i,o),n[l]=!0)}return pt.isArray(e)?e.forEach(a):a(e),this}};Va.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pt.reduceDescriptors(Va.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});pt.freezeMethods(Va);function BP(t,e){const r=this||eN,n=e||r,i=Va.from(n.headers);let a=n.data;return pt.forEach(t,function(l){a=l.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function vG(t){return!!(t&&t.__CANCEL__)}function dv(t,e,r){Lr.call(this,t??"canceled",Lr.ERR_CANCELED,e,r),this.name="CanceledError"}pt.inherits(dv,Lr,{__CANCEL__:!0});function bG(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Lr("Request failed with status code "+r.status,[Lr.ERR_BAD_REQUEST,Lr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Pce(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Mce(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=n[a];o||(o=h),r[i]=u,n[i]=h;let g=a,y=0;for(;g!==i;)y+=r[g++],g=g%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),h-o<e)return;const N=f&&h-f;return N?Math.round(y*1e3/N):void 0}}function Lce(t,e){let r=0,n=1e3/e,i,a;const o=(h,f=Date.now())=>{r=f,i=null,a&&(clearTimeout(a),a=null),t.apply(null,h)};return[(...h)=>{const f=Date.now(),g=f-r;g>=n?o(h,f):(i=h,a||(a=setTimeout(()=>{a=null,o(i)},n-g)))},()=>i&&o(i)]}const Lk=(t,e,r=3)=>{let n=0;const i=Mce(50,250);return Lce(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,u=o-n,h=i(u),f=o<=l;n=o;const g={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&f?(l-o)/h:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(g)},r)},T8=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},P8=t=>(...e)=>pt.asap(()=>t(...e)),Oce=Ui.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Ui.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Ui.origin),Ui.navigator&&/(msie|trident)/i.test(Ui.navigator.userAgent)):()=>!0,Dce=Ui.hasStandardBrowserEnv?{write(t,e,r,n,i,a){const o=[t+"="+encodeURIComponent(e)];pt.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),pt.isString(n)&&o.push("path="+n),pt.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rce(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ice(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wG(t,e,r){let n=!Rce(e);return t&&(n||r==!1)?Ice(t,e):e}const M8=t=>t instanceof Va?{...t}:t;function sg(t,e){e=e||{};const r={};function n(h,f,g,y){return pt.isPlainObject(h)&&pt.isPlainObject(f)?pt.merge.call({caseless:y},h,f):pt.isPlainObject(f)?pt.merge({},f):pt.isArray(f)?f.slice():f}function i(h,f,g,y){if(pt.isUndefined(f)){if(!pt.isUndefined(h))return n(void 0,h,g,y)}else return n(h,f,g,y)}function a(h,f){if(!pt.isUndefined(f))return n(void 0,f)}function o(h,f){if(pt.isUndefined(f)){if(!pt.isUndefined(h))return n(void 0,h)}else return n(void 0,f)}function l(h,f,g){if(g in e)return n(h,f);if(g in t)return n(void 0,h)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,f,g)=>i(M8(h),M8(f),g,!0)};return pt.forEach(Object.keys(Object.assign({},t,e)),function(f){const g=u[f]||i,y=g(t[f],e[f],f);pt.isUndefined(y)&&g!==l||(r[f]=y)}),r}const jG=t=>{const e=sg({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=Va.from(o),e.url=gG(wG(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(pt.isFormData(r)){if(Ui.hasStandardBrowserEnv||Ui.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[h,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...f].join("; "))}}if(Ui.hasStandardBrowserEnv&&(n&&pt.isFunction(n)&&(n=n(e)),n||n!==!1&&Oce(e.url))){const h=i&&a&&Dce.read(a);h&&o.set(i,h)}return e},Fce=typeof XMLHttpRequest<"u",Bce=Fce&&function(t){return new Promise(function(r,n){const i=jG(t);let a=i.data;const o=Va.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=i,f,g,y,N,_;function k(){N&&N(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function O(){if(!C)return;const M=Va.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),F={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:t,request:C};bG(function(H){r(H),k()},function(H){n(H),k()},F),C=null}"onloadend"in C?C.onloadend=O:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(O)},C.onabort=function(){C&&(n(new Lr("Request aborted",Lr.ECONNABORTED,t,C)),C=null)},C.onerror=function(){n(new Lr("Network Error",Lr.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||xG;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),n(new Lr(B,F.clarifyTimeoutError?Lr.ETIMEDOUT:Lr.ECONNABORTED,t,C)),C=null},a===void 0&&o.setContentType(null),"setRequestHeader"in C&&pt.forEach(o.toJSON(),function(B,F){C.setRequestHeader(F,B)}),pt.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),l&&l!=="json"&&(C.responseType=i.responseType),h&&([y,_]=Lk(h,!0),C.addEventListener("progress",y)),u&&C.upload&&([g,N]=Lk(u),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",N)),(i.cancelToken||i.signal)&&(f=M=>{C&&(n(!M||M.type?new dv(null,t,C):M),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const T=Pce(i.url);if(T&&Ui.protocols.indexOf(T)===-1){n(new Lr("Unsupported protocol "+T+":",Lr.ERR_BAD_REQUEST,t));return}C.send(a||null)})},$ce=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const a=function(h){if(!i){i=!0,l();const f=h instanceof Error?h:this.reason;n.abort(f instanceof Lr?f:new dv(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,a(new Lr(`timeout ${e} of ms exceeded`,Lr.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:u}=n;return u.unsubscribe=()=>pt.asap(l),u}},zce=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Hce=async function*(t,e){for await(const r of Wce(t))yield*zce(r,e)},Wce=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},L8=(t,e,r,n)=>{const i=Hce(t,e);let a=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await i.next();if(h){l(),u.close();return}let g=f.byteLength;if(r){let y=a+=g;r(y)}u.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},VC=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",NG=VC&&typeof ReadableStream=="function",Vce=VC&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),_G=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Uce=NG&&_G(()=>{let t=!1;const e=new Request(Ui.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),O8=64*1024,IO=NG&&_G(()=>pt.isReadableStream(new Response("").body)),Ok={stream:IO&&(t=>t.body)};VC&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ok[e]&&(Ok[e]=pt.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Lr(`Response type '${e}' is not supported`,Lr.ERR_NOT_SUPPORT,n)})})})(new Response);const qce=async t=>{if(t==null)return 0;if(pt.isBlob(t))return t.size;if(pt.isSpecCompliantForm(t))return(await new Request(Ui.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(pt.isArrayBufferView(t)||pt.isArrayBuffer(t))return t.byteLength;if(pt.isURLSearchParams(t)&&(t=t+""),pt.isString(t))return(await Vce(t)).byteLength},Xce=async(t,e)=>{const r=pt.toFiniteNumber(t.getContentLength());return r??qce(e)},Yce=VC&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:h,headers:f,withCredentials:g="same-origin",fetchOptions:y}=jG(t);h=h?(h+"").toLowerCase():"text";let N=$ce([i,a&&a.toAbortSignal()],o),_;const k=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let C;try{if(u&&Uce&&r!=="get"&&r!=="head"&&(C=await Xce(f,n))!==0){let F=new Request(e,{method:"POST",body:n,duplex:"half"}),V;if(pt.isFormData(n)&&(V=F.headers.get("content-type"))&&f.setContentType(V),F.body){const[H,Z]=T8(C,Lk(P8(u)));n=L8(F.body,O8,H,Z)}}pt.isString(g)||(g=g?"include":"omit");const O="credentials"in Request.prototype;_=new Request(e,{...y,signal:N,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:O?g:void 0});let T=await fetch(_);const M=IO&&(h==="stream"||h==="response");if(IO&&(l||M&&k)){const F={};["status","statusText","headers"].forEach(re=>{F[re]=T[re]});const V=pt.toFiniteNumber(T.headers.get("content-length")),[H,Z]=l&&T8(V,Lk(P8(l),!0))||[];T=new Response(L8(T.body,O8,H,()=>{Z&&Z(),k&&k()}),F)}h=h||"text";let B=await Ok[pt.findKey(Ok,h)||"text"](T,t);return!M&&k&&k(),await new Promise((F,V)=>{bG(F,V,{data:B,headers:Va.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:_})})}catch(O){throw k&&k(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Lr("Network Error",Lr.ERR_NETWORK,t,_),{cause:O.cause||O}):Lr.from(O,O&&O.code,t,_)}}),FO={http:cce,xhr:Bce,fetch:Yce};pt.forEach(FO,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const D8=t=>`- ${t}`,Gce=t=>pt.isFunction(t)||t===null||t===!1,SG={getAdapter:t=>{t=pt.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!Gce(r)&&(n=FO[(o=String(r)).toLowerCase()],n===void 0))throw new Lr(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(D8).join(`
`):" "+D8(a[0]):"as no adapter specified";throw new Lr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:FO};function $P(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dv(null,t)}function R8(t){return $P(t),t.headers=Va.from(t.headers),t.data=BP.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SG.getAdapter(t.adapter||eN.adapter)(t).then(function(n){return $P(t),n.data=BP.call(t,t.transformResponse,n),n.headers=Va.from(n.headers),n},function(n){return vG(n)||($P(t),n&&n.response&&(n.response.data=BP.call(t,t.transformResponse,n.response),n.response.headers=Va.from(n.response.headers))),Promise.reject(n)})}const kG="1.9.0",UC={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{UC[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const I8={};UC.transitional=function(e,r,n){function i(a,o){return"[Axios v"+kG+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(e===!1)throw new Lr(i(o," has been removed"+(r?" in "+r:"")),Lr.ERR_DEPRECATED);return r&&!I8[o]&&(I8[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,l):!0}};UC.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Zce(t,e,r){if(typeof t!="object")throw new Lr("options must be an object",Lr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const l=t[a],u=l===void 0||o(l,a,t);if(u!==!0)throw new Lr("option "+a+" must be "+u,Lr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Lr("Unknown option "+a,Lr.ERR_BAD_OPTION)}}const y_={assertOptions:Zce,validators:UC},Nc=y_.validators;let Zp=class{constructor(e){this.defaults=e||{},this.interceptors={request:new C8,response:new C8}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=sg(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&y_.assertOptions(n,{silentJSONParsing:Nc.transitional(Nc.boolean),forcedJSONParsing:Nc.transitional(Nc.boolean),clarifyTimeoutError:Nc.transitional(Nc.boolean)},!1),i!=null&&(pt.isFunction(i)?r.paramsSerializer={serialize:i}:y_.assertOptions(i,{encode:Nc.function,serialize:Nc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),y_.assertOptions(r,{baseUrl:Nc.spelling("baseURL"),withXsrfToken:Nc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&pt.merge(a.common,a[r.method]);a&&pt.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),r.headers=Va.concat(o,a);const l=[];let u=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(u=u&&k.synchronous,l.unshift(k.fulfilled,k.rejected))});const h=[];this.interceptors.response.forEach(function(k){h.push(k.fulfilled,k.rejected)});let f,g=0,y;if(!u){const _=[R8.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,h),y=_.length,f=Promise.resolve(r);g<y;)f=f.then(_[g++],_[g++]);return f}y=l.length;let N=r;for(g=0;g<y;){const _=l[g++],k=l[g++];try{N=_(N)}catch(C){k.call(this,C);break}}try{f=R8.call(this,N)}catch(_){return Promise.reject(_)}for(g=0,y=h.length;g<y;)f=f.then(h[g++],h[g++]);return f}getUri(e){e=sg(this.defaults,e);const r=wG(e.baseURL,e.url,e.allowAbsoluteUrls);return gG(r,e.params,e.paramsSerializer)}};pt.forEach(["delete","get","head","options"],function(e){Zp.prototype[e]=function(r,n){return this.request(sg(n||{},{method:e,url:r,data:(n||{}).data}))}});pt.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,l){return this.request(sg(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Zp.prototype[e]=r(),Zp.prototype[e+"Form"]=r(!0)});let Kce=class AG{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,l){n.reason||(n.reason=new dv(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new AG(function(i){e=i}),cancel:e}}};function Jce(t){return function(r){return t.apply(null,r)}}function Qce(t){return pt.isObject(t)&&t.isAxiosError===!0}const BO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(BO).forEach(([t,e])=>{BO[e]=t});function CG(t){const e=new Zp(t),r=nG(Zp.prototype.request,e);return pt.extend(r,Zp.prototype,e,{allOwnKeys:!0}),pt.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return CG(sg(t,i))},r}const Us=CG(eN);Us.Axios=Zp;Us.CanceledError=dv;Us.CancelToken=Kce;Us.isCancel=vG;Us.VERSION=kG;Us.toFormData=WC;Us.AxiosError=Lr;Us.Cancel=Us.CanceledError;Us.all=function(e){return Promise.all(e)};Us.spread=Jce;Us.isAxiosError=Qce;Us.mergeConfig=sg;Us.AxiosHeaders=Va;Us.formToJSON=t=>yG(pt.isHTMLForm(t)?new FormData(t):t);Us.getAdapter=SG.getAdapter;Us.HttpStatusCode=BO;Us.default=Us;const{Axios:DBe,AxiosError:RBe,CanceledError:IBe,isCancel:FBe,CancelToken:BBe,VERSION:$Be,all:zBe,Cancel:HBe,isAxiosError:WBe,spread:VBe,toFormData:UBe,AxiosHeaders:qBe,HttpStatusCode:XBe,formToJSON:YBe,getAdapter:GBe,mergeConfig:ZBe}=Us,Ch=(t,e=800)=>new Promise((r,n)=>{setTimeout(()=>{Math.random()>.05?r(t):n(new Error("Network error, please try again."))},e)}),Eh="octopus_tms_token",Th="octopus_tms_user",qm={login:async t=>{var e,r,n,i;try{const a=await Us.post("/authenticate",{username:t.username,password:t.password}),{accessToken:o}=a.data,l=JSON.parse(atob(o.split(".")[1]));let h=[].find(g=>g.email===t.username);h||(h={id:l.sub,username:l.sub,email:l.sub,firstName:l.sub.split("@")[0].split(".")[0],lastName:l.sub.split("@")[0].split(".")[1]||"",role:((r=(e=l.roles)==null?void 0:e[0])==null?void 0:r.toLowerCase())||ln.BROKER,avatar:"",phone:"",department:"",lastLogin:new Date().toISOString()});const f={user:h,token:o,expiresAt:l.exp*1e3};return t.rememberMe?(localStorage.setItem(Eh,f.token),localStorage.setItem(Th,JSON.stringify(h))):(sessionStorage.setItem(Eh,f.token),sessionStorage.setItem(Th,JSON.stringify(h))),Us.defaults.headers.common.Authorization=`Bearer ${f.token}`,f}catch(a){throw new Error(((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||"Invalid username or password")}},logout:async()=>(localStorage.removeItem(Eh),localStorage.removeItem(Th),sessionStorage.removeItem(Eh),sessionStorage.removeItem(Th),Ch(void 0,300)),isAuthenticated:()=>!!(localStorage.getItem(Eh)||sessionStorage.getItem(Eh)),getCurrentUser:()=>{try{const t=localStorage.getItem(Th)||sessionStorage.getItem(Th);return t?JSON.parse(t):null}catch(t){return console.error("Error parsing user from storage:",t),null}},refreshToken:async()=>{if(!qm.getCurrentUser())return Promise.reject(new Error("No authenticated user"));const e=`mock-jwt-token-${Math.random().toString(36).substring(2,15)}`;return(localStorage.getItem(Eh)?localStorage:sessionStorage).setItem(Eh,e),Ch(e)},requestPasswordReset:async t=>(void 0).find(n=>n.email===t.email)?(console.log(`Password reset requested for ${t.email}`),Ch(void 0)):Ch(Promise.reject(new Error("Email not found"))),changePassword:async t=>t.oldPassword!=="password"?Ch(Promise.reject(new Error("Current password is incorrect"))):(console.log("Password changed successfully"),Ch(void 0)),updateProfile:async t=>{const e=qm.getCurrentUser();if(!e)return Ch(Promise.reject(new Error("No authenticated user")));const r={...e,...t};return(localStorage.getItem(Th)?localStorage:sessionStorage).setItem(Th,JSON.stringify(r)),Ch(r)}},EG=Y.createContext(void 0),I2=({children:t})=>{const[e,r]=Y.useState(null),[n,i]=Y.useState(!0);Y.useEffect(()=>{(async()=>{try{const f=qm.getCurrentUser();r(f)}catch(f){console.error("Error checking authentication:",f)}finally{i(!1)}})()},[]);const u={user:e,isAuthenticated:!!e,isLoading:n,login:async h=>{i(!0);try{const f=await qm.login(h);return r(f.user),f}finally{i(!1)}},logout:async()=>{i(!0);try{await qm.logout(),r(null)}finally{i(!1)}},updateUser:async h=>{i(!0);try{const f=await qm.updateProfile(h);return r(f),f}finally{i(!1)}}};return s.jsx(EG.Provider,{value:u,children:t})},_g=()=>{const t=Y.useContext(EG);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},ede=()=>{var fe;const t=Yu(),e=Bn(),{user:r,logout:n,isAuthenticated:i}=_g(),[a,o]=Y.useState(!1),[l,u]=Y.useState(!1),[h,f]=Y.useState(!1),[g,y]=Y.useState(!1),[N,_]=Y.useState([{id:"1",time:"10:45 AM",loadId:"LD1003",type:"location_update",message:"Truck arrived in Macon, GA",isRead:!1},{id:"2",time:"09:30 AM",loadId:"LD1006",type:"delay_alert",message:"Truck delayed due to traffic on I-5. ETA pushed by 45 min.",isRead:!1},{id:"3",time:"08:15 AM",loadId:"LD1007",type:"status_change",message:"Shipment entering final delivery zone. Arriving soon.",isRead:!0},{id:"4",time:"Yesterday",loadId:"LD1002",type:"weather_alert",message:"Heavy rain expected along route. Driver notified.",isRead:!0},{id:"5",time:"Yesterday",type:"system",message:"System maintenance scheduled for tonight at 2 AM EST.",isRead:!0}]),k=Y.useRef(null),C=Y.useRef(null),O=[{path:"/workflows",label:"Workflows"},{path:"/documents",label:"Documents"},{path:"/invoices",label:"Invoices"},{path:"/reports",label:"Reports"},{path:"/drivers",label:"Drivers"}],T=[{path:"/broker/workflows",label:"Workflows"},{path:"/broker/reports",label:"Reports"},{path:"/broker/customers",label:"Customers"},{path:"/broker/carriers",label:"Carriers"},{path:"/broker/documents",label:"Documents"},{path:"/broker/contracts",label:"Contracts"},{path:"/broker/payments",label:"Payments"},{path:"/broker/commissions",label:"Commissions"}],M=[{path:"/shipper/workflows",label:"Workflows"},{path:"/shipper/documents",label:"Documents"},{path:"/shipper/reports",label:"Reports"},{path:"/shipper/payments",label:"Payments"},{path:"/shipper/settings",label:"Settings"}],B=[{path:"/dashboard",label:"Dashboard"},{path:"/smart-load-search",label:"Smart Load Search"},{path:"/dispatch-board",label:"Dispatch Board"},{path:"/tracking",label:"Tracking"},{path:"/all-loads",label:"All Loads"}];let F=[];(r==null?void 0:r.role)===ln.BROKER?F=[{path:"/broker/dashboard",label:"Dashboard"},{path:"/broker/loads",label:"Loads"},{path:"/broker/carrier-match",label:"Carrier Match"},{path:"/broker/tracking",label:"Tracking"},{path:"/broker/supervisor",label:"Supervisor"}]:(r==null?void 0:r.role)===ln.SHIPPER?F=[{path:"/shipper/dashboard",label:"Dashboard"},{path:"/shipper/loads",label:"Loads"},{path:"/shipper/warehouse",label:"Warehouse"}]:(F=[...B],((r==null?void 0:r.role)===ln.SUPERVISOR||(r==null?void 0:r.role)===ln.ADMIN)&&F.push({path:"/supervisor",label:"Supervisor Dashboard"}));const V=ee=>{switch(ee){case"location_update":return"bg-blue-100 text-blue-800";case"delay_alert":return"bg-red-100 text-red-800";case"status_change":return"bg-green-100 text-green-800";case"weather_alert":return"bg-yellow-100 text-yellow-800";case"system":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},H=ee=>{switch(ee){case"location_update":return"Location Update";case"delay_alert":return"Delay Alert";case"status_change":return"Status Change";case"weather_alert":return"Weather Alert";case"system":return"System";default:return ee}},Z=()=>N.filter(ee=>!ee.isRead).length,re=ee=>{_(N.map(xe=>xe.id===ee?{...xe,isRead:!0}:xe))},le=()=>{_(N.map(ee=>({...ee,isRead:!0}))),lt.success("All notifications marked as read")},ce=ee=>{re(ee.id),ee.loadId?e(`/load-details/${ee.loadId}`):ee.type==="system"&&lt(ee.message,{icon:""}),y(!1)};Y.useEffect(()=>{function ee(xe){k.current&&!k.current.contains(xe.target)&&f(!1),C.current&&!C.current.contains(xe.target)&&y(!1)}return document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[]);const he=async()=>{try{await n(),e("/login")}catch(ee){console.error("Logout failed:",ee)}};return s.jsx("nav",{className:"bg-blue-600 text-white sticky top-0 z-10 shadow-md",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx(yo,{to:"/dashboard",className:"font-bold text-xl mr-6",children:"Octopus TMS"}),s.jsx("div",{className:"hidden md:block flex-grow",children:s.jsxs("div",{className:"flex justify-evenly",children:[F.map(ee=>s.jsx(yo,{to:ee.path,className:`px-4 py-2 mx-1 rounded-md text-sm font-medium ${t.pathname===ee.path?"bg-blue-700 text-white":"text-white hover:bg-blue-500"}`,children:ee.label},ee.path)),s.jsxs("div",{className:"relative",ref:k,children:[s.jsxs("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium flex items-center ${((r==null?void 0:r.role)===ln.BROKER?t.pathname.includes("/broker/reports")||t.pathname.includes("/broker/customers")||t.pathname.includes("/broker/carriers")||t.pathname.includes("/broker/documents")||t.pathname.includes("/broker/contracts")||t.pathname.includes("/broker/payments")||t.pathname.includes("/broker/commissions"):(r==null?void 0:r.role)===ln.SHIPPER?t.pathname.includes("/shipper/documents")||t.pathname.includes("/shipper/reports")||t.pathname.includes("/shipper/settings"):["/documents","/invoices","/reports","/drivers","/workflows"].includes(t.pathname))?"bg-blue-700 text-white":"text-white hover:bg-blue-500"}`,onClick:()=>f(!h),children:["Resources",s.jsx("svg",{className:"ml-1 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),h&&s.jsx("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-20",children:((r==null?void 0:r.role)===ln.BROKER?T:(r==null?void 0:r.role)===ln.SHIPPER?M:O).map(ee=>s.jsx(yo,{to:ee.path,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>f(!1),children:ee.label},ee.path))})]})]})}),i&&s.jsxs("div",{className:"relative ml-auto mr-4",ref:C,children:[s.jsxs("button",{type:"button",className:"flex items-center justify-center h-8 w-8 rounded-full bg-blue-500 hover:bg-blue-600 text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-600 focus:ring-white relative transition-colors",onClick:()=>y(!g),children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsx("i",{className:"fas fa-bell"}),Z()>0&&s.jsx("span",{className:"absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white",children:Z()})]}),g&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-20",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"}),Z()>0&&s.jsx("button",{onClick:le,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Mark all as read"})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:N.length===0?s.jsxs("div",{className:"px-4 py-6 text-center text-gray-500",children:[s.jsx("i",{className:"fas fa-bell-slash text-2xl mb-2"}),s.jsx("p",{className:"text-sm",children:"No notifications"})]}):N.map(ee=>s.jsxs("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer border-l-4 ${ee.isRead?"border-transparent":"border-blue-500"}`,onClick:()=>ce(ee),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${V(ee.type)}`,children:H(ee.type)}),s.jsx("span",{className:"text-xs text-gray-500",children:ee.time})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-800",children:ee.message}),ee.loadId&&s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Load: ",ee.loadId]})]},ee.id))}),s.jsx("div",{className:"border-t border-gray-200 px-4 py-2",children:s.jsxs("button",{className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center w-full text-left",onClick:()=>{y(!1),e("/settings",{state:{activeTab:"notifications"}})},children:[s.jsx("i",{className:"fas fa-cog mr-1"})," Notification settings"]})})]})]}),i&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{children:s.jsxs("button",{type:"button",className:"flex items-center max-w-xs rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-600 focus:ring-white",onClick:()=>u(!l),children:[s.jsx("span",{className:"sr-only",children:"Open user menu"}),r!=null&&r.avatar?s.jsx("img",{className:"h-8 w-8 rounded-full",src:r.avatar,alt:r.firstName}):s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-300 flex items-center justify-center text-blue-800 font-bold",children:((fe=r==null?void 0:r.firstName)==null?void 0:fe.charAt(0))||"U"}),s.jsxs("span",{className:"ml-2 hidden lg:block text-white",children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]}),s.jsx("svg",{className:"ml-1 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),l&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-20",children:[s.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-200",children:[s.jsx("p",{children:"Signed in as"}),s.jsx("p",{className:"font-semibold",children:r==null?void 0:r.username}),s.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:["Role: ",r==null?void 0:r.role]})]}),s.jsxs(yo,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:[s.jsx("i",{className:"fas fa-user-circle mr-2"})," Your Profile"]}),s.jsxs(yo,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:[s.jsx("i",{className:"fas fa-cog mr-2"})," Settings"]}),s.jsxs("button",{onClick:he,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[s.jsx("i",{className:"fas fa-sign-out-alt mr-2"})," Sign out"]})]})]}),s.jsx("div",{className:"md:hidden",children:s.jsx("button",{onClick:()=>o(!a),className:"text-white hover:text-gray-200 focus:outline-none",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),a&&s.jsxs("div",{className:"md:hidden pb-3",children:[F.map(ee=>s.jsx(yo,{to:ee.path,className:`block px-3 py-2 rounded-md text-base font-medium ${t.pathname===ee.path?"bg-blue-700 text-white":"text-white hover:bg-blue-500"}`,onClick:()=>o(!1),children:ee.label},ee.path)),s.jsxs("div",{className:"mt-1",children:[s.jsxs("button",{className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium ${["/documents","/invoices","/reports","/drivers","/workflows"].includes(t.pathname)?"bg-blue-700 text-white":"text-white hover:bg-blue-500"}`,onClick:()=>f(!h),children:["Resources",s.jsx("svg",{className:"ml-1 h-5 w-5 text-white inline",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),h&&s.jsx("div",{className:"pl-6 py-1",children:((r==null?void 0:r.role)===ln.BROKER?T:(r==null?void 0:r.role)===ln.SHIPPER?M:O).map(ee=>s.jsx(yo,{to:ee.path,className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-blue-500",onClick:()=>{f(!1),o(!1)},children:ee.label},ee.path))})]}),i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t border-blue-500 my-2"}),s.jsxs(yo,{to:"/profile",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-blue-500",onClick:()=>o(!1),children:[s.jsx("i",{className:"fas fa-user-circle mr-2"})," Your Profile"]}),s.jsxs("button",{onClick:he,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-white hover:bg-blue-500",children:[s.jsx("i",{className:"fas fa-sign-out-alt mr-2"})," Sign out"]})]})]})]})})},tde=()=>s.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[s.jsx(ede,{}),s.jsx("main",{className:"flex-1 container mx-auto px-4 py-6",children:s.jsx(loe,{})})]});function TG(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=TG(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=TG(t))&&(n&&(n+=" "),n+=e);return n}var zP,F8;function Ya(){if(F8)return zP;F8=1;var t=Array.isArray;return zP=t,zP}var HP,B8;function PG(){if(B8)return HP;B8=1;var t=typeof L2=="object"&&L2&&L2.Object===Object&&L2;return HP=t,HP}var WP,$8;function ud(){if($8)return WP;$8=1;var t=PG(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return WP=r,WP}var VP,z8;function tN(){if(z8)return VP;z8=1;var t=ud(),e=t.Symbol;return VP=e,VP}var UP,H8;function rde(){if(H8)return UP;H8=1;var t=tN(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=r.call(o,i),u=o[i];try{o[i]=void 0;var h=!0}catch{}var f=n.call(o);return h&&(l?o[i]=u:delete o[i]),f}return UP=a,UP}var qP,W8;function sde(){if(W8)return qP;W8=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return qP=r,qP}var XP,V8;function Gu(){if(V8)return XP;V8=1;var t=tN(),e=rde(),r=sde(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return XP=o,XP}var YP,U8;function Zu(){if(U8)return YP;U8=1;function t(e){return e!=null&&typeof e=="object"}return YP=t,YP}var GP,q8;function uv(){if(q8)return GP;q8=1;var t=Gu(),e=Zu(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return GP=n,GP}var ZP,X8;function GI(){if(X8)return ZP;X8=1;var t=Ya(),e=uv(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return ZP=i,ZP}var KP,Y8;function Xf(){if(Y8)return KP;Y8=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return KP=t,KP}var JP,G8;function ZI(){if(G8)return JP;G8=1;var t=Gu(),e=Xf(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var u=t(l);return u==n||u==i||u==r||u==a}return JP=o,JP}var QP,Z8;function nde(){if(Z8)return QP;Z8=1;var t=ud(),e=t["__core-js_shared__"];return QP=e,QP}var eM,K8;function ide(){if(K8)return eM;K8=1;var t=nde(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return eM=r,eM}var tM,J8;function MG(){if(J8)return tM;J8=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return tM=r,tM}var rM,Q8;function ade(){if(Q8)return rM;Q8=1;var t=ZI(),e=ide(),r=Xf(),n=MG(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,h=l.hasOwnProperty,f=RegExp("^"+u.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!r(y)||e(y))return!1;var N=t(y)?f:a;return N.test(n(y))}return rM=g,rM}var sM,ez;function ode(){if(ez)return sM;ez=1;function t(e,r){return e==null?void 0:e[r]}return sM=t,sM}var nM,tz;function Sg(){if(tz)return nM;tz=1;var t=ade(),e=ode();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return nM=r,nM}var iM,rz;function qC(){if(rz)return iM;rz=1;var t=Sg(),e=t(Object,"create");return iM=e,iM}var aM,sz;function lde(){if(sz)return aM;sz=1;var t=qC();function e(){this.__data__=t?t(null):{},this.size=0}return aM=e,aM}var oM,nz;function cde(){if(nz)return oM;nz=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return oM=t,oM}var lM,iz;function dde(){if(iz)return lM;iz=1;var t=qC(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return lM=i,lM}var cM,az;function ude(){if(az)return cM;az=1;var t=qC(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return cM=n,cM}var dM,oz;function hde(){if(oz)return dM;oz=1;var t=qC(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return dM=r,dM}var uM,lz;function fde(){if(lz)return uM;lz=1;var t=lde(),e=cde(),r=dde(),n=ude(),i=hde();function a(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var h=o[l];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,uM=a,uM}var hM,cz;function mde(){if(cz)return hM;cz=1;function t(){this.__data__=[],this.size=0}return hM=t,hM}var fM,dz;function KI(){if(dz)return fM;dz=1;function t(e,r){return e===r||e!==e&&r!==r}return fM=t,fM}var mM,uz;function XC(){if(uz)return mM;uz=1;var t=KI();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return mM=e,mM}var pM,hz;function pde(){if(hz)return pM;hz=1;var t=XC(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return pM=n,pM}var gM,fz;function gde(){if(fz)return gM;fz=1;var t=XC();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return gM=e,gM}var xM,mz;function xde(){if(mz)return xM;mz=1;var t=XC();function e(r){return t(this.__data__,r)>-1}return xM=e,xM}var yM,pz;function yde(){if(pz)return yM;pz=1;var t=XC();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return yM=e,yM}var vM,gz;function YC(){if(gz)return vM;gz=1;var t=mde(),e=pde(),r=gde(),n=xde(),i=yde();function a(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var h=o[l];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,vM=a,vM}var bM,xz;function JI(){if(xz)return bM;xz=1;var t=Sg(),e=ud(),r=t(e,"Map");return bM=r,bM}var wM,yz;function vde(){if(yz)return wM;yz=1;var t=fde(),e=YC(),r=JI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return wM=n,wM}var jM,vz;function bde(){if(vz)return jM;vz=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return jM=t,jM}var NM,bz;function GC(){if(bz)return NM;bz=1;var t=bde();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return NM=e,NM}var _M,wz;function wde(){if(wz)return _M;wz=1;var t=GC();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return _M=e,_M}var SM,jz;function jde(){if(jz)return SM;jz=1;var t=GC();function e(r){return t(this,r).get(r)}return SM=e,SM}var kM,Nz;function Nde(){if(Nz)return kM;Nz=1;var t=GC();function e(r){return t(this,r).has(r)}return kM=e,kM}var AM,_z;function _de(){if(_z)return AM;_z=1;var t=GC();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return AM=e,AM}var CM,Sz;function QI(){if(Sz)return CM;Sz=1;var t=vde(),e=wde(),r=jde(),n=Nde(),i=_de();function a(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var h=o[l];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,CM=a,CM}var EM,kz;function LG(){if(kz)return EM;kz=1;var t=QI(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],u=a.cache;if(u.has(l))return u.get(l);var h=n.apply(this,o);return a.cache=u.set(l,h)||u,h};return a.cache=new(r.Cache||t),a}return r.Cache=t,EM=r,EM}var TM,Az;function Sde(){if(Az)return TM;Az=1;var t=LG(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return TM=r,TM}var PM,Cz;function kde(){if(Cz)return PM;Cz=1;var t=Sde(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,u,h){a.push(u?h.replace(r,"$1"):l||o)}),a});return PM=n,PM}var MM,Ez;function e6(){if(Ez)return MM;Ez=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return MM=t,MM}var LM,Tz;function Ade(){if(Tz)return LM;Tz=1;var t=tN(),e=e6(),r=Ya(),n=uv(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return a?a.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return LM=o,LM}var OM,Pz;function OG(){if(Pz)return OM;Pz=1;var t=Ade();function e(r){return r==null?"":t(r)}return OM=e,OM}var DM,Mz;function DG(){if(Mz)return DM;Mz=1;var t=Ya(),e=GI(),r=kde(),n=OG();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return DM=i,DM}var RM,Lz;function ZC(){if(Lz)return RM;Lz=1;var t=uv();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return RM=e,RM}var IM,Oz;function t6(){if(Oz)return IM;Oz=1;var t=DG(),e=ZC();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return IM=r,IM}var FM,Dz;function RG(){if(Dz)return FM;Dz=1;var t=t6();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return FM=e,FM}var Cde=RG();const So=Ur(Cde);var BM,Rz;function Ede(){if(Rz)return BM;Rz=1;function t(e){return e==null}return BM=t,BM}var Tde=Ede();const Nr=Ur(Tde);var $M,Iz;function Pde(){if(Iz)return $M;Iz=1;var t=Gu(),e=Ya(),r=Zu(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return $M=i,$M}var Mde=Pde();const ng=Ur(Mde);var Lde=ZI();const fr=Ur(Lde);var Ode=Xf();const hv=Ur(Ode);var zM={exports:{}},fs={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fz;function Dde(){if(Fz)return fs;Fz=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function k(C){if(typeof C=="object"&&C!==null){var O=C.$$typeof;switch(O){case t:switch(C=C.type,C){case r:case i:case n:case h:case f:return C;default:switch(C=C&&C.$$typeof,C){case l:case o:case u:case y:case g:case a:return C;default:return O}}case e:return O}}}return fs.ContextConsumer=o,fs.ContextProvider=a,fs.Element=t,fs.ForwardRef=u,fs.Fragment=r,fs.Lazy=y,fs.Memo=g,fs.Portal=e,fs.Profiler=i,fs.StrictMode=n,fs.Suspense=h,fs.SuspenseList=f,fs.isAsyncMode=function(){return!1},fs.isConcurrentMode=function(){return!1},fs.isContextConsumer=function(C){return k(C)===o},fs.isContextProvider=function(C){return k(C)===a},fs.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},fs.isForwardRef=function(C){return k(C)===u},fs.isFragment=function(C){return k(C)===r},fs.isLazy=function(C){return k(C)===y},fs.isMemo=function(C){return k(C)===g},fs.isPortal=function(C){return k(C)===e},fs.isProfiler=function(C){return k(C)===i},fs.isStrictMode=function(C){return k(C)===n},fs.isSuspense=function(C){return k(C)===h},fs.isSuspenseList=function(C){return k(C)===f},fs.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===i||C===n||C===h||C===f||C===N||typeof C=="object"&&C!==null&&(C.$$typeof===y||C.$$typeof===g||C.$$typeof===a||C.$$typeof===o||C.$$typeof===u||C.$$typeof===_||C.getModuleId!==void 0)},fs.typeOf=k,fs}var Bz;function Rde(){return Bz||(Bz=1,zM.exports=Dde()),zM.exports}var Ide=Rde(),HM,$z;function IG(){if($z)return HM;$z=1;var t=Gu(),e=Zu(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return HM=n,HM}var WM,zz;function Fde(){if(zz)return WM;zz=1;var t=IG();function e(r){return t(r)&&r!=+r}return WM=e,WM}var Bde=Fde();const fv=Ur(Bde);var $de=IG();const zde=Ur($de);var da=function(e){return e===0?0:e>0?1:-1},Xm=function(e){return ng(e)&&e.indexOf("%")===e.length-1},Et=function(e){return zde(e)&&!fv(e)},Kn=function(e){return Et(e)||ng(e)},Hde=0,kg=function(e){var r=++Hde;return"".concat(e||"").concat(r)},ua=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Et(e)&&!ng(e))return n;var a;if(Xm(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return fv(a)&&(a=n),i&&a>r&&(a=r),a},Xh=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Wde=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},dn=function(e,r){return Et(e)&&Et(r)?function(n){return e+n*(r-e)}:function(){return r}};function Dk(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):So(n,e))===r})}var Vde=function(e,r){return Et(e)&&Et(r)?e-r:ng(e)&&ng(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function n0(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function $O(t){"@babel/helpers - typeof";return $O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$O(t)}var Ude=["viewBox","children"],qde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Hz=["points","pathLength"],VM={svg:Ude,polygon:Hz,polyline:Hz},r6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rk=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(Y.isValidElement(e)&&(n=e.props),!hv(n))return null;var i={};return Object.keys(n).forEach(function(a){r6.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Xde=function(e,r,n){return function(i){return e(r,n,i),null}},ig=function(e,r,n){if(!hv(e)||$O(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];r6.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Xde(o,r,n))}),i},Yde=["children"],Gde=["children"];function Wz(t,e){if(t==null)return{};var r=Zde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zO(t){"@babel/helpers - typeof";return zO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zO(t)}var Vz={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Au=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Uz=null,UM=null,s6=function t(e){if(e===Uz&&Array.isArray(UM))return UM;var r=[];return Y.Children.forEach(e,function(n){Nr(n)||(Ide.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),UM=r,Uz=e,r};function ko(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Au(i)}):n=[Au(e)],s6(t).forEach(function(i){var a=So(i,"type.displayName")||So(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function vo(t,e){var r=ko(t,e);return r&&r[0]}var qz=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Et(n)||n<=0||!Et(i)||i<=0)},Kde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Jde=function(e){return e&&e.type&&ng(e.type)&&Kde.indexOf(e.type)>=0},FG=function(e){return e&&zO(e)==="object"&&"clipDot"in e},Qde=function(e,r,n,i){var a,o=(a=VM==null?void 0:VM[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!fr(e)&&(i&&o.includes(r)||qde.includes(r))||n&&r6.includes(r)},er=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Y.isValidElement(e)&&(i=e.props),!hv(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;Qde((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},HO=function t(e,r){if(e===r)return!0;var n=Y.Children.count(e);if(n!==Y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Xz(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!Xz(a,o))return!1}return!0},Xz=function(e,r){if(Nr(e)&&Nr(r))return!0;if(!Nr(e)&&!Nr(r)){var n=e.props||{},i=n.children,a=Wz(n,Yde),o=r.props||{},l=o.children,u=Wz(o,Gde);return i&&l?n0(a,u)&&HO(i,l):!i&&!l?n0(a,u):!1}return!1},Yz=function(e,r){var n=[],i={};return s6(e).forEach(function(a,o){if(Jde(a))n.push(a);else if(a){var l=Au(a.type),u=r[l]||{},h=u.handler,f=u.once;if(h&&(!f||!i[l])){var g=h(a,l,o);n.push(g),i[l]=!0}}}),n},eue=function(e){var r=e&&e.type;return r&&Vz[r]?Vz[r]:null},tue=function(e,r){return s6(r).indexOf(e)},rue=["children","width","height","viewBox","className","style","title","desc"];function WO(){return WO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WO.apply(this,arguments)}function sue(t,e){if(t==null)return{};var r=nue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VO(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,u=t.desc,h=sue(t,rue),f=i||{width:r,height:n,x:0,y:0},g=vr("recharts-surface",a);return Oe.createElement("svg",WO({},er(h,!0,"svg"),{className:g,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Oe.createElement("title",null,l),Oe.createElement("desc",null,u),e)}var iue=["children","className"];function UO(){return UO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UO.apply(this,arguments)}function aue(t,e){if(t==null)return{};var r=oue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Fr=Oe.forwardRef(function(t,e){var r=t.children,n=t.className,i=aue(t,iue),a=vr("recharts-layer",n);return Oe.createElement("g",UO({className:a},er(i,!0),{ref:e}),r)}),sc=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},qM,Gz;function lue(){if(Gz)return qM;Gz=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return qM=t,qM}var XM,Zz;function cue(){if(Zz)return XM;Zz=1;var t=lue();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return XM=e,XM}var YM,Kz;function BG(){if(Kz)return YM;Kz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function u(h){return l.test(h)}return YM=u,YM}var GM,Jz;function due(){if(Jz)return GM;Jz=1;function t(e){return e.split("")}return GM=t,GM}var ZM,Qz;function uue(){if(Qz)return ZM;Qz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+u+")",f="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",N="\\u200d",_=h+"?",k="["+a+"]?",C="(?:"+N+"(?:"+[f,g,y].join("|")+")"+k+_+")*",O=k+_+C,T="(?:"+[f+l+"?",l,g,y,o].join("|")+")",M=RegExp(u+"(?="+u+")|"+T+O,"g");function B(F){return F.match(M)||[]}return ZM=B,ZM}var KM,e7;function hue(){if(e7)return KM;e7=1;var t=due(),e=BG(),r=uue();function n(i){return e(i)?r(i):t(i)}return KM=n,KM}var JM,t7;function fue(){if(t7)return JM;t7=1;var t=cue(),e=BG(),r=hue(),n=OG();function i(a){return function(o){o=n(o);var l=e(o)?r(o):void 0,u=l?l[0]:o.charAt(0),h=l?t(l,1).join(""):o.slice(1);return u[a]()+h}}return JM=i,JM}var QM,r7;function mue(){if(r7)return QM;r7=1;var t=fue(),e=t("toUpperCase");return QM=e,QM}var pue=mue();const KC=Ur(pue);function zs(t){return function(){return t}}const $G=Math.cos,Ik=Math.sin,lc=Math.sqrt,Fk=Math.PI,JC=2*Fk,qO=Math.PI,XO=2*qO,Sm=1e-6,gue=XO-Sm;function zG(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function xue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zG;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class yue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?zG:xue(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=n-e,h=i-r,f=o-e,g=l-r,y=f*f+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Sm)if(!(Math.abs(g*u-h*f)>Sm)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let N=n-o,_=i-l,k=u*u+h*h,C=N*N+_*_,O=Math.sqrt(k),T=Math.sqrt(y),M=a*Math.tan((qO-Math.acos((k+y-C)/(2*O*T)))/2),B=M/T,F=M/O;Math.abs(B-1)>Sm&&this._append`L${e+B*f},${r+B*g}`,this._append`A${a},${a},0,0,${+(g*N>f*_)},${this._x1=e+F*u},${this._y1=r+F*h}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),u=n*Math.sin(i),h=e+l,f=r+u,g=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>Sm||Math.abs(this._y1-f)>Sm)&&this._append`L${h},${f}`,n&&(y<0&&(y=y%XO+XO),y>gue?this._append`A${n},${n},0,1,${g},${e-l},${r-u}A${n},${n},0,1,${g},${this._x1=h},${this._y1=f}`:y>Sm&&this._append`A${n},${n},0,${+(y>=qO)},${g},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function n6(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new yue(e)}function i6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HG(t){this._context=t}HG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function QC(t){return new HG(t)}function WG(t){return t[0]}function VG(t){return t[1]}function UG(t,e){var r=zs(!0),n=null,i=QC,a=null,o=n6(l);t=typeof t=="function"?t:t===void 0?WG:zs(t),e=typeof e=="function"?e:e===void 0?VG:zs(e);function l(u){var h,f=(u=i6(u)).length,g,y=!1,N;for(n==null&&(a=i(N=o())),h=0;h<=f;++h)!(h<f&&r(g=u[h],h,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(g,h,u),+e(g,h,u));if(N)return a=null,N+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:zs(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:zs(+u),l):e},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:zs(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),l):n},l}function F2(t,e,r){var n=null,i=zs(!0),a=null,o=QC,l=null,u=n6(h);t=typeof t=="function"?t:t===void 0?WG:zs(+t),e=typeof e=="function"?e:zs(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?VG:zs(+r);function h(g){var y,N,_,k=(g=i6(g)).length,C,O=!1,T,M=new Array(k),B=new Array(k);for(a==null&&(l=o(T=u())),y=0;y<=k;++y){if(!(y<k&&i(C=g[y],y,g))===O)if(O=!O)N=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=y-1;_>=N;--_)l.point(M[_],B[_]);l.lineEnd(),l.areaEnd()}O&&(M[y]=+t(C,y,g),B[y]=+e(C,y,g),l.point(n?+n(C,y,g):M[y],r?+r(C,y,g):B[y]))}if(T)return l=null,T+""||null}function f(){return UG().defined(i).curve(o).context(a)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:zs(+g),n=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:zs(+g),h):t},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:zs(+g),h):n},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:zs(+g),r=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:zs(+g),h):e},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:zs(+g),h):r},h.lineX0=h.lineY0=function(){return f().x(t).y(e)},h.lineY1=function(){return f().x(t).y(r)},h.lineX1=function(){return f().x(n).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:zs(!!g),h):i},h.curve=function(g){return arguments.length?(o=g,a!=null&&(l=o(a)),h):o},h.context=function(g){return arguments.length?(g==null?a=l=null:l=o(a=g),h):a},h}class qG{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function vue(t){return new qG(t,!0)}function bue(t){return new qG(t,!1)}const a6={draw(t,e){const r=lc(e/Fk);t.moveTo(r,0),t.arc(0,0,r,0,JC)}},wue={draw(t,e){const r=lc(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},XG=lc(1/3),jue=XG*2,Nue={draw(t,e){const r=lc(e/jue),n=r*XG;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},_ue={draw(t,e){const r=lc(e),n=-r/2;t.rect(n,n,r,r)}},Sue=.8908130915292852,YG=Ik(Fk/10)/Ik(7*Fk/10),kue=Ik(JC/10)*YG,Aue=-$G(JC/10)*YG,Cue={draw(t,e){const r=lc(e*Sue),n=kue*r,i=Aue*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=JC*a/5,l=$G(o),u=Ik(o);t.lineTo(u*r,-l*r),t.lineTo(l*n-u*i,u*n+l*i)}t.closePath()}},eL=lc(3),Eue={draw(t,e){const r=-lc(e/(eL*3));t.moveTo(0,r*2),t.lineTo(-eL*r,-r),t.lineTo(eL*r,-r),t.closePath()}},qo=-.5,Xo=lc(3)/2,YO=1/lc(12),Tue=(YO/2+1)*3,Pue={draw(t,e){const r=lc(e/Tue),n=r/2,i=r*YO,a=n,o=r*YO+r,l=-a,u=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,u),t.lineTo(qo*n-Xo*i,Xo*n+qo*i),t.lineTo(qo*a-Xo*o,Xo*a+qo*o),t.lineTo(qo*l-Xo*u,Xo*l+qo*u),t.lineTo(qo*n+Xo*i,qo*i-Xo*n),t.lineTo(qo*a+Xo*o,qo*o-Xo*a),t.lineTo(qo*l+Xo*u,qo*u-Xo*l),t.closePath()}};function Mue(t,e){let r=null,n=n6(i);t=typeof t=="function"?t:zs(t||a6),e=typeof e=="function"?e:zs(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:zs(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:zs(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Bk(){}function $k(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function GG(t){this._context=t}GG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$k(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$k(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lue(t){return new GG(t)}function ZG(t){this._context=t}ZG.prototype={areaStart:Bk,areaEnd:Bk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$k(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oue(t){return new ZG(t)}function KG(t){this._context=t}KG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$k(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Due(t){return new KG(t)}function JG(t){this._context=t}JG.prototype={areaStart:Bk,areaEnd:Bk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rue(t){return new JG(t)}function s7(t){return t<0?-1:1}function n7(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(s7(a)+s7(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function i7(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function tL(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function zk(t){this._context=t}zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tL(this,this._t0,i7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tL(this,i7(this,r=n7(this,t,e)),r);break;default:tL(this,this._t0,r=n7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function QG(t){this._context=new eZ(t)}(QG.prototype=Object.create(zk.prototype)).point=function(t,e){zk.prototype.point.call(this,e,t)};function eZ(t){this._context=t}eZ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Iue(t){return new zk(t)}function Fue(t){return new QG(t)}function tZ(t){this._context=t}tZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=a7(t),i=a7(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function a7(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Bue(t){return new tZ(t)}function eE(t,e){this._context=t,this._t=e}eE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function $ue(t){return new eE(t,.5)}function zue(t){return new eE(t,0)}function Hue(t){return new eE(t,1)}function hy(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function GO(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Wue(t,e){return t[e]}function Vue(t){const e=[];return e.key=t,e}function Uue(){var t=zs([]),e=GO,r=hy,n=Wue;function i(a){var o=Array.from(t.apply(this,arguments),Vue),l,u=o.length,h=-1,f;for(const g of a)for(l=0,++h;l<u;++l)(o[l][h]=[0,+n(g,o[l].key,h,a)]).data=g;for(l=0,f=i6(e(o));l<u;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:zs(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:zs(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?GO:typeof a=="function"?a:zs(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??hy,i):r},i}function que(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}hy(t,e)}}function Xue(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}hy(t,e)}}function Yue(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,u=0,h=0;l<o;++l){for(var f=t[e[l]],g=f[n][1]||0,y=f[n-1][1]||0,N=(g-y)/2,_=0;_<l;++_){var k=t[e[_]],C=k[n][1]||0,O=k[n-1][1]||0;N+=C-O}u+=g,h+=N*g}i[n-1][1]+=i[n-1][0]=r,u&&(r-=h/u)}i[n-1][1]+=i[n-1][0]=r,hy(t,e)}}function Uw(t){"@babel/helpers - typeof";return Uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uw(t)}var Gue=["type","size","sizeType"];function ZO(){return ZO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZO.apply(this,arguments)}function o7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(r),!0).forEach(function(n){Zue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zue(t,e,r){return e=Kue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kue(t){var e=Jue(t,"string");return Uw(e)=="symbol"?e:e+""}function Jue(t,e){if(Uw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Que(t,e){if(t==null)return{};var r=ehe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ehe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var rZ={symbolCircle:a6,symbolCross:wue,symbolDiamond:Nue,symbolSquare:_ue,symbolStar:Cue,symbolTriangle:Eue,symbolWye:Pue},the=Math.PI/180,rhe=function(e){var r="symbol".concat(KC(e));return rZ[r]||a6},she=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*the;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nhe=function(e,r){rZ["symbol".concat(KC(e))]=r},o6=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,u=Que(e,Gue),h=l7(l7({},u),{},{type:n,size:a,sizeType:l}),f=function(){var C=rhe(n),O=Mue().type(C).size(she(a,l,n));return O()},g=h.className,y=h.cx,N=h.cy,_=er(h,!0);return y===+y&&N===+N&&a===+a?Oe.createElement("path",ZO({},_,{className:vr("recharts-symbols",g),transform:"translate(".concat(y,", ").concat(N,")"),d:f()})):null};o6.registerSymbol=nhe;function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function KO(){return KO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KO.apply(this,arguments)}function c7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ihe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(r),!0).forEach(function(n){qw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ahe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ohe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nZ(n.key),n)}}function lhe(t,e,r){return e&&ohe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function che(t,e,r){return e=Hk(e),dhe(t,sZ()?Reflect.construct(e,r||[],Hk(t).constructor):e.apply(t,r))}function dhe(t,e){if(e&&(fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uhe(t)}function uhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sZ=function(){return!!t})()}function Hk(t){return Hk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hk(t)}function hhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JO(t,e)}function JO(t,e){return JO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JO(t,e)}function qw(t,e,r){return e=nZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nZ(t){var e=fhe(t,"string");return fy(e)=="symbol"?e:e+""}function fhe(t,e){if(fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Al=32,l6=function(t){function e(){return ahe(this,e),che(this,e,arguments)}return hhe(e,t),lhe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Al/2,o=Al/6,l=Al/3,u=n.inactive?i:n.color;if(n.type==="plainline")return Oe.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Al,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Oe.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Al,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Oe.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Al/8,"h").concat(Al,"v").concat(Al*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Oe.isValidElement(n.legendIcon)){var h=ihe({},n);return delete h.legendIcon,Oe.cloneElement(n.legendIcon,h)}return Oe.createElement(o6,{fill:u,cx:a,cy:a,size:Al,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,u=i.formatter,h=i.inactiveColor,f={x:0,y:0,width:Al,height:Al},g={display:l==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(N,_){var k=N.formatter||u,C=vr(qw(qw({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",N.inactive));if(N.type==="none")return null;var O=fr(N.value)?null:N.value;sc(!fr(N.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=N.inactive?h:N.color;return Oe.createElement("li",KO({className:C,style:g,key:"legend-item-".concat(_)},ig(n.props,N,_)),Oe.createElement(VO,{width:o,height:o,viewBox:f,style:y},n.renderIcon(N)),Oe.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},k?k(O,N,_):O))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Oe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(Y.PureComponent);qw(l6,"displayName","Legend");qw(l6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rL,d7;function mhe(){if(d7)return rL;d7=1;var t=YC();function e(){this.__data__=new t,this.size=0}return rL=e,rL}var sL,u7;function phe(){if(u7)return sL;u7=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return sL=t,sL}var nL,h7;function ghe(){if(h7)return nL;h7=1;function t(e){return this.__data__.get(e)}return nL=t,nL}var iL,f7;function xhe(){if(f7)return iL;f7=1;function t(e){return this.__data__.has(e)}return iL=t,iL}var aL,m7;function yhe(){if(m7)return aL;m7=1;var t=YC(),e=JI(),r=QI(),n=200;function i(a,o){var l=this.__data__;if(l instanceof t){var u=l.__data__;if(!e||u.length<n-1)return u.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(a,o),this.size=l.size,this}return aL=i,aL}var oL,p7;function iZ(){if(p7)return oL;p7=1;var t=YC(),e=mhe(),r=phe(),n=ghe(),i=xhe(),a=yhe();function o(l){var u=this.__data__=new t(l);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,oL=o,oL}var lL,g7;function vhe(){if(g7)return lL;g7=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return lL=e,lL}var cL,x7;function bhe(){if(x7)return cL;x7=1;function t(e){return this.__data__.has(e)}return cL=t,cL}var dL,y7;function aZ(){if(y7)return dL;y7=1;var t=QI(),e=vhe(),r=bhe();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,dL=n,dL}var uL,v7;function oZ(){if(v7)return uL;v7=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return uL=t,uL}var hL,b7;function lZ(){if(b7)return hL;b7=1;function t(e,r){return e.has(r)}return hL=t,hL}var fL,w7;function cZ(){if(w7)return fL;w7=1;var t=aZ(),e=oZ(),r=lZ(),n=1,i=2;function a(o,l,u,h,f,g){var y=u&n,N=o.length,_=l.length;if(N!=_&&!(y&&_>N))return!1;var k=g.get(o),C=g.get(l);if(k&&C)return k==l&&C==o;var O=-1,T=!0,M=u&i?new t:void 0;for(g.set(o,l),g.set(l,o);++O<N;){var B=o[O],F=l[O];if(h)var V=y?h(F,B,O,l,o,g):h(B,F,O,o,l,g);if(V!==void 0){if(V)continue;T=!1;break}if(M){if(!e(l,function(H,Z){if(!r(M,Z)&&(B===H||f(B,H,u,h,g)))return M.push(Z)})){T=!1;break}}else if(!(B===F||f(B,F,u,h,g))){T=!1;break}}return g.delete(o),g.delete(l),T}return fL=a,fL}var mL,j7;function whe(){if(j7)return mL;j7=1;var t=ud(),e=t.Uint8Array;return mL=e,mL}var pL,N7;function jhe(){if(N7)return pL;N7=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return pL=t,pL}var gL,_7;function c6(){if(_7)return gL;_7=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return gL=t,gL}var xL,S7;function Nhe(){if(S7)return xL;S7=1;var t=tN(),e=whe(),r=KI(),n=cZ(),i=jhe(),a=c6(),o=1,l=2,u="[object Boolean]",h="[object Date]",f="[object Error]",g="[object Map]",y="[object Number]",N="[object RegExp]",_="[object Set]",k="[object String]",C="[object Symbol]",O="[object ArrayBuffer]",T="[object DataView]",M=t?t.prototype:void 0,B=M?M.valueOf:void 0;function F(V,H,Z,re,le,ce,he){switch(Z){case T:if(V.byteLength!=H.byteLength||V.byteOffset!=H.byteOffset)return!1;V=V.buffer,H=H.buffer;case O:return!(V.byteLength!=H.byteLength||!ce(new e(V),new e(H)));case u:case h:case y:return r(+V,+H);case f:return V.name==H.name&&V.message==H.message;case N:case k:return V==H+"";case g:var fe=i;case _:var ee=re&o;if(fe||(fe=a),V.size!=H.size&&!ee)return!1;var xe=he.get(V);if(xe)return xe==H;re|=l,he.set(V,H);var ie=n(fe(V),fe(H),re,le,ce,he);return he.delete(V),ie;case C:if(B)return B.call(V)==B.call(H)}return!1}return xL=F,xL}var yL,k7;function dZ(){if(k7)return yL;k7=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return yL=t,yL}var vL,A7;function _he(){if(A7)return vL;A7=1;var t=dZ(),e=Ya();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return vL=r,vL}var bL,C7;function She(){if(C7)return bL;C7=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[a++]=l)}return o}return bL=t,bL}var wL,E7;function khe(){if(E7)return wL;E7=1;function t(){return[]}return wL=t,wL}var jL,T7;function Ahe(){if(T7)return jL;T7=1;var t=She(),e=khe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return jL=a,jL}var NL,P7;function Che(){if(P7)return NL;P7=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return NL=t,NL}var _L,M7;function Ehe(){if(M7)return _L;M7=1;var t=Gu(),e=Zu(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return _L=n,_L}var SL,L7;function d6(){if(L7)return SL;L7=1;var t=Ehe(),e=Zu(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return SL=a,SL}var Tb={exports:{}},kL,O7;function The(){if(O7)return kL;O7=1;function t(){return!1}return kL=t,kL}Tb.exports;var D7;function uZ(){return D7||(D7=1,function(t,e){var r=ud(),n=The(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,h=u||n;t.exports=h}(Tb,Tb.exports)),Tb.exports}var AL,R7;function u6(){if(R7)return AL;R7=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return AL=r,AL}var CL,I7;function h6(){if(I7)return CL;I7=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return CL=e,CL}var EL,F7;function Phe(){if(F7)return EL;F7=1;var t=Gu(),e=h6(),r=Zu(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",h="[object Map]",f="[object Number]",g="[object Object]",y="[object RegExp]",N="[object Set]",_="[object String]",k="[object WeakMap]",C="[object ArrayBuffer]",O="[object DataView]",T="[object Float32Array]",M="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",V="[object Int32Array]",H="[object Uint8Array]",Z="[object Uint8ClampedArray]",re="[object Uint16Array]",le="[object Uint32Array]",ce={};ce[T]=ce[M]=ce[B]=ce[F]=ce[V]=ce[H]=ce[Z]=ce[re]=ce[le]=!0,ce[n]=ce[i]=ce[C]=ce[a]=ce[O]=ce[o]=ce[l]=ce[u]=ce[h]=ce[f]=ce[g]=ce[y]=ce[N]=ce[_]=ce[k]=!1;function he(fe){return r(fe)&&e(fe.length)&&!!ce[t(fe)]}return EL=he,EL}var TL,B7;function hZ(){if(B7)return TL;B7=1;function t(e){return function(r){return e(r)}}return TL=t,TL}var Pb={exports:{}};Pb.exports;var $7;function Mhe(){return $7||($7=1,function(t,e){var r=PG(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(Pb,Pb.exports)),Pb.exports}var PL,z7;function fZ(){if(z7)return PL;z7=1;var t=Phe(),e=hZ(),r=Mhe(),n=r&&r.isTypedArray,i=n?e(n):t;return PL=i,PL}var ML,H7;function Lhe(){if(H7)return ML;H7=1;var t=Che(),e=d6(),r=Ya(),n=uZ(),i=u6(),a=fZ(),o=Object.prototype,l=o.hasOwnProperty;function u(h,f){var g=r(h),y=!g&&e(h),N=!g&&!y&&n(h),_=!g&&!y&&!N&&a(h),k=g||y||N||_,C=k?t(h.length,String):[],O=C.length;for(var T in h)(f||l.call(h,T))&&!(k&&(T=="length"||N&&(T=="offset"||T=="parent")||_&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,O)))&&C.push(T);return C}return ML=u,ML}var LL,W7;function Ohe(){if(W7)return LL;W7=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return LL=e,LL}var OL,V7;function mZ(){if(V7)return OL;V7=1;function t(e,r){return function(n){return e(r(n))}}return OL=t,OL}var DL,U7;function Dhe(){if(U7)return DL;U7=1;var t=mZ(),e=t(Object.keys,Object);return DL=e,DL}var RL,q7;function Rhe(){if(q7)return RL;q7=1;var t=Ohe(),e=Dhe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return RL=i,RL}var IL,X7;function rN(){if(X7)return IL;X7=1;var t=ZI(),e=h6();function r(n){return n!=null&&e(n.length)&&!t(n)}return IL=r,IL}var FL,Y7;function tE(){if(Y7)return FL;Y7=1;var t=Lhe(),e=Rhe(),r=rN();function n(i){return r(i)?t(i):e(i)}return FL=n,FL}var BL,G7;function Ihe(){if(G7)return BL;G7=1;var t=_he(),e=Ahe(),r=tE();function n(i){return t(i,r,e)}return BL=n,BL}var $L,Z7;function Fhe(){if(Z7)return $L;Z7=1;var t=Ihe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,l,u,h,f){var g=l&e,y=t(a),N=y.length,_=t(o),k=_.length;if(N!=k&&!g)return!1;for(var C=N;C--;){var O=y[C];if(!(g?O in o:n.call(o,O)))return!1}var T=f.get(a),M=f.get(o);if(T&&M)return T==o&&M==a;var B=!0;f.set(a,o),f.set(o,a);for(var F=g;++C<N;){O=y[C];var V=a[O],H=o[O];if(u)var Z=g?u(H,V,O,o,a,f):u(V,H,O,a,o,f);if(!(Z===void 0?V===H||h(V,H,l,u,f):Z)){B=!1;break}F||(F=O=="constructor")}if(B&&!F){var re=a.constructor,le=o.constructor;re!=le&&"constructor"in a&&"constructor"in o&&!(typeof re=="function"&&re instanceof re&&typeof le=="function"&&le instanceof le)&&(B=!1)}return f.delete(a),f.delete(o),B}return $L=i,$L}var zL,K7;function Bhe(){if(K7)return zL;K7=1;var t=Sg(),e=ud(),r=t(e,"DataView");return zL=r,zL}var HL,J7;function $he(){if(J7)return HL;J7=1;var t=Sg(),e=ud(),r=t(e,"Promise");return HL=r,HL}var WL,Q7;function pZ(){if(Q7)return WL;Q7=1;var t=Sg(),e=ud(),r=t(e,"Set");return WL=r,WL}var VL,e9;function zhe(){if(e9)return VL;e9=1;var t=Sg(),e=ud(),r=t(e,"WeakMap");return VL=r,VL}var UL,t9;function Hhe(){if(t9)return UL;t9=1;var t=Bhe(),e=JI(),r=$he(),n=pZ(),i=zhe(),a=Gu(),o=MG(),l="[object Map]",u="[object Object]",h="[object Promise]",f="[object Set]",g="[object WeakMap]",y="[object DataView]",N=o(t),_=o(e),k=o(r),C=o(n),O=o(i),T=a;return(t&&T(new t(new ArrayBuffer(1)))!=y||e&&T(new e)!=l||r&&T(r.resolve())!=h||n&&T(new n)!=f||i&&T(new i)!=g)&&(T=function(M){var B=a(M),F=B==u?M.constructor:void 0,V=F?o(F):"";if(V)switch(V){case N:return y;case _:return l;case k:return h;case C:return f;case O:return g}return B}),UL=T,UL}var qL,r9;function Whe(){if(r9)return qL;r9=1;var t=iZ(),e=cZ(),r=Nhe(),n=Fhe(),i=Hhe(),a=Ya(),o=uZ(),l=fZ(),u=1,h="[object Arguments]",f="[object Array]",g="[object Object]",y=Object.prototype,N=y.hasOwnProperty;function _(k,C,O,T,M,B){var F=a(k),V=a(C),H=F?f:i(k),Z=V?f:i(C);H=H==h?g:H,Z=Z==h?g:Z;var re=H==g,le=Z==g,ce=H==Z;if(ce&&o(k)){if(!o(C))return!1;F=!0,re=!1}if(ce&&!re)return B||(B=new t),F||l(k)?e(k,C,O,T,M,B):r(k,C,H,O,T,M,B);if(!(O&u)){var he=re&&N.call(k,"__wrapped__"),fe=le&&N.call(C,"__wrapped__");if(he||fe){var ee=he?k.value():k,xe=fe?C.value():C;return B||(B=new t),M(ee,xe,O,T,B)}}return ce?(B||(B=new t),n(k,C,O,T,M,B)):!1}return qL=_,qL}var XL,s9;function f6(){if(s9)return XL;s9=1;var t=Whe(),e=Zu();function r(n,i,a,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,l)}return XL=r,XL}var YL,n9;function Vhe(){if(n9)return YL;n9=1;var t=iZ(),e=f6(),r=1,n=2;function i(a,o,l,u){var h=l.length,f=h,g=!u;if(a==null)return!f;for(a=Object(a);h--;){var y=l[h];if(g&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++h<f;){y=l[h];var N=y[0],_=a[N],k=y[1];if(g&&y[2]){if(_===void 0&&!(N in a))return!1}else{var C=new t;if(u)var O=u(_,k,N,a,o,C);if(!(O===void 0?e(k,_,r|n,u,C):O))return!1}}return!0}return YL=i,YL}var GL,i9;function gZ(){if(i9)return GL;i9=1;var t=Xf();function e(r){return r===r&&!t(r)}return GL=e,GL}var ZL,a9;function Uhe(){if(a9)return ZL;a9=1;var t=gZ(),e=tE();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],l=n[o];i[a]=[o,l,t(l)]}return i}return ZL=r,ZL}var KL,o9;function xZ(){if(o9)return KL;o9=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return KL=t,KL}var JL,l9;function qhe(){if(l9)return JL;l9=1;var t=Vhe(),e=Uhe(),r=xZ();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return JL=n,JL}var QL,c9;function Xhe(){if(c9)return QL;c9=1;function t(e,r){return e!=null&&r in Object(e)}return QL=t,QL}var e5,d9;function Yhe(){if(d9)return e5;d9=1;var t=DG(),e=d6(),r=Ya(),n=u6(),i=h6(),a=ZC();function o(l,u,h){u=t(u,l);for(var f=-1,g=u.length,y=!1;++f<g;){var N=a(u[f]);if(!(y=l!=null&&h(l,N)))break;l=l[N]}return y||++f!=g?y:(g=l==null?0:l.length,!!g&&i(g)&&n(N,g)&&(r(l)||e(l)))}return e5=o,e5}var t5,u9;function Ghe(){if(u9)return t5;u9=1;var t=Xhe(),e=Yhe();function r(n,i){return n!=null&&e(n,i,t)}return t5=r,t5}var r5,h9;function Zhe(){if(h9)return r5;h9=1;var t=f6(),e=RG(),r=Ghe(),n=GI(),i=gZ(),a=xZ(),o=ZC(),l=1,u=2;function h(f,g){return n(f)&&i(g)?a(o(f),g):function(y){var N=e(y,f);return N===void 0&&N===g?r(y,f):t(g,N,l|u)}}return r5=h,r5}var s5,f9;function mv(){if(f9)return s5;f9=1;function t(e){return e}return s5=t,s5}var n5,m9;function Khe(){if(m9)return n5;m9=1;function t(e){return function(r){return r==null?void 0:r[e]}}return n5=t,n5}var i5,p9;function Jhe(){if(p9)return i5;p9=1;var t=t6();function e(r){return function(n){return t(n,r)}}return i5=e,i5}var a5,g9;function Qhe(){if(g9)return a5;g9=1;var t=Khe(),e=Jhe(),r=GI(),n=ZC();function i(a){return r(a)?t(n(a)):e(a)}return a5=i,a5}var o5,x9;function hd(){if(x9)return o5;x9=1;var t=qhe(),e=Zhe(),r=mv(),n=Ya(),i=Qhe();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return o5=a,o5}var l5,y9;function yZ(){if(y9)return l5;y9=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return l5=t,l5}var c5,v9;function efe(){if(v9)return c5;v9=1;function t(e){return e!==e}return c5=t,c5}var d5,b9;function tfe(){if(b9)return d5;b9=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return d5=t,d5}var u5,w9;function rfe(){if(w9)return u5;w9=1;var t=yZ(),e=efe(),r=tfe();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return u5=n,u5}var h5,j9;function sfe(){if(j9)return h5;j9=1;var t=rfe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return h5=e,h5}var f5,N9;function nfe(){if(N9)return f5;N9=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return f5=t,f5}var m5,_9;function ife(){if(_9)return m5;_9=1;function t(){}return m5=t,m5}var p5,S9;function afe(){if(S9)return p5;S9=1;var t=pZ(),e=ife(),r=c6(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return p5=i,p5}var g5,k9;function ofe(){if(k9)return g5;k9=1;var t=aZ(),e=sfe(),r=nfe(),n=lZ(),i=afe(),a=c6(),o=200;function l(u,h,f){var g=-1,y=e,N=u.length,_=!0,k=[],C=k;if(f)_=!1,y=r;else if(N>=o){var O=h?null:i(u);if(O)return a(O);_=!1,y=n,C=new t}else C=h?[]:k;e:for(;++g<N;){var T=u[g],M=h?h(T):T;if(T=f||T!==0?T:0,_&&M===M){for(var B=C.length;B--;)if(C[B]===M)continue e;h&&C.push(M),k.push(T)}else y(C,M,f)||(C!==k&&C.push(M),k.push(T))}return k}return g5=l,g5}var x5,A9;function lfe(){if(A9)return x5;A9=1;var t=hd(),e=ofe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return x5=r,x5}var cfe=lfe();const C9=Ur(cfe);function vZ(t,e,r){return e===!0?C9(t,r):fr(e)?C9(t,e):t}function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}var dfe=["ref"];function E9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Od(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E9(Object(r),!0).forEach(function(n){rE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ufe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wZ(n.key),n)}}function hfe(t,e,r){return e&&T9(t.prototype,e),r&&T9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ffe(t,e,r){return e=Wk(e),mfe(t,bZ()?Reflect.construct(e,r||[],Wk(t).constructor):e.apply(t,r))}function mfe(t,e){if(e&&(my(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pfe(t)}function pfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bZ=function(){return!!t})()}function Wk(t){return Wk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wk(t)}function gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QO(t,e)}function QO(t,e){return QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QO(t,e)}function rE(t,e,r){return e=wZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wZ(t){var e=xfe(t,"string");return my(e)=="symbol"?e:e+""}function xfe(t,e){if(my(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yfe(t,e){if(t==null)return{};var r=vfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bfe(t){return t.value}function wfe(t,e){if(Oe.isValidElement(t))return Oe.cloneElement(t,e);if(typeof t=="function")return Oe.createElement(t,e);e.ref;var r=yfe(e,dfe);return Oe.createElement(l6,r)}var P9=1,Ao=function(t){function e(){var r;ufe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ffe(this,e,[].concat(i)),rE(r,"lastBoundingBox",{width:-1,height:-1}),r}return gfe(e,t),hfe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>P9||Math.abs(i.height-this.lastBoundingBox.height)>P9)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Od({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,u=i.margin,h=i.chartWidth,f=i.chartHeight,g,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var N=this.getBBoxSnapshot();g={left:((h||0)-N.width)/2}}else g=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var _=this.getBBoxSnapshot();y={top:((f||0)-_.height)/2}}else y=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Od(Od({},g),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,u=i.wrapperStyle,h=i.payloadUniqBy,f=i.payload,g=Od(Od({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return Oe.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(N){n.wrapperNode=N}},wfe(a,Od(Od({},this.props),{},{payload:vZ(f,h,bfe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Od(Od({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Et(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(Y.PureComponent);rE(Ao,"displayName","Legend");rE(Ao,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var y5,M9;function jfe(){if(M9)return y5;M9=1;var t=tN(),e=d6(),r=Ya(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return y5=i,y5}var v5,L9;function jZ(){if(L9)return v5;L9=1;var t=dZ(),e=jfe();function r(n,i,a,o,l){var u=-1,h=n.length;for(a||(a=e),l||(l=[]);++u<h;){var f=n[u];i>0&&a(f)?i>1?r(f,i-1,a,o,l):t(l,f):o||(l[l.length]=f)}return l}return v5=r,v5}var b5,O9;function Nfe(){if(O9)return b5;O9=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),l=i(r),u=l.length;u--;){var h=l[e?u:++a];if(n(o[h],h,o)===!1)break}return r}}return b5=t,b5}var w5,D9;function _fe(){if(D9)return w5;D9=1;var t=Nfe(),e=t();return w5=e,w5}var j5,R9;function NZ(){if(R9)return j5;R9=1;var t=_fe(),e=tE();function r(n,i){return n&&t(n,i,e)}return j5=r,j5}var N5,I9;function Sfe(){if(I9)return N5;I9=1;var t=rN();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,l=n?o:-1,u=Object(i);(n?l--:++l<o)&&a(u[l],l,u)!==!1;);return i}}return N5=e,N5}var _5,F9;function m6(){if(F9)return _5;F9=1;var t=NZ(),e=Sfe(),r=e(t);return _5=r,_5}var S5,B9;function _Z(){if(B9)return S5;B9=1;var t=m6(),e=rN();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(l,u,h){o[++a]=i(l,u,h)}),o}return S5=r,S5}var k5,$9;function kfe(){if($9)return k5;$9=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return k5=t,k5}var A5,z9;function Afe(){if(z9)return A5;z9=1;var t=uv();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,l=t(r),u=n!==void 0,h=n===null,f=n===n,g=t(n);if(!h&&!g&&!l&&r>n||l&&u&&f&&!h&&!g||a&&u&&f||!i&&f||!o)return 1;if(!a&&!l&&!g&&r<n||g&&i&&o&&!a&&!l||h&&i&&o||!u&&o||!f)return-1}return 0}return A5=e,A5}var C5,H9;function Cfe(){if(H9)return C5;H9=1;var t=Afe();function e(r,n,i){for(var a=-1,o=r.criteria,l=n.criteria,u=o.length,h=i.length;++a<u;){var f=t(o[a],l[a]);if(f){if(a>=h)return f;var g=i[a];return f*(g=="desc"?-1:1)}}return r.index-n.index}return C5=e,C5}var E5,W9;function Efe(){if(W9)return E5;W9=1;var t=e6(),e=t6(),r=hd(),n=_Z(),i=kfe(),a=hZ(),o=Cfe(),l=mv(),u=Ya();function h(f,g,y){g.length?g=t(g,function(k){return u(k)?function(C){return e(C,k.length===1?k[0]:k)}:k}):g=[l];var N=-1;g=t(g,a(r));var _=n(f,function(k,C,O){var T=t(g,function(M){return M(k)});return{criteria:T,index:++N,value:k}});return i(_,function(k,C){return o(k,C,y)})}return E5=h,E5}var T5,V9;function Tfe(){if(V9)return T5;V9=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return T5=t,T5}var P5,U9;function Pfe(){if(U9)return P5;U9=1;var t=Tfe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,u=e(o.length-i,0),h=Array(u);++l<u;)h[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=a(h),t(n,this,f)}}return P5=r,P5}var M5,q9;function Mfe(){if(q9)return M5;q9=1;function t(e){return function(){return e}}return M5=t,M5}var L5,X9;function SZ(){if(X9)return L5;X9=1;var t=Sg(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return L5=e,L5}var O5,Y9;function Lfe(){if(Y9)return O5;Y9=1;var t=Mfe(),e=SZ(),r=mv(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return O5=n,O5}var D5,G9;function Ofe(){if(G9)return D5;G9=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var l=r(),u=e-(l-o);if(o=l,u>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return D5=n,D5}var R5,Z9;function Dfe(){if(Z9)return R5;Z9=1;var t=Lfe(),e=Ofe(),r=e(t);return R5=r,R5}var I5,K9;function Rfe(){if(K9)return I5;K9=1;var t=mv(),e=Pfe(),r=Dfe();function n(i,a){return r(e(i,a,t),i+"")}return I5=n,I5}var F5,J9;function sE(){if(J9)return F5;J9=1;var t=KI(),e=rN(),r=u6(),n=Xf();function i(a,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?e(l)&&r(o,l.length):u=="string"&&o in l)?t(l[o],a):!1}return F5=i,F5}var B5,Q9;function Ife(){if(Q9)return B5;Q9=1;var t=jZ(),e=Efe(),r=Rfe(),n=sE(),i=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return B5=i,B5}var Ffe=Ife();const p6=Ur(Ffe);function Xw(t){"@babel/helpers - typeof";return Xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xw(t)}function eD(){return eD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eD.apply(this,arguments)}function Bfe(t,e){return Wfe(t)||Hfe(t,e)||zfe(t,e)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zfe(t,e){if(t){if(typeof t=="string")return eH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eH(t,e)}}function eH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function Wfe(t){if(Array.isArray(t))return t}function tH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tH(Object(r),!0).forEach(function(n){Vfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vfe(t,e,r){return e=Ufe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ufe(t){var e=qfe(t,"string");return Xw(e)=="symbol"?e:e+""}function qfe(t,e){if(Xw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xfe(t){return Array.isArray(t)&&Kn(t[0])&&Kn(t[1])?t.join(" ~ "):t}var Yfe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,u=e.labelStyle,h=u===void 0?{}:u,f=e.payload,g=e.formatter,y=e.itemSorter,N=e.wrapperClassName,_=e.labelClassName,k=e.label,C=e.labelFormatter,O=e.accessibilityLayer,T=O===void 0?!1:O,M=function(){if(f&&f.length){var he={padding:0,margin:0},fe=(y?p6(f,y):f).map(function(ee,xe){if(ee.type==="none")return null;var ie=$5({display:"block",paddingTop:4,paddingBottom:4,color:ee.color||"#000"},l),ge=ee.formatter||g||Xfe,G=ee.value,ue=ee.name,ke=G,ve=ue;if(ge&&ke!=null&&ve!=null){var Se=ge(G,ue,ee,xe,f);if(Array.isArray(Se)){var He=Bfe(Se,2);ke=He[0],ve=He[1]}else ke=Se}return Oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(xe),style:ie},Kn(ve)?Oe.createElement("span",{className:"recharts-tooltip-item-name"},ve):null,Kn(ve)?Oe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Oe.createElement("span",{className:"recharts-tooltip-item-value"},ke),Oe.createElement("span",{className:"recharts-tooltip-item-unit"},ee.unit||""))});return Oe.createElement("ul",{className:"recharts-tooltip-item-list",style:he},fe)}return null},B=$5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),F=$5({margin:0},h),V=!Nr(k),H=V?k:"",Z=vr("recharts-default-tooltip",N),re=vr("recharts-tooltip-label",_);V&&C&&f!==void 0&&f!==null&&(H=C(k,f));var le=T?{role:"status","aria-live":"assertive"}:{};return Oe.createElement("div",eD({className:Z,style:B},le),Oe.createElement("p",{className:re,style:F},Oe.isValidElement(H)?H:"".concat(H)),M())};function Yw(t){"@babel/helpers - typeof";return Yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yw(t)}function B2(t,e,r){return e=Gfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gfe(t){var e=Zfe(t,"string");return Yw(e)=="symbol"?e:e+""}function Zfe(t,e){if(Yw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hb="recharts-tooltip-wrapper",Kfe={visibility:"hidden"};function Jfe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return vr(hb,B2(B2(B2(B2({},"".concat(hb,"-right"),Et(r)&&e&&Et(e.x)&&r>=e.x),"".concat(hb,"-left"),Et(r)&&e&&Et(e.x)&&r<e.x),"".concat(hb,"-bottom"),Et(n)&&e&&Et(e.y)&&n>=e.y),"".concat(hb,"-top"),Et(n)&&e&&Et(e.y)&&n<e.y))}function rH(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,u=t.viewBox,h=t.viewBoxDimension;if(a&&Et(a[n]))return a[n];var f=r[n]-l-i,g=r[n]+i;if(e[n])return o[n]?f:g;if(o[n]){var y=f,N=u[n];return y<N?Math.max(g,u[n]):Math.max(f,u[n])}var _=g+l,k=u[n]+h;return _>k?Math.max(f,u[n]):Math.max(g,u[n])}function Qfe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function eme(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,u=t.viewBox,h,f,g;return o.height>0&&o.width>0&&r?(f=rH({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),g=rH({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),h=Qfe({translateX:f,translateY:g,useTranslate3d:l})):h=Kfe,{cssProperties:h,cssClasses:Jfe({translateX:f,translateY:g,coordinate:r})}}function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function sH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sH(Object(r),!0).forEach(function(n){rD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AZ(n.key),n)}}function sme(t,e,r){return e&&rme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nme(t,e,r){return e=Vk(e),ime(t,kZ()?Reflect.construct(e,r||[],Vk(t).constructor):e.apply(t,r))}function ime(t,e){if(e&&(py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ame(t)}function ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kZ=function(){return!!t})()}function Vk(t){return Vk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vk(t)}function ome(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tD(t,e)}function tD(t,e){return tD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tD(t,e)}function rD(t,e,r){return e=AZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AZ(t){var e=lme(t,"string");return py(e)=="symbol"?e:e+""}function lme(t,e){if(py(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iH=1,cme=function(t){function e(){var r;tme(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=nme(this,e,[].concat(i)),rD(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),rD(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,u,h,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(h=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&h!==void 0?h:0}})}}),r}return ome(e,t),sme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>iH||Math.abs(n.height-this.state.lastBoundingBox.height)>iH)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,h=i.children,f=i.coordinate,g=i.hasPayload,y=i.isAnimationActive,N=i.offset,_=i.position,k=i.reverseDirection,C=i.useTranslate3d,O=i.viewBox,T=i.wrapperStyle,M=eme({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:N,position:_,reverseDirection:k,tooltipBox:this.state.lastBoundingBox,useTranslate3d:C,viewBox:O}),B=M.cssClasses,F=M.cssProperties,V=nH(nH({transition:y&&a?"transform ".concat(l,"ms ").concat(u):void 0},F),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0},T);return Oe.createElement("div",{tabIndex:-1,className:B,style:V,ref:function(Z){n.wrapperNode=Z}},h)}}])}(Y.PureComponent),dme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ku={isSsr:dme()};function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function aH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aH(Object(r),!0).forEach(function(n){g6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EZ(n.key),n)}}function fme(t,e,r){return e&&hme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mme(t,e,r){return e=Uk(e),pme(t,CZ()?Reflect.construct(e,r||[],Uk(t).constructor):e.apply(t,r))}function pme(t,e){if(e&&(gy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gme(t)}function gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CZ=function(){return!!t})()}function Uk(t){return Uk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uk(t)}function xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sD(t,e)}function sD(t,e){return sD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sD(t,e)}function g6(t,e,r){return e=EZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EZ(t){var e=yme(t,"string");return gy(e)=="symbol"?e:e+""}function yme(t,e){if(gy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vme(t){return t.dataKey}function bme(t,e){return Oe.isValidElement(t)?Oe.cloneElement(t,e):typeof t=="function"?Oe.createElement(t,e):Oe.createElement(Yfe,e)}var cn=function(t){function e(){return ume(this,e),mme(this,e,arguments)}return xme(e,t),fme(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,u=i.animationEasing,h=i.content,f=i.coordinate,g=i.filterNull,y=i.isAnimationActive,N=i.offset,_=i.payload,k=i.payloadUniqBy,C=i.position,O=i.reverseDirection,T=i.useTranslate3d,M=i.viewBox,B=i.wrapperStyle,F=_??[];g&&F.length&&(F=vZ(_.filter(function(H){return H.value!=null&&(H.hide!==!0||n.props.includeHidden)}),k,vme));var V=F.length>0;return Oe.createElement(cme,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:y,active:a,coordinate:f,hasPayload:V,offset:N,position:C,reverseDirection:O,useTranslate3d:T,viewBox:M,wrapperStyle:B},bme(h,oH(oH({},this.props),{},{payload:F})))}}])}(Y.PureComponent);g6(cn,"displayName","Tooltip");g6(cn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ku.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var z5,lH;function wme(){if(lH)return z5;lH=1;var t=ud(),e=function(){return t.Date.now()};return z5=e,z5}var H5,cH;function jme(){if(cH)return H5;cH=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return H5=e,H5}var W5,dH;function Nme(){if(dH)return W5;dH=1;var t=jme(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return W5=r,W5}var V5,uH;function TZ(){if(uH)return V5;uH=1;var t=Nme(),e=Xf(),r=uv(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var f=typeof h.valueOf=="function"?h.valueOf():h;h=e(f)?f+"":f}if(typeof h!="string")return h===0?h:+h;h=t(h);var g=a.test(h);return g||o.test(h)?l(h.slice(2),g?2:8):i.test(h)?n:+h}return V5=u,V5}var U5,hH;function _me(){if(hH)return U5;hH=1;var t=Xf(),e=wme(),r=TZ(),n="Expected a function",i=Math.max,a=Math.min;function o(l,u,h){var f,g,y,N,_,k,C=0,O=!1,T=!1,M=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,t(h)&&(O=!!h.leading,T="maxWait"in h,y=T?i(r(h.maxWait)||0,u):y,M="trailing"in h?!!h.trailing:M);function B(fe){var ee=f,xe=g;return f=g=void 0,C=fe,N=l.apply(xe,ee),N}function F(fe){return C=fe,_=setTimeout(Z,u),O?B(fe):N}function V(fe){var ee=fe-k,xe=fe-C,ie=u-ee;return T?a(ie,y-xe):ie}function H(fe){var ee=fe-k,xe=fe-C;return k===void 0||ee>=u||ee<0||T&&xe>=y}function Z(){var fe=e();if(H(fe))return re(fe);_=setTimeout(Z,V(fe))}function re(fe){return _=void 0,M&&f?B(fe):(f=g=void 0,N)}function le(){_!==void 0&&clearTimeout(_),C=0,f=k=g=_=void 0}function ce(){return _===void 0?N:re(e())}function he(){var fe=e(),ee=H(fe);if(f=arguments,g=this,k=fe,ee){if(_===void 0)return F(k);if(T)return clearTimeout(_),_=setTimeout(Z,u),B(k)}return _===void 0&&(_=setTimeout(Z,u)),N}return he.cancel=le,he.flush=ce,he}return U5=o,U5}var q5,fH;function Sme(){if(fH)return q5;fH=1;var t=_me(),e=Xf(),r="Expected a function";function n(i,a,o){var l=!0,u=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),t(i,a,{leading:l,maxWait:a,trailing:u})}return q5=n,q5}var kme=Sme();const PZ=Ur(kme);function Gw(t){"@babel/helpers - typeof";return Gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gw(t)}function mH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mH(Object(r),!0).forEach(function(n){Ame(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ame(t,e,r){return e=Cme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cme(t){var e=Eme(t,"string");return Gw(e)=="symbol"?e:e+""}function Eme(t,e){if(Gw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tme(t,e){return Ome(t)||Lme(t,e)||Mme(t,e)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mme(t,e){if(t){if(typeof t=="string")return pH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pH(t,e)}}function pH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function Ome(t){if(Array.isArray(t))return t}var Fa=Y.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,u=l===void 0?"100%":l,h=t.minWidth,f=h===void 0?0:h,g=t.minHeight,y=t.maxHeight,N=t.children,_=t.debounce,k=_===void 0?0:_,C=t.id,O=t.className,T=t.onResize,M=t.style,B=M===void 0?{}:M,F=Y.useRef(null),V=Y.useRef();V.current=T,Y.useImperativeHandle(e,function(){return Object.defineProperty(F.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),F.current},configurable:!0})});var H=Y.useState({containerWidth:i.width,containerHeight:i.height}),Z=Tme(H,2),re=Z[0],le=Z[1],ce=Y.useCallback(function(fe,ee){le(function(xe){var ie=Math.round(fe),ge=Math.round(ee);return xe.containerWidth===ie&&xe.containerHeight===ge?xe:{containerWidth:ie,containerHeight:ge}})},[]);Y.useEffect(function(){var fe=function(ue){var ke,ve=ue[0].contentRect,Se=ve.width,He=ve.height;ce(Se,He),(ke=V.current)===null||ke===void 0||ke.call(V,Se,He)};k>0&&(fe=PZ(fe,k,{trailing:!0,leading:!1}));var ee=new ResizeObserver(fe),xe=F.current.getBoundingClientRect(),ie=xe.width,ge=xe.height;return ce(ie,ge),ee.observe(F.current),function(){ee.disconnect()}},[ce,k]);var he=Y.useMemo(function(){var fe=re.containerWidth,ee=re.containerHeight;if(fe<0||ee<0)return null;sc(Xm(o)||Xm(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),sc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var xe=Xm(o)?fe:o,ie=Xm(u)?ee:u;r&&r>0&&(xe?ie=xe/r:ie&&(xe=ie*r),y&&ie>y&&(ie=y)),sc(xe>0||ie>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,xe,ie,o,u,f,g,r);var ge=!Array.isArray(N)&&Au(N.type).endsWith("Chart");return Oe.Children.map(N,function(G){return Oe.isValidElement(G)?Y.cloneElement(G,$2({width:xe,height:ie},ge?{style:$2({height:"100%",width:"100%",maxHeight:ie,maxWidth:xe},G.props.style)}:{})):G})},[r,N,u,y,g,f,re,o]);return Oe.createElement("div",{id:C?"".concat(C):void 0,className:vr("recharts-responsive-container",O),style:$2($2({},B),{},{width:o,height:u,minWidth:f,minHeight:g,maxHeight:y}),ref:F},he)}),Df=function(e){return null};Df.displayName="Cell";function Zw(t){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(t)}function gH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gH(Object(r),!0).forEach(function(n){Dme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dme(t,e,r){return e=Rme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rme(t){var e=Ime(t,"string");return Zw(e)=="symbol"?e:e+""}function Ime(t,e){if(Zw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var px={widthCache:{},cacheCount:0},Fme=2e3,Bme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xH="recharts_measurement_span";function $me(t){var e=nD({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var kw=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ku.isSsr)return{width:0,height:0};var n=$me(r),i=JSON.stringify({text:e,copyStyle:n});if(px.widthCache[i])return px.widthCache[i];try{var a=document.getElementById(xH);a||(a=document.createElement("span"),a.setAttribute("id",xH),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=nD(nD({},Bme),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),u={width:l.width,height:l.height};return px.widthCache[i]=u,++px.cacheCount>Fme&&(px.cacheCount=0,px.widthCache={}),u}catch{return{width:0,height:0}}},zme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kw(t){"@babel/helpers - typeof";return Kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kw(t)}function qk(t,e){return Ume(t)||Vme(t,e)||Wme(t,e)||Hme()}function Hme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wme(t,e){if(t){if(typeof t=="string")return yH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yH(t,e)}}function yH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function Ume(t){if(Array.isArray(t))return t}function qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yme(n.key),n)}}function Xme(t,e,r){return e&&vH(t.prototype,e),r&&vH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yme(t){var e=Gme(t,"string");return Kw(e)=="symbol"?e:e+""}function Gme(t,e){if(Kw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Kme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jme=Object.keys(MZ),Yx="NaN";function Qme(t,e){return t*MZ[e]}var z2=function(){function t(e,r){qme(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Zme.test(r)&&(this.num=NaN,this.unit=""),Jme.includes(r)&&(this.num=Qme(e,r),this.unit="px")}return Xme(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Kme.exec(r))!==null&&n!==void 0?n:[],a=qk(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function LZ(t){if(t.includes(Yx))return Yx;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=bH.exec(e))!==null&&r!==void 0?r:[],i=qk(n,4),a=i[1],o=i[2],l=i[3],u=z2.parse(a??""),h=z2.parse(l??""),f=o==="*"?u.multiply(h):u.divide(h);if(f.isNaN())return Yx;e=e.replace(bH,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,y=(g=wH.exec(e))!==null&&g!==void 0?g:[],N=qk(y,4),_=N[1],k=N[2],C=N[3],O=z2.parse(_??""),T=z2.parse(C??""),M=k==="+"?O.add(T):O.subtract(T);if(M.isNaN())return Yx;e=e.replace(wH,M.toString())}return e}var jH=/\(([^()]*)\)/;function epe(t){for(var e=t;e.includes("(");){var r=jH.exec(e),n=qk(r,2),i=n[1];e=e.replace(jH,LZ(i))}return e}function tpe(t){var e=t.replace(/\s+/g,"");return e=epe(e),e=LZ(e),e}function rpe(t){try{return tpe(t)}catch{return Yx}}function X5(t){var e=rpe(t.slice(5,-1));return e===Yx?"":e}var spe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],npe=["dx","dy","angle","className","breakAll"];function iD(){return iD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iD.apply(this,arguments)}function NH(t,e){if(t==null)return{};var r=ipe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ipe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _H(t,e){return cpe(t)||lpe(t,e)||ope(t,e)||ape()}function ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ope(t,e){if(t){if(typeof t=="string")return SH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SH(t,e)}}function SH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function cpe(t){if(Array.isArray(t))return t}var OZ=/[ \f\n\r\t\v\u2028\u2029]+/,DZ=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Nr(r)||(n?a=r.toString().split(""):a=r.toString().split(OZ));var o=a.map(function(u){return{word:u,width:kw(u,i).width}}),l=n?0:kw("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},dpe=function(e,r,n,i,a){var o=e.maxLines,l=e.children,u=e.style,h=e.breakAll,f=Et(o),g=l,y=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return xe.reduce(function(ie,ge){var G=ge.word,ue=ge.width,ke=ie[ie.length-1];if(ke&&(i==null||a||ke.width+ue+n<Number(i)))ke.words.push(G),ke.width+=ue+n;else{var ve={words:[G],width:ue};ie.push(ve)}return ie},[])},N=y(r),_=function(xe){return xe.reduce(function(ie,ge){return ie.width>ge.width?ie:ge})};if(!f)return N;for(var k="",C=function(xe){var ie=g.slice(0,xe),ge=DZ({breakAll:h,style:u,children:ie+k}).wordsWithComputedWidth,G=y(ge),ue=G.length>o||_(G).width>Number(i);return[ue,G]},O=0,T=g.length-1,M=0,B;O<=T&&M<=g.length-1;){var F=Math.floor((O+T)/2),V=F-1,H=C(V),Z=_H(H,2),re=Z[0],le=Z[1],ce=C(F),he=_H(ce,1),fe=he[0];if(!re&&!fe&&(O=F+1),re&&fe&&(T=F-1),!re&&fe){B=le;break}M++}return B||N},kH=function(e){var r=Nr(e)?[]:e.toString().split(OZ);return[{words:r}]},upe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Ku.isSsr){var u,h,f=DZ({breakAll:o,children:i,style:a});if(f){var g=f.wordsWithComputedWidth,y=f.spaceWidth;u=g,h=y}else return kH(i);return dpe({breakAll:o,children:i,maxLines:l,style:a},u,h,r,n)}return kH(i)},AH="#808080",ag=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,u=e.capHeight,h=u===void 0?"0.71em":u,f=e.scaleToFit,g=f===void 0?!1:f,y=e.textAnchor,N=y===void 0?"start":y,_=e.verticalAnchor,k=_===void 0?"end":_,C=e.fill,O=C===void 0?AH:C,T=NH(e,spe),M=Y.useMemo(function(){return upe({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:g,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,g,T.style,T.width]),B=T.dx,F=T.dy,V=T.angle,H=T.className,Z=T.breakAll,re=NH(T,npe);if(!Kn(n)||!Kn(a))return null;var le=n+(Et(B)?B:0),ce=a+(Et(F)?F:0),he;switch(k){case"start":he=X5("calc(".concat(h,")"));break;case"middle":he=X5("calc(".concat((M.length-1)/2," * -").concat(l," + (").concat(h," / 2))"));break;default:he=X5("calc(".concat(M.length-1," * -").concat(l,")"));break}var fe=[];if(g){var ee=M[0].width,xe=T.width;fe.push("scale(".concat((Et(xe)?xe/ee:1)/ee,")"))}return V&&fe.push("rotate(".concat(V,", ").concat(le,", ").concat(ce,")")),fe.length&&(re.transform=fe.join(" ")),Oe.createElement("text",iD({},er(re,!0),{x:le,y:ce,className:vr("recharts-text",H),textAnchor:N,fill:O.includes("url")?AH:O}),M.map(function(ie,ge){var G=ie.words.join(Z?"":" ");return Oe.createElement("tspan",{x:le,dy:ge===0?he:l,key:"".concat(G,"-").concat(ge)},G)}))};function Ef(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x6(t){let e,r,n;t.length!==2?(e=Ef,r=(l,u)=>Ef(t(l),u),n=(l,u)=>t(l)-u):(e=t===Ef||t===hpe?t:fpe,r=t,n=t);function i(l,u,h=0,f=l.length){if(h<f){if(e(u,u)!==0)return f;do{const g=h+f>>>1;r(l[g],u)<0?h=g+1:f=g}while(h<f)}return h}function a(l,u,h=0,f=l.length){if(h<f){if(e(u,u)!==0)return f;do{const g=h+f>>>1;r(l[g],u)<=0?h=g+1:f=g}while(h<f)}return h}function o(l,u,h=0,f=l.length){const g=i(l,u,h,f-1);return g>h&&n(l[g-1],u)>-n(l[g],u)?g-1:g}return{left:i,center:o,right:a}}function fpe(){return 0}function RZ(t){return t===null?NaN:+t}function*mpe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const ppe=x6(Ef),sN=ppe.right;x6(RZ).center;class CH extends Map{constructor(e,r=ype){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(EH(this,e))}has(e){return super.has(EH(this,e))}set(e,r){return super.set(gpe(this,e),r)}delete(e){return super.delete(xpe(this,e))}}function EH({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function gpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function xpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ype(t){return t!==null&&typeof t=="object"?t.valueOf():t}function vpe(t=Ef){if(t===Ef)return IZ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function IZ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bpe=Math.sqrt(50),wpe=Math.sqrt(10),jpe=Math.sqrt(2);function Xk(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=bpe?10:a>=wpe?5:a>=jpe?2:1;let l,u,h;return i<0?(h=Math.pow(10,-i)/o,l=Math.round(t*h),u=Math.round(e*h),l/h<t&&++l,u/h>e&&--u,h=-h):(h=Math.pow(10,i)*o,l=Math.round(t/h),u=Math.round(e/h),l*h<t&&++l,u*h>e&&--u),u<l&&.5<=r&&r<2?Xk(t,e,r*2):[l,u,h]}function aD(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Xk(e,t,r):Xk(t,e,r);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(n)if(o<0)for(let h=0;h<l;++h)u[h]=(a-h)/-o;else for(let h=0;h<l;++h)u[h]=(a-h)*o;else if(o<0)for(let h=0;h<l;++h)u[h]=(i+h)/-o;else for(let h=0;h<l;++h)u[h]=(i+h)*o;return u}function oD(t,e,r){return e=+e,t=+t,r=+r,Xk(t,e,r)[2]}function lD(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?oD(e,t,r):oD(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function TH(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function PH(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function FZ(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?IZ:vpe(i);n>r;){if(n-r>600){const u=n-r+1,h=e-r+1,f=Math.log(u),g=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*g*(u-g)/u)*(h-u/2<0?-1:1),N=Math.max(r,Math.floor(e-h*g/u+y)),_=Math.min(n,Math.floor(e+(u-h)*g/u+y));FZ(t,e,N,_,i)}const a=t[e];let o=r,l=n;for(fb(t,r,e),i(t[n],a)>0&&fb(t,r,n);o<l;){for(fb(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?fb(t,r,l):(++l,fb(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function fb(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Npe(t,e,r){if(t=Float64Array.from(mpe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return PH(t);if(e>=1)return TH(t);var n,i=(n-1)*e,a=Math.floor(i),o=TH(FZ(t,a).subarray(0,a+1)),l=PH(t.subarray(a+1));return o+(l-o)*(i-a)}}function _pe(t,e,r=RZ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Spe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function ml(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ju(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cD=Symbol("implicit");function y6(){var t=new CH,e=[],r=[],n=cD;function i(a){let o=t.get(a);if(o===void 0){if(n!==cD)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new CH;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return y6(e,r).unknown(n)},ml.apply(i,arguments),i}function Jw(){var t=y6().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,u=0,h=0,f=.5;delete t.unknown;function g(){var y=e().length,N=i<n,_=N?i:n,k=N?n:i;a=(k-_)/Math.max(1,y-u+h*2),l&&(a=Math.floor(a)),_+=(k-_-a*(y-u))*f,o=a*(1-u),l&&(_=Math.round(_),o=Math.round(o));var C=Spe(y).map(function(O){return _+a*O});return r(N?C.reverse():C)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,g()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,l=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(l=!!y,g()):l},t.padding=function(y){return arguments.length?(u=Math.min(1,h=+y),g()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),g()):u},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(f=Math.max(0,Math.min(1,y)),g()):f},t.copy=function(){return Jw(e(),[n,i]).round(l).paddingInner(u).paddingOuter(h).align(f)},ml.apply(g(),arguments)}function BZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return BZ(e())},t}function Aw(){return BZ(Jw.apply(null,arguments).paddingInner(1))}function v6(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function $Z(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function nN(){}var Qw=.7,Yk=1/Qw,i0="\\s*([+-]?\\d+)\\s*",e1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kpe=/^#([0-9a-f]{3,8})$/,Ape=new RegExp(`^rgb\\(${i0},${i0},${i0}\\)$`),Cpe=new RegExp(`^rgb\\(${td},${td},${td}\\)$`),Epe=new RegExp(`^rgba\\(${i0},${i0},${i0},${e1}\\)$`),Tpe=new RegExp(`^rgba\\(${td},${td},${td},${e1}\\)$`),Ppe=new RegExp(`^hsl\\(${e1},${td},${td}\\)$`),Mpe=new RegExp(`^hsla\\(${e1},${td},${td},${e1}\\)$`),MH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v6(nN,og,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LH,formatHex:LH,formatHex8:Lpe,formatHsl:Ope,formatRgb:OH,toString:OH});function LH(){return this.rgb().formatHex()}function Lpe(){return this.rgb().formatHex8()}function Ope(){return zZ(this).formatHsl()}function OH(){return this.rgb().formatRgb()}function og(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=kpe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?DH(e):r===3?new Ba(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?H2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?H2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ape.exec(t))?new Ba(e[1],e[2],e[3],1):(e=Cpe.exec(t))?new Ba(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Epe.exec(t))?H2(e[1],e[2],e[3],e[4]):(e=Tpe.exec(t))?H2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ppe.exec(t))?FH(e[1],e[2]/100,e[3]/100,1):(e=Mpe.exec(t))?FH(e[1],e[2]/100,e[3]/100,e[4]):MH.hasOwnProperty(t)?DH(MH[t]):t==="transparent"?new Ba(NaN,NaN,NaN,0):null}function DH(t){return new Ba(t>>16&255,t>>8&255,t&255,1)}function H2(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ba(t,e,r,n)}function Dpe(t){return t instanceof nN||(t=og(t)),t?(t=t.rgb(),new Ba(t.r,t.g,t.b,t.opacity)):new Ba}function dD(t,e,r,n){return arguments.length===1?Dpe(t):new Ba(t,e,r,n??1)}function Ba(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}v6(Ba,dD,$Z(nN,{brighter(t){return t=t==null?Yk:Math.pow(Yk,t),new Ba(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qw:Math.pow(Qw,t),new Ba(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ba(Kp(this.r),Kp(this.g),Kp(this.b),Gk(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RH,formatHex:RH,formatHex8:Rpe,formatRgb:IH,toString:IH}));function RH(){return`#${Ym(this.r)}${Ym(this.g)}${Ym(this.b)}`}function Rpe(){return`#${Ym(this.r)}${Ym(this.g)}${Ym(this.b)}${Ym((isNaN(this.opacity)?1:this.opacity)*255)}`}function IH(){const t=Gk(this.opacity);return`${t===1?"rgb(":"rgba("}${Kp(this.r)}, ${Kp(this.g)}, ${Kp(this.b)}${t===1?")":`, ${t})`}`}function Gk(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ym(t){return t=Kp(t),(t<16?"0":"")+t.toString(16)}function FH(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ql(t,e,r,n)}function zZ(t){if(t instanceof Ql)return new Ql(t.h,t.s,t.l,t.opacity);if(t instanceof nN||(t=og(t)),!t)return new Ql;if(t instanceof Ql)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,u=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Ql(o,l,u,t.opacity)}function Ipe(t,e,r,n){return arguments.length===1?zZ(t):new Ql(t,e,r,n??1)}function Ql(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}v6(Ql,Ipe,$Z(nN,{brighter(t){return t=t==null?Yk:Math.pow(Yk,t),new Ql(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qw:Math.pow(Qw,t),new Ql(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ba(Y5(t>=240?t-240:t+120,i,n),Y5(t,i,n),Y5(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ql(BH(this.h),W2(this.s),W2(this.l),Gk(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gk(this.opacity);return`${t===1?"hsl(":"hsla("}${BH(this.h)}, ${W2(this.s)*100}%, ${W2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function BH(t){return t=(t||0)%360,t<0?t+360:t}function W2(t){return Math.max(0,Math.min(1,t||0))}function Y5(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const b6=t=>()=>t;function Fpe(t,e){return function(r){return t+r*e}}function Bpe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function $pe(t){return(t=+t)==1?HZ:function(e,r){return r-e?Bpe(e,r,t):b6(isNaN(e)?r:e)}}function HZ(t,e){var r=e-t;return r?Fpe(t,r):b6(isNaN(t)?e:t)}const Zk=function t(e){var r=$pe(e);function n(i,a){var o=r((i=dD(i)).r,(a=dD(a)).r),l=r(i.g,a.g),u=r(i.b,a.b),h=HZ(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=u(f),i.opacity=h(f),i+""}}return n.gamma=t,n}(1);function zpe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Hpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wpe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=pv(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function Vpe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Jl(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Upe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=pv(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var uD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G5=new RegExp(uD.source,"g");function qpe(t){return function(){return t}}function Xpe(t){return function(e){return t(e)+""}}function WZ(t,e){var r=uD.lastIndex=G5.lastIndex=0,n,i,a,o=-1,l=[],u=[];for(t=t+"",e=e+"";(n=uD.exec(t))&&(i=G5.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Jl(n,i)})),r=G5.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?Xpe(u[0].x):qpe(e):(e=u.length,function(h){for(var f=0,g;f<e;++f)l[(g=u[f]).i]=g.x(h);return l.join("")})}function pv(t,e){var r=typeof e,n;return e==null||r==="boolean"?b6(e):(r==="number"?Jl:r==="string"?(n=og(e))?(e=n,Zk):WZ:e instanceof og?Zk:e instanceof Date?Vpe:Hpe(e)?zpe:Array.isArray(e)?Wpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Upe:Jl)(t,e)}function w6(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var $H=180/Math.PI,hD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function VZ(t,e,r,n,i,a){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*r+e*n)&&(r-=t*u,n-=e*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),t*n<e*r&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*$H,skewX:Math.atan(u)*$H,scaleX:o,scaleY:l}}var V2;function Ype(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?hD:VZ(e.a,e.b,e.c,e.d,e.e,e.f)}function Gpe(t){return t==null||(V2||(V2=document.createElementNS("http://www.w3.org/2000/svg","g")),V2.setAttribute("transform",t),!(t=V2.transform.baseVal.consolidate()))?hD:(t=t.matrix,VZ(t.a,t.b,t.c,t.d,t.e,t.f))}function UZ(t,e,r,n){function i(h){return h.length?h.pop()+" ":""}function a(h,f,g,y,N,_){if(h!==g||f!==y){var k=N.push("translate(",null,e,null,r);_.push({i:k-4,x:Jl(h,g)},{i:k-2,x:Jl(f,y)})}else(g||y)&&N.push("translate("+g+e+y+r)}function o(h,f,g,y){h!==f?(h-f>180?f+=360:f-h>180&&(h+=360),y.push({i:g.push(i(g)+"rotate(",null,n)-2,x:Jl(h,f)})):f&&g.push(i(g)+"rotate("+f+n)}function l(h,f,g,y){h!==f?y.push({i:g.push(i(g)+"skewX(",null,n)-2,x:Jl(h,f)}):f&&g.push(i(g)+"skewX("+f+n)}function u(h,f,g,y,N,_){if(h!==g||f!==y){var k=N.push(i(N)+"scale(",null,",",null,")");_.push({i:k-4,x:Jl(h,g)},{i:k-2,x:Jl(f,y)})}else(g!==1||y!==1)&&N.push(i(N)+"scale("+g+","+y+")")}return function(h,f){var g=[],y=[];return h=t(h),f=t(f),a(h.translateX,h.translateY,f.translateX,f.translateY,g,y),o(h.rotate,f.rotate,g,y),l(h.skewX,f.skewX,g,y),u(h.scaleX,h.scaleY,f.scaleX,f.scaleY,g,y),h=f=null,function(N){for(var _=-1,k=y.length,C;++_<k;)g[(C=y[_]).i]=C.x(N);return g.join("")}}}var Zpe=UZ(Ype,"px, ","px)","deg)"),Kpe=UZ(Gpe,", ",")",")"),Jpe=1e-12;function zH(t){return((t=Math.exp(t))+1/t)/2}function Qpe(t){return((t=Math.exp(t))-1/t)/2}function ege(t){return((t=Math.exp(2*t))-1)/(t+1)}const tge=function t(e,r,n){function i(a,o){var l=a[0],u=a[1],h=a[2],f=o[0],g=o[1],y=o[2],N=f-l,_=g-u,k=N*N+_*_,C,O;if(k<Jpe)O=Math.log(y/h)/e,C=function(H){return[l+H*N,u+H*_,h*Math.exp(e*H*O)]};else{var T=Math.sqrt(k),M=(y*y-h*h+n*k)/(2*h*r*T),B=(y*y-h*h-n*k)/(2*y*r*T),F=Math.log(Math.sqrt(M*M+1)-M),V=Math.log(Math.sqrt(B*B+1)-B);O=(V-F)/e,C=function(H){var Z=H*O,re=zH(F),le=h/(r*T)*(re*ege(e*Z+F)-Qpe(F));return[l+le*N,u+le*_,h*re/zH(e*Z+F)]}}return C.duration=O*1e3*e/Math.SQRT2,C}return i.rho=function(a){var o=Math.max(.001,+a),l=o*o,u=l*l;return t(o,l,u)},i}(Math.SQRT2,2,4);function rge(t,e){e===void 0&&(e=t,t=pv);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function sge(t){return function(){return t}}function Kk(t){return+t}var HH=[0,1];function ha(t){return t}function fD(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:sge(isNaN(e)?NaN:.5)}function nge(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ige(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=fD(i,n),a=r(o,a)):(n=fD(n,i),a=r(a,o)),function(l){return a(n(l))}}function age(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=fD(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var u=sN(t,l,1,n)-1;return a[u](i[u](l))}}function iN(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nE(){var t=HH,e=HH,r=pv,n,i,a,o=ha,l,u,h;function f(){var y=Math.min(t.length,e.length);return o!==ha&&(o=nge(t[0],t[y-1])),l=y>2?age:ige,u=h=null,g}function g(y){return y==null||isNaN(y=+y)?a:(u||(u=l(t.map(n),e,r)))(n(o(y)))}return g.invert=function(y){return o(i((h||(h=l(e,t.map(n),Jl)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,Kk),f()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),f()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),r=w6,f()},g.clamp=function(y){return arguments.length?(o=y?!0:ha,f()):o!==ha},g.interpolate=function(y){return arguments.length?(r=y,f()):r},g.unknown=function(y){return arguments.length?(a=y,g):a},function(y,N){return n=y,i=N,f()}}function j6(){return nE()(ha,ha)}function oge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jk(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function xy(t){return t=Jk(Math.abs(t)),t?t[1]:NaN}function lge(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),a.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function cge(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var dge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t1(t){if(!(e=dge.exec(t)))throw new Error("invalid format: "+t);var e;return new N6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}t1.prototype=N6.prototype;function N6(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}N6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uge(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var qZ;function hge(t,e){var r=Jk(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(qZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Jk(t,Math.max(0,e+a-1))[0]}function WH(t,e){var r=Jk(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const VH={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>WH(t*100,e),r:WH,s:hge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function UH(t){return t}var qH=Array.prototype.map,XH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fge(t){var e=t.grouping===void 0||t.thousands===void 0?UH:lge(qH.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?UH:cge(qH.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function h(g){g=t1(g);var y=g.fill,N=g.align,_=g.sign,k=g.symbol,C=g.zero,O=g.width,T=g.comma,M=g.precision,B=g.trim,F=g.type;F==="n"?(T=!0,F="g"):VH[F]||(M===void 0&&(M=12),B=!0,F="g"),(C||y==="0"&&N==="=")&&(C=!0,y="0",N="=");var V=k==="$"?r:k==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",H=k==="$"?n:/[%p]/.test(F)?o:"",Z=VH[F],re=/[defgprs%]/.test(F);M=M===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function le(ce){var he=V,fe=H,ee,xe,ie;if(F==="c")fe=Z(ce)+fe,ce="";else{ce=+ce;var ge=ce<0||1/ce<0;if(ce=isNaN(ce)?u:Z(Math.abs(ce),M),B&&(ce=uge(ce)),ge&&+ce==0&&_!=="+"&&(ge=!1),he=(ge?_==="("?_:l:_==="-"||_==="("?"":_)+he,fe=(F==="s"?XH[8+qZ/3]:"")+fe+(ge&&_==="("?")":""),re){for(ee=-1,xe=ce.length;++ee<xe;)if(ie=ce.charCodeAt(ee),48>ie||ie>57){fe=(ie===46?i+ce.slice(ee+1):ce.slice(ee))+fe,ce=ce.slice(0,ee);break}}}T&&!C&&(ce=e(ce,1/0));var G=he.length+ce.length+fe.length,ue=G<O?new Array(O-G+1).join(y):"";switch(T&&C&&(ce=e(ue+ce,ue.length?O-fe.length:1/0),ue=""),N){case"<":ce=he+ce+fe+ue;break;case"=":ce=he+ue+ce+fe;break;case"^":ce=ue.slice(0,G=ue.length>>1)+he+ce+fe+ue.slice(G);break;default:ce=ue+he+ce+fe;break}return a(ce)}return le.toString=function(){return g+""},le}function f(g,y){var N=h((g=t1(g),g.type="f",g)),_=Math.max(-8,Math.min(8,Math.floor(xy(y)/3)))*3,k=Math.pow(10,-_),C=XH[8+_/3];return function(O){return N(k*O)+C}}return{format:h,formatPrefix:f}}var U2,_6,XZ;mge({thousands:",",grouping:[3],currency:["$",""]});function mge(t){return U2=fge(t),_6=U2.format,XZ=U2.formatPrefix,U2}function pge(t){return Math.max(0,-xy(Math.abs(t)))}function gge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xy(e)/3)))*3-xy(Math.abs(t)))}function xge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xy(e)-xy(t))+1}function YZ(t,e,r,n){var i=lD(t,e,r),a;switch(n=t1(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=gge(i,o))&&(n.precision=a),XZ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=xge(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=pge(i))&&(n.precision=a-(n.type==="%")*2);break}}return _6(n)}function Yf(t){var e=t.domain;return t.ticks=function(r){var n=e();return aD(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return YZ(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],u,h,f=10;for(l<o&&(h=o,o=l,l=h,h=i,i=a,a=h);f-- >0;){if(h=oD(o,l,r),h===u)return n[i]=o,n[a]=l,e(n);if(h>0)o=Math.floor(o/h)*h,l=Math.ceil(l/h)*h;else if(h<0)o=Math.ceil(o*h)/h,l=Math.floor(l*h)/h;else break;u=h}return t},t}function Qk(){var t=j6();return t.copy=function(){return iN(t,Qk())},ml.apply(t,arguments),Yf(t)}function GZ(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Kk),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return GZ(t).unknown(e)},t=arguments.length?Array.from(t,Kk):[0,1],Yf(r)}function ZZ(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function YH(t){return Math.log(t)}function GH(t){return Math.exp(t)}function yge(t){return-Math.log(-t)}function vge(t){return-Math.exp(-t)}function bge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wge(t){return t===10?bge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZH(t){return(e,r)=>-t(-e,r)}function S6(t){const e=t(YH,GH),r=e.domain;let n=10,i,a;function o(){return i=jge(n),a=wge(n),r()[0]<0?(i=ZH(i),a=ZH(a),t(yge,vge)):t(YH,GH),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const u=r();let h=u[0],f=u[u.length-1];const g=f<h;g&&([h,f]=[f,h]);let y=i(h),N=i(f),_,k;const C=l==null?10:+l;let O=[];if(!(n%1)&&N-y<C){if(y=Math.floor(y),N=Math.ceil(N),h>0){for(;y<=N;++y)for(_=1;_<n;++_)if(k=y<0?_/a(-y):_*a(y),!(k<h)){if(k>f)break;O.push(k)}}else for(;y<=N;++y)for(_=n-1;_>=1;--_)if(k=y>0?_/a(-y):_*a(y),!(k<h)){if(k>f)break;O.push(k)}O.length*2<C&&(O=aD(h,f,C))}else O=aD(y,N,Math.min(N-y,C)).map(a);return g?O.reverse():O},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=t1(u)).precision==null&&(u.trim=!0),u=_6(u)),l===1/0)return u;const h=Math.max(1,n*l/e.ticks().length);return f=>{let g=f/a(Math.round(i(f)));return g*n<n-.5&&(g*=n),g<=h?u(f):""}},e.nice=()=>r(ZZ(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function KZ(){const t=S6(nE()).domain([1,10]);return t.copy=()=>iN(t,KZ()).base(t.base()),ml.apply(t,arguments),t}function KH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function JH(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function k6(t){var e=1,r=t(KH(e),JH(e));return r.constant=function(n){return arguments.length?t(KH(e=+n),JH(e)):e},Yf(r)}function JZ(){var t=k6(nE());return t.copy=function(){return iN(t,JZ()).constant(t.constant())},ml.apply(t,arguments)}function QH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _ge(t){return t<0?-t*t:t*t}function A6(t){var e=t(ha,ha),r=1;function n(){return r===1?t(ha,ha):r===.5?t(Nge,_ge):t(QH(r),QH(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Yf(e)}function C6(){var t=A6(nE());return t.copy=function(){return iN(t,C6()).exponent(t.exponent())},ml.apply(t,arguments),t}function Sge(){return C6.apply(null,arguments).exponent(.5)}function eW(t){return Math.sign(t)*t*t}function kge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function QZ(){var t=j6(),e=[0,1],r=!1,n;function i(a){var o=kge(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(eW(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Kk)).map(eW)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return QZ(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ml.apply(i,arguments),Yf(i)}function eK(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=_pe(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[sN(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ef),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return eK().domain(t).range(e).unknown(n)},ml.apply(a,arguments)}function tK(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[sN(n,u,0,r)]:a}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return tK().domain([t,e]).range(i).unknown(a)},ml.apply(Yf(o),arguments)}function rK(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[sN(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rK().domain(t).range(e).unknown(r)},ml.apply(i,arguments)}const Z5=new Date,K5=new Date;function Qn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let h;do u.push(h=new Date(+a)),e(a,l),t(a);while(h<a&&a<o);return u},i.filter=a=>Qn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Z5.setTime(+a),K5.setTime(+o),t(Z5),t(K5),Math.floor(r(Z5,K5))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const eA=Qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);eA.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):eA);eA.range;const bu=1e3,al=bu*60,wu=al*60,Bu=wu*24,E6=Bu*7,tW=Bu*30,J5=Bu*365,Gm=Qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bu)},(t,e)=>(e-t)/bu,t=>t.getUTCSeconds());Gm.range;const T6=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bu)},(t,e)=>{t.setTime(+t+e*al)},(t,e)=>(e-t)/al,t=>t.getMinutes());T6.range;const P6=Qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*al)},(t,e)=>(e-t)/al,t=>t.getUTCMinutes());P6.range;const M6=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bu-t.getMinutes()*al)},(t,e)=>{t.setTime(+t+e*wu)},(t,e)=>(e-t)/wu,t=>t.getHours());M6.range;const L6=Qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wu)},(t,e)=>(e-t)/wu,t=>t.getUTCHours());L6.range;const aN=Qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*al)/Bu,t=>t.getDate()-1);aN.range;const iE=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bu,t=>t.getUTCDate()-1);iE.range;const sK=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bu,t=>Math.floor(t/Bu));sK.range;function Ag(t){return Qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*al)/E6)}const aE=Ag(0),tA=Ag(1),Age=Ag(2),Cge=Ag(3),yy=Ag(4),Ege=Ag(5),Tge=Ag(6);aE.range;tA.range;Age.range;Cge.range;yy.range;Ege.range;Tge.range;function Cg(t){return Qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/E6)}const oE=Cg(0),rA=Cg(1),Pge=Cg(2),Mge=Cg(3),vy=Cg(4),Lge=Cg(5),Oge=Cg(6);oE.range;rA.range;Pge.range;Mge.range;vy.range;Lge.range;Oge.range;const O6=Qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());O6.range;const D6=Qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());D6.range;const $u=Qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$u.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$u.range;const zu=Qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});zu.range;function nK(t,e,r,n,i,a){const o=[[Gm,1,bu],[Gm,5,5*bu],[Gm,15,15*bu],[Gm,30,30*bu],[a,1,al],[a,5,5*al],[a,15,15*al],[a,30,30*al],[i,1,wu],[i,3,3*wu],[i,6,6*wu],[i,12,12*wu],[n,1,Bu],[n,2,2*Bu],[r,1,E6],[e,1,tW],[e,3,3*tW],[t,1,J5]];function l(h,f,g){const y=f<h;y&&([h,f]=[f,h]);const N=g&&typeof g.range=="function"?g:u(h,f,g),_=N?N.range(h,+f+1):[];return y?_.reverse():_}function u(h,f,g){const y=Math.abs(f-h)/g,N=x6(([,,C])=>C).right(o,y);if(N===o.length)return t.every(lD(h/J5,f/J5,g));if(N===0)return eA.every(Math.max(lD(h,f,g),1));const[_,k]=o[y/o[N-1][2]<o[N][2]/y?N-1:N];return _.every(k)}return[l,u]}const[Dge,Rge]=nK(zu,D6,oE,sK,L6,P6),[Ige,Fge]=nK($u,O6,aE,aN,M6,T6);function Q5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function e3(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function mb(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Bge(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,h=pb(i),f=gb(i),g=pb(a),y=gb(a),N=pb(o),_=gb(o),k=pb(l),C=gb(l),O=pb(u),T=gb(u),M={a:ge,A:G,b:ue,B:ke,c:null,d:oW,e:oW,f:lxe,g:yxe,G:bxe,H:ixe,I:axe,j:oxe,L:iK,m:cxe,M:dxe,p:ve,q:Se,Q:dW,s:uW,S:uxe,u:hxe,U:fxe,V:mxe,w:pxe,W:gxe,x:null,X:null,y:xxe,Y:vxe,Z:wxe,"%":cW},B={a:He,A:De,b:$e,B:Ue,c:null,d:lW,e:lW,f:Sxe,g:Dxe,G:Ixe,H:jxe,I:Nxe,j:_xe,L:oK,m:kxe,M:Axe,p:Ke,q:nt,Q:dW,s:uW,S:Cxe,u:Exe,U:Txe,V:Pxe,w:Mxe,W:Lxe,x:null,X:null,y:Oxe,Y:Rxe,Z:Fxe,"%":cW},F={a:le,A:ce,b:he,B:fe,c:ee,d:iW,e:iW,f:txe,g:nW,G:sW,H:aW,I:aW,j:Kge,L:exe,m:Zge,M:Jge,p:re,q:Gge,Q:sxe,s:nxe,S:Qge,u:Vge,U:Uge,V:qge,w:Wge,W:Xge,x:xe,X:ie,y:nW,Y:sW,Z:Yge,"%":rxe};M.x=V(r,M),M.X=V(n,M),M.c=V(e,M),B.x=V(r,B),B.X=V(n,B),B.c=V(e,B);function V(Me,qe){return function(ht){var ye=[],Xe=-1,dt=0,Tt=Me.length,Ct,or,Cr;for(ht instanceof Date||(ht=new Date(+ht));++Xe<Tt;)Me.charCodeAt(Xe)===37&&(ye.push(Me.slice(dt,Xe)),(or=rW[Ct=Me.charAt(++Xe)])!=null?Ct=Me.charAt(++Xe):or=Ct==="e"?" ":"0",(Cr=qe[Ct])&&(Ct=Cr(ht,or)),ye.push(Ct),dt=Xe+1);return ye.push(Me.slice(dt,Xe)),ye.join("")}}function H(Me,qe){return function(ht){var ye=mb(1900,void 0,1),Xe=Z(ye,Me,ht+="",0),dt,Tt;if(Xe!=ht.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(qe&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(dt=e3(mb(ye.y,0,1)),Tt=dt.getUTCDay(),dt=Tt>4||Tt===0?rA.ceil(dt):rA(dt),dt=iE.offset(dt,(ye.V-1)*7),ye.y=dt.getUTCFullYear(),ye.m=dt.getUTCMonth(),ye.d=dt.getUTCDate()+(ye.w+6)%7):(dt=Q5(mb(ye.y,0,1)),Tt=dt.getDay(),dt=Tt>4||Tt===0?tA.ceil(dt):tA(dt),dt=aN.offset(dt,(ye.V-1)*7),ye.y=dt.getFullYear(),ye.m=dt.getMonth(),ye.d=dt.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Tt="Z"in ye?e3(mb(ye.y,0,1)).getUTCDay():Q5(mb(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Tt+5)%7:ye.w+ye.U*7-(Tt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,e3(ye)):Q5(ye)}}function Z(Me,qe,ht,ye){for(var Xe=0,dt=qe.length,Tt=ht.length,Ct,or;Xe<dt;){if(ye>=Tt)return-1;if(Ct=qe.charCodeAt(Xe++),Ct===37){if(Ct=qe.charAt(Xe++),or=F[Ct in rW?qe.charAt(Xe++):Ct],!or||(ye=or(Me,ht,ye))<0)return-1}else if(Ct!=ht.charCodeAt(ye++))return-1}return ye}function re(Me,qe,ht){var ye=h.exec(qe.slice(ht));return ye?(Me.p=f.get(ye[0].toLowerCase()),ht+ye[0].length):-1}function le(Me,qe,ht){var ye=N.exec(qe.slice(ht));return ye?(Me.w=_.get(ye[0].toLowerCase()),ht+ye[0].length):-1}function ce(Me,qe,ht){var ye=g.exec(qe.slice(ht));return ye?(Me.w=y.get(ye[0].toLowerCase()),ht+ye[0].length):-1}function he(Me,qe,ht){var ye=O.exec(qe.slice(ht));return ye?(Me.m=T.get(ye[0].toLowerCase()),ht+ye[0].length):-1}function fe(Me,qe,ht){var ye=k.exec(qe.slice(ht));return ye?(Me.m=C.get(ye[0].toLowerCase()),ht+ye[0].length):-1}function ee(Me,qe,ht){return Z(Me,e,qe,ht)}function xe(Me,qe,ht){return Z(Me,r,qe,ht)}function ie(Me,qe,ht){return Z(Me,n,qe,ht)}function ge(Me){return o[Me.getDay()]}function G(Me){return a[Me.getDay()]}function ue(Me){return u[Me.getMonth()]}function ke(Me){return l[Me.getMonth()]}function ve(Me){return i[+(Me.getHours()>=12)]}function Se(Me){return 1+~~(Me.getMonth()/3)}function He(Me){return o[Me.getUTCDay()]}function De(Me){return a[Me.getUTCDay()]}function $e(Me){return u[Me.getUTCMonth()]}function Ue(Me){return l[Me.getUTCMonth()]}function Ke(Me){return i[+(Me.getUTCHours()>=12)]}function nt(Me){return 1+~~(Me.getUTCMonth()/3)}return{format:function(Me){var qe=V(Me+="",M);return qe.toString=function(){return Me},qe},parse:function(Me){var qe=H(Me+="",!1);return qe.toString=function(){return Me},qe},utcFormat:function(Me){var qe=V(Me+="",B);return qe.toString=function(){return Me},qe},utcParse:function(Me){var qe=H(Me+="",!0);return qe.toString=function(){return Me},qe}}}var rW={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,$ge=/^%/,zge=/[\\^$*+?|[\]().{}]/g;function as(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Hge(t){return t.replace(zge,"\\$&")}function pb(t){return new RegExp("^(?:"+t.map(Hge).join("|")+")","i")}function gb(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Wge(t,e,r){var n=mi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Vge(t,e,r){var n=mi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Uge(t,e,r){var n=mi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function qge(t,e,r){var n=mi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Xge(t,e,r){var n=mi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function sW(t,e,r){var n=mi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function nW(t,e,r){var n=mi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Yge(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Gge(t,e,r){var n=mi.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Zge(t,e,r){var n=mi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function iW(t,e,r){var n=mi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Kge(t,e,r){var n=mi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function aW(t,e,r){var n=mi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Jge(t,e,r){var n=mi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Qge(t,e,r){var n=mi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function exe(t,e,r){var n=mi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function txe(t,e,r){var n=mi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rxe(t,e,r){var n=$ge.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function sxe(t,e,r){var n=mi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function nxe(t,e,r){var n=mi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function oW(t,e){return as(t.getDate(),e,2)}function ixe(t,e){return as(t.getHours(),e,2)}function axe(t,e){return as(t.getHours()%12||12,e,2)}function oxe(t,e){return as(1+aN.count($u(t),t),e,3)}function iK(t,e){return as(t.getMilliseconds(),e,3)}function lxe(t,e){return iK(t,e)+"000"}function cxe(t,e){return as(t.getMonth()+1,e,2)}function dxe(t,e){return as(t.getMinutes(),e,2)}function uxe(t,e){return as(t.getSeconds(),e,2)}function hxe(t){var e=t.getDay();return e===0?7:e}function fxe(t,e){return as(aE.count($u(t)-1,t),e,2)}function aK(t){var e=t.getDay();return e>=4||e===0?yy(t):yy.ceil(t)}function mxe(t,e){return t=aK(t),as(yy.count($u(t),t)+($u(t).getDay()===4),e,2)}function pxe(t){return t.getDay()}function gxe(t,e){return as(tA.count($u(t)-1,t),e,2)}function xxe(t,e){return as(t.getFullYear()%100,e,2)}function yxe(t,e){return t=aK(t),as(t.getFullYear()%100,e,2)}function vxe(t,e){return as(t.getFullYear()%1e4,e,4)}function bxe(t,e){var r=t.getDay();return t=r>=4||r===0?yy(t):yy.ceil(t),as(t.getFullYear()%1e4,e,4)}function wxe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+as(e/60|0,"0",2)+as(e%60,"0",2)}function lW(t,e){return as(t.getUTCDate(),e,2)}function jxe(t,e){return as(t.getUTCHours(),e,2)}function Nxe(t,e){return as(t.getUTCHours()%12||12,e,2)}function _xe(t,e){return as(1+iE.count(zu(t),t),e,3)}function oK(t,e){return as(t.getUTCMilliseconds(),e,3)}function Sxe(t,e){return oK(t,e)+"000"}function kxe(t,e){return as(t.getUTCMonth()+1,e,2)}function Axe(t,e){return as(t.getUTCMinutes(),e,2)}function Cxe(t,e){return as(t.getUTCSeconds(),e,2)}function Exe(t){var e=t.getUTCDay();return e===0?7:e}function Txe(t,e){return as(oE.count(zu(t)-1,t),e,2)}function lK(t){var e=t.getUTCDay();return e>=4||e===0?vy(t):vy.ceil(t)}function Pxe(t,e){return t=lK(t),as(vy.count(zu(t),t)+(zu(t).getUTCDay()===4),e,2)}function Mxe(t){return t.getUTCDay()}function Lxe(t,e){return as(rA.count(zu(t)-1,t),e,2)}function Oxe(t,e){return as(t.getUTCFullYear()%100,e,2)}function Dxe(t,e){return t=lK(t),as(t.getUTCFullYear()%100,e,2)}function Rxe(t,e){return as(t.getUTCFullYear()%1e4,e,4)}function Ixe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?vy(t):vy.ceil(t),as(t.getUTCFullYear()%1e4,e,4)}function Fxe(){return"+0000"}function cW(){return"%"}function dW(t){return+t}function uW(t){return Math.floor(+t/1e3)}var gx,cK,dK;Bxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bxe(t){return gx=Bge(t),cK=gx.format,gx.parse,dK=gx.utcFormat,gx.utcParse,gx}function $xe(t){return new Date(t)}function zxe(t){return t instanceof Date?+t:+new Date(+t)}function R6(t,e,r,n,i,a,o,l,u,h){var f=j6(),g=f.invert,y=f.domain,N=h(".%L"),_=h(":%S"),k=h("%I:%M"),C=h("%I %p"),O=h("%a %d"),T=h("%b %d"),M=h("%B"),B=h("%Y");function F(V){return(u(V)<V?N:l(V)<V?_:o(V)<V?k:a(V)<V?C:n(V)<V?i(V)<V?O:T:r(V)<V?M:B)(V)}return f.invert=function(V){return new Date(g(V))},f.domain=function(V){return arguments.length?y(Array.from(V,zxe)):y().map($xe)},f.ticks=function(V){var H=y();return t(H[0],H[H.length-1],V??10)},f.tickFormat=function(V,H){return H==null?F:h(H)},f.nice=function(V){var H=y();return(!V||typeof V.range!="function")&&(V=e(H[0],H[H.length-1],V??10)),V?y(ZZ(H,V)):f},f.copy=function(){return iN(f,R6(t,e,r,n,i,a,o,l,u,h))},f}function Hxe(){return ml.apply(R6(Ige,Fge,$u,O6,aE,aN,M6,T6,Gm,cK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wxe(){return ml.apply(R6(Dge,Rge,zu,D6,oE,iE,L6,P6,Gm,dK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lE(){var t=0,e=1,r,n,i,a,o=ha,l=!1,u;function h(g){return g==null||isNaN(g=+g)?u:o(i===0?.5:(g=(a(g)-r)*i,l?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(g){return arguments.length?(l=!!g,h):l},h.interpolator=function(g){return arguments.length?(o=g,h):o};function f(g){return function(y){var N,_;return arguments.length?([N,_]=y,o=g(N,_),h):[o(0),o(1)]}}return h.range=f(pv),h.rangeRound=f(w6),h.unknown=function(g){return arguments.length?(u=g,h):u},function(g){return a=g,r=g(t),n=g(e),i=r===n?0:1/(n-r),h}}function Gf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function uK(){var t=Yf(lE()(ha));return t.copy=function(){return Gf(t,uK())},Ju.apply(t,arguments)}function hK(){var t=S6(lE()).domain([1,10]);return t.copy=function(){return Gf(t,hK()).base(t.base())},Ju.apply(t,arguments)}function fK(){var t=k6(lE());return t.copy=function(){return Gf(t,fK()).constant(t.constant())},Ju.apply(t,arguments)}function I6(){var t=A6(lE());return t.copy=function(){return Gf(t,I6()).exponent(t.exponent())},Ju.apply(t,arguments)}function Vxe(){return I6.apply(null,arguments).exponent(.5)}function mK(){var t=[],e=ha;function r(n){if(n!=null&&!isNaN(n=+n))return e((sN(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ef),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Npe(t,a/n))},r.copy=function(){return mK(e).domain(t)},Ju.apply(r,arguments)}function cE(){var t=0,e=.5,r=1,n=1,i,a,o,l,u,h=ha,f,g=!1,y;function N(k){return isNaN(k=+k)?y:(k=.5+((k=+f(k))-a)*(n*k<n*a?l:u),h(g?Math.max(0,Math.min(1,k)):k))}N.domain=function(k){return arguments.length?([t,e,r]=k,i=f(t=+t),a=f(e=+e),o=f(r=+r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,N):[t,e,r]},N.clamp=function(k){return arguments.length?(g=!!k,N):g},N.interpolator=function(k){return arguments.length?(h=k,N):h};function _(k){return function(C){var O,T,M;return arguments.length?([O,T,M]=C,h=rge(k,[O,T,M]),N):[h(0),h(.5),h(1)]}}return N.range=_(pv),N.rangeRound=_(w6),N.unknown=function(k){return arguments.length?(y=k,N):y},function(k){return f=k,i=k(t),a=k(e),o=k(r),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,N}}function pK(){var t=Yf(cE()(ha));return t.copy=function(){return Gf(t,pK())},Ju.apply(t,arguments)}function gK(){var t=S6(cE()).domain([.1,1,10]);return t.copy=function(){return Gf(t,gK()).base(t.base())},Ju.apply(t,arguments)}function xK(){var t=k6(cE());return t.copy=function(){return Gf(t,xK()).constant(t.constant())},Ju.apply(t,arguments)}function F6(){var t=A6(cE());return t.copy=function(){return Gf(t,F6()).exponent(t.exponent())},Ju.apply(t,arguments)}function Uxe(){return F6.apply(null,arguments).exponent(.5)}const hW=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jw,scaleDiverging:pK,scaleDivergingLog:gK,scaleDivergingPow:F6,scaleDivergingSqrt:Uxe,scaleDivergingSymlog:xK,scaleIdentity:GZ,scaleImplicit:cD,scaleLinear:Qk,scaleLog:KZ,scaleOrdinal:y6,scalePoint:Aw,scalePow:C6,scaleQuantile:eK,scaleQuantize:tK,scaleRadial:QZ,scaleSequential:uK,scaleSequentialLog:hK,scaleSequentialPow:I6,scaleSequentialQuantile:mK,scaleSequentialSqrt:Vxe,scaleSequentialSymlog:fK,scaleSqrt:Sge,scaleSymlog:JZ,scaleThreshold:rK,scaleTime:Hxe,scaleUtc:Wxe,tickFormat:YZ},Symbol.toStringTag,{value:"Module"}));var t3,fW;function dE(){if(fW)return t3;fW=1;var t=uv();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var l=r[a],u=n(l);if(u!=null&&(h===void 0?u===u&&!t(u):i(u,h)))var h=u,f=l}return f}return t3=e,t3}var r3,mW;function yK(){if(mW)return r3;mW=1;function t(e,r){return e>r}return r3=t,r3}var s3,pW;function qxe(){if(pW)return s3;pW=1;var t=dE(),e=yK(),r=mv();function n(i){return i&&i.length?t(i,r,e):void 0}return s3=n,s3}var Xxe=qxe();const kf=Ur(Xxe);var n3,gW;function vK(){if(gW)return n3;gW=1;function t(e,r){return e<r}return n3=t,n3}var i3,xW;function Yxe(){if(xW)return i3;xW=1;var t=dE(),e=vK(),r=mv();function n(i){return i&&i.length?t(i,r,e):void 0}return i3=n,i3}var Gxe=Yxe();const uE=Ur(Gxe);var a3,yW;function Zxe(){if(yW)return a3;yW=1;var t=e6(),e=hd(),r=_Z(),n=Ya();function i(a,o){var l=n(a)?t:r;return l(a,e(o,3))}return a3=i,a3}var o3,vW;function Kxe(){if(vW)return o3;vW=1;var t=jZ(),e=Zxe();function r(n,i){return t(e(n,i),1)}return o3=r,o3}var Jxe=Kxe();const Qxe=Ur(Jxe);var l3,bW;function e0e(){if(bW)return l3;bW=1;var t=f6();function e(r,n){return t(r,n)}return l3=e,l3}var t0e=e0e();const Rf=Ur(t0e);var gv=1e9,r0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$6,Ks=!0,dl="[DecimalError] ",Jp=dl+"Invalid argument: ",B6=dl+"Exponent out of range: ",xv=Math.floor,km=Math.pow,s0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jo,hi=1e7,Ws=7,bK=9007199254740991,sA=xv(bK/Ws),Zt={};Zt.absoluteValue=Zt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Zt.comparedTo=Zt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Zt.decimalPlaces=Zt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ws;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Zt.dividedBy=Zt.div=function(t){return Cu(this,new this.constructor(t))};Zt.dividedToIntegerBy=Zt.idiv=function(t){var e=this,r=e.constructor;return Ls(Cu(e,new r(t),0,1),r.precision)};Zt.equals=Zt.eq=function(t){return!this.cmp(t)};Zt.exponent=function(){return In(this)};Zt.greaterThan=Zt.gt=function(t){return this.cmp(t)>0};Zt.greaterThanOrEqualTo=Zt.gte=function(t){return this.cmp(t)>=0};Zt.isInteger=Zt.isint=function(){return this.e>this.d.length-2};Zt.isNegative=Zt.isneg=function(){return this.s<0};Zt.isPositive=Zt.ispos=function(){return this.s>0};Zt.isZero=function(){return this.s===0};Zt.lessThan=Zt.lt=function(t){return this.cmp(t)<0};Zt.lessThanOrEqualTo=Zt.lte=function(t){return this.cmp(t)<1};Zt.logarithm=Zt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(jo))throw Error(dl+"NaN");if(r.s<1)throw Error(dl+(r.s?"NaN":"-Infinity"));return r.eq(jo)?new n(0):(Ks=!1,e=Cu(r1(r,a),r1(t,a),a),Ks=!0,Ls(e,i))};Zt.minus=Zt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NK(e,t):wK(e,(t.s=-t.s,t))};Zt.modulo=Zt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(dl+"NaN");return r.s?(Ks=!1,e=Cu(r,t,0,1).times(t),Ks=!0,r.minus(e)):Ls(new n(r),i)};Zt.naturalExponential=Zt.exp=function(){return jK(this)};Zt.naturalLogarithm=Zt.ln=function(){return r1(this)};Zt.negated=Zt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Zt.plus=Zt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wK(e,t):NK(e,(t.s=-t.s,t))};Zt.precision=Zt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Jp+t);if(e=In(i)+1,n=i.d.length-1,r=n*Ws+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Zt.squareRoot=Zt.sqrt=function(){var t,e,r,n,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(dl+"NaN")}for(t=In(l),Ks=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Kc(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=xv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(a=n,n=a.plus(Cu(l,a,o+2)).times(.5),Kc(a.d).slice(0,o)===(e=Kc(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ls(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Ks=!0,Ls(n,r)};Zt.times=Zt.mul=function(t){var e,r,n,i,a,o,l,u,h,f=this,g=f.constructor,y=f.d,N=(t=new g(t)).d;if(!f.s||!t.s)return new g(0);for(t.s*=f.s,r=f.e+t.e,u=y.length,h=N.length,u<h&&(a=y,y=N,N=a,o=u,u=h,h=o),a=[],o=u+h,n=o;n--;)a.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)l=a[i]+N[n]*y[i-n-1]+e,a[i--]=l%hi|0,e=l/hi|0;a[i]=(a[i]+e)%hi|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ks?Ls(t,g.precision):t};Zt.toDecimalPlaces=Zt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(id(t,0,gv),e===void 0?e=n.rounding:id(e,0,8),Ls(r,t+In(r)+1,e))};Zt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=lg(n,!0):(id(t,0,gv),e===void 0?e=i.rounding:id(e,0,8),n=Ls(new i(n),t+1,e),r=lg(n,!0,t+1)),r};Zt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?lg(i):(id(t,0,gv),e===void 0?e=a.rounding:id(e,0,8),n=Ls(new a(i),t+In(i)+1,e),r=lg(n.abs(),!1,t+In(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Zt.toInteger=Zt.toint=function(){var t=this,e=t.constructor;return Ls(new e(t),In(t)+1,e.rounding)};Zt.toNumber=function(){return+this};Zt.toPower=Zt.pow=function(t){var e,r,n,i,a,o,l=this,u=l.constructor,h=12,f=+(t=new u(t));if(!t.s)return new u(jo);if(l=new u(l),!l.s){if(t.s<1)throw Error(dl+"Infinity");return l}if(l.eq(jo))return l;if(n=u.precision,t.eq(jo))return Ls(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=f<0?-f:f)<=bK){for(i=new u(jo),e=Math.ceil(n/Ws+4),Ks=!1;r%2&&(i=i.times(l),jW(i.d,e)),r=xv(r/2),r!==0;)l=l.times(l),jW(l.d,e);return Ks=!0,t.s<0?new u(jo).div(i):Ls(i,n)}}else if(a<0)throw Error(dl+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ks=!1,i=t.times(r1(l,n+h)),Ks=!0,i=jK(i),i.s=a,i};Zt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=In(i),n=lg(i,r<=a.toExpNeg||r>=a.toExpPos)):(id(t,1,gv),e===void 0?e=a.rounding:id(e,0,8),i=Ls(new a(i),t,e),r=In(i),n=lg(i,t<=r||r<=a.toExpNeg,t)),n};Zt.toSignificantDigits=Zt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(id(t,1,gv),e===void 0?e=n.rounding:id(e,0,8)),Ls(new n(r),t,e)};Zt.toString=Zt.valueOf=Zt.val=Zt.toJSON=Zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=In(t),r=t.constructor;return lg(t,e<=r.toExpNeg||e>=r.toExpPos)};function wK(t,e){var r,n,i,a,o,l,u,h,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Ks?Ls(e,g):e;if(u=t.d,h=e.d,o=t.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(n=u,a=-a,l=h.length):(n=h,i=o,l=u.length),o=Math.ceil(g/Ws),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=u.length,a=h.length,l-a<0&&(a=l,n=h,h=u,u=n),r=0;a;)r=(u[--a]=u[a]+h[a]+r)/hi|0,u[a]%=hi;for(r&&(u.unshift(r),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,Ks?Ls(e,g):e}function id(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Jp+t)}function Kc(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Ws-n.length,r&&(a+=Vh(r)),a+=n;o=t[e],n=o+"",r=Ws-n.length,r&&(a+=Vh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Cu=function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%hi|0,o=a/hi|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*hi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,u,h,f,g,y,N,_,k,C,O,T,M,B,F,V,H,Z,re=n.constructor,le=n.s==i.s?1:-1,ce=n.d,he=i.d;if(!n.s)return new re(n);if(!i.s)throw Error(dl+"Division by zero");for(u=n.e-i.e,H=he.length,F=ce.length,N=new re(le),_=N.d=[],h=0;he[h]==(ce[h]||0);)++h;if(he[h]>(ce[h]||0)&&--u,a==null?T=a=re.precision:o?T=a+(In(n)-In(i))+1:T=a,T<0)return new re(0);if(T=T/Ws+2|0,h=0,H==1)for(f=0,he=he[0],T++;(h<F||f)&&T--;h++)M=f*hi+(ce[h]||0),_[h]=M/he|0,f=M%he|0;else{for(f=hi/(he[0]+1)|0,f>1&&(he=t(he,f),ce=t(ce,f),H=he.length,F=ce.length),B=H,k=ce.slice(0,H),C=k.length;C<H;)k[C++]=0;Z=he.slice(),Z.unshift(0),V=he[0],he[1]>=hi/2&&++V;do f=0,l=e(he,k,H,C),l<0?(O=k[0],H!=C&&(O=O*hi+(k[1]||0)),f=O/V|0,f>1?(f>=hi&&(f=hi-1),g=t(he,f),y=g.length,C=k.length,l=e(g,k,y,C),l==1&&(f--,r(g,H<y?Z:he,y))):(f==0&&(l=f=1),g=he.slice()),y=g.length,y<C&&g.unshift(0),r(k,g,C),l==-1&&(C=k.length,l=e(he,k,H,C),l<1&&(f++,r(k,H<C?Z:he,C))),C=k.length):l===0&&(f++,k=[0]),_[h++]=f,l&&k[0]?k[C++]=ce[B]||0:(k=[ce[B]],C=1);while((B++<F||k[0]!==void 0)&&T--)}return _[0]||_.shift(),N.e=u,Ls(N,o?a+In(N)+1:a)}}();function jK(t,e){var r,n,i,a,o,l,u=0,h=0,f=t.constructor,g=f.precision;if(In(t)>16)throw Error(B6+In(t));if(!t.s)return new f(jo);for(Ks=!1,l=g,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(n=Math.log(km(2,h))/Math.LN10*2+5|0,l+=n,r=i=a=new f(jo),f.precision=l;;){if(i=Ls(i.times(t),l),r=r.times(++u),o=a.plus(Cu(i,r,l)),Kc(o.d).slice(0,l)===Kc(a.d).slice(0,l)){for(;h--;)a=Ls(a.times(a),l);return f.precision=g,e==null?(Ks=!0,Ls(a,g)):a}a=o}}function In(t){for(var e=t.e*Ws,r=t.d[0];r>=10;r/=10)e++;return e}function c3(t,e,r){if(e>t.LN10.sd())throw Ks=!0,r&&(t.precision=r),Error(dl+"LN10 precision limit exceeded");return Ls(new t(t.LN10),e)}function Vh(t){for(var e="";t--;)e+="0";return e}function r1(t,e){var r,n,i,a,o,l,u,h,f,g=1,y=10,N=t,_=N.d,k=N.constructor,C=k.precision;if(N.s<1)throw Error(dl+(N.s?"NaN":"-Infinity"));if(N.eq(jo))return new k(0);if(e==null?(Ks=!1,h=C):h=e,N.eq(10))return e==null&&(Ks=!0),c3(k,h);if(h+=y,k.precision=h,r=Kc(_),n=r.charAt(0),a=In(N),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)N=N.times(t),r=Kc(N.d),n=r.charAt(0),g++;a=In(N),n>1?(N=new k("0."+r),a++):N=new k(n+"."+r.slice(1))}else return u=c3(k,h+2,C).times(a+""),N=r1(new k(n+"."+r.slice(1)),h-y).plus(u),k.precision=C,e==null?(Ks=!0,Ls(N,C)):N;for(l=o=N=Cu(N.minus(jo),N.plus(jo),h),f=Ls(N.times(N),h),i=3;;){if(o=Ls(o.times(f),h),u=l.plus(Cu(o,new k(i),h)),Kc(u.d).slice(0,h)===Kc(l.d).slice(0,h))return l=l.times(2),a!==0&&(l=l.plus(c3(k,h+2,C).times(a+""))),l=Cu(l,new k(g),h),k.precision=C,e==null?(Ks=!0,Ls(l,C)):l;l=u,i+=2}}function wW(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=xv(r/Ws),t.d=[],n=(r+1)%Ws,r<0&&(n+=Ws),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Ws;n<i;)t.d.push(+e.slice(n,n+=Ws));e=e.slice(n),n=Ws-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ks&&(t.e>sA||t.e<-sA))throw Error(B6+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ls(t,e,r){var n,i,a,o,l,u,h,f,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Ws,i=e,h=g[f=0];else{if(f=Math.ceil((n+1)/Ws),a=g.length,f>=a)return t;for(h=a=g[f],o=1;a>=10;a/=10)o++;n%=Ws,i=n-Ws+o}if(r!==void 0&&(a=km(10,o-i-1),l=h/a%10|0,u=e<0||g[f+1]!==void 0||h%a,u=r<4?(l||u)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?i>0?h/km(10,o-i):0:g[f-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return u?(a=In(t),g.length=1,e=e-a-1,g[0]=km(10,(Ws-e%Ws)%Ws),t.e=xv(-e/Ws)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=f,a=1,f--):(g.length=f+1,a=km(10,Ws-n),g[f]=i>0?(h/km(10,o-i)%km(10,i)|0)*a:0),u)for(;;)if(f==0){(g[0]+=a)==hi&&(g[0]=1,++t.e);break}else{if(g[f]+=a,g[f]!=hi)break;g[f--]=0,a=1}for(n=g.length;g[--n]===0;)g.pop();if(Ks&&(t.e>sA||t.e<-sA))throw Error(B6+In(t));return t}function NK(t,e){var r,n,i,a,o,l,u,h,f,g,y=t.constructor,N=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ks?Ls(e,N):e;if(u=t.d,g=e.d,n=e.e,h=t.e,u=u.slice(),o=h-n,o){for(f=o<0,f?(r=u,o=-o,l=g.length):(r=g,n=h,l=u.length),i=Math.max(Math.ceil(N/Ws),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,l=g.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=g[i]){f=u[i]<g[i];break}o=0}for(f&&(r=u,u=g,g=r,e.s=-e.s),l=u.length,i=g.length-l;i>0;--i)u[l++]=0;for(i=g.length;i>o;){if(u[--i]<g[i]){for(a=i;a&&u[--a]===0;)u[a]=hi-1;--u[a],u[i]+=hi}u[i]-=g[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,Ks?Ls(e,N):e):new y(0)}function lg(t,e,r){var n,i=In(t),a=Kc(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Vh(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Vh(-i-1)+a,r&&(n=r-o)>0&&(a+=Vh(n))):i>=o?(a+=Vh(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Vh(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Vh(n))),t.s<0?"-"+a:a}function jW(t,e){if(t.length>e)return t.length=e,!0}function _K(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Jp+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return wW(o,a.toString())}else if(typeof a!="string")throw Error(Jp+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,s0e.test(a))wW(o,a);else throw Error(Jp+a)}if(i.prototype=Zt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_K,i.config=i.set=n0e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function n0e(t){if(!t||typeof t!="object")throw Error(dl+"Object expected");var e,r,n,i=["precision",1,gv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(xv(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Jp+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Jp+r+": "+n);return this}var $6=_K(r0e);jo=new $6(1);const As=$6;function i0e(t){return c0e(t)||l0e(t)||o0e(t)||a0e()}function a0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o0e(t,e){if(t){if(typeof t=="string")return mD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mD(t,e)}}function l0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function c0e(t){if(Array.isArray(t))return mD(t)}function mD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d0e=function(e){return e},SK={},kK=function(e){return e===SK},NW=function(e){return function r(){return arguments.length===0||arguments.length===1&&kK(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},u0e=function t(e,r){return e===1?r:NW(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==SK}).length;return o>=e?r.apply(void 0,i):t(e-o,NW(function(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];var f=i.map(function(g){return kK(g)?u.shift():g});return r.apply(void 0,i0e(f).concat(u))}))})},hE=function(e){return u0e(e.length,e)},pD=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},h0e=hE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),f0e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return d0e;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,u){return u(l)},a.apply(void 0,arguments))}},gD=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},AK=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,u){return l===r[u]})||(r=a,n=e.apply(void 0,a)),n}};function m0e(t){var e;return t===0?e=1:e=Math.floor(new As(t).abs().log(10).toNumber())+1,e}function p0e(t,e,r){for(var n=new As(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var g0e=hE(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),x0e=hE(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),y0e=hE(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const fE={rangeStep:p0e,getDigitCount:m0e,interpolateNumber:g0e,uninterpolateNumber:x0e,uninterpolateTruncation:y0e};function xD(t){return w0e(t)||b0e(t)||CK(t)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function w0e(t){if(Array.isArray(t))return yD(t)}function s1(t,e){return _0e(t)||N0e(t,e)||CK(t,e)||j0e()}function j0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CK(t,e){if(t){if(typeof t=="string")return yD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yD(t,e)}}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N0e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){i=!0,a=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function _0e(t){if(Array.isArray(t))return t}function EK(t){var e=s1(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function TK(t,e,r){if(t.lte(0))return new As(0);var n=fE.getDigitCount(t.toNumber()),i=new As(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new As(Math.ceil(a.div(o).toNumber())).add(r).mul(o),u=l.mul(i);return e?u:new As(Math.ceil(u))}function S0e(t,e,r){var n=1,i=new As(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new As(10).pow(fE.getDigitCount(t)-1),i=new As(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new As(Math.floor(t)))}else t===0?i=new As(Math.floor((e-1)/2)):r||(i=new As(Math.floor(t)));var o=Math.floor((e-1)/2),l=f0e(h0e(function(u){return i.add(new As(u-o).mul(n)).toNumber()}),pD);return l(0,e)}function PK(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new As(0),tickMin:new As(0),tickMax:new As(0)};var a=TK(new As(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new As(0):(o=new As(t).add(e).div(2),o=o.sub(new As(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),u=Math.ceil(new As(e).sub(o).div(a).toNumber()),h=l+u+1;return h>r?PK(t,e,r,n,i+1):(h<r&&(u=e>0?u+(r-h):u,l=e>0?l:l+(r-h)),{step:a,tickMin:o.sub(new As(l).mul(a)),tickMax:o.add(new As(u).mul(a))})}function k0e(t){var e=s1(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=EK([r,n]),u=s1(l,2),h=u[0],f=u[1];if(h===-1/0||f===1/0){var g=f===1/0?[h].concat(xD(pD(0,i-1).map(function(){return 1/0}))):[].concat(xD(pD(0,i-1).map(function(){return-1/0})),[f]);return r>n?gD(g):g}if(h===f)return S0e(h,i,a);var y=PK(h,f,o,a),N=y.step,_=y.tickMin,k=y.tickMax,C=fE.rangeStep(_,k.add(new As(.1).mul(N)),N);return r>n?gD(C):C}function A0e(t,e){var r=s1(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=EK([n,i]),l=s1(o,2),u=l[0],h=l[1];if(u===-1/0||h===1/0)return[n,i];if(u===h)return[u];var f=Math.max(e,2),g=TK(new As(h).sub(u).div(f-1),a,0),y=[].concat(xD(fE.rangeStep(new As(u),new As(h).sub(new As(.99).mul(g)),g)),[h]);return n>i?gD(y):y}var C0e=AK(k0e),E0e=AK(A0e),T0e="Invariant failed";function Qr(t,e){if(!t)throw new Error(T0e)}var P0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function nA(){return nA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nA.apply(this,arguments)}function M0e(t,e){return R0e(t)||D0e(t,e)||O0e(t,e)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O0e(t,e){if(t){if(typeof t=="string")return _W(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _W(t,e)}}function _W(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function R0e(t){if(Array.isArray(t))return t}function I0e(t,e){if(t==null)return{};var r=F0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OK(n.key),n)}}function z0e(t,e,r){return e&&$0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H0e(t,e,r){return e=iA(e),W0e(t,MK()?Reflect.construct(e,r||[],iA(t).constructor):e.apply(t,r))}function W0e(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V0e(t)}function V0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!t})()}function iA(t){return iA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iA(t)}function U0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vD(t,e)}function vD(t,e){return vD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vD(t,e)}function LK(t,e,r){return e=OK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OK(t){var e=q0e(t,"string");return by(e)=="symbol"?e:e+""}function q0e(t,e){if(by(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oN=function(t){function e(){return B0e(this,e),H0e(this,e,arguments)}return U0e(e,t),z0e(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,u=n.data,h=n.dataPointFormatter,f=n.xAxis,g=n.yAxis,y=I0e(n,P0e),N=er(y,!1);this.props.direction==="x"&&f.type!=="number"&&Qr(!1);var _=u.map(function(k){var C=h(k,l),O=C.x,T=C.y,M=C.value,B=C.errorVal;if(!B)return null;var F=[],V,H;if(Array.isArray(B)){var Z=M0e(B,2);V=Z[0],H=Z[1]}else V=H=B;if(a==="vertical"){var re=f.scale,le=T+i,ce=le+o,he=le-o,fe=re(M-V),ee=re(M+H);F.push({x1:ee,y1:ce,x2:ee,y2:he}),F.push({x1:fe,y1:le,x2:ee,y2:le}),F.push({x1:fe,y1:ce,x2:fe,y2:he})}else if(a==="horizontal"){var xe=g.scale,ie=O+i,ge=ie-o,G=ie+o,ue=xe(M-V),ke=xe(M+H);F.push({x1:ge,y1:ke,x2:G,y2:ke}),F.push({x1:ie,y1:ue,x2:ie,y2:ke}),F.push({x1:ge,y1:ue,x2:G,y2:ue})}return Oe.createElement(Fr,nA({className:"recharts-errorBar",key:"bar-".concat(F.map(function(ve){return"".concat(ve.x1,"-").concat(ve.x2,"-").concat(ve.y1,"-").concat(ve.y2)}))},N),F.map(function(ve){return Oe.createElement("line",nA({},ve,{key:"line-".concat(ve.x1,"-").concat(ve.x2,"-").concat(ve.y1,"-").concat(ve.y2)}))}))});return Oe.createElement(Fr,{className:"recharts-errorBars"},_)}}])}(Oe.Component);LK(oN,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LK(oN,"displayName","ErrorBar");function n1(t){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n1(t)}function SW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SW(Object(r),!0).forEach(function(n){X0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X0e(t,e,r){return e=Y0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y0e(t){var e=G0e(t,"string");return n1(e)=="symbol"?e:e+""}function G0e(t,e){if(n1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(n1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DK=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=vo(r,Ao);if(!o)return null;var l=Ao.defaultProps,u=l!==void 0?bm(bm({},l),o.props):{},h;return o.props&&o.props.payload?h=o.props&&o.props.payload:a==="children"?h=(n||[]).reduce(function(f,g){var y=g.item,N=g.props,_=N.sectors||N.data||[];return f.concat(_.map(function(k){return{type:o.props.iconType||y.props.legendType,value:k.name,color:k.fill,payload:k}}))},[]):h=(n||[]).map(function(f){var g=f.item,y=g.type.defaultProps,N=y!==void 0?bm(bm({},y),g.props):{},_=N.dataKey,k=N.name,C=N.legendType,O=N.hide;return{inactive:O,dataKey:_,type:u.iconType||C||"square",color:z6(g),value:k||_,payload:N}}),bm(bm(bm({},u),Ao.getWithHeight(o,i)),{},{payload:h,item:o})};function i1(t){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i1(t)}function kW(t){return Q0e(t)||J0e(t)||K0e(t)||Z0e()}function Z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K0e(t,e){if(t){if(typeof t=="string")return bD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bD(t,e)}}function J0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q0e(t){if(Array.isArray(t))return bD(t)}function bD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AW(Object(r),!0).forEach(function(n){a0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a0(t,e,r){return e=eye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eye(t){var e=tye(t,"string");return i1(e)=="symbol"?e:e+""}function tye(t,e){if(i1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(i1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function un(t,e,r){return Nr(t)||Nr(e)?r:Kn(e)?So(t,e,r):fr(e)?e(t):r}function Cw(t,e,r,n){var i=Qxe(t,function(l){return un(l,e)});if(r==="number"){var a=i.filter(function(l){return Et(l)||parseFloat(l)});return a.length?[uE(a),kf(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Nr(l)}):i;return o.map(function(l){return Kn(l)||l instanceof Date?l:""})}var rye=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var u=a.range,h=0;h<l;h++){var f=h>0?i[h-1].coordinate:i[l-1].coordinate,g=i[h].coordinate,y=h>=l-1?i[0].coordinate:i[h+1].coordinate,N=void 0;if(da(g-f)!==da(y-g)){var _=[];if(da(y-g)===da(u[1]-u[0])){N=y;var k=g+u[1]-u[0];_[0]=Math.min(k,(k+f)/2),_[1]=Math.max(k,(k+f)/2)}else{N=f;var C=y+u[1]-u[0];_[0]=Math.min(g,(C+g)/2),_[1]=Math.max(g,(C+g)/2)}var O=[Math.min(g,(N+g)/2),Math.max(g,(N+g)/2)];if(e>O[0]&&e<=O[1]||e>=_[0]&&e<=_[1]){o=i[h].index;break}}else{var T=Math.min(f,y),M=Math.max(f,y);if(e>(T+g)/2&&e<=(M+g)/2){o=i[h].index;break}}}else for(var B=0;B<l;B++)if(B===0&&e<=(n[B].coordinate+n[B+1].coordinate)/2||B>0&&B<l-1&&e>(n[B].coordinate+n[B-1].coordinate)/2&&e<=(n[B].coordinate+n[B+1].coordinate)/2||B===l-1&&e>(n[B].coordinate+n[B-1].coordinate)/2){o=n[B].index;break}return o},z6=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?yn(yn({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,u;switch(i){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:l;break;default:u=l;break}return u},sye=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),u=0,h=l.length;u<h;u++)for(var f=a[l[u]].stackGroups,g=Object.keys(f),y=0,N=g.length;y<N;y++){var _=f[g[y]],k=_.items,C=_.cateAxisId,O=k.filter(function(H){return Au(H.type).indexOf("Bar")>=0});if(O&&O.length){var T=O[0].type.defaultProps,M=T!==void 0?yn(yn({},T),O[0].props):O[0].props,B=M.barSize,F=M[C];o[F]||(o[F]=[]);var V=Nr(B)?r:B;o[F].push({item:O[0],stackList:O.slice(1),barSize:Nr(V)?void 0:ua(V,n,0)})}}return o},nye=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,u=o.length;if(u<1)return null;var h=ua(r,i,0,!0),f,g=[];if(o[0].barSize===+o[0].barSize){var y=!1,N=i/u,_=o.reduce(function(B,F){return B+F.barSize||0},0);_+=(u-1)*h,_>=i&&(_-=(u-1)*h,h=0),_>=i&&N>0&&(y=!0,N*=.9,_=u*N);var k=(i-_)/2>>0,C={offset:k-h,size:0};f=o.reduce(function(B,F){var V={item:F.item,position:{offset:C.offset+C.size+h,size:y?N:F.barSize}},H=[].concat(kW(B),[V]);return C=H[H.length-1].position,F.stackList&&F.stackList.length&&F.stackList.forEach(function(Z){H.push({item:Z,position:C})}),H},g)}else{var O=ua(n,i,0,!0);i-2*O-(u-1)*h<=0&&(h=0);var T=(i-2*O-(u-1)*h)/u;T>1&&(T>>=0);var M=l===+l?Math.min(T,l):T;f=o.reduce(function(B,F,V){var H=[].concat(kW(B),[{item:F.item,position:{offset:O+(T+h)*V+(T-M)/2,size:M}}]);return F.stackList&&F.stackList.length&&F.stackList.forEach(function(Z){H.push({item:Z,position:H[H.length-1].position})}),H},g)}return f},iye=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,u=o-(l.left||0)-(l.right||0),h=DK({children:a,legendWidth:u});if(h){var f=i||{},g=f.width,y=f.height,N=h.align,_=h.verticalAlign,k=h.layout;if((k==="vertical"||k==="horizontal"&&_==="middle")&&N!=="center"&&Et(e[N]))return yn(yn({},e),{},a0({},N,e[N]+(g||0)));if((k==="horizontal"||k==="vertical"&&N==="center")&&_!=="middle"&&Et(e[_]))return yn(yn({},e),{},a0({},_,e[_]+(y||0)))}return e},aye=function(e,r,n){return Nr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},RK=function(e,r,n,i,a){var o=r.props.children,l=ko(o,oN).filter(function(h){return aye(i,a,h.props.direction)});if(l&&l.length){var u=l.map(function(h){return h.props.dataKey});return e.reduce(function(h,f){var g=un(f,n);if(Nr(g))return h;var y=Array.isArray(g)?[uE(g),kf(g)]:[g,g],N=u.reduce(function(_,k){var C=un(f,k,0),O=y[0]-Math.abs(Array.isArray(C)?C[0]:C),T=y[1]+Math.abs(Array.isArray(C)?C[1]:C);return[Math.min(O,_[0]),Math.max(T,_[1])]},[1/0,-1/0]);return[Math.min(N[0],h[0]),Math.max(N[1],h[1])]},[1/0,-1/0])}return null},oye=function(e,r,n,i,a){var o=r.map(function(l){return RK(e,l,n,a,i)}).filter(function(l){return!Nr(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},IK=function(e,r,n,i,a){var o=r.map(function(u){var h=u.props.dataKey;return n==="number"&&h&&RK(e,u,h,i)||Cw(e,h,n,a)});if(n==="number")return o.reduce(function(u,h){return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,h){for(var f=0,g=h.length;f<g;f++)l[h[f]]||(l[h[f]]=!0,u.push(h[f]));return u},[])},FK=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},BK=function(e,r,n,i){if(i)return e.map(function(u){return u.coordinate});var a,o,l=e.map(function(u){return u.coordinate===r&&(a=!0),u.coordinate===n&&(o=!0),u.coordinate});return a||l.push(r),o||l.push(n),l},ju=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/u:0;if(h=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?da(l[0]-l[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(g){var y=a?a.indexOf(g):g;return{coordinate:i(y)+h,value:g,offset:h}});return f.filter(function(g){return!fv(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,y){return{coordinate:i(g)+h,value:g,index:y,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+h,value:g,offset:h}}):i.domain().map(function(g,y){return{coordinate:i(g)+h,value:a?a[g]:g,index:y,offset:h}})},d3=new WeakMap,q2=function(e,r){if(typeof r!="function")return e;d3.has(e)||d3.set(e,new WeakMap);var n=d3.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},$K=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Jw(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Qk(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Aw(),realScaleType:"point"}:a==="category"?{scale:Jw(),realScaleType:"band"}:{scale:Qk(),realScaleType:"linear"};if(ng(i)){var u="scale".concat(KC(i));return{scale:(hW[u]||Aw)(),realScaleType:hW[u]?u:"point"}}return fr(i)?{scale:i}:{scale:Aw(),realScaleType:"point"}},CW=1e-4,zK=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-CW,o=Math.max(i[0],i[1])+CW,l=e(r[0]),u=e(r[n-1]);(l<a||l>o||u<a||u>o)&&e.domain([r[0],r[n-1]])}},lye=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},cye=function(e,r){if(!r||r.length!==2||!Et(r[0])||!Et(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Et(e[0])||e[0]<n)&&(a[0]=n),(!Et(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},dye=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var u=fv(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},uye=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=fv(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},hye={sign:dye,expand:que,none:hy,silhouette:Xue,wiggle:Yue,positive:uye},fye=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=hye[n],o=Uue().keys(i).value(function(l,u){return+un(l,u,0)}).order(GO).offset(a);return o(e)},mye=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,u={},h=l.reduce(function(g,y){var N,_=(N=y.type)!==null&&N!==void 0&&N.defaultProps?yn(yn({},y.type.defaultProps),y.props):y.props,k=_.stackId,C=_.hide;if(C)return g;var O=_[n],T=g[O]||{hasStack:!1,stackGroups:{}};if(Kn(k)){var M=T.stackGroups[k]||{numericAxisId:n,cateAxisId:i,items:[]};M.items.push(y),T.hasStack=!0,T.stackGroups[k]=M}else T.stackGroups[kg("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return yn(yn({},g),{},a0({},O,T))},u),f={};return Object.keys(h).reduce(function(g,y){var N=h[y];if(N.hasStack){var _={};N.stackGroups=Object.keys(N.stackGroups).reduce(function(k,C){var O=N.stackGroups[C];return yn(yn({},k),{},a0({},C,{numericAxisId:n,cateAxisId:i,items:O.items,stackedData:fye(e,O.items,a)}))},_)}return yn(yn({},g),{},a0({},y,N))},f)},HK=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var h=e.domain();if(!h.length)return null;var f=C0e(h,a,l);return e.domain([uE(f),kf(f)]),{niceTicks:f}}if(a&&i==="number"){var g=e.domain(),y=E0e(g,a,l);return{niceTicks:y}}return null};function aA(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Nr(i[e.dataKey])){var l=Dk(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var u=un(i,Nr(o)?e.dataKey:o);return Nr(u)?null:e.scale(u)}var EW=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var u=un(o,r.dataKey,r.domain[l]);return Nr(u)?null:r.scale(u)-a/2+i},pye=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},gye=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?yn(yn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Kn(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},xye=function(e){return e.reduce(function(r,n){return[uE(n.concat([r[0]]).filter(Et)),kf(n.concat([r[1]]).filter(Et))]},[1/0,-1/0])},WK=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,u=l.reduce(function(h,f){var g=xye(f.slice(r,n+1));return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TW=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PW=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wD=function(e,r,n){if(fr(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Et(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(TW.test(e[0])){var a=+TW.exec(e[0])[1];i[0]=r[0]-a}else fr(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Et(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(PW.test(e[1])){var o=+PW.exec(e[1])[1];i[1]=r[1]+o}else fr(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},oA=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=p6(r,function(g){return g.coordinate}),o=1/0,l=1,u=a.length;l<u;l++){var h=a[l],f=a[l-1];o=Math.min((h.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},MW=function(e,r,n){return!e||!e.length||Rf(e,So(n,"type.defaultProps.domain"))?r:e},VK=function(e,r){var n=e.type.defaultProps?yn(yn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,u=n.tooltipType,h=n.chartType,f=n.hide;return yn(yn({},er(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:z6(e),value:un(r,i),type:u,payload:r,chartType:h,hide:f})};function a1(t){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a1(t)}function LW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ud(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LW(Object(r),!0).forEach(function(n){UK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UK(t,e,r){return e=yye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yye(t){var e=vye(t,"string");return a1(e)=="symbol"?e:e+""}function vye(t,e){if(a1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(a1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bye(t,e){return _ye(t)||Nye(t,e)||jye(t,e)||wye()}function wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jye(t,e){if(t){if(typeof t=="string")return OW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OW(t,e)}}function OW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function _ye(t){if(Array.isArray(t))return t}var lA=Math.PI/180,Sye=function(e){return e*180/Math.PI},ls=function(e,r,n,i){return{x:e+Math.cos(-lA*i)*n,y:r+Math.sin(-lA*i)*n}},qK=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},XK=function(e,r,n,i,a){var o=e.width,l=e.height,u=e.startAngle,h=e.endAngle,f=ua(e.cx,o,o/2),g=ua(e.cy,l,l/2),y=qK(o,l,n),N=ua(e.innerRadius,y,0),_=ua(e.outerRadius,y,y*.8),k=Object.keys(r);return k.reduce(function(C,O){var T=r[O],M=T.domain,B=T.reversed,F;if(Nr(T.range))i==="angleAxis"?F=[u,h]:i==="radiusAxis"&&(F=[N,_]),B&&(F=[F[1],F[0]]);else{F=T.range;var V=F,H=bye(V,2);u=H[0],h=H[1]}var Z=$K(T,a),re=Z.realScaleType,le=Z.scale;le.domain(M).range(F),zK(le);var ce=HK(le,Ud(Ud({},T),{},{realScaleType:re})),he=Ud(Ud(Ud({},T),ce),{},{range:F,radius:_,realScaleType:re,scale:le,cx:f,cy:g,innerRadius:N,outerRadius:_,startAngle:u,endAngle:h});return Ud(Ud({},C),{},UK({},O,he))},{})},kye=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Aye=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=kye({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var u=(n-a)/l,h=Math.acos(u);return i>o&&(h=2*Math.PI-h),{radius:l,angle:Sye(h),angleInRadian:h}},Cye=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Eye=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},DW=function(e,r){var n=e.x,i=e.y,a=Aye({x:n,y:i},r),o=a.radius,l=a.angle,u=r.innerRadius,h=r.outerRadius;if(o<u||o>h)return!1;if(o===0)return!0;var f=Cye(r),g=f.startAngle,y=f.endAngle,N=l,_;if(g<=y){for(;N>y;)N-=360;for(;N<g;)N+=360;_=N>=g&&N<=y}else{for(;N>g;)N-=360;for(;N<y;)N+=360;_=N>=y&&N<=g}return _?Ud(Ud({},r),{},{radius:o,angle:Eye(N,r)}):null},YK=function(e){return!Y.isValidElement(e)&&!fr(e)&&typeof e!="boolean"?e.className:""};function o1(t){"@babel/helpers - typeof";return o1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o1(t)}var Tye=["offset"];function Pye(t){return Dye(t)||Oye(t)||Lye(t)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lye(t,e){if(t){if(typeof t=="string")return jD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jD(t,e)}}function Oye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dye(t){if(Array.isArray(t))return jD(t)}function jD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rye(t,e){if(t==null)return{};var r=Iye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RW(Object(r),!0).forEach(function(n){Fye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fye(t,e,r){return e=Bye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bye(t){var e=$ye(t,"string");return o1(e)=="symbol"?e:e+""}function $ye(t,e){if(o1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(o1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l1.apply(this,arguments)}var zye=function(e){var r=e.value,n=e.formatter,i=Nr(e.children)?r:e.children;return fr(n)?n(i):i},Hye=function(e,r){var n=da(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Wye=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,u=a,h=u.cx,f=u.cy,g=u.innerRadius,y=u.outerRadius,N=u.startAngle,_=u.endAngle,k=u.clockWise,C=(g+y)/2,O=Hye(N,_),T=O>=0?1:-1,M,B;i==="insideStart"?(M=N+T*o,B=k):i==="insideEnd"?(M=_-T*o,B=!k):i==="end"&&(M=_+T*o,B=k),B=O<=0?B:!B;var F=ls(h,f,C,M),V=ls(h,f,C,M+(B?1:-1)*359),H="M".concat(F.x,",").concat(F.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(B?0:1,`,
    `).concat(V.x,",").concat(V.y),Z=Nr(e.id)?kg("recharts-radial-line-"):e.id;return Oe.createElement("text",l1({},n,{dominantBaseline:"central",className:vr("recharts-radial-bar-label",l)}),Oe.createElement("defs",null,Oe.createElement("path",{id:Z,d:H})),Oe.createElement("textPath",{xlinkHref:"#".concat(Z)},r))},Vye=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,u=a.innerRadius,h=a.outerRadius,f=a.startAngle,g=a.endAngle,y=(f+g)/2;if(i==="outside"){var N=ls(o,l,h+n,y),_=N.x,k=N.y;return{x:_,y:k,textAnchor:_>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var C=(u+h)/2,O=ls(o,l,C,y),T=O.x,M=O.y;return{x:T,y:M,textAnchor:"middle",verticalAnchor:"middle"}},Uye=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,u=o.y,h=o.width,f=o.height,g=f>=0?1:-1,y=g*i,N=g>0?"end":"start",_=g>0?"start":"end",k=h>=0?1:-1,C=k*i,O=k>0?"end":"start",T=k>0?"start":"end";if(a==="top"){var M={x:l+h/2,y:u-g*i,textAnchor:"middle",verticalAnchor:N};return Un(Un({},M),n?{height:Math.max(u-n.y,0),width:h}:{})}if(a==="bottom"){var B={x:l+h/2,y:u+f+y,textAnchor:"middle",verticalAnchor:_};return Un(Un({},B),n?{height:Math.max(n.y+n.height-(u+f),0),width:h}:{})}if(a==="left"){var F={x:l-C,y:u+f/2,textAnchor:O,verticalAnchor:"middle"};return Un(Un({},F),n?{width:Math.max(F.x-n.x,0),height:f}:{})}if(a==="right"){var V={x:l+h+C,y:u+f/2,textAnchor:T,verticalAnchor:"middle"};return Un(Un({},V),n?{width:Math.max(n.x+n.width-V.x,0),height:f}:{})}var H=n?{width:h,height:f}:{};return a==="insideLeft"?Un({x:l+C,y:u+f/2,textAnchor:T,verticalAnchor:"middle"},H):a==="insideRight"?Un({x:l+h-C,y:u+f/2,textAnchor:O,verticalAnchor:"middle"},H):a==="insideTop"?Un({x:l+h/2,y:u+y,textAnchor:"middle",verticalAnchor:_},H):a==="insideBottom"?Un({x:l+h/2,y:u+f-y,textAnchor:"middle",verticalAnchor:N},H):a==="insideTopLeft"?Un({x:l+C,y:u+y,textAnchor:T,verticalAnchor:_},H):a==="insideTopRight"?Un({x:l+h-C,y:u+y,textAnchor:O,verticalAnchor:_},H):a==="insideBottomLeft"?Un({x:l+C,y:u+f-y,textAnchor:T,verticalAnchor:N},H):a==="insideBottomRight"?Un({x:l+h-C,y:u+f-y,textAnchor:O,verticalAnchor:N},H):hv(a)&&(Et(a.x)||Xm(a.x))&&(Et(a.y)||Xm(a.y))?Un({x:l+ua(a.x,h),y:u+ua(a.y,f),textAnchor:"end",verticalAnchor:"end"},H):Un({x:l+h/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},H)},qye=function(e){return"cx"in e&&Et(e.cx)};function fi(t){var e=t.offset,r=e===void 0?5:e,n=Rye(t,Tye),i=Un({offset:r},n),a=i.viewBox,o=i.position,l=i.value,u=i.children,h=i.content,f=i.className,g=f===void 0?"":f,y=i.textBreakAll;if(!a||Nr(l)&&Nr(u)&&!Y.isValidElement(h)&&!fr(h))return null;if(Y.isValidElement(h))return Y.cloneElement(h,i);var N;if(fr(h)){if(N=Y.createElement(h,i),Y.isValidElement(N))return N}else N=zye(i);var _=qye(a),k=er(i,!0);if(_&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Wye(i,N,k);var C=_?Vye(i):Uye(i);return Oe.createElement(ag,l1({className:vr("recharts-label",g)},k,C,{breakAll:y}),N)}fi.displayName="Label";var GK=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,u=e.radius,h=e.innerRadius,f=e.outerRadius,g=e.x,y=e.y,N=e.top,_=e.left,k=e.width,C=e.height,O=e.clockWise,T=e.labelViewBox;if(T)return T;if(Et(k)&&Et(C)){if(Et(g)&&Et(y))return{x:g,y,width:k,height:C};if(Et(N)&&Et(_))return{x:N,y:_,width:k,height:C}}return Et(g)&&Et(y)?{x:g,y,width:0,height:0}:Et(r)&&Et(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:h||0,outerRadius:f||u||l||0,clockWise:O}:e.viewBox?e.viewBox:{}},Xye=function(e,r){return e?e===!0?Oe.createElement(fi,{key:"label-implicit",viewBox:r}):Kn(e)?Oe.createElement(fi,{key:"label-implicit",viewBox:r,value:e}):Y.isValidElement(e)?e.type===fi?Y.cloneElement(e,{key:"label-implicit",viewBox:r}):Oe.createElement(fi,{key:"label-implicit",content:e,viewBox:r}):fr(e)?Oe.createElement(fi,{key:"label-implicit",content:e,viewBox:r}):hv(e)?Oe.createElement(fi,l1({viewBox:r},e,{key:"label-implicit"})):null:null},Yye=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=GK(e),o=ko(i,fi).map(function(u,h){return Y.cloneElement(u,{viewBox:r||a,key:"label-".concat(h)})});if(!n)return o;var l=Xye(e.label,r||a);return[l].concat(Pye(o))};fi.parseViewBox=GK;fi.renderCallByParent=Yye;var u3,IW;function Gye(){if(IW)return u3;IW=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return u3=t,u3}var Zye=Gye();const ZK=Ur(Zye);function c1(t){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c1(t)}var Kye=["valueAccessor"],Jye=["data","dataKey","clockWise","id","textBreakAll"];function Qye(t){return sve(t)||rve(t)||tve(t)||eve()}function eve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tve(t,e){if(t){if(typeof t=="string")return ND(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ND(t,e)}}function rve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sve(t){if(Array.isArray(t))return ND(t)}function ND(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cA(){return cA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cA.apply(this,arguments)}function FW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FW(Object(r),!0).forEach(function(n){nve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nve(t,e,r){return e=ive(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ive(t){var e=ave(t,"string");return c1(e)=="symbol"?e:e+""}function ave(t,e){if(c1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $W(t,e){if(t==null)return{};var r=ove(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ove(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lve=function(e){return Array.isArray(e.value)?ZK(e.value):e.value};function nc(t){var e=t.valueAccessor,r=e===void 0?lve:e,n=$W(t,Kye),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,u=n.textBreakAll,h=$W(n,Jye);return!i||!i.length?null:Oe.createElement(Fr,{className:"recharts-label-list"},i.map(function(f,g){var y=Nr(a)?r(f,g):un(f&&f.payload,a),N=Nr(l)?{}:{id:"".concat(l,"-").concat(g)};return Oe.createElement(fi,cA({},er(f,!0),h,N,{parentViewBox:f.parentViewBox,value:y,textBreakAll:u,viewBox:fi.parseViewBox(Nr(o)?f:BW(BW({},f),{},{clockWise:o})),key:"label-".concat(g),index:g}))}))}nc.displayName="LabelList";function cve(t,e){return t?t===!0?Oe.createElement(nc,{key:"labelList-implicit",data:e}):Oe.isValidElement(t)||fr(t)?Oe.createElement(nc,{key:"labelList-implicit",data:e,content:t}):hv(t)?Oe.createElement(nc,cA({data:e},t,{key:"labelList-implicit"})):null:null}function dve(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ko(n,nc).map(function(o,l){return Y.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=cve(t.label,e);return[a].concat(Qye(i))}nc.renderCallByParent=dve;function d1(t){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d1(t)}function _D(){return _D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_D.apply(this,arguments)}function zW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zW(Object(r),!0).forEach(function(n){uve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uve(t,e,r){return e=hve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hve(t){var e=fve(t,"string");return d1(e)=="symbol"?e:e+""}function fve(t,e){if(d1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(d1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mve=function(e,r){var n=da(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},X2=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,u=e.cornerRadius,h=e.cornerIsExternal,f=u*(l?1:-1)+i,g=Math.asin(u/f)/lA,y=h?a:a+o*g,N=ls(r,n,f,y),_=ls(r,n,i,y),k=h?a-o*g:a,C=ls(r,n,f*Math.cos(g*lA),k);return{center:N,circleTangency:_,lineTangency:C,theta:g}},KK=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,u=mve(o,l),h=o+u,f=ls(r,n,a,o),g=ls(r,n,a,h),y="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>h),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var N=ls(r,n,i,o),_=ls(r,n,i,h);y+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=h),`,
            `).concat(N.x,",").concat(N.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},pve=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,u=e.cornerIsExternal,h=e.startAngle,f=e.endAngle,g=da(f-h),y=X2({cx:r,cy:n,radius:a,angle:h,sign:g,cornerRadius:o,cornerIsExternal:u}),N=y.circleTangency,_=y.lineTangency,k=y.theta,C=X2({cx:r,cy:n,radius:a,angle:f,sign:-g,cornerRadius:o,cornerIsExternal:u}),O=C.circleTangency,T=C.lineTangency,M=C.theta,B=u?Math.abs(h-f):Math.abs(h-f)-k-M;if(B<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):KK({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:f});var F="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(g<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var V=X2({cx:r,cy:n,radius:i,angle:h,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),H=V.circleTangency,Z=V.lineTangency,re=V.theta,le=X2({cx:r,cy:n,radius:i,angle:f,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),ce=le.circleTangency,he=le.lineTangency,fe=le.theta,ee=u?Math.abs(h-f):Math.abs(h-f)-re-fe;if(ee<0&&o===0)return"".concat(F,"L").concat(r,",").concat(n,"Z");F+="L".concat(he.x,",").concat(he.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(ce.x,",").concat(ce.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ee>180),",").concat(+(g>0),",").concat(H.x,",").concat(H.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(Z.x,",").concat(Z.y,"Z")}else F+="L".concat(r,",").concat(n,"Z");return F},gve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JK=function(e){var r=HW(HW({},gve),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,h=r.cornerIsExternal,f=r.startAngle,g=r.endAngle,y=r.className;if(o<a||f===g)return null;var N=vr("recharts-sector",y),_=o-a,k=ua(l,_,0,!0),C;return k>0&&Math.abs(f-g)<360?C=pve({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(k,_/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:g}):C=KK({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:g}),Oe.createElement("path",_D({},er(r,!0),{className:N,d:C,role:"img"}))};function u1(t){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u1(t)}function SD(){return SD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SD.apply(this,arguments)}function WW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WW(Object(r),!0).forEach(function(n){xve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xve(t,e,r){return e=yve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yve(t){var e=vve(t,"string");return u1(e)=="symbol"?e:e+""}function vve(t,e){if(u1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UW={curveBasisClosed:Oue,curveBasisOpen:Due,curveBasis:Lue,curveBumpX:vue,curveBumpY:bue,curveLinearClosed:Rue,curveLinear:QC,curveMonotoneX:Iue,curveMonotoneY:Fue,curveNatural:Bue,curveStep:$ue,curveStepAfter:Hue,curveStepBefore:zue},Y2=function(e){return e.x===+e.x&&e.y===+e.y},xb=function(e){return e.x},yb=function(e){return e.y},bve=function(e,r){if(fr(e))return e;var n="curve".concat(KC(e));return(n==="curveMonotone"||n==="curveBump")&&r?UW["".concat(n).concat(r==="vertical"?"Y":"X")]:UW[n]||QC},wve=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,u=e.connectNulls,h=u===void 0?!1:u,f=bve(n,l),g=h?a.filter(function(k){return Y2(k)}):a,y;if(Array.isArray(o)){var N=h?o.filter(function(k){return Y2(k)}):o,_=g.map(function(k,C){return VW(VW({},k),{},{base:N[C]})});return l==="vertical"?y=F2().y(yb).x1(xb).x0(function(k){return k.base.x}):y=F2().x(xb).y1(yb).y0(function(k){return k.base.y}),y.defined(Y2).curve(f),y(_)}return l==="vertical"&&Et(o)?y=F2().y(yb).x1(xb).x0(o):Et(o)?y=F2().x(xb).y1(yb).y0(o):y=UG().x(xb).y(yb),y.defined(Y2).curve(f),y(g)},Qp=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?wve(e):i;return Oe.createElement("path",SD({},er(e,!1),Rk(e),{className:vr("recharts-curve",r),d:o,ref:a}))},h3={exports:{}},f3,qW;function jve(){if(qW)return f3;qW=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return f3=t,f3}var m3,XW;function Nve(){if(XW)return m3;XW=1;var t=jve();function e(){}function r(){}return r.resetWarningCache=e,m3=function(){function n(o,l,u,h,f,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},m3}var YW;function QK(){return YW||(YW=1,h3.exports=Nve()()),h3.exports}var _ve=QK();const ms=Ur(_ve);var Sve=Object.getOwnPropertyNames,kve=Object.getOwnPropertySymbols,Ave=Object.prototype.hasOwnProperty;function GW(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function G2(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var u=t(r,n,i);return a.delete(r),a.delete(n),u}}function ZW(t){return Sve(t).concat(kve(t))}var Cve=Object.hasOwn||function(t,e){return Ave.call(t,e)};function Eg(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Eve="__v",Tve="__o",Pve="_owner",KW=Object.getOwnPropertyDescriptor,JW=Object.keys;function Mve(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Lve(t,e){return Eg(t.getTime(),e.getTime())}function Ove(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Dve(t,e){return t===e}function QW(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,l,u=0;(o=a.next())&&!o.done;){for(var h=e.entries(),f=!1,g=0;(l=h.next())&&!l.done;){if(i[g]){g++;continue}var y=o.value,N=l.value;if(r.equals(y[0],N[0],u,g,t,e,r)&&r.equals(y[1],N[1],y[0],N[0],t,e,r)){f=i[g]=!0;break}g++}if(!f)return!1;u++}return!0}var Rve=Eg;function Ive(t,e,r){var n=JW(t),i=n.length;if(JW(e).length!==i)return!1;for(;i-- >0;)if(!eJ(t,e,r,n[i]))return!1;return!0}function vb(t,e,r){var n=ZW(t),i=n.length;if(ZW(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=n[i],!eJ(t,e,r,a)||(o=KW(t,a),l=KW(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Fve(t,e){return Eg(t.valueOf(),e.valueOf())}function Bve(t,e){return t.source===e.source&&t.flags===e.flags}function eV(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var u=e.values(),h=!1,f=0;(l=u.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){h=i[f]=!0;break}f++}if(!h)return!1}return!0}function $ve(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function zve(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function eJ(t,e,r,n){return(n===Pve||n===Tve||n===Eve)&&(t.$$typeof||e.$$typeof)?!0:Cve(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Hve="[object Arguments]",Wve="[object Boolean]",Vve="[object Date]",Uve="[object Error]",qve="[object Map]",Xve="[object Number]",Yve="[object Object]",Gve="[object RegExp]",Zve="[object Set]",Kve="[object String]",Jve="[object URL]",Qve=Array.isArray,tV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,rV=Object.assign,ebe=Object.prototype.toString.call.bind(Object.prototype.toString);function tbe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,u=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,f=t.areSetsEqual,g=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(_,k,C){if(_===k)return!0;if(_==null||k==null)return!1;var O=typeof _;if(O!==typeof k)return!1;if(O!=="object")return O==="number"?o(_,k,C):O==="function"?i(_,k,C):!1;var T=_.constructor;if(T!==k.constructor)return!1;if(T===Object)return l(_,k,C);if(Qve(_))return e(_,k,C);if(tV!=null&&tV(_))return g(_,k,C);if(T===Date)return r(_,k,C);if(T===RegExp)return h(_,k,C);if(T===Map)return a(_,k,C);if(T===Set)return f(_,k,C);var M=ebe(_);return M===Vve?r(_,k,C):M===Gve?h(_,k,C):M===qve?a(_,k,C):M===Zve?f(_,k,C):M===Yve?typeof _.then!="function"&&typeof k.then!="function"&&l(_,k,C):M===Jve?y(_,k,C):M===Uve?n(_,k,C):M===Hve?l(_,k,C):M===Wve||M===Xve||M===Kve?u(_,k,C):!1}}function rbe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?vb:Mve,areDatesEqual:Lve,areErrorsEqual:Ove,areFunctionsEqual:Dve,areMapsEqual:n?GW(QW,vb):QW,areNumbersEqual:Rve,areObjectsEqual:n?vb:Ive,arePrimitiveWrappersEqual:Fve,areRegExpsEqual:Bve,areSetsEqual:n?GW(eV,vb):eV,areTypedArraysEqual:n?vb:$ve,areUrlsEqual:zve};if(r&&(i=rV({},i,r(i))),e){var a=G2(i.areArraysEqual),o=G2(i.areMapsEqual),l=G2(i.areObjectsEqual),u=G2(i.areSetsEqual);i=rV({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return i}function sbe(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function nbe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(u,h){var f=n(),g=f.cache,y=g===void 0?e?new WeakMap:void 0:g,N=f.meta;return r(u,h,{cache:y,equals:i,meta:N,strict:a})};if(e)return function(u,h){return r(u,h,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(u,h){return r(u,h,o)}}var ibe=Zf();Zf({strict:!0});Zf({circular:!0});Zf({circular:!0,strict:!0});Zf({createInternalComparator:function(){return Eg}});Zf({strict:!0,createInternalComparator:function(){return Eg}});Zf({circular:!0,createInternalComparator:function(){return Eg}});Zf({circular:!0,createInternalComparator:function(){return Eg},strict:!0});function Zf(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=rbe(t),u=tbe(l),h=n?n(u):sbe(u);return nbe({circular:r,comparator:u,createState:i,equals:h,strict:o})}function abe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function sV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):abe(i)};requestAnimationFrame(n)}function kD(t){"@babel/helpers - typeof";return kD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kD(t)}function obe(t){return ube(t)||dbe(t)||cbe(t)||lbe()}function lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cbe(t,e){if(t){if(typeof t=="string")return nV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nV(t,e)}}function nV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ube(t){if(Array.isArray(t))return t}function hbe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=obe(o),u=l[0],h=l.slice(1);if(typeof u=="number"){sV(i.bind(null,h),u);return}i(u),sV(i.bind(null,h));return}kD(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function h1(t){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h1(t)}function iV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(r),!0).forEach(function(n){tJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tJ(t,e,r){return e=fbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fbe(t){var e=mbe(t,"string");return h1(e)==="symbol"?e:String(e)}function mbe(t,e){if(h1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(h1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pbe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},gbe=function(e){return e},xbe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ew=function(e,r){return Object.keys(r).reduce(function(n,i){return aV(aV({},n),{},tJ({},i,e(i,r[i])))},{})},oV=function(e,r,n){return e.map(function(i){return"".concat(xbe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function ybe(t,e){return wbe(t)||bbe(t,e)||rJ(t,e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function wbe(t){if(Array.isArray(t))return t}function jbe(t){return Sbe(t)||_be(t)||rJ(t)||Nbe()}function Nbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rJ(t,e){if(t){if(typeof t=="string")return AD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AD(t,e)}}function _be(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sbe(t){if(Array.isArray(t))return AD(t)}function AD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dA=1e-4,sJ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},nJ=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},lV=function(e,r){return function(n){var i=sJ(e,r);return nJ(i,n)}},kbe=function(e,r){return function(n){var i=sJ(e,r),a=[].concat(jbe(i.map(function(o,l){return o*l}).slice(1)),[0]);return nJ(a,n)}},cV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var h=u[1].split(")")[0].split(",").map(function(C){return parseFloat(C)}),f=ybe(h,4);i=f[0],a=f[1],o=f[2],l=f[3]}}}var g=lV(i,o),y=lV(a,l),N=kbe(i,o),_=function(O){return O>1?1:O<0?0:O},k=function(O){for(var T=O>1?1:O,M=T,B=0;B<8;++B){var F=g(M)-T,V=N(M);if(Math.abs(F-T)<dA||V<dA)return y(M);M=_(M-F/V)}return y(M)};return k.isStepper=!1,k},Abe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,u=function(f,g,y){var N=-(f-g)*n,_=y*a,k=y+(N-_)*l/1e3,C=y*l/1e3+f;return Math.abs(C-g)<dA&&Math.abs(k)<dA?[g,0]:[C,k]};return u.isStepper=!0,u.dt=l,u},Cbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cV(i);case"spring":return Abe();default:if(i.split("(")[0]==="cubic-bezier")return cV(i)}return typeof i=="function"?i:null};function f1(t){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f1(t)}function dV(t){return Pbe(t)||Tbe(t)||iJ(t)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pbe(t){if(Array.isArray(t))return ED(t)}function uV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(r),!0).forEach(function(n){CD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CD(t,e,r){return e=Mbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mbe(t){var e=Lbe(t,"string");return f1(e)==="symbol"?e:String(e)}function Lbe(t,e){if(f1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(f1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Obe(t,e){return Ibe(t)||Rbe(t,e)||iJ(t,e)||Dbe()}function Dbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iJ(t,e){if(t){if(typeof t=="string")return ED(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ED(t,e)}}function ED(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function Ibe(t){if(Array.isArray(t))return t}var uA=function(e,r,n){return e+(r-e)*n},TD=function(e){var r=e.from,n=e.to;return r!==n},Fbe=function t(e,r,n){var i=Ew(function(a,o){if(TD(o)){var l=e(o.from,o.to,o.velocity),u=Obe(l,2),h=u[0],f=u[1];return Ni(Ni({},o),{},{from:h,velocity:f})}return o},r);return n<1?Ew(function(a,o){return TD(o)?Ni(Ni({},o),{},{velocity:uA(o.velocity,i[a].velocity,n),from:uA(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Bbe=function(t,e,r,n,i){var a=pbe(t,e),o=a.reduce(function(C,O){return Ni(Ni({},C),{},CD({},O,[t[O],e[O]]))},{}),l=a.reduce(function(C,O){return Ni(Ni({},C),{},CD({},O,{from:t[O],velocity:0,to:e[O]}))},{}),u=-1,h,f,g=function(){return null},y=function(){return Ew(function(O,T){return T.from},l)},N=function(){return!Object.values(l).filter(TD).length},_=function(O){h||(h=O);var T=O-h,M=T/r.dt;l=Fbe(r,l,M),i(Ni(Ni(Ni({},t),e),y())),h=O,N()||(u=requestAnimationFrame(g))},k=function(O){f||(f=O);var T=(O-f)/n,M=Ew(function(F,V){return uA.apply(void 0,dV(V).concat([r(T)]))},o);if(i(Ni(Ni(Ni({},t),e),M)),T<1)u=requestAnimationFrame(g);else{var B=Ew(function(F,V){return uA.apply(void 0,dV(V).concat([r(1)]))},o);i(Ni(Ni(Ni({},t),e),B))}};return g=r.isStepper?_:k,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(u)}}};function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}var $be=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zbe(t,e){if(t==null)return{};var r=Hbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hbe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function p3(t){return qbe(t)||Ube(t)||Vbe(t)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vbe(t,e){if(t){if(typeof t=="string")return PD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PD(t,e)}}function Ube(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qbe(t){if(Array.isArray(t))return PD(t)}function PD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(r),!0).forEach(function(n){Mb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mb(t,e,r){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ybe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aJ(n.key),n)}}function Gbe(t,e,r){return e&&Ybe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aJ(t){var e=Zbe(t,"string");return wy(e)==="symbol"?e:String(e)}function Zbe(t,e){if(wy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MD(t,e)}function MD(t,e){return MD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MD(t,e)}function Jbe(t){var e=Qbe();return function(){var n=hA(t),i;if(e){var a=hA(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return LD(this,i)}}function LD(t,e){if(e&&(wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OD(t)}function OD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hA(t){return hA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hA(t)}var ul=function(t){Kbe(r,t);var e=Jbe(r);function r(n,i){var a;Xbe(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,u=o.attributeName,h=o.from,f=o.to,g=o.steps,y=o.children,N=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(OD(a)),a.changeStyle=a.changeStyle.bind(OD(a)),!l||N<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:f}),LD(a);if(g&&g.length)a.state={style:g[0].style};else if(h){if(typeof y=="function")return a.state={style:h},LD(a);a.state={style:u?Mb({},u,h):h}}else a.state={style:{}};return a}return Gbe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,u=a.attributeName,h=a.shouldReAnimate,f=a.to,g=a.from,y=this.state.style;if(l){if(!o){var N={style:u?Mb({},u,f):f};this.state&&y&&(u&&y[u]!==f||!u&&y!==f)&&this.setState(N);return}if(!(ibe(i.to,f)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var k=_||h?g:i.to;if(this.state&&y){var C={style:u?Mb({},u,k):k};(u&&y[u]!==k||!u&&y!==k)&&this.setState(C)}this.runAnimation(Cl(Cl({},this.props),{},{from:k,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,u=i.duration,h=i.easing,f=i.begin,g=i.onAnimationEnd,y=i.onAnimationStart,N=Bbe(o,l,Cbe(h),u,this.changeStyle),_=function(){a.stopJSAnimation=N()};this.manager.start([y,f,_,u,g])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,u=i.onAnimationStart,h=o[0],f=h.style,g=h.duration,y=g===void 0?0:g,N=function(k,C,O){if(O===0)return k;var T=C.duration,M=C.easing,B=M===void 0?"ease":M,F=C.style,V=C.properties,H=C.onAnimationEnd,Z=O>0?o[O-1]:C,re=V||Object.keys(F);if(typeof B=="function"||B==="spring")return[].concat(p3(k),[a.runJSAnimation.bind(a,{from:Z.style,to:F,duration:T,easing:B}),T]);var le=oV(re,T,B),ce=Cl(Cl(Cl({},Z.style),F),{},{transition:le});return[].concat(p3(k),[ce,T,H]).filter(gbe)};return this.manager.start([u].concat(p3(o.reduce(N,[f,Math.max(y,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=hbe());var a=i.begin,o=i.duration,l=i.attributeName,u=i.to,h=i.easing,f=i.onAnimationStart,g=i.onAnimationEnd,y=i.steps,N=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof h=="function"||typeof N=="function"||h==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var k=l?Mb({},l,u):u,C=oV(Object.keys(k),o,h);_.start([f,a,Cl(Cl({},k),{},{transition:C}),o,g])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=zbe(i,$be),h=Y.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!l||h===0||o<=0)return a;var g=function(N){var _=N.props,k=_.style,C=k===void 0?{}:k,O=_.className,T=Y.cloneElement(N,Cl(Cl({},u),{},{style:Cl(Cl({},C),f),className:O}));return T};return h===1?g(Y.Children.only(a)):Oe.createElement("div",null,Y.Children.map(a,function(y){return g(y)}))}}]),r}(Y.PureComponent);ul.displayName="Animate";ul.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ul.propTypes={from:ms.oneOfType([ms.object,ms.string]),to:ms.oneOfType([ms.object,ms.string]),attributeName:ms.string,duration:ms.number,begin:ms.number,easing:ms.oneOfType([ms.string,ms.func]),steps:ms.arrayOf(ms.shape({duration:ms.number.isRequired,style:ms.object.isRequired,easing:ms.oneOfType([ms.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ms.func]),properties:ms.arrayOf("string"),onAnimationEnd:ms.func})),children:ms.oneOfType([ms.node,ms.func]),isActive:ms.bool,canBegin:ms.bool,onAnimationEnd:ms.func,shouldReAnimate:ms.bool,onAnimationStart:ms.func,onAnimationReStart:ms.func};function m1(t){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m1(t)}function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fA.apply(this,arguments)}function ewe(t,e){return nwe(t)||swe(t,e)||rwe(t,e)||twe()}function twe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rwe(t,e){if(t){if(typeof t=="string")return fV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fV(t,e)}}function fV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function swe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function nwe(t){if(Array.isArray(t))return t}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){iwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iwe(t,e,r){return e=awe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function awe(t){var e=owe(t,"string");return m1(e)=="symbol"?e:e+""}function owe(t,e){if(m1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gV=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,u=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&a instanceof Array){for(var g=[0,0,0,0],y=0,N=4;y<N;y++)g[y]=a[y]>o?o:a[y];f="M".concat(e,",").concat(r+l*g[0]),g[0]>0&&(f+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(h,",").concat(e+u*g[0],",").concat(r)),f+="L ".concat(e+n-u*g[1],",").concat(r),g[1]>0&&(f+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+l*g[1])),f+="L ".concat(e+n,",").concat(r+i-l*g[2]),g[2]>0&&(f+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(h,`,
        `).concat(e+n-u*g[2],",").concat(r+i)),f+="L ".concat(e+u*g[3],",").concat(r+i),g[3]>0&&(f+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-l*g[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var _=Math.min(o,a);f="M ".concat(e,",").concat(r+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+u*_,",").concat(r,`
            L `).concat(e+n-u*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+n,",").concat(r+l*_,`
            L `).concat(e+n,",").concat(r+i-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+n-u*_,",").concat(r+i,`
            L `).concat(e+u*_,",").concat(r+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e,",").concat(r+i-l*_," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},lwe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var h=Math.min(a,a+l),f=Math.max(a,a+l),g=Math.min(o,o+u),y=Math.max(o,o+u);return n>=h&&n<=f&&i>=g&&i<=y}return!1},cwe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H6=function(e){var r=pV(pV({},cwe),e),n=Y.useRef(),i=Y.useState(-1),a=ewe(i,2),o=a[0],l=a[1];Y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&l(B)}catch{}},[]);var u=r.x,h=r.y,f=r.width,g=r.height,y=r.radius,N=r.className,_=r.animationEasing,k=r.animationDuration,C=r.animationBegin,O=r.isAnimationActive,T=r.isUpdateAnimationActive;if(u!==+u||h!==+h||f!==+f||g!==+g||f===0||g===0)return null;var M=vr("recharts-rectangle",N);return T?Oe.createElement(ul,{canBegin:o>0,from:{width:f,height:g,x:u,y:h},to:{width:f,height:g,x:u,y:h},duration:k,animationEasing:_,isActive:T},function(B){var F=B.width,V=B.height,H=B.x,Z=B.y;return Oe.createElement(ul,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:k,isActive:O,easing:_},Oe.createElement("path",fA({},er(r,!0),{className:M,d:gV(H,Z,F,V,y),ref:n})))}):Oe.createElement("path",fA({},er(r,!0),{className:M,d:gV(u,h,f,g,y)}))},dwe=["points","className","baseLinePoints","connectNulls"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gx.apply(this,arguments)}function uwe(t,e){if(t==null)return{};var r=hwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xV(t){return gwe(t)||pwe(t)||mwe(t)||fwe()}function fwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mwe(t,e){if(t){if(typeof t=="string")return DD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DD(t,e)}}function pwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gwe(t){if(Array.isArray(t))return DD(t)}function DD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yV=function(e){return e&&e.x===+e.x&&e.y===+e.y},xwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){yV(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),yV(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Tw=function(e,r){var n=xwe(e);r&&(n=[n.reduce(function(a,o){return[].concat(xV(a),xV(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,u){return"".concat(o).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},ywe=function(e,r,n){var i=Tw(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Tw(r.reverse(),n).slice(1))},oJ=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=uwe(e,dwe);if(!r||!r.length)return null;var l=vr("recharts-polygon",n);if(i&&i.length){var u=o.stroke&&o.stroke!=="none",h=ywe(r,i,a);return Oe.createElement("g",{className:l},Oe.createElement("path",Gx({},er(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:h})),u?Oe.createElement("path",Gx({},er(o,!0),{fill:"none",d:Tw(r,a)})):null,u?Oe.createElement("path",Gx({},er(o,!0),{fill:"none",d:Tw(i,a)})):null)}var f=Tw(r,a);return Oe.createElement("path",Gx({},er(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function RD(){return RD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RD.apply(this,arguments)}var yv=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=vr("recharts-dot",a);return r===+r&&n===+n&&i===+i?Oe.createElement("circle",RD({},er(e,!1),Rk(e),{className:o,cx:r,cy:n,r:i})):null};function p1(t){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p1(t)}var vwe=["x","y","top","left","width","height","className"];function ID(){return ID=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ID.apply(this,arguments)}function vV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bwe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(r),!0).forEach(function(n){wwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wwe(t,e,r){return e=jwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jwe(t){var e=Nwe(t,"string");return p1(e)=="symbol"?e:e+""}function Nwe(t,e){if(p1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _we(t,e){if(t==null)return{};var r=Swe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Swe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kwe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Awe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,u=e.left,h=u===void 0?0:u,f=e.width,g=f===void 0?0:f,y=e.height,N=y===void 0?0:y,_=e.className,k=_we(e,vwe),C=bwe({x:n,y:a,top:l,left:h,width:g,height:N},k);return!Et(n)||!Et(a)||!Et(g)||!Et(N)||!Et(l)||!Et(h)?null:Oe.createElement("path",ID({},er(C,!0),{className:vr("recharts-cross",_),d:kwe(n,a,g,N,l,h)}))},Cwe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function g1(t){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g1(t)}function Ewe(t,e){if(t==null)return{};var r=Twe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Twe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hu.apply(this,arguments)}function bV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(r),!0).forEach(function(n){Pwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pwe(t,e,r){return e=Mwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mwe(t){var e=Lwe(t,"string");return g1(e)=="symbol"?e:e+""}function Lwe(t,e){if(g1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Owe=function(e,r,n,i){var a="";return i.forEach(function(o,l){var u=ls(r,n,e,o);l?a+="L ".concat(u.x,",").concat(u.y):a+="M ".concat(u.x,",").concat(u.y)}),a+="Z",a},Dwe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.polarAngles,l=e.radialLines;if(!o||!o.length||!l)return null;var u=x1({stroke:"#ccc"},er(e,!1));return Oe.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(h){var f=ls(r,n,i,h),g=ls(r,n,a,h);return Oe.createElement("line",Hu({},u,{key:"line-".concat(h),x1:f.x,y1:f.y,x2:g.x,y2:g.y}))}))},Rwe=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.index,o=x1(x1({stroke:"#ccc"},er(e,!1)),{},{fill:"none"});return Oe.createElement("circle",Hu({},o,{className:vr("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:r,cy:n,r:i}))},Iwe=function(e){var r=e.radius,n=e.index,i=x1(x1({stroke:"#ccc"},er(e,!1)),{},{fill:"none"});return Oe.createElement("path",Hu({},i,{className:vr("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:Owe(r,e.cx,e.cy,e.polarAngles)}))},Fwe=function(e){var r=e.polarRadius,n=e.gridType;return!r||!r.length?null:Oe.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,a){var o=a;return n==="circle"?Oe.createElement(Rwe,Hu({key:o},e,{radius:i,index:a})):Oe.createElement(Iwe,Hu({key:o},e,{radius:i,index:a}))}))},lJ=function(e){var r=e.cx,n=r===void 0?0:r,i=e.cy,a=i===void 0?0:i,o=e.innerRadius,l=o===void 0?0:o,u=e.outerRadius,h=u===void 0?0:u,f=e.gridType,g=f===void 0?"polygon":f,y=e.radialLines,N=y===void 0?!0:y,_=Ewe(e,Cwe);return h<=0?null:Oe.createElement("g",{className:"recharts-polar-grid"},Oe.createElement(Dwe,Hu({cx:n,cy:a,innerRadius:l,outerRadius:h,gridType:g,radialLines:N},_)),Oe.createElement(Fwe,Hu({cx:n,cy:a,innerRadius:l,outerRadius:h,gridType:g,radialLines:N},_)))};lJ.displayName="PolarGrid";var g3,wV;function Bwe(){if(wV)return g3;wV=1;var t=dE(),e=yK(),r=hd();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return g3=n,g3}var $we=Bwe();const zwe=Ur($we);var x3,jV;function Hwe(){if(jV)return x3;jV=1;var t=dE(),e=hd(),r=vK();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return x3=n,x3}var Wwe=Hwe();const Vwe=Ur(Wwe);var Uwe=["cx","cy","angle","ticks","axisLine"],qwe=["ticks","tick","angle","tickFormatter","stroke"];function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pw.apply(this,arguments)}function NV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(r),!0).forEach(function(n){mE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _V(t,e){if(t==null)return{};var r=Xwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ywe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dJ(n.key),n)}}function Gwe(t,e,r){return e&&SV(t.prototype,e),r&&SV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zwe(t,e,r){return e=mA(e),Kwe(t,cJ()?Reflect.construct(e,r||[],mA(t).constructor):e.apply(t,r))}function Kwe(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jwe(t)}function Jwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cJ=function(){return!!t})()}function mA(t){return mA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mA(t)}function Qwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FD(t,e)}function FD(t,e){return FD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FD(t,e)}function mE(t,e,r){return e=dJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dJ(t){var e=e1e(t,"string");return jy(e)=="symbol"?e:e+""}function e1e(t,e){if(jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vv=function(t){function e(){return Ywe(this,e),Zwe(this,e,arguments)}return Qwe(e,t),Gwe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,u=a.cy;return ls(l,u,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,u=zwe(l,function(f){return f.coordinate||0}),h=Vwe(l,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:h.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,u=n.axisLine,h=_V(n,Uwe),f=l.reduce(function(_,k){return[Math.min(_[0],k.coordinate),Math.max(_[1],k.coordinate)]},[1/0,-1/0]),g=ls(i,a,f[0],o),y=ls(i,a,f[1],o),N=wm(wm(wm({},er(h,!1)),{},{fill:"none"},er(u,!1)),{},{x1:g.x,y1:g.y,x2:y.x,y2:y.y});return Oe.createElement("line",Pw({className:"recharts-polar-radius-axis-line"},N))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,u=i.tickFormatter,h=i.stroke,f=_V(i,qwe),g=this.getTickTextAnchor(),y=er(f,!1),N=er(o,!1),_=a.map(function(k,C){var O=n.getTickValueCoord(k),T=wm(wm(wm(wm({textAnchor:g,transform:"rotate(".concat(90-l,", ").concat(O.x,", ").concat(O.y,")")},y),{},{stroke:"none",fill:h},N),{},{index:C},O),{},{payload:k});return Oe.createElement(Fr,Pw({className:vr("recharts-polar-radius-axis-tick",YK(o)),key:"tick-".concat(k.coordinate)},ig(n.props,k,C)),e.renderTickItem(o,T,u?u(k.value,C):k.value))});return Oe.createElement(Fr,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:Oe.createElement(Fr,{className:vr("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),fi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Oe.isValidElement(n)?o=Oe.cloneElement(n,i):fr(n)?o=n(i):o=Oe.createElement(ag,Pw({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(Y.PureComponent);mE(vv,"displayName","PolarRadiusAxis");mE(vv,"axisType","radiusAxis");mE(vv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(this,arguments)}function kV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kV(Object(r),!0).forEach(function(n){pE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hJ(n.key),n)}}function r1e(t,e,r){return e&&AV(t.prototype,e),r&&AV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s1e(t,e,r){return e=pA(e),n1e(t,uJ()?Reflect.construct(e,r||[],pA(t).constructor):e.apply(t,r))}function n1e(t,e){if(e&&(Ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i1e(t)}function i1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uJ=function(){return!!t})()}function pA(t){return pA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pA(t)}function a1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BD(t,e)}function BD(t,e){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BD(t,e)}function pE(t,e,r){return e=hJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hJ(t){var e=o1e(t,"string");return Ny(e)=="symbol"?e:e+""}function o1e(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l1e=Math.PI/180,c1e=1e-5,bv=function(t){function e(){return t1e(this,e),s1e(this,e,arguments)}return a1e(e,t),r1e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,u=i.orientation,h=i.tickSize,f=h||8,g=ls(a,o,l,n.coordinate),y=ls(a,o,l+(u==="inner"?-1:1)*f,n.coordinate);return{x1:g.x,y1:g.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*l1e),o;return a>c1e?o=i==="outer"?"start":"end":a<-1e-5?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,u=n.axisLineType,h=jm(jm({},er(this.props,!1)),{},{fill:"none"},er(l,!1));if(u==="circle")return Oe.createElement(yv,$m({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:a,r:o}));var f=this.props.ticks,g=f.map(function(y){return ls(i,a,o,y.coordinate)});return Oe.createElement(oJ,$m({className:"recharts-polar-angle-axis-line"},h,{points:g}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,u=i.tickFormatter,h=i.stroke,f=er(this.props,!1),g=er(o,!1),y=jm(jm({},f),{},{fill:"none"},er(l,!1)),N=a.map(function(_,k){var C=n.getTickLineCoord(_),O=n.getTickTextAnchor(_),T=jm(jm(jm({textAnchor:O},f),{},{stroke:"none",fill:h},g),{},{index:k,payload:_,x:C.x2,y:C.y2});return Oe.createElement(Fr,$m({className:vr("recharts-polar-angle-axis-tick",YK(o)),key:"tick-".concat(_.coordinate)},ig(n.props,_,k)),l&&Oe.createElement("line",$m({className:"recharts-polar-angle-axis-tick-line"},y,C)),o&&e.renderTickItem(o,T,u?u(_.value,k):_.value))});return Oe.createElement(Fr,{className:"recharts-polar-angle-axis-ticks"},N)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:Oe.createElement(Fr,{className:vr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Oe.isValidElement(n)?o=Oe.cloneElement(n,i):fr(n)?o=n(i):o=Oe.createElement(ag,$m({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(Y.PureComponent);pE(bv,"displayName","PolarAngleAxis");pE(bv,"axisType","angleAxis");pE(bv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var y3,CV;function d1e(){if(CV)return y3;CV=1;var t=mZ(),e=t(Object.getPrototypeOf,Object);return y3=e,y3}var v3,EV;function u1e(){if(EV)return v3;EV=1;var t=Gu(),e=d1e(),r=Zu(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,u=o.call(Object);function h(f){if(!r(f)||t(f)!=n)return!1;var g=e(f);if(g===null)return!0;var y=l.call(g,"constructor")&&g.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==u}return v3=h,v3}var h1e=u1e();const f1e=Ur(h1e);var b3,TV;function m1e(){if(TV)return b3;TV=1;var t=Gu(),e=Zu(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return b3=n,b3}var p1e=m1e();const g1e=Ur(p1e);function y1(t){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y1(t)}function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gA.apply(this,arguments)}function x1e(t,e){return w1e(t)||b1e(t,e)||v1e(t,e)||y1e()}function y1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1e(t,e){if(t){if(typeof t=="string")return PV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PV(t,e)}}function PV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function w1e(t){if(Array.isArray(t))return t}function MV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(r),!0).forEach(function(n){j1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j1e(t,e,r){return e=N1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N1e(t){var e=_1e(t,"string");return y1(e)=="symbol"?e:e+""}function _1e(t,e){if(y1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OV=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},S1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k1e=function(e){var r=LV(LV({},S1e),e),n=Y.useRef(),i=Y.useState(-1),a=x1e(i,2),o=a[0],l=a[1];Y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&l(M)}catch{}},[]);var u=r.x,h=r.y,f=r.upperWidth,g=r.lowerWidth,y=r.height,N=r.className,_=r.animationEasing,k=r.animationDuration,C=r.animationBegin,O=r.isUpdateAnimationActive;if(u!==+u||h!==+h||f!==+f||g!==+g||y!==+y||f===0&&g===0||y===0)return null;var T=vr("recharts-trapezoid",N);return O?Oe.createElement(ul,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:u,y:h},to:{upperWidth:f,lowerWidth:g,height:y,x:u,y:h},duration:k,animationEasing:_,isActive:O},function(M){var B=M.upperWidth,F=M.lowerWidth,V=M.height,H=M.x,Z=M.y;return Oe.createElement(ul,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:k,easing:_},Oe.createElement("path",gA({},er(r,!0),{className:T,d:OV(H,Z,B,F,V),ref:n})))}):Oe.createElement("g",null,Oe.createElement("path",gA({},er(r,!0),{className:T,d:OV(u,h,f,g,y)})))},A1e=["option","shapeType","propTransformer","activeClassName","isActive"];function v1(t){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v1(t)}function C1e(t,e){if(t==null)return{};var r=E1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(r),!0).forEach(function(n){T1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T1e(t,e,r){return e=P1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P1e(t){var e=M1e(t,"string");return v1(e)=="symbol"?e:e+""}function M1e(t,e){if(v1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L1e(t,e){return xA(xA({},e),t)}function O1e(t,e){return t==="symbols"}function RV(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Oe.createElement(H6,r);case"trapezoid":return Oe.createElement(k1e,r);case"sector":return Oe.createElement(JK,r);case"symbols":if(O1e(e))return Oe.createElement(o6,r);break;default:return null}}function D1e(t){return Y.isValidElement(t)?t.props:t}function fJ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?L1e:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,u=C1e(t,A1e),h;if(Y.isValidElement(e))h=Y.cloneElement(e,xA(xA({},u),D1e(e)));else if(fr(e))h=e(u);else if(f1e(e)&&!g1e(e)){var f=i(e,u);h=Oe.createElement(RV,{shapeType:r,elementProps:f})}else{var g=u;h=Oe.createElement(RV,{shapeType:r,elementProps:g})}return l?Oe.createElement(Fr,{className:o},h):h}function gE(t,e){return e!=null&&"trapezoids"in t.props}function xE(t,e){return e!=null&&"sectors"in t.props}function b1(t,e){return e!=null&&"points"in t.props}function R1e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function I1e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function F1e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function B1e(t,e){var r;return gE(t,e)?r=R1e:xE(t,e)?r=I1e:b1(t,e)&&(r=F1e),r}function $1e(t,e){var r;return gE(t,e)?r="trapezoids":xE(t,e)?r="sectors":b1(t,e)&&(r="points"),r}function z1e(t,e){if(gE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xE(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return b1(t,e)?e.payload:{}}function H1e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=$1e(r,e),a=z1e(r,e),o=n.filter(function(u,h){var f=Rf(a,u),g=r.props[i].filter(function(_){var k=B1e(r,e);return k(_,e)}),y=r.props[i].indexOf(g[g.length-1]),N=h===y;return f&&N}),l=n.indexOf(o[o.length-1]);return l}var v_;function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zx.apply(this,arguments)}function IV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IV(Object(r),!0).forEach(function(n){rl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pJ(n.key),n)}}function V1e(t,e,r){return e&&FV(t.prototype,e),r&&FV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function U1e(t,e,r){return e=yA(e),q1e(t,mJ()?Reflect.construct(e,r||[],yA(t).constructor):e.apply(t,r))}function q1e(t,e){if(e&&(_y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1e(t)}function X1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!t})()}function yA(t){return yA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yA(t)}function Y1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$D(t,e)}function $D(t,e){return $D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$D(t,e)}function rl(t,e,r){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pJ(t){var e=G1e(t,"string");return _y(e)=="symbol"?e:e+""}function G1e(t,e){if(_y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pl=function(t){function e(r){var n;return W1e(this,e),n=U1e(this,e,[r]),rl(n,"pieRef",null),rl(n,"sectorRefs",[]),rl(n,"id",kg("recharts-pie-")),rl(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),fr(i)&&i()}),rl(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),fr(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Y1e(e,t),V1e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,u=a.dataKey,h=a.valueKey,f=er(this.props,!1),g=er(o,!1),y=er(l,!1),N=o&&o.offsetRadius||20,_=n.map(function(k,C){var O=(k.startAngle+k.endAngle)/2,T=ls(k.cx,k.cy,k.outerRadius+N,O),M=$s($s($s($s({},f),k),{},{stroke:"none"},g),{},{index:C,textAnchor:e.getTextAnchor(T.x,k.cx)},T),B=$s($s($s($s({},f),k),{},{fill:"none",stroke:k.fill},y),{},{index:C,points:[ls(k.cx,k.cy,k.outerRadius,O),T]}),F=u;return Nr(u)&&Nr(h)?F="value":Nr(u)&&(F=h),Oe.createElement(Fr,{key:"label-".concat(k.startAngle,"-").concat(k.endAngle,"-").concat(k.midAngle,"-").concat(C)},l&&e.renderLabelLineItem(l,B,"line"),e.renderLabelItem(o,M,un(k,F)))});return Oe.createElement(Fr,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,u=a.inactiveShape;return n.map(function(h,f){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&n.length!==1)return null;var g=i.isActiveIndex(f),y=u&&i.hasActiveIndex()?u:null,N=g?o:y,_=$s($s({},h),{},{stroke:l?h.fill:h.stroke,tabIndex:-1});return Oe.createElement(Fr,Zx({ref:function(C){C&&!i.sectorRefs.includes(C)&&i.sectorRefs.push(C)},tabIndex:-1,className:"recharts-pie-sector"},ig(i.props,h,f),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(f)}),Oe.createElement(fJ,Zx({option:N,isActive:g,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,h=i.animationEasing,f=i.animationId,g=this.state,y=g.prevSectors,N=g.prevIsAnimationActive;return Oe.createElement(ul,{begin:l,duration:u,isActive:o,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(N),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var k=_.t,C=[],O=a&&a[0],T=O.startAngle;return a.forEach(function(M,B){var F=y&&y[B],V=B>0?So(M,"paddingAngle",0):0;if(F){var H=dn(F.endAngle-F.startAngle,M.endAngle-M.startAngle),Z=$s($s({},M),{},{startAngle:T+V,endAngle:T+H(k)+V});C.push(Z),T=Z.endAngle}else{var re=M.endAngle,le=M.startAngle,ce=dn(0,re-le),he=ce(k),fe=$s($s({},M),{},{startAngle:T+V,endAngle:T+he+V});C.push(fe),T=fe.endAngle}}),Oe.createElement(Fr,null,n.renderSectorsStatically(C))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Rf(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,u=i.label,h=i.cx,f=i.cy,g=i.innerRadius,y=i.outerRadius,N=i.isAnimationActive,_=this.state.isAnimationFinished;if(a||!o||!o.length||!Et(h)||!Et(f)||!Et(g)||!Et(y))return null;var k=vr("recharts-pie",l);return Oe.createElement(Fr,{tabIndex:this.props.rootTabIndex,className:k,ref:function(O){n.pieRef=O}},this.renderSectors(),u&&this.renderLabels(o),fi.renderCallByParent(this.props,null,!1),(!N||_)&&nc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(Oe.isValidElement(n))return Oe.cloneElement(n,i);if(fr(n))return n(i);var o=vr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Oe.createElement(Qp,Zx({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(Oe.isValidElement(n))return Oe.cloneElement(n,i);var o=a;if(fr(n)&&(o=n(i),Oe.isValidElement(o)))return o;var l=vr("recharts-pie-label-text",typeof n!="boolean"&&!fr(n)?n.className:"");return Oe.createElement(ag,Zx({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(Y.PureComponent);v_=pl;rl(pl,"displayName","Pie");rl(pl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ku.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});rl(pl,"parseDeltaAngle",function(t,e){var r=da(e-t),n=Math.min(Math.abs(e-t),360);return r*n});rl(pl,"getRealPieData",function(t){var e=t.data,r=t.children,n=er(t,!1),i=ko(r,Df);return e&&e.length?e.map(function(a,o){return $s($s($s({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return $s($s({},n),a.props)}):[]});rl(pl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=qK(i,a),l=n+ua(t.cx,i,i/2),u=r+ua(t.cy,a,a/2),h=ua(t.innerRadius,o,0),f=ua(t.outerRadius,o,o*.8),g=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:u,innerRadius:h,outerRadius:f,maxRadius:g}});rl(pl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?$s($s({},e.type.defaultProps),e.props):e.props,i=v_.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,u=n.paddingAngle,h=n.dataKey,f=n.nameKey,g=n.valueKey,y=n.tooltipType,N=Math.abs(n.minAngle),_=v_.parseCoordinateOfPie(n,r),k=v_.parseDeltaAngle(o,l),C=Math.abs(k),O=h;Nr(h)&&Nr(g)?(sc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):Nr(h)&&(sc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=g);var T=i.filter(function(Z){return un(Z,O,0)!==0}).length,M=(C>=360?T:T-1)*u,B=C-T*N-M,F=i.reduce(function(Z,re){var le=un(re,O,0);return Z+(Et(le)?le:0)},0),V;if(F>0){var H;V=i.map(function(Z,re){var le=un(Z,O,0),ce=un(Z,f,re),he=(Et(le)?le:0)/F,fe;re?fe=H.endAngle+da(k)*u*(le!==0?1:0):fe=o;var ee=fe+da(k)*((le!==0?N:0)+he*B),xe=(fe+ee)/2,ie=(_.innerRadius+_.outerRadius)/2,ge=[{name:ce,value:le,payload:Z,dataKey:O,type:y}],G=ls(_.cx,_.cy,ie,xe);return H=$s($s($s({percent:he,cornerRadius:a,name:ce,tooltipPayload:ge,midAngle:xe,middleRadius:ie,tooltipPosition:G},Z),_),{},{value:un(Z,O),startAngle:fe,endAngle:ee,payload:Z,paddingAngle:da(k)*u}),H})}return $s($s({},_),{},{sectors:V,data:i})});var w3,BV;function Z1e(){if(BV)return w3;BV=1;function t(e){return e&&e.length?e[0]:void 0}return w3=t,w3}var j3,$V;function K1e(){return $V||($V=1,j3=Z1e()),j3}var J1e=K1e();const Q1e=Ur(J1e);var eje=["key"];function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function tje(t,e){if(t==null)return{};var r=rje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vA.apply(this,arguments)}function zV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zV(Object(r),!0).forEach(function(n){yu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xJ(n.key),n)}}function nje(t,e,r){return e&&HV(t.prototype,e),r&&HV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ije(t,e,r){return e=bA(e),aje(t,gJ()?Reflect.construct(e,r||[],bA(t).constructor):e.apply(t,r))}function aje(t,e){if(e&&(Sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oje(t)}function oje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gJ=function(){return!!t})()}function bA(t){return bA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bA(t)}function lje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zD(t,e)}function zD(t,e){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zD(t,e)}function yu(t,e,r){return e=xJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xJ(t){var e=cje(t,"string");return Sy(e)=="symbol"?e:e+""}function cje(t,e){if(Sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ky=function(t){function e(){var r;sje(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ije(this,e,[].concat(i)),yu(r,"state",{isAnimationFinished:!1}),yu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),fr(o)&&o()}),yu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),fr(o)&&o()}),yu(r,"handleMouseEnter",function(o){var l=r.props.onMouseEnter;l&&l(r.props,o)}),yu(r,"handleMouseLeave",function(o){var l=r.props.onMouseLeave;l&&l(r.props,o)}),r}return lje(e,t),nje(e,[{key:"renderDots",value:function(n){var i=this.props,a=i.dot,o=i.dataKey,l=er(this.props,!1),u=er(a,!0),h=n.map(function(f,g){var y=aa(aa(aa({key:"dot-".concat(g),r:3},l),u),{},{dataKey:o,cx:f.x,cy:f.y,index:g,payload:f});return e.renderDotItem(a,y)});return Oe.createElement(Fr,{className:"recharts-radar-dots"},h)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,a=i.shape,o=i.dot,l=i.isRange,u=i.baseLinePoints,h=i.connectNulls,f;return Oe.isValidElement(a)?f=Oe.cloneElement(a,aa(aa({},this.props),{},{points:n})):fr(a)?f=a(aa(aa({},this.props),{},{points:n})):f=Oe.createElement(oJ,vA({},er(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:l?u:null,connectNulls:h})),Oe.createElement(Fr,{className:"recharts-radar-polygon"},f,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,h=i.animationEasing,f=i.animationId,g=this.state.prevPoints;return Oe.createElement(ul,{begin:l,duration:u,isActive:o,easing:h,from:{t:0},to:{t:1},key:"radar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var N=y.t,_=g&&g.length/a.length,k=a.map(function(C,O){var T=g&&g[Math.floor(O*_)];if(T){var M=dn(T.x,C.x),B=dn(T.y,C.y);return aa(aa({},C),{},{x:M(N),y:B(N)})}var F=dn(C.cx,C.x),V=dn(C.cy,C.y);return aa(aa({},C),{},{x:F(N),y:V(N)})});return n.renderPolygonStatically(k)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=n.isRange,l=this.state.prevPoints;return a&&i&&i.length&&!o&&(!l||!Rf(l,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.className,o=n.points,l=n.isAnimationActive;if(i||!o||!o.length)return null;var u=this.state.isAnimationFinished,h=vr("recharts-radar",a);return Oe.createElement(Fr,{className:h},this.renderPolygon(),(!l||u)&&nc.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var a;if(Oe.isValidElement(n))a=Oe.cloneElement(n,i);else if(fr(n))a=n(i);else{var o=i.key,l=tje(i,eje);a=Oe.createElement(yv,vA({},l,{key:o,className:vr("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return a}}])}(Y.PureComponent);yu(ky,"displayName","Radar");yu(ky,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ku.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yu(ky,"getComposedData",function(t){var e=t.radiusAxis,r=t.angleAxis,n=t.displayedData,i=t.dataKey,a=t.bandSize,o=r.cx,l=r.cy,u=!1,h=[],f=r.type!=="number"?a??0:0;n.forEach(function(y,N){var _=un(y,r.dataKey,N),k=un(y,i),C=r.scale(_)+f,O=Array.isArray(k)?ZK(k):k,T=Nr(O)?void 0:e.scale(O);Array.isArray(k)&&k.length>=2&&(u=!0),h.push(aa(aa({},ls(o,l,T,C)),{},{name:_,value:k,cx:o,cy:l,radius:T,angle:C,payload:y}))});var g=[];return u&&h.forEach(function(y){if(Array.isArray(y.value)){var N=Q1e(y.value),_=Nr(N)?void 0:e.scale(N);g.push(aa(aa({},y),{},{radius:_},ls(o,l,_,y.angle)))}else g.push(y)}),{points:h,isRange:u,baseLinePoints:g}});var N3,WV;function dje(){if(WV)return N3;WV=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var l=-1,u=e(t((i-n)/(a||1)),0),h=Array(u);u--;)h[o?u:++l]=n,n+=a;return h}return N3=r,N3}var _3,VV;function yJ(){if(VV)return _3;VV=1;var t=TZ(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var a=i<0?-1:1;return a*r}return i===i?i:0}return _3=n,_3}var S3,UV;function uje(){if(UV)return S3;UV=1;var t=dje(),e=sE(),r=yJ();function n(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),t(a,o,l,i)}}return S3=n,S3}var k3,qV;function hje(){if(qV)return k3;qV=1;var t=uje(),e=t();return k3=e,k3}var fje=hje();const wA=Ur(fje);function w1(t){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w1(t)}function XV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XV(Object(r),!0).forEach(function(n){vJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vJ(t,e,r){return e=mje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mje(t){var e=pje(t,"string");return w1(e)=="symbol"?e:e+""}function pje(t,e){if(w1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gje=["Webkit","Moz","O","ms"],xje=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=gje.reduce(function(a,o){return YV(YV({},a),{},vJ({},o+n,r))},{});return i[e]=r,i};function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jA.apply(this,arguments)}function GV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GV(Object(r),!0).forEach(function(n){oo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wJ(n.key),n)}}function vje(t,e,r){return e&&ZV(t.prototype,e),r&&ZV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bje(t,e,r){return e=NA(e),wje(t,bJ()?Reflect.construct(e,r||[],NA(t).constructor):e.apply(t,r))}function wje(t,e){if(e&&(Ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jje(t)}function jje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bJ=function(){return!!t})()}function NA(t){return NA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},NA(t)}function Nje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HD(t,e)}function HD(t,e){return HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HD(t,e)}function oo(t,e,r){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wJ(t){var e=_je(t,"string");return Ay(e)=="symbol"?e:e+""}function _je(t,e){if(Ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sje=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var u=r.length,h=Aw().domain(wA(0,u)).range([a,a+o-l]),f=h.domain().map(function(g){return h(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:f}},KV=function(e){return e.changedTouches&&!!e.changedTouches.length},Cy=function(t){function e(r){var n;return yje(this,e),n=bje(this,e,[r]),oo(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),oo(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),oo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),oo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),oo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),oo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),oo(n,"handleSlideDragStart",function(i){var a=KV(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Nje(e,t),vje(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,u=l.gap,h=l.data,f=h.length-1,g=Math.min(i,a),y=Math.max(i,a),N=e.getIndexInRange(o,g),_=e.getIndexInRange(o,y);return{startIndex:N-N%u,endIndex:_===f?f:_-_%u}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,u=un(a[n],l,n);return fr(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,u=this.props,h=u.x,f=u.width,g=u.travellerWidth,y=u.startIndex,N=u.endIndex,_=u.onChange,k=n.pageX-a;k>0?k=Math.min(k,h+f-g-l,h+f-g-o):k<0&&(k=Math.max(k,h-o,h-l));var C=this.getIndex({startX:o+k,endX:l+k});(C.startIndex!==y||C.endIndex!==N)&&_&&_(C),this.setState({startX:o+k,endX:l+k,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=KV(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,u=i.startX,h=this.state[o],f=this.props,g=f.x,y=f.width,N=f.travellerWidth,_=f.onChange,k=f.gap,C=f.data,O={startX:this.state.startX,endX:this.state.endX},T=n.pageX-a;T>0?T=Math.min(T,g+y-N-h):T<0&&(T=Math.max(T,g-h)),O[o]=h+T;var M=this.getIndex(O),B=M.startIndex,F=M.endIndex,V=function(){var Z=C.length-1;return o==="startX"&&(l>u?B%k===0:F%k===0)||l<u&&F===Z||o==="endX"&&(l>u?F%k===0:B%k===0)||l>u&&F===Z};this.setState(oo(oo({},o,h+T),"brushMoveStartX",n.pageX),function(){_&&V()&&_(M)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,u=o.startX,h=o.endX,f=this.state[i],g=l.indexOf(f);if(g!==-1){var y=g+n;if(!(y===-1||y>=l.length)){var N=l[y];i==="startX"&&N>=h||i==="endX"&&N<=u||this.setState(oo({},i,N),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,u=n.fill,h=n.stroke;return Oe.createElement("rect",{stroke:h,fill:u,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,u=n.data,h=n.children,f=n.padding,g=Y.Children.only(h);return g?Oe.cloneElement(g,{x:i,y:a,width:o,height:l,margin:f,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,u=this.props,h=u.y,f=u.travellerWidth,g=u.height,y=u.traveller,N=u.ariaLabel,_=u.data,k=u.startIndex,C=u.endIndex,O=Math.max(n,this.props.x),T=A3(A3({},er(this.props,!1)),{},{x:O,y:h,width:f,height:g}),M=N||"Min value: ".concat((a=_[k])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=_[C])===null||o===void 0?void 0:o.name);return Oe.createElement(Fr,{tabIndex:0,role:"slider","aria-label":M,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(F){["ArrowLeft","ArrowRight"].includes(F.key)&&(F.preventDefault(),F.stopPropagation(),l.handleTravellerMoveKeyboard(F.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,T))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,u=a.stroke,h=a.travellerWidth,f=Math.min(n,i)+h,g=Math.max(Math.abs(i-n)-h,0);return Oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:f,y:o,width:g,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,u=n.travellerWidth,h=n.stroke,f=this.state,g=f.startX,y=f.endX,N=5,_={pointerEvents:"none",fill:h};return Oe.createElement(Fr,{className:"recharts-brush-texts"},Oe.createElement(ag,jA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,y)-N,y:o+l/2},_),this.getTextOfTick(i)),Oe.createElement(ag,jA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,y)+u+N,y:o+l/2},_),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,u=n.y,h=n.width,f=n.height,g=n.alwaysShowText,y=this.state,N=y.startX,_=y.endX,k=y.isTextActive,C=y.isSlideMoving,O=y.isTravellerMoving,T=y.isTravellerFocused;if(!i||!i.length||!Et(l)||!Et(u)||!Et(h)||!Et(f)||h<=0||f<=0)return null;var M=vr("recharts-brush",a),B=Oe.Children.count(o)===1,F=xje("userSelect","none");return Oe.createElement(Fr,{className:M,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:F},this.renderBackground(),B&&this.renderPanorama(),this.renderSlide(N,_),this.renderTravellerLayer(N,"startX"),this.renderTravellerLayer(_,"endX"),(k||C||O||T||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,u=n.stroke,h=Math.floor(a+l/2)-1;return Oe.createElement(Oe.Fragment,null,Oe.createElement("rect",{x:i,y:a,width:o,height:l,fill:u,stroke:"none"}),Oe.createElement("line",{x1:i+1,y1:h,x2:i+o-1,y2:h,fill:"none",stroke:"#fff"}),Oe.createElement("line",{x1:i+1,y1:h+2,x2:i+o-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return Oe.isValidElement(n)?a=Oe.cloneElement(n,i):fr(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,u=n.travellerWidth,h=n.updateId,f=n.startIndex,g=n.endIndex;if(a!==i.prevData||h!==i.prevUpdateId)return A3({prevData:a,prevTravellerWidth:u,prevUpdateId:h,prevX:l,prevWidth:o},a&&a.length?Sje({data:a,width:o,x:l,travellerWidth:u,startIndex:f,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([l,l+o-u]);var y=i.scale.domain().map(function(N){return i.scale(N)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:h,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var u=Math.floor((o+l)/2);n[u]>i?l=u:o=u}return i>=n[l]?l:o}}])}(Y.PureComponent);oo(Cy,"displayName","Brush");oo(Cy,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var C3,JV;function kje(){if(JV)return C3;JV=1;var t=m6();function e(r,n){var i;return t(r,function(a,o,l){return i=n(a,o,l),!i}),!!i}return C3=e,C3}var E3,QV;function Aje(){if(QV)return E3;QV=1;var t=oZ(),e=hd(),r=kje(),n=Ya(),i=sE();function a(o,l,u){var h=n(o)?t:r;return u&&i(o,l,u)&&(l=void 0),h(o,e(l,3))}return E3=a,E3}var Cje=Aje();const Eje=Ur(Cje);var rd=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},T3,eU;function Tje(){if(eU)return T3;eU=1;var t=SZ();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return T3=e,T3}var P3,tU;function Pje(){if(tU)return P3;tU=1;var t=Tje(),e=NZ(),r=hd();function n(i,a){var o={};return a=r(a,3),e(i,function(l,u,h){t(o,u,a(l,u,h))}),o}return P3=n,P3}var Mje=Pje();const Lje=Ur(Mje);var M3,rU;function Oje(){if(rU)return M3;rU=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return M3=t,M3}var L3,sU;function Dje(){if(sU)return L3;sU=1;var t=m6();function e(r,n){var i=!0;return t(r,function(a,o,l){return i=!!n(a,o,l),i}),i}return L3=e,L3}var O3,nU;function Rje(){if(nU)return O3;nU=1;var t=Oje(),e=Dje(),r=hd(),n=Ya(),i=sE();function a(o,l,u){var h=n(o)?t:e;return u&&i(o,l,u)&&(l=void 0),h(o,r(l,3))}return O3=a,O3}var Ije=Rje();const jJ=Ur(Ije);var Fje=["x","y"];function j1(t){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j1(t)}function WD(){return WD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WD.apply(this,arguments)}function iU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(r),!0).forEach(function(n){Bje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bje(t,e,r){return e=$je(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $je(t){var e=zje(t,"string");return j1(e)=="symbol"?e:e+""}function zje(t,e){if(j1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hje(t,e){if(t==null)return{};var r=Wje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vje(t,e){var r=t.x,n=t.y,i=Hje(t,Fje),a="".concat(r),o=parseInt(a,10),l="".concat(n),u=parseInt(l,10),h="".concat(e.height||i.height),f=parseInt(h,10),g="".concat(e.width||i.width),y=parseInt(g,10);return bb(bb(bb(bb(bb({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:y,name:e.name,radius:e.radius})}function aU(t){return Oe.createElement(fJ,WD({shapeType:"rectangle",propTransformer:Vje,activeClassName:"recharts-active-bar"},t))}var Uje=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||Qr(!1),r)}},qje=["value","background"],NJ;function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function Xje(t,e){if(t==null)return{};var r=Yje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_A.apply(this,arguments)}function oU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function On(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(r),!0).forEach(function(n){Af(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SJ(n.key),n)}}function Zje(t,e,r){return e&&lU(t.prototype,e),r&&lU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kje(t,e,r){return e=SA(e),Jje(t,_J()?Reflect.construct(e,r||[],SA(t).constructor):e.apply(t,r))}function Jje(t,e){if(e&&(Ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qje(t)}function Qje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_J=function(){return!!t})()}function SA(t){return SA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},SA(t)}function eNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VD(t,e)}function VD(t,e){return VD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VD(t,e)}function Af(t,e,r){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SJ(t){var e=tNe(t,"string");return Ey(e)=="symbol"?e:e+""}function tNe(t,e){if(Ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ac=function(t){function e(){var r;Gje(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Kje(this,e,[].concat(i)),Af(r,"state",{isAnimationFinished:!1}),Af(r,"id",kg("recharts-bar-")),Af(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Af(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return eNe(e,t),Zje(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,u=a.activeIndex,h=a.activeBar,f=er(this.props,!1);return n&&n.map(function(g,y){var N=y===u,_=N?h:o,k=On(On(On({},f),g),{},{isActive:N,option:_,index:y,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Oe.createElement(Fr,_A({className:"recharts-bar-rectangle"},ig(i.props,g,y),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),Oe.createElement(aU,k))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,u=i.animationBegin,h=i.animationDuration,f=i.animationEasing,g=i.animationId,y=this.state.prevData;return Oe.createElement(ul,{begin:u,duration:h,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var _=N.t,k=a.map(function(C,O){var T=y&&y[O];if(T){var M=dn(T.x,C.x),B=dn(T.y,C.y),F=dn(T.width,C.width),V=dn(T.height,C.height);return On(On({},C),{},{x:M(_),y:B(_),width:F(_),height:V(_)})}if(o==="horizontal"){var H=dn(0,C.height),Z=H(_);return On(On({},C),{},{y:C.y+C.height-Z,height:Z})}var re=dn(0,C.width),le=re(_);return On(On({},C),{},{width:le})});return Oe.createElement(Fr,null,n.renderRectanglesStatically(k))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Rf(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,u=er(this.props.background,!1);return a.map(function(h,f){h.value;var g=h.background,y=Xje(h,qje);if(!g)return null;var N=On(On(On(On(On({},y),{},{fill:"#eee"},g),u),ig(n.props,h,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Oe.createElement(aU,_A({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},N))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,u=a.yAxis,h=a.layout,f=a.children,g=ko(f,oN);if(!g)return null;var y=h==="vertical"?o[0].height/2:o[0].width/2,N=function(C,O){var T=Array.isArray(C.value)?C.value[1]:C.value;return{x:C.x,y:C.y,value:T,errorVal:un(C,O)}},_={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Oe.createElement(Fr,_,g.map(function(k){return Oe.cloneElement(k,{key:"error-bar-".concat(i,"-").concat(k.props.dataKey),data:o,xAxis:l,yAxis:u,layout:h,offset:y,dataPointFormatter:N})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,u=n.yAxis,h=n.left,f=n.top,g=n.width,y=n.height,N=n.isAnimationActive,_=n.background,k=n.id;if(i||!a||!a.length)return null;var C=this.state.isAnimationFinished,O=vr("recharts-bar",o),T=l&&l.allowDataOverflow,M=u&&u.allowDataOverflow,B=T||M,F=Nr(k)?this.id:k;return Oe.createElement(Fr,{className:O},T||M?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(F)},Oe.createElement("rect",{x:T?h:h-g/2,y:M?f:f-y/2,width:T?g:g*2,height:M?y:y*2}))):null,Oe.createElement(Fr,{className:"recharts-bar-rectangles",clipPath:B?"url(#clipPath-".concat(F,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(B,F),(!N||C)&&nc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(Y.PureComponent);NJ=ac;Af(ac,"displayName","Bar");Af(ac,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ku.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Af(ac,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,u=t.yAxisTicks,h=t.stackedData,f=t.dataStartIndex,g=t.displayedData,y=t.offset,N=lye(n,r);if(!N)return null;var _=e.layout,k=r.type.defaultProps,C=k!==void 0?On(On({},k),r.props):r.props,O=C.dataKey,T=C.children,M=C.minPointSize,B=_==="horizontal"?o:a,F=h?B.scale.domain():null,V=pye({numericAxis:B}),H=ko(T,Df),Z=g.map(function(re,le){var ce,he,fe,ee,xe,ie;h?ce=cye(h[f+le],F):(ce=un(re,O),Array.isArray(ce)||(ce=[V,ce]));var ge=Uje(M,NJ.defaultProps.minPointSize)(ce[1],le);if(_==="horizontal"){var G,ue=[o.scale(ce[0]),o.scale(ce[1])],ke=ue[0],ve=ue[1];he=EW({axis:a,ticks:l,bandSize:i,offset:N.offset,entry:re,index:le}),fe=(G=ve??ke)!==null&&G!==void 0?G:void 0,ee=N.size;var Se=ke-ve;if(xe=Number.isNaN(Se)?0:Se,ie={x:he,y:o.y,width:ee,height:o.height},Math.abs(ge)>0&&Math.abs(xe)<Math.abs(ge)){var He=da(xe||ge)*(Math.abs(ge)-Math.abs(xe));fe-=He,xe+=He}}else{var De=[a.scale(ce[0]),a.scale(ce[1])],$e=De[0],Ue=De[1];if(he=$e,fe=EW({axis:o,ticks:u,bandSize:i,offset:N.offset,entry:re,index:le}),ee=Ue-$e,xe=N.size,ie={x:a.x,y:fe,width:a.width,height:xe},Math.abs(ge)>0&&Math.abs(ee)<Math.abs(ge)){var Ke=da(ee||ge)*(Math.abs(ge)-Math.abs(ee));ee+=Ke}}return On(On(On({},re),{},{x:he,y:fe,width:ee,height:xe,value:h?ce:ce[1],payload:re,background:ie},H&&H[le]&&H[le].props),{},{tooltipPayload:[VK(r,re)],tooltipPosition:{x:he+ee/2,y:fe+xe/2}})});return On({data:Z,layout:_},y)});function N1(t){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N1(t)}function rNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kJ(n.key),n)}}function sNe(t,e,r){return e&&cU(t.prototype,e),r&&cU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(r),!0).forEach(function(n){yE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yE(t,e,r){return e=kJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kJ(t){var e=nNe(t,"string");return N1(e)=="symbol"?e:e+""}function nNe(t,e){if(N1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W6=function(e,r,n,i,a){var o=e.width,l=e.height,u=e.layout,h=e.children,f=Object.keys(r),g={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},y=!!vo(h,ac);return f.reduce(function(N,_){var k=r[_],C=k.orientation,O=k.domain,T=k.padding,M=T===void 0?{}:T,B=k.mirror,F=k.reversed,V="".concat(C).concat(B?"Mirror":""),H,Z,re,le,ce;if(k.type==="number"&&(k.padding==="gap"||k.padding==="no-gap")){var he=O[1]-O[0],fe=1/0,ee=k.categoricalDomain.sort(Vde);if(ee.forEach(function(De,$e){$e>0&&(fe=Math.min((De||0)-(ee[$e-1]||0),fe))}),Number.isFinite(fe)){var xe=fe/he,ie=k.layout==="vertical"?n.height:n.width;if(k.padding==="gap"&&(H=xe*ie/2),k.padding==="no-gap"){var ge=ua(e.barCategoryGap,xe*ie),G=xe*ie/2;H=G-ge-(G-ge)/ie*ge}}}i==="xAxis"?Z=[n.left+(M.left||0)+(H||0),n.left+n.width-(M.right||0)-(H||0)]:i==="yAxis"?Z=u==="horizontal"?[n.top+n.height-(M.bottom||0),n.top+(M.top||0)]:[n.top+(M.top||0)+(H||0),n.top+n.height-(M.bottom||0)-(H||0)]:Z=k.range,F&&(Z=[Z[1],Z[0]]);var ue=$K(k,a,y),ke=ue.scale,ve=ue.realScaleType;ke.domain(O).range(Z),zK(ke);var Se=HK(ke,Yl(Yl({},k),{},{realScaleType:ve}));i==="xAxis"?(ce=C==="top"&&!B||C==="bottom"&&B,re=n.left,le=g[V]-ce*k.height):i==="yAxis"&&(ce=C==="left"&&!B||C==="right"&&B,re=g[V]-ce*k.width,le=n.top);var He=Yl(Yl(Yl({},k),Se),{},{realScaleType:ve,x:re,y:le,scale:ke,width:i==="xAxis"?n.width:k.width,height:i==="yAxis"?n.height:k.height});return He.bandSize=oA(He,Se),!k.hide&&i==="xAxis"?g[V]+=(ce?-1:1)*He.height:k.hide||(g[V]+=(ce?-1:1)*He.width),Yl(Yl({},N),{},yE({},_,He))},{})},AJ=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},iNe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return AJ({x:r,y:n},{x:i,y:a})},CJ=function(){function t(e){rNe(this,t),this.scale=e}return sNe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();yE(CJ,"EPS",1e-4);var V6=function(e){var r=Object.keys(e).reduce(function(n,i){return Yl(Yl({},n),{},yE({},i,CJ.create(e[i])))},{});return Yl(Yl({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Lje(i,function(u,h){return r[h].apply(u,{bandAware:o,position:l})})},isInRange:function(i){return jJ(i,function(a,o){return r[o].isInRange(a)})}})};function aNe(t){return(t%180+180)%180}var oNe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=aNe(i),o=a*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},D3,uU;function lNe(){if(uU)return D3;uU=1;var t=hd(),e=rN(),r=tE();function n(i){return function(a,o,l){var u=Object(a);if(!e(a)){var h=t(o,3);a=r(a),o=function(g){return h(u[g],g,u)}}var f=i(a,o,l);return f>-1?u[h?a[f]:f]:void 0}}return D3=n,D3}var R3,hU;function cNe(){if(hU)return R3;hU=1;var t=yJ();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return R3=e,R3}var I3,fU;function dNe(){if(fU)return I3;fU=1;var t=yZ(),e=hd(),r=cNe(),n=Math.max;function i(a,o,l){var u=a==null?0:a.length;if(!u)return-1;var h=l==null?0:r(l);return h<0&&(h=n(u+h,0)),t(a,e(o,3),h)}return I3=i,I3}var F3,mU;function uNe(){if(mU)return F3;mU=1;var t=lNe(),e=dNe(),r=t(e);return F3=r,F3}var hNe=uNe();const fNe=Ur(hNe);var mNe=LG();const pNe=Ur(mNe);var gNe=pNe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),U6=Y.createContext(void 0),q6=Y.createContext(void 0),EJ=Y.createContext(void 0),TJ=Y.createContext({}),PJ=Y.createContext(void 0),MJ=Y.createContext(0),LJ=Y.createContext(0),pU=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,u=e.width,h=e.height,f=gNe(a);return Oe.createElement(U6.Provider,{value:n},Oe.createElement(q6.Provider,{value:i},Oe.createElement(TJ.Provider,{value:a},Oe.createElement(EJ.Provider,{value:f},Oe.createElement(PJ.Provider,{value:o},Oe.createElement(MJ.Provider,{value:h},Oe.createElement(LJ.Provider,{value:u},l)))))))},xNe=function(){return Y.useContext(PJ)},OJ=function(e){var r=Y.useContext(U6);r==null&&Qr(!1);var n=r[e];return n==null&&Qr(!1),n},yNe=function(){var e=Y.useContext(U6);return Xh(e)},vNe=function(){var e=Y.useContext(q6),r=fNe(e,function(n){return jJ(n.domain,Number.isFinite)});return r||Xh(e)},DJ=function(e){var r=Y.useContext(q6);r==null&&Qr(!1);var n=r[e];return n==null&&Qr(!1),n},bNe=function(){var e=Y.useContext(EJ);return e},wNe=function(){return Y.useContext(TJ)},X6=function(){return Y.useContext(LJ)},Y6=function(){return Y.useContext(MJ)};function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function jNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IJ(n.key),n)}}function _Ne(t,e,r){return e&&NNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SNe(t,e,r){return e=kA(e),kNe(t,RJ()?Reflect.construct(e,r||[],kA(t).constructor):e.apply(t,r))}function kNe(t,e){if(e&&(Ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ANe(t)}function ANe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RJ=function(){return!!t})()}function kA(t){return kA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kA(t)}function CNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UD(t,e)}function UD(t,e){return UD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UD(t,e)}function gU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gU(Object(r),!0).forEach(function(n){G6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G6(t,e,r){return e=IJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IJ(t){var e=ENe(t,"string");return Ty(e)=="symbol"?e:e+""}function ENe(t,e){if(Ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TNe(t,e){return ONe(t)||LNe(t,e)||MNe(t,e)||PNe()}function PNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MNe(t,e){if(t){if(typeof t=="string")return yU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yU(t,e)}}function yU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function ONe(t){if(Array.isArray(t))return t}function qD(){return qD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qD.apply(this,arguments)}var DNe=function(e,r){var n;return Oe.isValidElement(e)?n=Oe.cloneElement(e,r):fr(e)?n=e(r):n=Oe.createElement("line",qD({},r,{className:"recharts-reference-line-line"})),n},RNe=function(e,r,n,i,a,o,l,u,h){var f=a.x,g=a.y,y=a.width,N=a.height;if(n){var _=h.y,k=e.y.apply(_,{position:o});if(rd(h,"discard")&&!e.y.isInRange(k))return null;var C=[{x:f+y,y:k},{x:f,y:k}];return u==="left"?C.reverse():C}if(r){var O=h.x,T=e.x.apply(O,{position:o});if(rd(h,"discard")&&!e.x.isInRange(T))return null;var M=[{x:T,y:g+N},{x:T,y:g}];return l==="top"?M.reverse():M}if(i){var B=h.segment,F=B.map(function(V){return e.apply(V,{position:o})});return rd(h,"discard")&&Eje(F,function(V){return!e.isInRange(V)})?null:F}return null};function INe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,u=t.alwaysShow,h=xNe(),f=OJ(i),g=DJ(a),y=bNe();if(!h||!y)return null;sc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var N=V6({x:f.scale,y:g.scale}),_=Kn(e),k=Kn(r),C=n&&n.length===2,O=RNe(N,_,k,C,y,t.position,f.orientation,g.orientation,t);if(!O)return null;var T=TNe(O,2),M=T[0],B=M.x,F=M.y,V=T[1],H=V.x,Z=V.y,re=rd(t,"hidden")?"url(#".concat(h,")"):void 0,le=xU(xU({clipPath:re},er(t,!0)),{},{x1:B,y1:F,x2:H,y2:Z});return Oe.createElement(Fr,{className:vr("recharts-reference-line",l)},DNe(o,le),fi.renderCallByParent(t,iNe({x1:B,y1:F,x2:H,y2:Z})))}var Z6=function(t){function e(){return jNe(this,e),SNe(this,e,arguments)}return CNe(e,t),_Ne(e,[{key:"render",value:function(){return Oe.createElement(INe,this.props)}}])}(Oe.Component);G6(Z6,"displayName","ReferenceLine");G6(Z6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XD(){return XD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XD.apply(this,arguments)}function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function vU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(r),!0).forEach(function(n){vE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BJ(n.key),n)}}function $Ne(t,e,r){return e&&BNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zNe(t,e,r){return e=AA(e),HNe(t,FJ()?Reflect.construct(e,r||[],AA(t).constructor):e.apply(t,r))}function HNe(t,e){if(e&&(Py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WNe(t)}function WNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FJ=function(){return!!t})()}function AA(t){return AA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AA(t)}function VNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YD(t,e)}function YD(t,e){return YD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YD(t,e)}function vE(t,e,r){return e=BJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BJ(t){var e=UNe(t,"string");return Py(e)=="symbol"?e:e+""}function UNe(t,e){if(Py(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qNe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=V6({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return rd(e,"discard")&&!o.isInRange(l)?null:l},bE=function(t){function e(){return FNe(this,e),zNe(this,e,arguments)}return VNe(e,t),$Ne(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,u=n.clipPathId,h=Kn(i),f=Kn(a);if(sc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!f)return null;var g=qNe(this.props);if(!g)return null;var y=g.x,N=g.y,_=this.props,k=_.shape,C=_.className,O=rd(this.props,"hidden")?"url(#".concat(u,")"):void 0,T=bU(bU({clipPath:O},er(this.props,!0)),{},{cx:y,cy:N});return Oe.createElement(Fr,{className:vr("recharts-reference-dot",C)},e.renderDot(k,T),fi.renderCallByParent(this.props,{x:y-o,y:N-o,width:2*o,height:2*o}))}}])}(Oe.Component);vE(bE,"displayName","ReferenceDot");vE(bE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vE(bE,"renderDot",function(t,e){var r;return Oe.isValidElement(t)?r=Oe.cloneElement(t,e):fr(t)?r=t(e):r=Oe.createElement(yv,XD({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function GD(){return GD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GD.apply(this,arguments)}function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function wU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(r),!0).forEach(function(n){wE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YNe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zJ(n.key),n)}}function GNe(t,e,r){return e&&YNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZNe(t,e,r){return e=CA(e),KNe(t,$J()?Reflect.construct(e,r||[],CA(t).constructor):e.apply(t,r))}function KNe(t,e){if(e&&(My(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JNe(t)}function JNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $J(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($J=function(){return!!t})()}function CA(t){return CA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},CA(t)}function QNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZD(t,e)}function ZD(t,e){return ZD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZD(t,e)}function wE(t,e,r){return e=zJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zJ(t){var e=e2e(t,"string");return My(e)=="symbol"?e:e+""}function e2e(t,e){if(My(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t2e=function(e,r,n,i,a){var o=a.x1,l=a.x2,u=a.y1,h=a.y2,f=a.xAxis,g=a.yAxis;if(!f||!g)return null;var y=V6({x:f.scale,y:g.scale}),N={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(u,{position:"start"}):y.y.rangeMin},_={x:r?y.x.apply(l,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(h,{position:"end"}):y.y.rangeMax};return rd(a,"discard")&&(!y.isInRange(N)||!y.isInRange(_))?null:AJ(N,_)},jE=function(t){function e(){return XNe(this,e),ZNe(this,e,arguments)}return QNe(e,t),GNe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,u=n.className,h=n.alwaysShow,f=n.clipPathId;sc(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Kn(i),y=Kn(a),N=Kn(o),_=Kn(l),k=this.props.shape;if(!g&&!y&&!N&&!_&&!k)return null;var C=t2e(g,y,N,_,this.props);if(!C&&!k)return null;var O=rd(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Oe.createElement(Fr,{className:vr("recharts-reference-area",u)},e.renderRect(k,jU(jU({clipPath:O},er(this.props,!0)),C)),fi.renderCallByParent(this.props,C))}}])}(Oe.Component);wE(jE,"displayName","ReferenceArea");wE(jE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wE(jE,"renderRect",function(t,e){var r;return Oe.isValidElement(t)?r=Oe.cloneElement(t,e):fr(t)?r=t(e):r=Oe.createElement(H6,GD({},e,{className:"recharts-reference-area-rect"})),r});function HJ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function r2e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return oNe(n,r)}function s2e(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function EA(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function n2e(t,e){return HJ(t,e+1)}function i2e(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,u=0,h=1,f=o,g=function(){var _=n==null?void 0:n[u];if(_===void 0)return{v:HJ(n,h)};var k=u,C,O=function(){return C===void 0&&(C=r(_,k)),C},T=_.coordinate,M=u===0||EA(t,T,O,f,l);M||(u=0,f=o,h+=1),M&&(f=T+t*(O()/2+i),u+=h)},y;h<=a.length;)if(y=g(),y)return y.v;return[]}function _1(t){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_1(t)}function NU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NU(Object(r),!0).forEach(function(n){a2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a2e(t,e,r){return e=o2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o2e(t){var e=l2e(t,"string");return _1(e)=="symbol"?e:e+""}function l2e(t,e){if(_1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c2e(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,u=e.end,h=function(y){var N=a[y],_,k=function(){return _===void 0&&(_=r(N,y)),_};if(y===o-1){var C=t*(N.coordinate+t*k()/2-u);a[y]=N=Hi(Hi({},N),{},{tickCoord:C>0?N.coordinate-C*t:N.coordinate})}else a[y]=N=Hi(Hi({},N),{},{tickCoord:N.coordinate});var O=EA(t,N.tickCoord,k,l,u);O&&(u=N.tickCoord-t*(k()/2+i),a[y]=Hi(Hi({},N),{},{isShow:!0}))},f=o-1;f>=0;f--)h(f);return a}function d2e(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,u=e.start,h=e.end;if(a){var f=n[l-1],g=r(f,l-1),y=t*(f.coordinate+t*g/2-h);o[l-1]=f=Hi(Hi({},f),{},{tickCoord:y>0?f.coordinate-y*t:f.coordinate});var N=EA(t,f.tickCoord,function(){return g},u,h);N&&(h=f.tickCoord-t*(g/2+i),o[l-1]=Hi(Hi({},f),{},{isShow:!0}))}for(var _=a?l-1:l,k=function(T){var M=o[T],B,F=function(){return B===void 0&&(B=r(M,T)),B};if(T===0){var V=t*(M.coordinate-t*F()/2-u);o[T]=M=Hi(Hi({},M),{},{tickCoord:V<0?M.coordinate-V*t:M.coordinate})}else o[T]=M=Hi(Hi({},M),{},{tickCoord:M.coordinate});var H=EA(t,M.tickCoord,F,u,h);H&&(u=M.tickCoord+t*(F()/2+i),o[T]=Hi(Hi({},M),{},{isShow:!0}))},C=0;C<_;C++)k(C);return o}function K6(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,u=t.interval,h=t.tickFormatter,f=t.unit,g=t.angle;if(!i||!i.length||!n)return[];if(Et(u)||Ku.isSsr)return n2e(i,typeof u=="number"&&Et(u)?u:0);var y=[],N=l==="top"||l==="bottom"?"width":"height",_=f&&N==="width"?kw(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},k=function(M,B){var F=fr(h)?h(M.value,B):M.value;return N==="width"?r2e(kw(F,{fontSize:e,letterSpacing:r}),_,g):kw(F,{fontSize:e,letterSpacing:r})[N]},C=i.length>=2?da(i[1].coordinate-i[0].coordinate):1,O=s2e(a,C,N);return u==="equidistantPreserveStart"?i2e(C,O,k,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=d2e(C,O,k,i,o,u==="preserveStartEnd"):y=c2e(C,O,k,i,o),y.filter(function(T){return T.isShow}))}var u2e=["viewBox"],h2e=["viewBox"],f2e=["ticks"];function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kx.apply(this,arguments)}function _U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(r),!0).forEach(function(n){J6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B3(t,e){if(t==null)return{};var r=m2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VJ(n.key),n)}}function g2e(t,e,r){return e&&SU(t.prototype,e),r&&SU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function x2e(t,e,r){return e=TA(e),y2e(t,WJ()?Reflect.construct(e,r||[],TA(t).constructor):e.apply(t,r))}function y2e(t,e){if(e&&(Ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v2e(t)}function v2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WJ=function(){return!!t})()}function TA(t){return TA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TA(t)}function b2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KD(t,e)}function KD(t,e){return KD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KD(t,e)}function J6(t,e,r){return e=VJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VJ(t){var e=w2e(t,"string");return Ly(e)=="symbol"?e:e+""}function w2e(t,e){if(Ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wv=function(t){function e(r){var n;return p2e(this,e),n=x2e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return b2e(e,t),g2e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=B3(n,u2e),l=this.props,u=l.viewBox,h=B3(l,h2e);return!n0(a,u)||!n0(o,h)||!n0(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,u=i.height,h=i.orientation,f=i.tickSize,g=i.mirror,y=i.tickMargin,N,_,k,C,O,T,M=g?-1:1,B=n.tickSize||f,F=Et(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":N=_=n.coordinate,C=o+ +!g*u,k=C-M*B,T=k-M*y,O=F;break;case"left":k=C=n.coordinate,_=a+ +!g*l,N=_-M*B,O=N-M*y,T=F;break;case"right":k=C=n.coordinate,_=a+ +g*l,N=_+M*B,O=N+M*y,T=F;break;default:N=_=n.coordinate,C=o+ +g*u,k=C+M*B,T=k+M*y,O=F;break}return{line:{x1:N,y1:k,x2:_,y2:C},tick:{x:O,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,u=n.orientation,h=n.mirror,f=n.axisLine,g=ta(ta(ta({},er(this.props,!1)),er(f,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var y=+(u==="top"&&!h||u==="bottom"&&h);g=ta(ta({},g),{},{x1:i,y1:a+y*l,x2:i+o,y2:a+y*l})}else{var N=+(u==="left"&&!h||u==="right"&&h);g=ta(ta({},g),{},{x1:i+N*o,y1:a,x2:i+N*o,y2:a+l})}return Oe.createElement("line",Kx({},g,{className:vr("recharts-cartesian-axis-line",So(f,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,u=l.tickLine,h=l.stroke,f=l.tick,g=l.tickFormatter,y=l.unit,N=K6(ta(ta({},this.props),{},{ticks:n}),i,a),_=this.getTickTextAnchor(),k=this.getTickVerticalAnchor(),C=er(this.props,!1),O=er(f,!1),T=ta(ta({},C),{},{fill:"none"},er(u,!1)),M=N.map(function(B,F){var V=o.getTickLineCoord(B),H=V.line,Z=V.tick,re=ta(ta(ta(ta({textAnchor:_,verticalAnchor:k},C),{},{stroke:"none",fill:h},O),Z),{},{index:F,payload:B,visibleTicksCount:N.length,tickFormatter:g});return Oe.createElement(Fr,Kx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},ig(o.props,B,F)),u&&Oe.createElement("line",Kx({},T,H,{className:vr("recharts-cartesian-axis-tick-line",So(u,"className"))})),f&&e.renderTickItem(f,re,"".concat(fr(g)?g(B.value,F):B.value).concat(y||"")))});return Oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},M)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,u=i.ticksGenerator,h=i.className,f=i.hide;if(f)return null;var g=this.props,y=g.ticks,N=B3(g,f2e),_=y;return fr(u)&&(_=y&&y.length>0?u(this.props):u(N)),o<=0||l<=0||!_||!_.length?null:Oe.createElement(Fr,{className:vr("recharts-cartesian-axis",h),ref:function(C){n.layerReference=C}},a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),fi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Oe.isValidElement(n)?o=Oe.cloneElement(n,i):fr(n)?o=n(i):o=Oe.createElement(ag,Kx({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(Y.Component);J6(wv,"displayName","CartesianAxis");J6(wv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var j2e=["x1","y1","x2","y2","key"],N2e=["offset"];function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function kU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(r),!0).forEach(function(n){_2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _2e(t,e,r){return e=S2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S2e(t){var e=k2e(t,"string");return cg(e)=="symbol"?e:e+""}function k2e(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zm.apply(this,arguments)}function AU(t,e){if(t==null)return{};var r=A2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var C2e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,u=e.ry;return Oe.createElement("rect",{x:i,y:a,ry:u,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function UJ(t,e){var r;if(Oe.isValidElement(t))r=Oe.cloneElement(t,e);else if(fr(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,u=AU(e,j2e),h=er(u,!1);h.offset;var f=AU(h,N2e);r=Oe.createElement("line",Zm({},f,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function E2e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,u){var h=Vi(Vi({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(u),index:u});return UJ(i,h)});return Oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function T2e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,u){var h=Vi(Vi({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(u),index:u});return UJ(i,h)});return Oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function P2e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,u=t.horizontal,h=u===void 0?!0:u;if(!h||!e||!e.length)return null;var f=l.map(function(y){return Math.round(y+i-i)}).sort(function(y,N){return y-N});i!==f[0]&&f.unshift(0);var g=f.map(function(y,N){var _=!f[N+1],k=_?i+o-y:f[N+1]-y;if(k<=0)return null;var C=N%e.length;return Oe.createElement("rect",{key:"react-".concat(N),y,x:n,height:k,width:a,stroke:"none",fill:e[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function M2e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,u=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var f=h.map(function(y){return Math.round(y+a-a)}).sort(function(y,N){return y-N});a!==f[0]&&f.unshift(0);var g=f.map(function(y,N){var _=!f[N+1],k=_?a+l-y:f[N+1]-y;if(k<=0)return null;var C=N%n.length;return Oe.createElement("rect",{key:"react-".concat(N),x:y,y:o,width:k,height:u,stroke:"none",fill:n[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var L2e=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return BK(K6(Vi(Vi(Vi({},wv.defaultProps),n),{},{ticks:ju(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},O2e=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return BK(K6(Vi(Vi(Vi({},wv.defaultProps),n),{},{ticks:ju(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},xx={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sd(t){var e,r,n,i,a,o,l=X6(),u=Y6(),h=wNe(),f=Vi(Vi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:xx.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:xx.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:xx.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:xx.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:xx.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:xx.verticalFill,x:Et(t.x)?t.x:h.left,y:Et(t.y)?t.y:h.top,width:Et(t.width)?t.width:h.width,height:Et(t.height)?t.height:h.height}),g=f.x,y=f.y,N=f.width,_=f.height,k=f.syncWithTicks,C=f.horizontalValues,O=f.verticalValues,T=yNe(),M=vNe();if(!Et(N)||N<=0||!Et(_)||_<=0||!Et(g)||g!==+g||!Et(y)||y!==+y)return null;var B=f.verticalCoordinatesGenerator||L2e,F=f.horizontalCoordinatesGenerator||O2e,V=f.horizontalPoints,H=f.verticalPoints;if((!V||!V.length)&&fr(F)){var Z=C&&C.length,re=F({yAxis:M?Vi(Vi({},M),{},{ticks:Z?C:M.ticks}):void 0,width:l,height:u,offset:h},Z?!0:k);sc(Array.isArray(re),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cg(re),"]")),Array.isArray(re)&&(V=re)}if((!H||!H.length)&&fr(B)){var le=O&&O.length,ce=B({xAxis:T?Vi(Vi({},T),{},{ticks:le?O:T.ticks}):void 0,width:l,height:u,offset:h},le?!0:k);sc(Array.isArray(ce),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cg(ce),"]")),Array.isArray(ce)&&(H=ce)}return Oe.createElement("g",{className:"recharts-cartesian-grid"},Oe.createElement(C2e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Oe.createElement(E2e,Zm({},f,{offset:h,horizontalPoints:V,xAxis:T,yAxis:M})),Oe.createElement(T2e,Zm({},f,{offset:h,verticalPoints:H,xAxis:T,yAxis:M})),Oe.createElement(P2e,Zm({},f,{horizontalPoints:V})),Oe.createElement(M2e,Zm({},f,{verticalPoints:H})))}sd.displayName="CartesianGrid";var D2e=["type","layout","connectNulls","ref"],R2e=["key"];function Oy(t){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function CU(t,e){if(t==null)return{};var r=I2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mw.apply(this,arguments)}function EU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ao(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(r),!0).forEach(function(n){Gl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yx(t){return z2e(t)||$2e(t)||B2e(t)||F2e()}function F2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B2e(t,e){if(t){if(typeof t=="string")return JD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JD(t,e)}}function $2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z2e(t){if(Array.isArray(t))return JD(t)}function JD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XJ(n.key),n)}}function W2e(t,e,r){return e&&TU(t.prototype,e),r&&TU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function V2e(t,e,r){return e=PA(e),U2e(t,qJ()?Reflect.construct(e,r||[],PA(t).constructor):e.apply(t,r))}function U2e(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q2e(t)}function q2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qJ=function(){return!!t})()}function PA(t){return PA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},PA(t)}function X2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QD(t,e)}function QD(t,e){return QD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QD(t,e)}function Gl(t,e,r){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XJ(t){var e=Y2e(t,"string");return Oy(e)=="symbol"?e:e+""}function Y2e(t,e){if(Oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dy=function(t){function e(){var r;H2e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=V2e(this,e,[].concat(i)),Gl(r,"state",{isAnimationFinished:!0,totalLength:0}),Gl(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Gl(r,"getStrokeDasharray",function(o,l,u){var h=u.reduce(function(O,T){return O+T});if(!h)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/h),g=o%h,y=l-o,N=[],_=0,k=0;_<u.length;k+=u[_],++_)if(k+u[_]>g){N=[].concat(yx(u.slice(0,_)),[g-k]);break}var C=N.length%2===0?[0,y]:[y];return[].concat(yx(e.repeat(u,f)),yx(N),C).map(function(O){return"".concat(O,"px")}).join(", ")}),Gl(r,"id",kg("recharts-line-")),Gl(r,"pathRef",function(o){r.mainCurve=o}),Gl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Gl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return X2e(e,t),W2e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,u=a.yAxis,h=a.layout,f=a.children,g=ko(f,oN);if(!g)return null;var y=function(k,C){return{x:k.x,y:k.y,value:k.value,errorVal:un(k.payload,C)}},N={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Oe.createElement(Fr,N,g.map(function(_){return Oe.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:o,xAxis:l,yAxis:u,layout:h,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,h=l.points,f=l.dataKey,g=er(this.props,!1),y=er(u,!0),N=h.map(function(k,C){var O=ao(ao(ao({key:"dot-".concat(C),r:3},g),y),{},{index:C,cx:k.x,cy:k.y,value:k.value,dataKey:f,payload:k.payload,points:h});return e.renderDotItem(u,O)}),_={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Oe.createElement(Fr,Mw({className:"recharts-line-dots",key:"dots"},_),N)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,u=l.type,h=l.layout,f=l.connectNulls;l.ref;var g=CU(l,D2e),y=ao(ao(ao({},er(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:u,layout:h,connectNulls:f});return Oe.createElement(Qp,Mw({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,u=o.strokeDasharray,h=o.isAnimationActive,f=o.animationBegin,g=o.animationDuration,y=o.animationEasing,N=o.animationId,_=o.animateNewValues,k=o.width,C=o.height,O=this.state,T=O.prevPoints,M=O.totalLength;return Oe.createElement(ul,{begin:f,duration:g,isActive:h,easing:y,from:{t:0},to:{t:1},key:"line-".concat(N),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(B){var F=B.t;if(T){var V=T.length/l.length,H=l.map(function(he,fe){var ee=Math.floor(fe*V);if(T[ee]){var xe=T[ee],ie=dn(xe.x,he.x),ge=dn(xe.y,he.y);return ao(ao({},he),{},{x:ie(F),y:ge(F)})}if(_){var G=dn(k*2,he.x),ue=dn(C/2,he.y);return ao(ao({},he),{},{x:G(F),y:ue(F)})}return ao(ao({},he),{},{x:he.x,y:he.y})});return a.renderCurveStatically(H,n,i)}var Z=dn(0,M),re=Z(F),le;if(u){var ce="".concat(u).split(/[,\s]+/gim).map(function(he){return parseFloat(he)});le=a.getStrokeDasharray(re,M,ce)}else le=a.generateSimpleStrokeDasharray(M,re);return a.renderCurveStatically(l,n,i,{strokeDasharray:le})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,u=this.state,h=u.prevPoints,f=u.totalLength;return l&&o&&o.length&&(!h&&f>0||!Rf(h,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,u=i.className,h=i.xAxis,f=i.yAxis,g=i.top,y=i.left,N=i.width,_=i.height,k=i.isAnimationActive,C=i.id;if(a||!l||!l.length)return null;var O=this.state.isAnimationFinished,T=l.length===1,M=vr("recharts-line",u),B=h&&h.allowDataOverflow,F=f&&f.allowDataOverflow,V=B||F,H=Nr(C)?this.id:C,Z=(n=er(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},re=Z.r,le=re===void 0?3:re,ce=Z.strokeWidth,he=ce===void 0?2:ce,fe=FG(o)?o:{},ee=fe.clipDot,xe=ee===void 0?!0:ee,ie=le*2+he;return Oe.createElement(Fr,{className:M},B||F?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(H)},Oe.createElement("rect",{x:B?y:y-N/2,y:F?g:g-_/2,width:B?N:N*2,height:F?_:_*2})),!xe&&Oe.createElement("clipPath",{id:"clipPath-dots-".concat(H)},Oe.createElement("rect",{x:y-ie/2,y:g-ie/2,width:N+ie,height:_+ie}))):null,!T&&this.renderCurve(V,H),this.renderErrorBar(V,H),(T||o)&&this.renderDots(V,xe,H),(!k||O)&&nc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(yx(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(yx(o),yx(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(Oe.isValidElement(n))a=Oe.cloneElement(n,i);else if(fr(n))a=n(i);else{var o=i.key,l=CU(i,R2e),u=vr("recharts-line-dot",typeof n!="boolean"?n.className:"");a=Oe.createElement(yv,Mw({key:o},l,{className:u}))}return a}}])}(Y.PureComponent);Gl(Dy,"displayName","Line");Gl(Dy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ku.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Gl(Dy,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,u=t.displayedData,h=t.offset,f=e.layout,g=u.map(function(y,N){var _=un(y,o);return f==="horizontal"?{x:aA({axis:r,ticks:i,bandSize:l,entry:y,index:N}),y:Nr(_)?null:n.scale(_),value:_,payload:y}:{x:Nr(_)?null:r.scale(_),y:aA({axis:n,ticks:a,bandSize:l,entry:y,index:N}),value:_,payload:y}});return ao({points:g,layout:f},h)});var G2e=["layout","type","stroke","connectNulls","isRange","ref"],Z2e=["key"],YJ;function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function GJ(t,e){if(t==null)return{};var r=K2e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Km.apply(this,arguments)}function PU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(r),!0).forEach(function(n){Jc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KJ(n.key),n)}}function Q2e(t,e,r){return e&&MU(t.prototype,e),r&&MU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function e_e(t,e,r){return e=MA(e),t_e(t,ZJ()?Reflect.construct(e,r||[],MA(t).constructor):e.apply(t,r))}function t_e(t,e){if(e&&(Ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r_e(t)}function r_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZJ=function(){return!!t})()}function MA(t){return MA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},MA(t)}function s_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eR(t,e)}function eR(t,e){return eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eR(t,e)}function Jc(t,e,r){return e=KJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KJ(t){var e=n_e(t,"string");return Ry(e)=="symbol"?e:e+""}function n_e(t,e){if(Ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qa=function(t){function e(){var r;J2e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e_e(this,e,[].concat(i)),Jc(r,"state",{isAnimationFinished:!0}),Jc(r,"id",kg("recharts-area-")),Jc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),fr(o)&&o()}),Jc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),fr(o)&&o()}),r}return s_e(e,t),Q2e(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var u=this.props,h=u.dot,f=u.points,g=u.dataKey,y=er(this.props,!1),N=er(h,!0),_=f.map(function(C,O){var T=Dh(Dh(Dh({key:"dot-".concat(O),r:3},y),N),{},{index:O,cx:C.x,cy:C.y,dataKey:g,value:C.value,payload:C.payload,points:f});return e.renderDotItem(h,T)}),k={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Oe.createElement(Fr,Km({className:"recharts-area-dots"},k),_)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,u=o[0].x,h=o[o.length-1].x,f=n*Math.abs(u-h),g=kf(o.map(function(y){return y.y||0}));return Et(a)&&typeof a=="number"?g=Math.max(a,g):a&&Array.isArray(a)&&a.length&&(g=Math.max(kf(a.map(function(y){return y.y||0})),g)),Et(g)?Oe.createElement("rect",{x:u<h?u:u-f,y:0,width:f,height:Math.floor(g+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,u=o[0].y,h=o[o.length-1].y,f=n*Math.abs(u-h),g=kf(o.map(function(y){return y.x||0}));return Et(a)&&typeof a=="number"?g=Math.max(a,g):a&&Array.isArray(a)&&a.length&&(g=Math.max(kf(a.map(function(y){return y.x||0})),g)),Et(g)?Oe.createElement("rect",{x:0,y:u<h?u:u-f,width:g+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var l=this.props,u=l.layout,h=l.type,f=l.stroke,g=l.connectNulls,y=l.isRange;l.ref;var N=GJ(l,G2e);return Oe.createElement(Fr,{clipPath:a?"url(#clipPath-".concat(o,")"):null},Oe.createElement(Qp,Km({},er(N,!0),{points:n,connectNulls:g,type:h,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&Oe.createElement(Qp,Km({},er(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:g,fill:"none",points:n})),f!=="none"&&y&&Oe.createElement(Qp,Km({},er(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:g,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,u=o.baseLine,h=o.isAnimationActive,f=o.animationBegin,g=o.animationDuration,y=o.animationEasing,N=o.animationId,_=this.state,k=_.prevPoints,C=_.prevBaseLine;return Oe.createElement(ul,{begin:f,duration:g,isActive:h,easing:y,from:{t:0},to:{t:1},key:"area-".concat(N),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var T=O.t;if(k){var M=k.length/l.length,B=l.map(function(Z,re){var le=Math.floor(re*M);if(k[le]){var ce=k[le],he=dn(ce.x,Z.x),fe=dn(ce.y,Z.y);return Dh(Dh({},Z),{},{x:he(T),y:fe(T)})}return Z}),F;if(Et(u)&&typeof u=="number"){var V=dn(C,u);F=V(T)}else if(Nr(u)||fv(u)){var H=dn(C,0);F=H(T)}else F=u.map(function(Z,re){var le=Math.floor(re*M);if(C[le]){var ce=C[le],he=dn(ce.x,Z.x),fe=dn(ce.y,Z.y);return Dh(Dh({},Z),{},{x:he(T),y:fe(T)})}return Z});return a.renderAreaStatically(B,F,n,i)}return Oe.createElement(Fr,null,Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(T))),Oe.createElement(Fr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,u,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,l=a.baseLine,u=a.isAnimationActive,h=this.state,f=h.prevPoints,g=h.prevBaseLine,y=h.totalLength;return u&&o&&o.length&&(!f&&y>0||!Rf(f,o)||!Rf(g,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,u=i.className,h=i.top,f=i.left,g=i.xAxis,y=i.yAxis,N=i.width,_=i.height,k=i.isAnimationActive,C=i.id;if(a||!l||!l.length)return null;var O=this.state.isAnimationFinished,T=l.length===1,M=vr("recharts-area",u),B=g&&g.allowDataOverflow,F=y&&y.allowDataOverflow,V=B||F,H=Nr(C)?this.id:C,Z=(n=er(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},re=Z.r,le=re===void 0?3:re,ce=Z.strokeWidth,he=ce===void 0?2:ce,fe=FG(o)?o:{},ee=fe.clipDot,xe=ee===void 0?!0:ee,ie=le*2+he;return Oe.createElement(Fr,{className:M},B||F?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(H)},Oe.createElement("rect",{x:B?f:f-N/2,y:F?h:h-_/2,width:B?N:N*2,height:F?_:_*2})),!xe&&Oe.createElement("clipPath",{id:"clipPath-dots-".concat(H)},Oe.createElement("rect",{x:f-ie/2,y:h-ie/2,width:N+ie,height:_+ie}))):null,T?null:this.renderArea(V,H),(o||T)&&this.renderDots(V,xe,H),(!k||O)&&nc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(Y.PureComponent);YJ=qa;Jc(qa,"displayName","Area");Jc(qa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ku.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Jc(qa,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,l=o??a;if(Et(l)&&typeof l=="number")return l;var u=i==="horizontal"?n:r,h=u.scale.domain();if(u.type==="number"){var f=Math.max(h[0],h[1]),g=Math.min(h[0],h[1]);return l==="dataMin"?g:l==="dataMax"||f<0?f:Math.max(Math.min(h[0],h[1]),0)}return l==="dataMin"?h[0]:l==="dataMax"?h[1]:h[0]});Jc(qa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,u=t.dataKey,h=t.stackedData,f=t.dataStartIndex,g=t.displayedData,y=t.offset,N=e.layout,_=h&&h.length,k=YJ.getBaseValue(e,r,n,i),C=N==="horizontal",O=!1,T=g.map(function(B,F){var V;_?V=h[f+F]:(V=un(B,u),Array.isArray(V)?O=!0:V=[k,V]);var H=V[1]==null||_&&un(B,u)==null;return C?{x:aA({axis:n,ticks:a,bandSize:l,entry:B,index:F}),y:H?null:i.scale(V[1]),value:V,payload:B}:{x:H?null:n.scale(V[1]),y:aA({axis:i,ticks:o,bandSize:l,entry:B,index:F}),value:V,payload:B}}),M;return _||O?M=T.map(function(B){var F=Array.isArray(B.value)?B.value[0]:null;return C?{x:B.x,y:F!=null&&B.y!=null?i.scale(F):null}:{x:F!=null?n.scale(F):null,y:B.y}}):M=C?i.scale(k):n.scale(k),Dh({points:T,baseLine:M,layout:N,isRange:O},y)});Jc(qa,"renderDotItem",function(t,e){var r;if(Oe.isValidElement(t))r=Oe.cloneElement(t,e);else if(fr(t))r=t(e);else{var n=vr("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=GJ(e,Z2e);r=Oe.createElement(yv,Km({},a,{key:i,className:n}))}return r});function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function i_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eQ(n.key),n)}}function o_e(t,e,r){return e&&a_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l_e(t,e,r){return e=LA(e),c_e(t,JJ()?Reflect.construct(e,r||[],LA(t).constructor):e.apply(t,r))}function c_e(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d_e(t)}function d_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JJ=function(){return!!t})()}function LA(t){return LA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LA(t)}function u_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tR(t,e)}function tR(t,e){return tR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tR(t,e)}function QJ(t,e,r){return e=eQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eQ(t){var e=h_e(t,"string");return Iy(e)=="symbol"?e:e+""}function h_e(t,e){if(Iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rR(){return rR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rR.apply(this,arguments)}function f_e(t){var e=t.xAxisId,r=X6(),n=Y6(),i=OJ(e);return i==null?null:Oe.createElement(wv,rR({},i,{className:vr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ju(o,!0)}}))}var Ua=function(t){function e(){return i_e(this,e),l_e(this,e,arguments)}return u_e(e,t),o_e(e,[{key:"render",value:function(){return Oe.createElement(f_e,this.props)}}])}(Oe.Component);QJ(Ua,"displayName","XAxis");QJ(Ua,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function m_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sQ(n.key),n)}}function g_e(t,e,r){return e&&p_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x_e(t,e,r){return e=OA(e),y_e(t,tQ()?Reflect.construct(e,r||[],OA(t).constructor):e.apply(t,r))}function y_e(t,e){if(e&&(Fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v_e(t)}function v_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tQ=function(){return!!t})()}function OA(t){return OA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},OA(t)}function b_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sR(t,e)}function sR(t,e){return sR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sR(t,e)}function rQ(t,e,r){return e=sQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sQ(t){var e=w_e(t,"string");return Fy(e)=="symbol"?e:e+""}function w_e(t,e){if(Fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nR(){return nR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nR.apply(this,arguments)}var j_e=function(e){var r=e.yAxisId,n=X6(),i=Y6(),a=DJ(r);return a==null?null:Oe.createElement(wv,nR({},a,{className:vr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return ju(l,!0)}}))},Si=function(t){function e(){return m_e(this,e),x_e(this,e,arguments)}return b_e(e,t),g_e(e,[{key:"render",value:function(){return Oe.createElement(j_e,this.props)}}])}(Oe.Component);rQ(Si,"displayName","YAxis");rQ(Si,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LU(t){return k_e(t)||S_e(t)||__e(t)||N_e()}function N_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function __e(t,e){if(t){if(typeof t=="string")return iR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(t,e)}}function S_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k_e(t){if(Array.isArray(t))return iR(t)}function iR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aR=function(e,r,n,i,a){var o=ko(e,Z6),l=ko(e,bE),u=[].concat(LU(o),LU(l)),h=ko(e,jE),f="".concat(i,"Id"),g=i[0],y=r;if(u.length&&(y=u.reduce(function(k,C){if(C.props[f]===n&&rd(C.props,"extendDomain")&&Et(C.props[g])){var O=C.props[g];return[Math.min(k[0],O),Math.max(k[1],O)]}return k},y)),h.length){var N="".concat(g,"1"),_="".concat(g,"2");y=h.reduce(function(k,C){if(C.props[f]===n&&rd(C.props,"extendDomain")&&Et(C.props[N])&&Et(C.props[_])){var O=C.props[N],T=C.props[_];return[Math.min(k[0],O,T),Math.max(k[1],O,T)]}return k},y)}return a&&a.length&&(y=a.reduce(function(k,C){return Et(C)?[Math.min(k[0],C),Math.max(k[1],C)]:k},y)),y},$3={exports:{}},OU;function A_e(){return OU||(OU=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function a(u,h,f,g,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var N=new i(f,g||u,y),_=r?r+h:h;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],N]:u._events[_].push(N):(u._events[_]=N,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],f,g;if(this._eventsCount===0)return h;for(g in f=this._events)e.call(f,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},l.prototype.listeners=function(h){var f=r?r+h:h,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,N=g.length,_=new Array(N);y<N;y++)_[y]=g[y].fn;return _},l.prototype.listenerCount=function(h){var f=r?r+h:h,g=this._events[f];return g?g.fn?1:g.length:0},l.prototype.emit=function(h,f,g,y,N,_){var k=r?r+h:h;if(!this._events[k])return!1;var C=this._events[k],O=arguments.length,T,M;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),O){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,f),!0;case 3:return C.fn.call(C.context,f,g),!0;case 4:return C.fn.call(C.context,f,g,y),!0;case 5:return C.fn.call(C.context,f,g,y,N),!0;case 6:return C.fn.call(C.context,f,g,y,N,_),!0}for(M=1,T=new Array(O-1);M<O;M++)T[M-1]=arguments[M];C.fn.apply(C.context,T)}else{var B=C.length,F;for(M=0;M<B;M++)switch(C[M].once&&this.removeListener(h,C[M].fn,void 0,!0),O){case 1:C[M].fn.call(C[M].context);break;case 2:C[M].fn.call(C[M].context,f);break;case 3:C[M].fn.call(C[M].context,f,g);break;case 4:C[M].fn.call(C[M].context,f,g,y);break;default:if(!T)for(F=1,T=new Array(O-1);F<O;F++)T[F-1]=arguments[F];C[M].fn.apply(C[M].context,T)}}return!0},l.prototype.on=function(h,f,g){return a(this,h,f,g,!1)},l.prototype.once=function(h,f,g){return a(this,h,f,g,!0)},l.prototype.removeListener=function(h,f,g,y){var N=r?r+h:h;if(!this._events[N])return this;if(!f)return o(this,N),this;var _=this._events[N];if(_.fn)_.fn===f&&(!y||_.once)&&(!g||_.context===g)&&o(this,N);else{for(var k=0,C=[],O=_.length;k<O;k++)(_[k].fn!==f||y&&!_[k].once||g&&_[k].context!==g)&&C.push(_[k]);C.length?this._events[N]=C.length===1?C[0]:C:o(this,N)}return this},l.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}($3)),$3.exports}var C_e=A_e();const E_e=Ur(C_e);var z3=new E_e,H3="recharts.syncMouseEvents";function S1(t){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S1(t)}function T_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nQ(n.key),n)}}function M_e(t,e,r){return e&&P_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W3(t,e,r){return e=nQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nQ(t){var e=L_e(t,"string");return S1(e)=="symbol"?e:e+""}function L_e(t,e){if(S1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O_e=function(){function t(){T_e(this,t),W3(this,"activeIndex",0),W3(this,"coordinateList",[]),W3(this,"layout","horizontal")}return M_e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,u=r.layout,h=u===void 0?null:u,f=r.offset,g=f===void 0?null:f,y=r.mouseHandlerCallback,N=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=h??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=N??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,u=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,g=a+u+h,y=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:g,pageY:y})}}}])}();function D_e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Et(n)&&Et(i))return!0}return!1}function R_e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function iQ(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=ls(e,r,n,i),l=ls(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function I_e(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,u=e.cy,h=e.innerRadius,f=e.outerRadius,g=e.angle,y=ls(l,u,h,g),N=ls(l,u,f,g);n=y.x,i=y.y,a=N.x,o=N.y}else return iQ(e);return[{x:n,y:i},{x:a,y:o}]}function k1(t){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k1(t)}function DU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(r),!0).forEach(function(n){F_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F_e(t,e,r){return e=B_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B_e(t){var e=$_e(t,"string");return k1(e)=="symbol"?e:e+""}function $_e(t,e){if(k1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z_e(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,u=t.offset,h=t.activeTooltipIndex,f=t.tooltipAxisBandSize,g=t.layout,y=t.chartName,N=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!N||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var _,k=Qp;if(y==="ScatterChart")_=o,k=Awe;else if(y==="BarChart")_=R_e(g,o,u,f),k=H6;else if(g==="radial"){var C=iQ(o),O=C.cx,T=C.cy,M=C.radius,B=C.startAngle,F=C.endAngle;_={cx:O,cy:T,startAngle:B,endAngle:F,innerRadius:M,outerRadius:M},k=JK}else _={points:I_e(g,o,u)},k=Qp;var V=Z2(Z2(Z2(Z2({stroke:"#ccc",pointerEvents:"none"},u),_),er(N,!1)),{},{payload:l,payloadIndex:h,className:vr("recharts-tooltip-cursor",N.className)});return Y.isValidElement(N)?Y.cloneElement(N,V):Y.createElement(k,V)}var H_e=["item"],W_e=["children","className","width","height","style","compact","title","desc"];function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jx.apply(this,arguments)}function RU(t,e){return q_e(t)||U_e(t,e)||oQ(t,e)||V_e()}function V_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function q_e(t){if(Array.isArray(t))return t}function IU(t,e){if(t==null)return{};var r=X_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Y_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lQ(n.key),n)}}function Z_e(t,e,r){return e&&G_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_e(t,e,r){return e=DA(e),J_e(t,aQ()?Reflect.construct(e,r||[],DA(t).constructor):e.apply(t,r))}function J_e(t,e){if(e&&(By(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q_e(t)}function Q_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aQ=function(){return!!t})()}function DA(t){return DA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DA(t)}function eSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oR(t,e)}function oR(t,e){return oR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oR(t,e)}function $y(t){return sSe(t)||rSe(t)||oQ(t)||tSe()}function tSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(t,e){if(t){if(typeof t=="string")return lR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(t,e)}}function rSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sSe(t){if(Array.isArray(t))return lR(t)}function lR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(r),!0).forEach(function(n){yr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yr(t,e,r){return e=lQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lQ(t){var e=nSe(t,"string");return By(e)=="symbol"?e:e+""}function nSe(t,e){if(By(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iSe={xAxis:["bottom","top"],yAxis:["left","right"]},aSe={width:"100%",height:"100%"},cQ={x:0,y:0};function K2(t){return t}var oSe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},lSe=function(e,r,n,i){var a=r.find(function(f){return f&&f.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return gt(gt(gt({},i),ls(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var u=a.coordinate,h=i.angle;return gt(gt(gt({},i),ls(i.cx,i.cy,u,h)),{},{angle:h,radius:u})}return cQ},NE=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,u){var h=u.props.data;return h&&h.length?[].concat($y(l),$y(h)):l},[]);return o.length>0?o:e&&e.length&&Et(i)&&Et(a)?e.slice(i,a+1):[]};function dQ(t){return t==="number"?[0,"auto"]:void 0}var cR=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=NE(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(u,h){var f,g=(f=h.props.data)!==null&&f!==void 0?f:r;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var N=g===void 0?l:g;y=Dk(N,o.dataKey,i)}else y=g&&g[n]||l[n];return y?[].concat($y(u),[VK(h,y)]):u},[])},BU=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=oSe(a,n),l=e.orderedTooltipTicks,u=e.tooltipAxis,h=e.tooltipTicks,f=rye(o,l,h,u);if(f>=0&&h){var g=h[f]&&h[f].value,y=cR(e,r,f,g),N=lSe(n,l,f,a);return{activeTooltipIndex:f,activeLabel:g,activePayload:y,activeCoordinate:N}}return null},cSe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,f=e.layout,g=e.children,y=e.stackOffset,N=FK(f,a);return n.reduce(function(_,k){var C,O=k.type.defaultProps!==void 0?gt(gt({},k.type.defaultProps),k.props):k.props,T=O.type,M=O.dataKey,B=O.allowDataOverflow,F=O.allowDuplicatedCategory,V=O.scale,H=O.ticks,Z=O.includeHidden,re=O[o];if(_[re])return _;var le=NE(e.data,{graphicalItems:i.filter(function(Se){var He,De=o in Se.props?Se.props[o]:(He=Se.type.defaultProps)===null||He===void 0?void 0:He[o];return De===re}),dataStartIndex:u,dataEndIndex:h}),ce=le.length,he,fe,ee;D_e(O.domain,B,T)&&(he=wD(O.domain,null,B),N&&(T==="number"||V!=="auto")&&(ee=Cw(le,M,"category")));var xe=dQ(T);if(!he||he.length===0){var ie,ge=(ie=O.domain)!==null&&ie!==void 0?ie:xe;if(M){if(he=Cw(le,M,T),T==="category"&&N){var G=Wde(he);F&&G?(fe=he,he=wA(0,ce)):F||(he=MW(ge,he,k).reduce(function(Se,He){return Se.indexOf(He)>=0?Se:[].concat($y(Se),[He])},[]))}else if(T==="category")F?he=he.filter(function(Se){return Se!==""&&!Nr(Se)}):he=MW(ge,he,k).reduce(function(Se,He){return Se.indexOf(He)>=0||He===""||Nr(He)?Se:[].concat($y(Se),[He])},[]);else if(T==="number"){var ue=oye(le,i.filter(function(Se){var He,De,$e=o in Se.props?Se.props[o]:(He=Se.type.defaultProps)===null||He===void 0?void 0:He[o],Ue="hide"in Se.props?Se.props.hide:(De=Se.type.defaultProps)===null||De===void 0?void 0:De.hide;return $e===re&&(Z||!Ue)}),M,a,f);ue&&(he=ue)}N&&(T==="number"||V!=="auto")&&(ee=Cw(le,M,"category"))}else N?he=wA(0,ce):l&&l[re]&&l[re].hasStack&&T==="number"?he=y==="expand"?[0,1]:WK(l[re].stackGroups,u,h):he=IK(le,i.filter(function(Se){var He=o in Se.props?Se.props[o]:Se.type.defaultProps[o],De="hide"in Se.props?Se.props.hide:Se.type.defaultProps.hide;return He===re&&(Z||!De)}),T,f,!0);if(T==="number")he=aR(g,he,re,a,H),ge&&(he=wD(ge,he,B));else if(T==="category"&&ge){var ke=ge,ve=he.every(function(Se){return ke.indexOf(Se)>=0});ve&&(he=ke)}}return gt(gt({},_),{},yr({},re,gt(gt({},O),{},{axisType:a,domain:he,categoricalDomain:ee,duplicateDomain:fe,originalDomain:(C=O.domain)!==null&&C!==void 0?C:xe,isCategorical:N,layout:f})))},{})},dSe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,f=e.layout,g=e.children,y=NE(e.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:h}),N=y.length,_=FK(f,a),k=-1;return n.reduce(function(C,O){var T=O.type.defaultProps!==void 0?gt(gt({},O.type.defaultProps),O.props):O.props,M=T[o],B=dQ("number");if(!C[M]){k++;var F;return _?F=wA(0,N):l&&l[M]&&l[M].hasStack?(F=WK(l[M].stackGroups,u,h),F=aR(g,F,M,a)):(F=wD(B,IK(y,n.filter(function(V){var H,Z,re=o in V.props?V.props[o]:(H=V.type.defaultProps)===null||H===void 0?void 0:H[o],le="hide"in V.props?V.props.hide:(Z=V.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return re===M&&!le}),"number",f),i.defaultProps.allowDataOverflow),F=aR(g,F,M,a)),gt(gt({},C),{},yr({},M,gt(gt({axisType:a},i.defaultProps),{},{hide:!0,orientation:So(iSe,"".concat(a,".").concat(k%2),null),domain:F,originalDomain:B,isCategorical:_,layout:f})))}return C},{})},uSe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,h=r.dataEndIndex,f=e.children,g="".concat(i,"Id"),y=ko(f,a),N={};return y&&y.length?N=cSe(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:g,stackGroups:l,dataStartIndex:u,dataEndIndex:h}):o&&o.length&&(N=dSe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:g,stackGroups:l,dataStartIndex:u,dataEndIndex:h})),N},hSe=function(e){var r=Xh(e),n=ju(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:p6(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:oA(r,n)}},$U=function(e){var r=e.children,n=e.defaultShowTooltip,i=vo(r,Cy),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},fSe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Au(r&&r.type);return n&&n.indexOf("Bar")>=0})},zU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mSe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,u=l===void 0?{}:l,h=n.width,f=n.height,g=n.children,y=n.margin||{},N=vo(g,Cy),_=vo(g,Ao),k=Object.keys(u).reduce(function(F,V){var H=u[V],Z=H.orientation;return!H.mirror&&!H.hide?gt(gt({},F),{},yr({},Z,F[Z]+H.width)):F},{left:y.left||0,right:y.right||0}),C=Object.keys(o).reduce(function(F,V){var H=o[V],Z=H.orientation;return!H.mirror&&!H.hide?gt(gt({},F),{},yr({},Z,So(F,"".concat(Z))+H.height)):F},{top:y.top||0,bottom:y.bottom||0}),O=gt(gt({},C),k),T=O.bottom;N&&(O.bottom+=N.props.height||Cy.defaultProps.height),_&&r&&(O=iye(O,i,n,r));var M=h-O.left-O.right,B=f-O.top-O.bottom;return gt(gt({brushBottom:T},O),{},{width:Math.max(M,0),height:Math.max(B,0)})},pSe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},lN=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,u=e.axisComponents,h=e.legendContent,f=e.formatAxisMap,g=e.defaultProps,y=function(O,T){var M=T.graphicalItems,B=T.stackGroups,F=T.offset,V=T.updateId,H=T.dataStartIndex,Z=T.dataEndIndex,re=O.barSize,le=O.layout,ce=O.barGap,he=O.barCategoryGap,fe=O.maxBarSize,ee=zU(le),xe=ee.numericAxisName,ie=ee.cateAxisName,ge=fSe(M),G=[];return M.forEach(function(ue,ke){var ve=NE(O.data,{graphicalItems:[ue],dataStartIndex:H,dataEndIndex:Z}),Se=ue.type.defaultProps!==void 0?gt(gt({},ue.type.defaultProps),ue.props):ue.props,He=Se.dataKey,De=Se.maxBarSize,$e=Se["".concat(xe,"Id")],Ue=Se["".concat(ie,"Id")],Ke={},nt=u.reduce(function(Ge,it){var kt=T["".concat(it.axisType,"Map")],jt=Se["".concat(it.axisType,"Id")];kt&&kt[jt]||it.axisType==="zAxis"||Qr(!1);var bt=kt[jt];return gt(gt({},Ge),{},yr(yr({},it.axisType,bt),"".concat(it.axisType,"Ticks"),ju(bt)))},Ke),Me=nt[ie],qe=nt["".concat(ie,"Ticks")],ht=B&&B[$e]&&B[$e].hasStack&&gye(ue,B[$e].stackGroups),ye=Au(ue.type).indexOf("Bar")>=0,Xe=oA(Me,qe),dt=[],Tt=ge&&sye({barSize:re,stackGroups:B,totalSize:pSe(nt,ie)});if(ye){var Ct,or,Cr=Nr(De)?fe:De,cs=(Ct=(or=oA(Me,qe,!0))!==null&&or!==void 0?or:Cr)!==null&&Ct!==void 0?Ct:0;dt=nye({barGap:ce,barCategoryGap:he,bandSize:cs!==Xe?cs:Xe,sizeList:Tt[Ue],maxBarSize:Cr}),cs!==Xe&&(dt=dt.map(function(Ge){return gt(gt({},Ge),{},{position:gt(gt({},Ge.position),{},{offset:Ge.position.offset-cs/2})})}))}var Ie=ue&&ue.type&&ue.type.getComposedData;Ie&&G.push({props:gt(gt({},Ie(gt(gt({},nt),{},{displayedData:ve,props:O,dataKey:He,item:ue,bandSize:Xe,barPosition:dt,offset:F,stackedData:ht,layout:le,dataStartIndex:H,dataEndIndex:Z}))),{},yr(yr(yr({key:ue.key||"item-".concat(ke)},xe,nt[xe]),ie,nt[ie]),"animationId",V)),childIndex:tue(ue,O.children),item:ue})}),G},N=function(O,T){var M=O.props,B=O.dataStartIndex,F=O.dataEndIndex,V=O.updateId;if(!qz({props:M}))return null;var H=M.children,Z=M.layout,re=M.stackOffset,le=M.data,ce=M.reverseStackOrder,he=zU(Z),fe=he.numericAxisName,ee=he.cateAxisName,xe=ko(H,n),ie=mye(le,xe,"".concat(fe,"Id"),"".concat(ee,"Id"),re,ce),ge=u.reduce(function(Se,He){var De="".concat(He.axisType,"Map");return gt(gt({},Se),{},yr({},De,uSe(M,gt(gt({},He),{},{graphicalItems:xe,stackGroups:He.axisType===fe&&ie,dataStartIndex:B,dataEndIndex:F}))))},{}),G=mSe(gt(gt({},ge),{},{props:M,graphicalItems:xe}),T==null?void 0:T.legendBBox);Object.keys(ge).forEach(function(Se){ge[Se]=f(M,ge[Se],G,Se.replace("Map",""),r)});var ue=ge["".concat(ee,"Map")],ke=hSe(ue),ve=y(M,gt(gt({},ge),{},{dataStartIndex:B,dataEndIndex:F,updateId:V,graphicalItems:xe,stackGroups:ie,offset:G}));return gt(gt({formattedGraphicalItems:ve,graphicalItems:xe,offset:G,stackGroups:ie},ke),ge)},_=function(C){function O(T){var M,B,F;return Y_e(this,O),F=K_e(this,O,[T]),yr(F,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),yr(F,"accessibilityManager",new O_e),yr(F,"handleLegendBBoxUpdate",function(V){if(V){var H=F.state,Z=H.dataStartIndex,re=H.dataEndIndex,le=H.updateId;F.setState(gt({legendBBox:V},N({props:F.props,dataStartIndex:Z,dataEndIndex:re,updateId:le},gt(gt({},F.state),{},{legendBBox:V}))))}}),yr(F,"handleReceiveSyncEvent",function(V,H,Z){if(F.props.syncId===V){if(Z===F.eventEmitterSymbol&&typeof F.props.syncMethod!="function")return;F.applySyncEvent(H)}}),yr(F,"handleBrushChange",function(V){var H=V.startIndex,Z=V.endIndex;if(H!==F.state.dataStartIndex||Z!==F.state.dataEndIndex){var re=F.state.updateId;F.setState(function(){return gt({dataStartIndex:H,dataEndIndex:Z},N({props:F.props,dataStartIndex:H,dataEndIndex:Z,updateId:re},F.state))}),F.triggerSyncEvent({dataStartIndex:H,dataEndIndex:Z})}}),yr(F,"handleMouseEnter",function(V){var H=F.getMouseInfo(V);if(H){var Z=gt(gt({},H),{},{isTooltipActive:!0});F.setState(Z),F.triggerSyncEvent(Z);var re=F.props.onMouseEnter;fr(re)&&re(Z,V)}}),yr(F,"triggeredAfterMouseMove",function(V){var H=F.getMouseInfo(V),Z=H?gt(gt({},H),{},{isTooltipActive:!0}):{isTooltipActive:!1};F.setState(Z),F.triggerSyncEvent(Z);var re=F.props.onMouseMove;fr(re)&&re(Z,V)}),yr(F,"handleItemMouseEnter",function(V){F.setState(function(){return{isTooltipActive:!0,activeItem:V,activePayload:V.tooltipPayload,activeCoordinate:V.tooltipPosition||{x:V.cx,y:V.cy}}})}),yr(F,"handleItemMouseLeave",function(){F.setState(function(){return{isTooltipActive:!1}})}),yr(F,"handleMouseMove",function(V){V.persist(),F.throttleTriggeredAfterMouseMove(V)}),yr(F,"handleMouseLeave",function(V){F.throttleTriggeredAfterMouseMove.cancel();var H={isTooltipActive:!1};F.setState(H),F.triggerSyncEvent(H);var Z=F.props.onMouseLeave;fr(Z)&&Z(H,V)}),yr(F,"handleOuterEvent",function(V){var H=eue(V),Z=So(F.props,"".concat(H));if(H&&fr(Z)){var re,le;/.*touch.*/i.test(H)?le=F.getMouseInfo(V.changedTouches[0]):le=F.getMouseInfo(V),Z((re=le)!==null&&re!==void 0?re:{},V)}}),yr(F,"handleClick",function(V){var H=F.getMouseInfo(V);if(H){var Z=gt(gt({},H),{},{isTooltipActive:!0});F.setState(Z),F.triggerSyncEvent(Z);var re=F.props.onClick;fr(re)&&re(Z,V)}}),yr(F,"handleMouseDown",function(V){var H=F.props.onMouseDown;if(fr(H)){var Z=F.getMouseInfo(V);H(Z,V)}}),yr(F,"handleMouseUp",function(V){var H=F.props.onMouseUp;if(fr(H)){var Z=F.getMouseInfo(V);H(Z,V)}}),yr(F,"handleTouchMove",function(V){V.changedTouches!=null&&V.changedTouches.length>0&&F.throttleTriggeredAfterMouseMove(V.changedTouches[0])}),yr(F,"handleTouchStart",function(V){V.changedTouches!=null&&V.changedTouches.length>0&&F.handleMouseDown(V.changedTouches[0])}),yr(F,"handleTouchEnd",function(V){V.changedTouches!=null&&V.changedTouches.length>0&&F.handleMouseUp(V.changedTouches[0])}),yr(F,"handleDoubleClick",function(V){var H=F.props.onDoubleClick;if(fr(H)){var Z=F.getMouseInfo(V);H(Z,V)}}),yr(F,"handleContextMenu",function(V){var H=F.props.onContextMenu;if(fr(H)){var Z=F.getMouseInfo(V);H(Z,V)}}),yr(F,"triggerSyncEvent",function(V){F.props.syncId!==void 0&&z3.emit(H3,F.props.syncId,V,F.eventEmitterSymbol)}),yr(F,"applySyncEvent",function(V){var H=F.props,Z=H.layout,re=H.syncMethod,le=F.state.updateId,ce=V.dataStartIndex,he=V.dataEndIndex;if(V.dataStartIndex!==void 0||V.dataEndIndex!==void 0)F.setState(gt({dataStartIndex:ce,dataEndIndex:he},N({props:F.props,dataStartIndex:ce,dataEndIndex:he,updateId:le},F.state)));else if(V.activeTooltipIndex!==void 0){var fe=V.chartX,ee=V.chartY,xe=V.activeTooltipIndex,ie=F.state,ge=ie.offset,G=ie.tooltipTicks;if(!ge)return;if(typeof re=="function")xe=re(G,V);else if(re==="value"){xe=-1;for(var ue=0;ue<G.length;ue++)if(G[ue].value===V.activeLabel){xe=ue;break}}var ke=gt(gt({},ge),{},{x:ge.left,y:ge.top}),ve=Math.min(fe,ke.x+ke.width),Se=Math.min(ee,ke.y+ke.height),He=G[xe]&&G[xe].value,De=cR(F.state,F.props.data,xe),$e=G[xe]?{x:Z==="horizontal"?G[xe].coordinate:ve,y:Z==="horizontal"?Se:G[xe].coordinate}:cQ;F.setState(gt(gt({},V),{},{activeLabel:He,activeCoordinate:$e,activePayload:De,activeTooltipIndex:xe}))}else F.setState(V)}),yr(F,"renderCursor",function(V){var H,Z=F.state,re=Z.isTooltipActive,le=Z.activeCoordinate,ce=Z.activePayload,he=Z.offset,fe=Z.activeTooltipIndex,ee=Z.tooltipAxisBandSize,xe=F.getTooltipEventType(),ie=(H=V.props.active)!==null&&H!==void 0?H:re,ge=F.props.layout,G=V.key||"_recharts-cursor";return Oe.createElement(z_e,{key:G,activeCoordinate:le,activePayload:ce,activeTooltipIndex:fe,chartName:r,element:V,isActive:ie,layout:ge,offset:he,tooltipAxisBandSize:ee,tooltipEventType:xe})}),yr(F,"renderPolarAxis",function(V,H,Z){var re=So(V,"type.axisType"),le=So(F.state,"".concat(re,"Map")),ce=V.type.defaultProps,he=ce!==void 0?gt(gt({},ce),V.props):V.props,fe=le&&le[he["".concat(re,"Id")]];return Y.cloneElement(V,gt(gt({},fe),{},{className:vr(re,fe.className),key:V.key||"".concat(H,"-").concat(Z),ticks:ju(fe,!0)}))}),yr(F,"renderPolarGrid",function(V){var H=V.props,Z=H.radialLines,re=H.polarAngles,le=H.polarRadius,ce=F.state,he=ce.radiusAxisMap,fe=ce.angleAxisMap,ee=Xh(he),xe=Xh(fe),ie=xe.cx,ge=xe.cy,G=xe.innerRadius,ue=xe.outerRadius;return Y.cloneElement(V,{polarAngles:Array.isArray(re)?re:ju(xe,!0).map(function(ke){return ke.coordinate}),polarRadius:Array.isArray(le)?le:ju(ee,!0).map(function(ke){return ke.coordinate}),cx:ie,cy:ge,innerRadius:G,outerRadius:ue,key:V.key||"polar-grid",radialLines:Z})}),yr(F,"renderLegend",function(){var V=F.state.formattedGraphicalItems,H=F.props,Z=H.children,re=H.width,le=H.height,ce=F.props.margin||{},he=re-(ce.left||0)-(ce.right||0),fe=DK({children:Z,formattedGraphicalItems:V,legendWidth:he,legendContent:h});if(!fe)return null;var ee=fe.item,xe=IU(fe,H_e);return Y.cloneElement(ee,gt(gt({},xe),{},{chartWidth:re,chartHeight:le,margin:ce,onBBoxUpdate:F.handleLegendBBoxUpdate}))}),yr(F,"renderTooltip",function(){var V,H=F.props,Z=H.children,re=H.accessibilityLayer,le=vo(Z,cn);if(!le)return null;var ce=F.state,he=ce.isTooltipActive,fe=ce.activeCoordinate,ee=ce.activePayload,xe=ce.activeLabel,ie=ce.offset,ge=(V=le.props.active)!==null&&V!==void 0?V:he;return Y.cloneElement(le,{viewBox:gt(gt({},ie),{},{x:ie.left,y:ie.top}),active:ge,label:xe,payload:ge?ee:[],coordinate:fe,accessibilityLayer:re})}),yr(F,"renderBrush",function(V){var H=F.props,Z=H.margin,re=H.data,le=F.state,ce=le.offset,he=le.dataStartIndex,fe=le.dataEndIndex,ee=le.updateId;return Y.cloneElement(V,{key:V.key||"_recharts-brush",onChange:q2(F.handleBrushChange,V.props.onChange),data:re,x:Et(V.props.x)?V.props.x:ce.left,y:Et(V.props.y)?V.props.y:ce.top+ce.height+ce.brushBottom-(Z.bottom||0),width:Et(V.props.width)?V.props.width:ce.width,startIndex:he,endIndex:fe,updateId:"brush-".concat(ee)})}),yr(F,"renderReferenceElement",function(V,H,Z){if(!V)return null;var re=F,le=re.clipPathId,ce=F.state,he=ce.xAxisMap,fe=ce.yAxisMap,ee=ce.offset,xe=V.type.defaultProps||{},ie=V.props,ge=ie.xAxisId,G=ge===void 0?xe.xAxisId:ge,ue=ie.yAxisId,ke=ue===void 0?xe.yAxisId:ue;return Y.cloneElement(V,{key:V.key||"".concat(H,"-").concat(Z),xAxis:he[G],yAxis:fe[ke],viewBox:{x:ee.left,y:ee.top,width:ee.width,height:ee.height},clipPathId:le})}),yr(F,"renderActivePoints",function(V){var H=V.item,Z=V.activePoint,re=V.basePoint,le=V.childIndex,ce=V.isRange,he=[],fe=H.props.key,ee=H.item.type.defaultProps!==void 0?gt(gt({},H.item.type.defaultProps),H.item.props):H.item.props,xe=ee.activeDot,ie=ee.dataKey,ge=gt(gt({index:le,dataKey:ie,cx:Z.x,cy:Z.y,r:4,fill:z6(H.item),strokeWidth:2,stroke:"#fff",payload:Z.payload,value:Z.value},er(xe,!1)),Rk(xe));return he.push(O.renderActiveDot(xe,ge,"".concat(fe,"-activePoint-").concat(le))),re?he.push(O.renderActiveDot(xe,gt(gt({},ge),{},{cx:re.x,cy:re.y}),"".concat(fe,"-basePoint-").concat(le))):ce&&he.push(null),he}),yr(F,"renderGraphicChild",function(V,H,Z){var re=F.filterFormatItem(V,H,Z);if(!re)return null;var le=F.getTooltipEventType(),ce=F.state,he=ce.isTooltipActive,fe=ce.tooltipAxis,ee=ce.activeTooltipIndex,xe=ce.activeLabel,ie=F.props.children,ge=vo(ie,cn),G=re.props,ue=G.points,ke=G.isRange,ve=G.baseLine,Se=re.item.type.defaultProps!==void 0?gt(gt({},re.item.type.defaultProps),re.item.props):re.item.props,He=Se.activeDot,De=Se.hide,$e=Se.activeBar,Ue=Se.activeShape,Ke=!!(!De&&he&&ge&&(He||$e||Ue)),nt={};le!=="axis"&&ge&&ge.props.trigger==="click"?nt={onClick:q2(F.handleItemMouseEnter,V.props.onClick)}:le!=="axis"&&(nt={onMouseLeave:q2(F.handleItemMouseLeave,V.props.onMouseLeave),onMouseEnter:q2(F.handleItemMouseEnter,V.props.onMouseEnter)});var Me=Y.cloneElement(V,gt(gt({},re.props),nt));function qe(it){return typeof fe.dataKey=="function"?fe.dataKey(it.payload):null}if(Ke)if(ee>=0){var ht,ye;if(fe.dataKey&&!fe.allowDuplicatedCategory){var Xe=typeof fe.dataKey=="function"?qe:"payload.".concat(fe.dataKey.toString());ht=Dk(ue,Xe,xe),ye=ke&&ve&&Dk(ve,Xe,xe)}else ht=ue==null?void 0:ue[ee],ye=ke&&ve&&ve[ee];if(Ue||$e){var dt=V.props.activeIndex!==void 0?V.props.activeIndex:ee;return[Y.cloneElement(V,gt(gt(gt({},re.props),nt),{},{activeIndex:dt})),null,null]}if(!Nr(ht))return[Me].concat($y(F.renderActivePoints({item:re,activePoint:ht,basePoint:ye,childIndex:ee,isRange:ke})))}else{var Tt,Ct=(Tt=F.getItemByXY(F.state.activeCoordinate))!==null&&Tt!==void 0?Tt:{graphicalItem:Me},or=Ct.graphicalItem,Cr=or.item,cs=Cr===void 0?V:Cr,Ie=or.childIndex,Ge=gt(gt(gt({},re.props),nt),{},{activeIndex:Ie});return[Y.cloneElement(cs,Ge),null,null]}return ke?[Me,null,null]:[Me,null]}),yr(F,"renderCustomized",function(V,H,Z){return Y.cloneElement(V,gt(gt({key:"recharts-customized-".concat(Z)},F.props),F.state))}),yr(F,"renderMap",{CartesianGrid:{handler:K2,once:!0},ReferenceArea:{handler:F.renderReferenceElement},ReferenceLine:{handler:K2},ReferenceDot:{handler:F.renderReferenceElement},XAxis:{handler:K2},YAxis:{handler:K2},Brush:{handler:F.renderBrush,once:!0},Bar:{handler:F.renderGraphicChild},Line:{handler:F.renderGraphicChild},Area:{handler:F.renderGraphicChild},Radar:{handler:F.renderGraphicChild},RadialBar:{handler:F.renderGraphicChild},Scatter:{handler:F.renderGraphicChild},Pie:{handler:F.renderGraphicChild},Funnel:{handler:F.renderGraphicChild},Tooltip:{handler:F.renderCursor,once:!0},PolarGrid:{handler:F.renderPolarGrid,once:!0},PolarAngleAxis:{handler:F.renderPolarAxis},PolarRadiusAxis:{handler:F.renderPolarAxis},Customized:{handler:F.renderCustomized}}),F.clipPathId="".concat((M=T.id)!==null&&M!==void 0?M:kg("recharts"),"-clip"),F.throttleTriggeredAfterMouseMove=PZ(F.triggeredAfterMouseMove,(B=T.throttleDelay)!==null&&B!==void 0?B:1e3/60),F.state={},F}return eSe(O,C),Z_e(O,[{key:"componentDidMount",value:function(){var M,B;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var M=this.props,B=M.children,F=M.data,V=M.height,H=M.layout,Z=vo(B,cn);if(Z){var re=Z.props.defaultIndex;if(!(typeof re!="number"||re<0||re>this.state.tooltipTicks.length-1)){var le=this.state.tooltipTicks[re]&&this.state.tooltipTicks[re].value,ce=cR(this.state,F,re,le),he=this.state.tooltipTicks[re].coordinate,fe=(this.state.offset.top+V)/2,ee=H==="horizontal",xe=ee?{x:he,y:fe}:{y:he,x:fe},ie=this.state.formattedGraphicalItems.find(function(G){var ue=G.item;return ue.type.name==="Scatter"});ie&&(xe=gt(gt({},xe),ie.props.points[re].tooltipPosition),ce=ie.props.points[re].tooltipPayload);var ge={activeTooltipIndex:re,isTooltipActive:!0,activeLabel:le,activePayload:ce,activeCoordinate:xe};this.setState(ge),this.renderCursor(Z),this.accessibilityManager.setIndex(re)}}}},{key:"getSnapshotBeforeUpdate",value:function(M,B){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==B.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==M.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==M.margin){var F,V;this.accessibilityManager.setDetails({offset:{left:(F=this.props.margin.left)!==null&&F!==void 0?F:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0}})}return null}},{key:"componentDidUpdate",value:function(M){HO([vo(M.children,cn)],[vo(this.props.children,cn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var M=vo(this.props.children,cn);if(M&&typeof M.props.shared=="boolean"){var B=M.props.shared?"axis":"item";return l.indexOf(B)>=0?B:a}return a}},{key:"getMouseInfo",value:function(M){if(!this.container)return null;var B=this.container,F=B.getBoundingClientRect(),V=zme(F),H={chartX:Math.round(M.pageX-V.left),chartY:Math.round(M.pageY-V.top)},Z=F.width/B.offsetWidth||1,re=this.inRange(H.chartX,H.chartY,Z);if(!re)return null;var le=this.state,ce=le.xAxisMap,he=le.yAxisMap,fe=this.getTooltipEventType(),ee=BU(this.state,this.props.data,this.props.layout,re);if(fe!=="axis"&&ce&&he){var xe=Xh(ce).scale,ie=Xh(he).scale,ge=xe&&xe.invert?xe.invert(H.chartX):null,G=ie&&ie.invert?ie.invert(H.chartY):null;return gt(gt({},H),{},{xValue:ge,yValue:G},ee)}return ee?gt(gt({},H),ee):null}},{key:"inRange",value:function(M,B){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,V=this.props.layout,H=M/F,Z=B/F;if(V==="horizontal"||V==="vertical"){var re=this.state.offset,le=H>=re.left&&H<=re.left+re.width&&Z>=re.top&&Z<=re.top+re.height;return le?{x:H,y:Z}:null}var ce=this.state,he=ce.angleAxisMap,fe=ce.radiusAxisMap;if(he&&fe){var ee=Xh(he);return DW({x:H,y:Z},ee)}return null}},{key:"parseEventsOfWrapper",value:function(){var M=this.props.children,B=this.getTooltipEventType(),F=vo(M,cn),V={};F&&B==="axis"&&(F.props.trigger==="click"?V={onClick:this.handleClick}:V={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var H=Rk(this.props,this.handleOuterEvent);return gt(gt({},H),V)}},{key:"addListener",value:function(){z3.on(H3,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){z3.removeListener(H3,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(M,B,F){for(var V=this.state.formattedGraphicalItems,H=0,Z=V.length;H<Z;H++){var re=V[H];if(re.item===M||re.props.key===M.key||B===Au(re.item.type)&&F===re.childIndex)return re}return null}},{key:"renderClipPath",value:function(){var M=this.clipPathId,B=this.state.offset,F=B.left,V=B.top,H=B.height,Z=B.width;return Oe.createElement("defs",null,Oe.createElement("clipPath",{id:M},Oe.createElement("rect",{x:F,y:V,height:H,width:Z})))}},{key:"getXScales",value:function(){var M=this.state.xAxisMap;return M?Object.entries(M).reduce(function(B,F){var V=RU(F,2),H=V[0],Z=V[1];return gt(gt({},B),{},yr({},H,Z.scale))},{}):null}},{key:"getYScales",value:function(){var M=this.state.yAxisMap;return M?Object.entries(M).reduce(function(B,F){var V=RU(F,2),H=V[0],Z=V[1];return gt(gt({},B),{},yr({},H,Z.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(M){var B;return(B=this.state.xAxisMap)===null||B===void 0||(B=B[M])===null||B===void 0?void 0:B.scale}},{key:"getYScaleByAxisId",value:function(M){var B;return(B=this.state.yAxisMap)===null||B===void 0||(B=B[M])===null||B===void 0?void 0:B.scale}},{key:"getItemByXY",value:function(M){var B=this.state,F=B.formattedGraphicalItems,V=B.activeItem;if(F&&F.length)for(var H=0,Z=F.length;H<Z;H++){var re=F[H],le=re.props,ce=re.item,he=ce.type.defaultProps!==void 0?gt(gt({},ce.type.defaultProps),ce.props):ce.props,fe=Au(ce.type);if(fe==="Bar"){var ee=(le.data||[]).find(function(G){return lwe(M,G)});if(ee)return{graphicalItem:re,payload:ee}}else if(fe==="RadialBar"){var xe=(le.data||[]).find(function(G){return DW(M,G)});if(xe)return{graphicalItem:re,payload:xe}}else if(gE(re,V)||xE(re,V)||b1(re,V)){var ie=H1e({graphicalItem:re,activeTooltipItem:V,itemData:he.data}),ge=he.activeIndex===void 0?ie:he.activeIndex;return{graphicalItem:gt(gt({},re),{},{childIndex:ge}),payload:b1(re,V)?he.data[ie]:re.props.data[ie]}}}return null}},{key:"render",value:function(){var M=this;if(!qz(this))return null;var B=this.props,F=B.children,V=B.className,H=B.width,Z=B.height,re=B.style,le=B.compact,ce=B.title,he=B.desc,fe=IU(B,W_e),ee=er(fe,!1);if(le)return Oe.createElement(pU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement(VO,Jx({},ee,{width:H,height:Z,title:ce,desc:he}),this.renderClipPath(),Yz(F,this.renderMap)));if(this.props.accessibilityLayer){var xe,ie;ee.tabIndex=(xe=this.props.tabIndex)!==null&&xe!==void 0?xe:0,ee.role=(ie=this.props.role)!==null&&ie!==void 0?ie:"application",ee.onKeyDown=function(G){M.accessibilityManager.keyboardEvent(G)},ee.onFocus=function(){M.accessibilityManager.focus()}}var ge=this.parseEventsOfWrapper();return Oe.createElement(pU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement("div",Jx({className:vr("recharts-wrapper",V),style:gt({position:"relative",cursor:"default",width:H,height:Z},re)},ge,{ref:function(ue){M.container=ue}}),Oe.createElement(VO,Jx({},ee,{width:H,height:Z,title:ce,desc:he,style:aSe}),this.renderClipPath(),Yz(F,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Y.Component);yr(_,"displayName",r),yr(_,"defaultProps",gt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),yr(_,"getDerivedStateFromProps",function(C,O){var T=C.dataKey,M=C.data,B=C.children,F=C.width,V=C.height,H=C.layout,Z=C.stackOffset,re=C.margin,le=O.dataStartIndex,ce=O.dataEndIndex;if(O.updateId===void 0){var he=$U(C);return gt(gt(gt({},he),{},{updateId:0},N(gt(gt({props:C},he),{},{updateId:0}),O)),{},{prevDataKey:T,prevData:M,prevWidth:F,prevHeight:V,prevLayout:H,prevStackOffset:Z,prevMargin:re,prevChildren:B})}if(T!==O.prevDataKey||M!==O.prevData||F!==O.prevWidth||V!==O.prevHeight||H!==O.prevLayout||Z!==O.prevStackOffset||!n0(re,O.prevMargin)){var fe=$U(C),ee={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},xe=gt(gt({},BU(O,M,H)),{},{updateId:O.updateId+1}),ie=gt(gt(gt({},fe),ee),xe);return gt(gt(gt({},ie),N(gt({props:C},ie),O)),{},{prevDataKey:T,prevData:M,prevWidth:F,prevHeight:V,prevLayout:H,prevStackOffset:Z,prevMargin:re,prevChildren:B})}if(!HO(B,O.prevChildren)){var ge,G,ue,ke,ve=vo(B,Cy),Se=ve&&(ge=(G=ve.props)===null||G===void 0?void 0:G.startIndex)!==null&&ge!==void 0?ge:le,He=ve&&(ue=(ke=ve.props)===null||ke===void 0?void 0:ke.endIndex)!==null&&ue!==void 0?ue:ce,De=Se!==le||He!==ce,$e=!Nr(M),Ue=$e&&!De?O.updateId:O.updateId+1;return gt(gt({updateId:Ue},N(gt(gt({props:C},O),{},{updateId:Ue,dataStartIndex:Se,dataEndIndex:He}),O)),{},{prevChildren:B,dataStartIndex:Se,dataEndIndex:He})}return null}),yr(_,"renderActiveDot",function(C,O,T){var M;return Y.isValidElement(C)?M=Y.cloneElement(C,O):fr(C)?M=C(O):M=Oe.createElement(yv,O),Oe.createElement(Fr,{className:"recharts-active-dot",key:T},M)});var k=Y.forwardRef(function(O,T){return Oe.createElement(_,Jx({},O,{ref:T}))});return k.displayName=_.displayName,k},gSe=lN({chartName:"LineChart",GraphicalChild:Dy,axisComponents:[{axisType:"xAxis",AxisComp:Ua},{axisType:"yAxis",AxisComp:Si}],formatAxisMap:W6}),_E=lN({chartName:"BarChart",GraphicalChild:ac,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ua},{axisType:"yAxis",AxisComp:Si}],formatAxisMap:W6}),SE=lN({chartName:"PieChart",GraphicalChild:pl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:bv},{axisType:"radiusAxis",AxisComp:vv}],formatAxisMap:XK,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),xSe=lN({chartName:"RadarChart",GraphicalChild:ky,axisComponents:[{axisType:"angleAxis",AxisComp:bv},{axisType:"radiusAxis",AxisComp:vv}],formatAxisMap:XK,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),kE=lN({chartName:"AreaChart",GraphicalChild:qa,axisComponents:[{axisType:"xAxis",AxisComp:Ua},{axisType:"yAxis",AxisComp:Si}],formatAxisMap:W6});/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ySe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vSe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),HU=t=>{const e=vSe(t);return e.charAt(0).toUpperCase()+e.slice(1)},uQ=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),bSe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wSe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jSe=Y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},u)=>Y.createElement("svg",{ref:u,...wSe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:uQ("lucide",i),...!a&&!bSe(l)&&{"aria-hidden":"true"},...l},[...o.map(([h,f])=>Y.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=(t,e)=>{const r=Y.forwardRef(({className:n,...i},a)=>Y.createElement(jSe,{ref:a,iconNode:e,className:uQ(`lucide-${ySe(HU(t))}`,`lucide-${t}`,n),...i}));return r.displayName=HU(t),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NSe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jm=br("activity",NSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Se=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],SSe=br("arrow-left",_Se);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kSe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hQ=br("bell",kSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ASe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],CSe=br("bookmark-check",ASe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ESe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],TSe=br("bookmark",ESe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PSe=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],RA=br("building-2",PSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MSe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LSe=br("calendar",MSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OSe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DSe=br("check",OSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RSe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wu=br("circle-alert",RSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ISe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kf=br("circle-check-big",ISe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FSe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],BSe=br("circle-x",FSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],cN=br("clock",$Se);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zSe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],HSe=br("copy",zSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WSe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fQ=br("dollar-sign",WSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VSe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],mQ=br("funnel",VSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const USe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qSe=br("house",USe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XSe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],YSe=br("info",XSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GSe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],pQ=br("key",GSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZSe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],KSe=br("mail",ZSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JSe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],WU=br("map-pin",JSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QSe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],eke=br("message-square",QSe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tke=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],rke=br("mic-off",tke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ske=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],nke=br("mic",ske);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ike=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],If=br("package",ike);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ake=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],oke=br("panels-top-left",ake);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lke=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],cke=br("pause",lke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dke=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uke=br("pen",dke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hke=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],fke=br("phone-off",hke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mke=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],b_=br("phone",mke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pke=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],gQ=br("play",pke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gke=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jv=br("plus",gke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xke=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yke=br("refresh-cw",xke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vke=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xQ=br("save",vke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bke=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yQ=br("search",bke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wke=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vQ=br("shield",wke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jke=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Nke=br("sparkles",jke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ke=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ske=br("square-check-big",_ke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kke=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bQ=br("square-pen",kke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ake=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Q6=br("star",Ake);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cke=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dN=br("trash-2",Cke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eke=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Tke=br("trending-down",Eke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pke=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uN=br("trending-up",Pke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mke=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eF=br("triangle-alert",Mke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lke=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],dg=br("truck",Lke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oke=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dke=br("user",Oke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rke=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dR=br("users",Rke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ike=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Fke=br("volume-2",Ike);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bke=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],$ke=br("warehouse",Bke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zke=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wQ=br("x",zke),st=({title:t,children:e,className:r=""})=>s.jsxs("div",{className:`bg-white rounded-lg shadow-sm overflow-hidden ${r}`,children:[t&&s.jsx("div",{className:"border-b px-4 py-3",children:s.jsx("h5",{className:"font-medium text-gray-700",children:t})}),s.jsx("div",{className:"p-4",children:e})]}),xr=({isOpen:t,onClose:e,children:r,title:n,size:i="md",footer:a})=>{if(Y.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),!t)return null;const o={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return IY.createPortal(s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:s.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${o[i]} w-full relative overflow-hidden max-h-[90vh]`,children:[n&&s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n})}),s.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",onClick:e,"aria-label":"Close",children:""}),s.jsx("div",{className:"px-6 py-4 overflow-y-auto",style:{maxHeight:a?"calc(90vh - 150px)":"calc(90vh - 70px)"},children:r}),a&&s.jsx("div",{className:"px-6 py-6 border-t bg-gray-50",children:a})]})}),document.body)},Hke=({className:t=""})=>{const[e,r]=Y.useState(""),[n,i]=Y.useState(!1),[a,o]=Y.useState(!1),[l,u]=Y.useState(null),[h,f]=Y.useState(!1),g=Y.useRef(null),y=C=>C.revenue||C.pending_payments?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.revenue&&s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Monthly Revenue"}),s.jsx("i",{className:"fas fa-chart-line text-green-500"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",C.revenue.total?C.revenue.total.toLocaleString():"0"]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.revenue.count||0," invoices"]})]}),C.pending_payments&&s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Pending Payments"}),s.jsx("i",{className:"fas fa-clock text-orange-500"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",C.pending_payments.total?C.pending_payments.total.toLocaleString():"0"]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.pending_payments.count||0," pending"]})]})]}):C.loads&&Array.isArray(C.loads)?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Available Loads"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[C.loads.length," total"]})]}),C.loads.length===0?s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No loads found matching your criteria"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid gap-2",children:C.loads.slice(0,10).map((T,M)=>s.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900",children:T.load_number||`LOAD${String(M+1).padStart(3,"0")}`}),T.status&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${T.status==="POSTED"?"bg-blue-100 text-blue-700":T.status==="IN_TRANSIT"?"bg-yellow-100 text-yellow-700":T.status==="DELIVERED"?"bg-green-100 text-green-700":T.status==="ASSIGNED"?"bg-purple-100 text-purple-700":T.status==="PENDING"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:T.status.replace(/_/g," ")})]}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[s.jsx("i",{className:"fas fa-map-marker-alt text-blue-500 mr-1"}),T.origin_city,", ",T.origin_state,s.jsx("i",{className:"fas fa-arrow-right mx-2 text-gray-400"}),T.destination_city,", ",T.destination_state]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[T.equipment_type&&s.jsxs("p",{className:"text-xs text-gray-500",children:[s.jsx("i",{className:"fas fa-truck mr-1"}),T.equipment_type.replace(/_/g," ")]}),T.pickup_date&&s.jsxs("p",{className:"text-xs text-gray-500",children:[s.jsx("i",{className:"fas fa-calendar mr-1"}),new Date(T.pickup_date).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"text-right ml-3",children:[s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["$",typeof T.rate=="number"?T.rate.toLocaleString():T.rate]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:T.distance?`${T.distance} mi`:""})]})]})},T.id||M))}),C.loads.length>10&&s.jsxs("p",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:[s.jsx("i",{className:"fas fa-ellipsis-h mr-1"}),C.loads.length-10," more load",C.loads.length-10>1?"s":""," available"]})]})]}):C.carrier_ratings&&Array.isArray(C.carrier_ratings)?s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Carrier Ratings"}),C.carrier_ratings.slice(0,5).map((O,T)=>s.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900",children:O.name}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["MC# ",O.mc_number,"  ",O.total_loads||0," loads completed"]})]}),s.jsxs("div",{className:"text-right ml-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-lg font-bold text-yellow-500",children:O.rating}),s.jsx("i",{className:"fas fa-star text-yellow-500 ml-1"})]}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[O.on_time_percentage,"% on-time"]})]})]})},T))]}):C.carriers&&Array.isArray(C.carriers)?s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Carriers"}),C.carriers.length===0?s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No carriers found"}):C.carriers.slice(0,3).map((O,T)=>s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors cursor-pointer",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900",children:O.name}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[s.jsx("i",{className:"fas fa-id-card mr-1"}),"MC# ",O.mc_number]}),O.equipment_types&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.jsx("i",{className:"fas fa-truck mr-1"}),O.equipment_types.replace(/_/g," ")]}),O.phone&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[s.jsx("i",{className:"fas fa-phone mr-1"}),O.phone]})]},T))]}):null;Y.useEffect(()=>{g.current&&(g.current.style.height="auto",g.current.style.height=`${g.current.scrollHeight}px`)},[e]);const N=async()=>{if(!(!e.trim()||a)){o(!0),f(!1);try{const C=await fetch("/api/ai/agent/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,context:"broker_dashboard"})});if(!C.ok)throw new Error("Failed to get AI response");const O=await C.json();u(O),f(!0)}catch(C){console.error("AI Agent error:",C),u({text:"I apologize, but I encountered an error processing your request. Please try again.",suggestions:["Check system status","View recent loads","Search carriers"]}),f(!0)}finally{o(!1)}}},_=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Speech recognition is not supported in your browser.");return}const C=window.webkitSpeechRecognition||window.SpeechRecognition,O=new C;O.continuous=!1,O.interimResults=!1,O.lang="en-US",O.onstart=()=>{i(!0)},O.onresult=T=>{const M=T.results[0][0].transcript;r(M),i(!1)},O.onerror=()=>{i(!1),alert("Voice recognition failed. Please try again.")},O.onend=()=>{i(!1)},n?O.stop():O.start()},k=C=>{r(C),f(!1)};return s.jsx("div",{className:`${t}`,children:s.jsx(st,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center",children:s.jsx("i",{className:"fas fa-robot text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Assistant"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ask me about loads, carriers, or operations"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{ref:g,value:e,onChange:C=>r(C.target.value),onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),N())},placeholder:"Type your question or command...",className:"w-full px-4 py-3 pr-24 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none min-h-[52px] max-h-[120px]",rows:1}),s.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center space-x-2",children:[s.jsx("button",{onClick:_,className:`p-2 rounded-full transition-colors ${n?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Voice input",children:s.jsx("i",{className:`fas ${n?"fa-stop":"fa-microphone"} text-sm`})}),s.jsx("button",{onClick:N,disabled:!e.trim()||a,className:"p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:a?s.jsx("i",{className:"fas fa-spinner fa-spin text-sm"}):s.jsx("i",{className:"fas fa-paper-plane text-sm"})})]})]}),!h&&!a&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Try asking:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Show me open loads to California","Find carriers with reefer equipment","What's my revenue this month?","Check driver John Smith status"].map((C,O)=>s.jsx("button",{onClick:()=>r(C),className:"text-xs px-3 py-1 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition-colors",children:C},O))})]}),a&&s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("span",{className:"text-sm text-gray-600",children:"Processing your request..."})]})}),h&&l&&s.jsx("div",{className:"animate-fadeIn",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center",children:s.jsx("i",{className:"fas fa-robot text-white text-sm"})}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-gray-800 leading-relaxed",children:l.text})})]})}),l.data&&Object.keys(l.data).length>0&&!l.text.includes("Error")&&s.jsx("div",{className:"border-t border-gray-100 bg-gray-50 p-4",children:y(l.data)}),l.suggestions&&l.suggestions.length>0&&s.jsxs("div",{className:"border-t border-gray-100 p-4 bg-blue-50/30",children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Suggested actions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:l.suggestions.map((C,O)=>s.jsxs("button",{onClick:()=>k(C),className:"text-xs px-3 py-1.5 bg-white border border-blue-200 text-blue-700 rounded-full hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 shadow-sm hover:shadow",children:[s.jsx("i",{className:"fas fa-arrow-right mr-1 text-[10px]"}),C]},O))})]})]})})]})]})})})},VU=()=>{const t=Bn(),e=[{name:"ABC Logistics",value:125e3},{name:"XYZ Transport",value:98e3},{name:"Global Freight",value:87e3},{name:"Express Ship Co",value:76e3}],r=[{day:"Mon",loads:18},{day:"Tue",loads:22},{day:"Wed",loads:25},{day:"Thu",loads:20},{day:"Fri",loads:28},{day:"Sat",loads:15},{day:"Sun",loads:10}];return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Broker Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Overview of your freight brokerage operations"})]}),s.jsxs("section",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(uN,{className:"w-5 h-5 text-blue-600"}),"Key Metrics"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur",children:s.jsx(If,{className:"w-6 h-6 text-white"})})}),s.jsx("h3",{className:"text-white/80 text-sm font-medium mb-1",children:"Open Loads"}),s.jsx("p",{className:"text-3xl font-bold mb-2",children:"24"}),s.jsx("p",{className:"text-xs text-white/70",children:"5 awaiting carrier assignment"}),s.jsx("div",{className:"mt-4 bg-white/20 rounded-full h-2",children:s.jsx("div",{className:"bg-white h-2 rounded-full w-3/4"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur",children:s.jsx(fQ,{className:"w-6 h-6 text-white"})})}),s.jsx("h3",{className:"text-white/80 text-sm font-medium mb-1",children:"Pending Payments"}),s.jsx("p",{className:"text-3xl font-bold mb-2",children:"$12,450"}),s.jsx("p",{className:"text-xs text-white/70",children:"8 invoices pending approval"}),s.jsx("div",{className:"mt-4 bg-white/20 rounded-full h-2",children:s.jsx("div",{className:"bg-white h-2 rounded-full w-3/5"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur",children:s.jsx(Jm,{className:"w-6 h-6 text-white"})})}),s.jsx("h3",{className:"text-white/80 text-sm font-medium mb-1",children:"Total Revenue (MTD)"}),s.jsx("p",{className:"text-3xl font-bold mb-2",children:"$45,890"}),s.jsx("p",{className:"text-xs text-white/70",children:"+12% from last month"}),s.jsx("div",{className:"mt-4 bg-white/20 rounded-full h-2",children:s.jsx("div",{className:"bg-white h-2 rounded-full w-5/6"})})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsx("div",{className:"p-3 bg-white/20 rounded-lg backdrop-blur",children:s.jsx(dR,{className:"w-6 h-6 text-white"})})}),s.jsx("h3",{className:"text-white/80 text-sm font-medium mb-1",children:"Active Carriers"}),s.jsx("p",{className:"text-3xl font-bold mb-2",children:"45"}),s.jsx("p",{className:"text-xs text-white/70",children:"12 preferred partners"}),s.jsx("div",{className:"mt-4 bg-white/20 rounded-full h-2",children:s.jsx("div",{className:"bg-white h-2 rounded-full w-11/12"})})]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Jm,{className:"w-5 h-5 text-blue-600"}),"Quick Actions"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:()=>t("/broker/create-load"),className:"p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:bg-blue-200 transition-colors",children:s.jsx(jv,{className:"w-6 h-6 text-blue-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Create Load"})]}),s.jsxs("button",{onClick:()=>t("/broker/smart-load-match"),className:"p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:bg-green-200 transition-colors",children:s.jsx(bQ,{className:"w-6 h-6 text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Smart Match"})]}),s.jsxs("button",{onClick:()=>t("/broker/carrier-match"),className:"p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:bg-purple-200 transition-colors",children:s.jsx(dR,{className:"w-6 h-6 text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Carrier Match"})]}),s.jsxs("button",{onClick:()=>t("/broker/reports"),className:"p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-all border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:bg-orange-200 transition-colors",children:s.jsx(Jm,{className:"w-6 h-6 text-orange-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Reports"})]})]})]}),s.jsx(Hke,{className:"mb-8"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Jm,{className:"w-5 h-5 text-blue-600"}),"Revenue per Customer"]}),s.jsx("div",{className:"space-y-4",children:e.map((n,i)=>{const a=["bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500"],o=Math.max(...e.map(u=>u.value)),l=n.value/o*100;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:n.name}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",(n.value/1e3).toFixed(0),"k"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-6",children:s.jsx("div",{className:`${a[i]} h-6 rounded-full flex items-center justify-end pr-2`,style:{width:`${l}%`},children:s.jsxs("span",{className:"text-xs text-white font-medium",children:["$",(n.value/1e3).toFixed(0),"k"]})})})]},i)})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(If,{className:"w-5 h-5 text-blue-600"}),"Weekly Load Volume"]}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(_E,{data:r,children:[s.jsx(sd,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Ua,{dataKey:"day",tick:{fontSize:12},axisLine:{stroke:"#e5e7eb"}}),s.jsx(Si,{tick:{fontSize:12},axisLine:{stroke:"#e5e7eb"}}),s.jsx(cn,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),s.jsx(ac,{dataKey:"loads",fill:"#10b981",radius:[8,8,0,0],animationDuration:1e3})]})})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(dg,{className:"w-5 h-5 text-blue-600"}),"Recent Loads"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Load ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Origin"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Destination"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Carrier"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-700",children:"Revenue"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200",children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"BL-2024-001"}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"Chicago, IL"}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"Atlanta, GA"}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"FastFreight Inc."}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Delivered"})}),s.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"$2,450"})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"BL-2024-002"}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"Dallas, TX"}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"Phoenix, AZ"}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"Southwest Carriers"}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"In Transit"})}),s.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"$1,890"})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"BL-2024-003"}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"Miami, FL"}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"Charlotte, NC"}),s.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:"East Coast Logistics"}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pending"})}),s.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"$2,150"})]})]})]})})]})]})};var Wke=Object.defineProperty,Vke=Object.defineProperties,Uke=Object.getOwnPropertyDescriptors,IA=Object.getOwnPropertySymbols,jQ=Object.prototype.hasOwnProperty,NQ=Object.prototype.propertyIsEnumerable,UU=(t,e,r)=>e in t?Wke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,js=(t,e)=>{for(var r in e||(e={}))jQ.call(e,r)&&UU(t,r,e[r]);if(IA)for(var r of IA(e))NQ.call(e,r)&&UU(t,r,e[r]);return t},Eu=(t,e)=>Vke(t,Uke(e)),AE=(t,e)=>{var r={};for(var n in t)jQ.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&IA)for(var n of IA(t))e.indexOf(n)<0&&NQ.call(t,n)&&(r[n]=t[n]);return r},tF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},_i=(t,e,r)=>(tF(t,e,"read from private field"),r?r.call(t):e.get(t)),la=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Zl=(t,e,r,n)=>(tF(t,e,"write to private field"),e.set(t,r),r),qke=(t,e,r,n)=>({set _(i){Zl(t,e,i)},get _(){return _i(t,e,n)}}),Tf=(t,e,r)=>(tF(t,e,"access private method"),r),$a=(t,e,r)=>new Promise((n,i)=>{var a=u=>{try{l(r.next(u))}catch(h){i(h)}},o=u=>{try{l(r.throw(u))}catch(h){i(h)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,o);l((r=r.apply(t,e)).next())}),_Q="https://api.mapbox.com/autofill/v1",Xke="suggest",Yke="retrieve",Gke=`${_Q}/${Xke}`,Zke=`${_Q}/${Yke}`,vn=class{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90");if(this.lng>180||this.lng<-180)throw new Error("Invalid LngLat longitude value: must be between -180 and 180")}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}static convert(t){if(t instanceof vn)return new vn(t.lng,t.lat);if(Array.isArray(t)&&t.length===2)return new vn(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null&&("lng"in t||"lon"in t)&&"lat"in t)return new vn(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}},_o=class{constructor(t,e){this._sw=vn.convert(t),this._ne=vn.convert(e)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new vn(this.getWest(),this.getNorth())}getSouthEast(){return new vn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toFlatArray(){return[this._sw.lng,this._sw.lat,this._ne.lng,this._ne.lat]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}static convert(t){if(!t)throw new Error("Invalid LngLatBounds convert value: falsy");if(t instanceof _o)return new _o(t.getSouthWest(),t.getNorthEast());if(Array.isArray(t)&&t.length===2)return new _o(vn.convert(t[0]),vn.convert(t[1]));if(Array.isArray(t)&&t.length===4)return new _o(vn.convert([t[0],t[1]]),vn.convert([t[2],t[3]]));throw new Error("`LngLatBoundsLike` argument must be specified as an array [<LngLatLike>, <LngLatLike>] or an array [<west>, <south>, <east>, <north>]")}};function Kke(){const e=(Math.random().toString(16)+Date.now().toString(16)+Math.random().toString(16)).replace(/\./g,"");return[e.slice(0,8),e.slice(8,12),"4"+e.slice(12,15)+"-8"+e.slice(15,18),e.slice(18,30)].join("-")}var hl=class{constructor(t){this.id=t??Kke()}toString(){return this.id}static convert(t){return new hl(t instanceof hl?t.id:t.toString())}},Jke="Unknown error",Qke=class extends Error{constructor(t,e){super(String(t.message||t.error||Jke)),this.name="MapboxError",this.statusCode=e}toString(){return`${this.name} (${this.statusCode}): ${this.message}`}};function Nu(t){return $a(this,null,function*(){if(!t.ok){const e=yield t.json();throw new Qke(e,t.status)}})}var qU=globalThis.fetch,eAe=globalThis.AbortController;function Qc(){if(!qU)throw new Error("Fetch implementation not found. Please include a fetch polyfill in your application or use `polyfillFetch` from `@mapbox/search-js-core` to fix this issue.");return{fetch:qU,AbortController:eAe}}function ug(...t){const e=[];for(const r of t){if(!r)continue;const n=Object.entries(r);for(const[i,a]of n)a!=null&&e.push(`${i}=${encodeURIComponent(String(a))}`)}return e.join("&")}var w_,uR,SQ,kQ=class{constructor(t={}){la(this,uR),la(this,w_,void 0);const e=t,{accessToken:r}=e,n=AE(e,["accessToken"]);this.accessToken=r,this.defaults=js(js({},kQ.defaults),n)}get responseHeaders(){return _i(this,w_)}suggest(t,e){return $a(this,null,function*(){if(!t)throw new Error("searchText is required");const{sessionToken:r,signal:n}=e,i=Eu(js(js({},this.defaults),e),{sessionToken:r}),a=new URL(`${Gke}/${encodeURIComponent(t)}`);a.search=Tf(this,uR,SQ).call(this,i);const{fetch:o}=Qc(),l=yield o(a.toString(),{signal:n});Zl(this,w_,l.headers),yield Nu(l);const u=yield l.json();return Eu(js({},u),{suggestions:u.suggestions.map(h=>Eu(js({},h),{original_search_text:t})),url:a.toString()})})}retrieve(t,e){return $a(this,null,function*(){if(!t)throw new Error("suggestion is required");if(!this.canRetrieve(t))throw new Error("suggestion cannot be retrieved");const{sessionToken:r,signal:n}=e,i=hl.convert(r),a=new URL(`${Zke}/${t.action.id}`);a.search=ug({access_token:this.accessToken,session_token:i.id});const{fetch:o}=Qc(),l=yield o(a.toString(),{signal:n});yield Nu(l);const u=yield l.json();return u.url=a.toString(),u})}canRetrieve(t){const e=t.action;return typeof(e==null?void 0:e.id)=="string"}},AQ=kQ;w_=new WeakMap;uR=new WeakSet;SQ=function(t){return ug({types:"address",access_token:this.accessToken,streets:t.streets,language:t.language,country:t.country,limit:t.limit},t.sessionToken&&{session_token:hl.convert(t.sessionToken).id},t.proximity&&{proximity:typeof t.proximity=="string"?t.proximity:vn.convert(t.proximity).toArray().join(",")},t.bbox&&{bbox:typeof t.bbox=="string"?t.bbox:_o.convert(t.bbox).toFlatArray().join(",")})};AQ.defaults={language:"en",proximity:"ip",streets:!0};var CE="https://api.mapbox.com/search/searchbox/v1",tAe="suggest",rAe="retrieve",sAe="category",nAe="reverse",iAe=`${CE}/${tAe}`,aAe=`${CE}/${rAe}`,oAe=`${CE}/${sAe}`,lAe=`${CE}/${nAe}`,CQ="\\.\\d{1,256}",cAe=`\\d{1,3}(${CQ})?`,XU=`(-?(${cAe}|${CQ}))`,EQ=new RegExp(`^[ ]*${XU},\\s*${XU}[ ]*$`),TQ=/[\s,]+/,j_,hR,fR,PQ,rF,MQ,LQ=class{constructor(t={}){la(this,j_),la(this,fR),la(this,rF);const e=t,{accessToken:r}=e,n=AE(e,["accessToken"]);this.accessToken=r,this.defaults=js(js({},LQ.defaults),n)}suggest(t,e){return $a(this,null,function*(){if(!t)throw new Error("searchText is required");if(EQ.test(t)&&e.allowReverse){let f=t.trim().split(TQ).map(N=>N.trim());e.flipCoordinates&&(f=f.reverse());const g=f.join(","),y=yield this.reverse(g,e);return Tf(this,fR,PQ).call(this,y)}const{sessionToken:n,signal:i}=e,a=Eu(js(js({},this.defaults),e),{q:t,sessionToken:n});if(a.eta_type&&(!a.origin||!a.navigation_profile))throw new Error("to provide eta estimate: eta, navigation_profile, and origin are required");if(a.origin&&!a.navigation_profile)throw new Error("to provide distance estimate: both navigation_profile and origin are required");const o=new URL(iAe);o.search=Tf(this,j_,hR).call(this,a);const{fetch:l}=Qc(),u=yield l(o.toString(),{signal:i});yield Nu(u);const h=yield u.json();return h.url=o.toString(),h})}retrieve(t,e){return $a(this,null,function*(){if(!t)throw new Error("suggestion is required");if(t._originalFeature)return{type:"FeatureCollection",features:[t._originalFeature],url:t._originalUrl||""};const{sessionToken:r,signal:n,language:i}=e,a=hl.convert(r),o=js(js({},this.defaults),i&&{language:i}),l=new URL(`${aAe}/${encodeURIComponent(t.mapbox_id)}`);l.search=ug({access_token:this.accessToken,session_token:a.id},{language:o.language});const{fetch:u}=Qc(),h=yield u(l.toString(),{signal:n});yield Nu(h);const f=yield h.json();return f.url=l.toString(),f})}category(t){return $a(this,arguments,function*(e,r={}){if(!e)throw new Error("category is required");const n=js(js({},this.defaults),r),i=new URL(`${oAe}/${encodeURIComponent(e)}`);i.search=Tf(this,j_,hR).call(this,n);const{fetch:a}=Qc(),o=yield a(i.toString(),{signal:n.signal});yield Nu(o);const l=yield o.json();return l.url=i.toString(),l})}reverse(t){return $a(this,arguments,function*(e,r={}){if(!e)throw new Error("lngLat is required");const[n,i]=typeof e=="string"?e.split(",").map(f=>parseFloat(f)):vn.convert(e).toArray();if(isNaN(n)||isNaN(i))throw new Error("lngLat is required");const a=js(js({},this.defaults),r),o=new URL(lAe);o.search=ug({access_token:this.accessToken,language:a.language,limit:a.limit,longitude:n,latitude:i},a.types&&{types:typeof a.types=="string"?a.types:[...a.types].join(",")});const{fetch:l}=Qc(),u=yield l(o.toString(),{signal:a.signal});yield Nu(u);const h=yield u.json();return h.url=o.toString(),h})}},OQ=LQ;j_=new WeakSet;hR=function(t){return ug({q:t.q,access_token:this.accessToken,language:t.language,limit:t.limit,navigation_profile:t.navigation_profile,route:t.route,route_geometry:t.route_geometry,sar_type:t.sar_type,time_deviation:t.time_deviation,eta_type:t.eta_type,country:t.country,poi_category:t.poi_category,rich_metadata_provider:t.rich_metadata_provider,poi_category_exclusions:t.poi_category_exclusions},t.sessionToken&&{session_token:hl.convert(t.sessionToken).id},t.proximity&&{proximity:typeof t.proximity=="string"?t.proximity:vn.convert(t.proximity).toArray().join(",")},t.origin&&{origin:typeof t.origin=="string"?t.origin:vn.convert(t.origin).toArray().join(",")},t.bbox&&{bbox:typeof t.bbox=="string"?t.bbox:_o.convert(t.bbox).toFlatArray().join(",")},t.types&&{types:typeof t.types=="string"?t.types:[...t.types].join(",")})};fR=new WeakSet;PQ=function(t){return{suggestions:t.features.map(e=>Tf(this,rF,MQ).call(this,e,t.url)),attribution:t.attribution,url:t.url}};rF=new WeakSet;MQ=function(t,e){return Eu(js({},t.properties),{_originalFeature:t,_originalUrl:e})};OQ.defaults={language:"en"};var dAe="https://api.mapbox.com/autofill/v1",uAe="retrieve",hAe=`${dAe}/${uAe}`,mR,DQ,RQ=class{constructor(t={}){la(this,mR);const e=t,{accessToken:r}=e,n=AE(e,["accessToken"]);this.accessToken=r,this.defaults=js(js({},RQ.defaults),n)}validate(t,e){return $a(this,null,function*(){if(!t)throw new Error("searchText is required");const{sessionToken:r,signal:n}=e,i=Eu(js(js({},this.defaults),e),{sessionToken:r}),a=new URL(`${hAe}/${encodeURIComponent(t)}`);a.search=Tf(this,mR,DQ).call(this,i);const{fetch:o}=Qc(),l=yield o(a.toString(),{signal:n});yield Nu(l);const u=yield l.json();return u.url=a.toString(),u.features.length>0&&(u.features=[u.features[0]]),u})}},IQ=RQ;mR=new WeakSet;DQ=function(t){return ug({access_token:this.accessToken,language:t.language,country:t.country},t.sessionToken&&{session_token:hl.convert(t.sessionToken).id},t.proximity&&{proximity:typeof t.proximity=="string"?t.proximity:vn.convert(t.proximity).toArray().join(",")},t.bbox&&{bbox:typeof t.bbox=="string"?t.bbox:_o.convert(t.bbox).toFlatArray().join(",")})};IQ.defaults={language:"en",proximity:"ip"};var FQ="https://api.mapbox.com/search/geocode/v6",fAe=`${FQ}/forward`,mAe=`${FQ}/reverse`,Lb,N_,pR,pAe=class{constructor(t={}){la(this,N_),la(this,Lb,void 0);const e=t,{accessToken:r}=e,n=AE(e,["accessToken"]);this.accessToken=r,this.defaults=js({},n)}get responseHeaders(){return _i(this,Lb)}forward(t,e){return $a(this,null,function*(){if(!t)throw new Error("searchText is required");let r;e&&({signal:r}=e);const n=Eu(js(js({},this.defaults),e),{q:t}),i=new URL(`${fAe}`);i.search=Tf(this,N_,pR).call(this,n);const{fetch:a}=Qc(),o=r?{signal:r}:{},l=yield a(i.toString(),o);Zl(this,Lb,l.headers),yield Nu(l);const u=yield l.json();return u.url=i.toString(),u})}reverse(t,e){return $a(this,null,function*(){if(!t)throw new Error("lngLat is required");let r;e&&({signal:r}=e);let n;if(typeof t=="string"){const[f,g]=t.split(",");n=new vn(Number(f),Number(g))}else n=vn.convert(t);const i=Eu(js(js({},this.defaults),e),{longitude:n.lng,latitude:n.lat}),a=new URL(`${mAe}`);a.search=Tf(this,N_,pR).call(this,i,!0);const{fetch:o}=Qc(),l=r?{signal:r}:{},u=yield o(a.toString(),l);Zl(this,Lb,u.headers),yield Nu(u);const h=yield u.json();return h.url=a.toString(),h})}suggest(t,e){return $a(this,null,function*(){if(EQ.test(t)){let n=t.trim().split(TQ).map(a=>a.trim());e.flipCoordinates&&(n=n.reverse());const i=n.join(",");return this.reverse(i,e)}else return this.forward(t,e)})}retrieve(t){return $a(this,null,function*(){return t})}};Lb=new WeakMap;N_=new WeakSet;pR=function(t,e=!1){return e&&["proximity","autocomplete","bbox"].forEach(r=>{r in t&&delete t[r]}),ug({q:t.q,longitude:t.longitude,latitude:t.latitude,access_token:this.accessToken,permanent:t.permanent,language:t.language,country:t.country,limit:t.limit,autocomplete:t.autocomplete,worldview:t.worldview},t.sessionToken&&{session_token:hl.convert(t.sessionToken).id},t.proximity&&{proximity:typeof t.proximity=="string"?t.proximity:vn.convert(t.proximity).toArray().join(",")},t.bbox&&{bbox:typeof t.bbox=="string"?t.bbox:_o.convert(t.bbox).toFlatArray().join(",")},t.types&&{types:typeof t.types=="string"?t.types:[...t.types].join(",")})};var BQ=(t=>(t.exact="exact",t.high="high",t.medium="medium",t.low="low",t))(BQ||{}),Ob,gAe=class{constructor(){la(this,Ob,{})}addEventListener(t,e){const r=_i(this,Ob);r[t]||(r[t]=[]),r[t].push(e)}removeEventListener(t,e){const r=_i(this,Ob);if(!r[t])return;const n=r[t],i=n.indexOf(e);i!==-1&&n.splice(i,1)}fire(t,e){const r=_i(this,Ob);if(!r[t])return;const n=r[t];for(const i of n)i(e)}};Ob=new WeakMap;function $Q(t,e,r){let n=null;return(...i)=>{n!==null&&clearTimeout(n);const a=r&&r();n=setTimeout(()=>{n=null,!(a!=null&&a.aborted)&&t(...i)},e)}}function V3(){const{AbortController:t}=Qc();return new t}var Db,__,S_,jx,Rh,k_,sF=class extends gAe{constructor(t,e=0){super(),la(this,Db,new hl),la(this,__,0),la(this,S_,!1),la(this,jx,void 0),la(this,Rh,V3()),la(this,k_,void 0),Zl(this,k_,$Q((r,...n)=>$a(this,[r,...n],function*(i,a={}){if(_i(this,Rh).abort(),Zl(this,Rh,V3()),!i){Zl(this,jx,null),this.fire("suggest",_i(this,jx));return}try{const o=yield this.search.suggest(i,Eu(js({sessionToken:this.sessionToken},a),{signal:_i(this,Rh).signal}));Zl(this,jx,o),this.fire("suggest",o)}catch(o){if(o.name==="AbortError")return;this.fire("suggesterror",o)}}),e,()=>_i(this,Rh).signal)),Object.defineProperties(this,{search:{value:t,writable:!1},debounce:{value:e,writable:!1}})}get sessionToken(){return _i(this,S_)?_i(this,Db).id:`${_i(this,Db).id}.${_i(this,__)}`}set sessionToken(t){Zl(this,S_,!0),Zl(this,Db,new hl(t))}get suggestions(){return _i(this,jx)}suggest(t,e){return _i(this,k_).call(this,t,e),new Promise((r,n)=>{let i,a;i=o=>{this.removeEventListener("suggest",i),this.removeEventListener("suggesterror",a),r(o)},a=o=>{this.removeEventListener("suggest",i),this.removeEventListener("suggesterror",a),n(o)},this.addEventListener("suggest",i),this.addEventListener("suggesterror",a)})}clear(){this.suggest("")}retrieve(t,e){return $a(this,null,function*(){const r=yield this.search.retrieve(t,js({sessionToken:this.sessionToken},e));return this.fire("retrieve",r),r})}canRetrieve(t){return this.search.canRetrieve?this.search.canRetrieve(t):!0}canSuggest(t){return this.search.canSuggest?this.search.canSuggest(t):!0}abort(){_i(this,Rh).abort(),Zl(this,Rh,V3())}incrementSession(){qke(this,__)._++}};Db=new WeakMap;__=new WeakMap;S_=new WeakMap;jx=new WeakMap;Rh=new WeakMap;k_=new WeakMap;function nF(t){const{properties:e}=t;return js({},e)}function EE(t){return t.split("-")[0]}function iF(t){return t.split("-")[1]}function aF(t){return["top","bottom"].includes(EE(t))?"x":"y"}function zQ(t){return t==="y"?"height":"width"}function YU(t,e,r){let{reference:n,floating:i}=t;const a=n.x+n.width/2-i.width/2,o=n.y+n.height/2-i.height/2,l=aF(e),u=zQ(l),h=n[u]/2-i[u]/2,f=l==="x";let g;switch(EE(e)){case"top":g={x:a,y:n.y-i.height};break;case"bottom":g={x:a,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:o};break;case"left":g={x:n.x-i.width,y:o};break;default:g={x:n.x,y:n.y}}switch(iF(e)){case"start":g[l]-=h*(r&&f?-1:1);break;case"end":g[l]+=h*(r&&f?-1:1)}return g}const xAe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=YU(u,n,l),g=n,y={},N=0;for(let _=0;_<a.length;_++){const{name:k,fn:C}=a[_],{x:O,y:T,data:M,reset:B}=await C({x:h,y:f,initialPlacement:n,placement:g,strategy:i,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});h=O??h,f=T??f,y={...y,[k]:{...y[k],...M}},B&&N<=50&&(N++,typeof B=="object"&&(B.placement&&(g=B.placement),B.rects&&(u=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):B.rects),{x:h,y:f}=YU(u,g,l)),_=-1)}return{x:h,y:f,placement:g,strategy:i,middlewareData:y}};function yAe(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function FA(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function vAe(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:y=!1,padding:N=0}=e,_=yAe(N),k=l[y?g==="floating"?"reference":"floating":g],C=FA(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(k)))==null||r?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:h,rootBoundary:f,strategy:u})),O=FA(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g==="floating"?{...o.floating,x:n,y:i}:o.reference,offsetParent:await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),strategy:u}):o[g]);return{top:C.top-O.top+_.top,bottom:O.bottom-C.bottom+_.bottom,left:C.left-O.left+_.left,right:O.right-C.right+_.right}}const bAe={left:"right",right:"left",bottom:"top",top:"bottom"};function BA(t){return t.replace(/left|right|bottom|top/g,e=>bAe[e])}function wAe(t,e,r){r===void 0&&(r=!1);const n=iF(t),i=aF(t),a=zQ(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=BA(o)),{main:o,cross:BA(o)}}const jAe={start:"end",end:"start"};function GU(t){return t.replace(/start|end/g,e=>jAe[e])}const NAe=["top","right","bottom","left"];NAe.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const _Ae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r;const{placement:n,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",flipAlignment:N=!0,..._}=t,k=EE(n),C=g||(k===o||!N?[BA(o)]:function(Z){const re=BA(Z);return[GU(Z),re,GU(re)]}(o)),O=[o,...C],T=await vAe(e,_),M=[];let B=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&M.push(T[k]),f){const{main:Z,cross:re}=wAe(n,a,await(l.isRTL==null?void 0:l.isRTL(u.floating)));M.push(T[Z],T[re])}if(B=[...B,{placement:n,overflows:M}],!M.every(Z=>Z<=0)){var F,V;const Z=((F=(V=i.flip)==null?void 0:V.index)!=null?F:0)+1,re=O[Z];if(re)return{data:{index:Z,overflows:B},reset:{placement:re}};let le="bottom";switch(y){case"bestFit":{var H;const ce=(H=B.map(he=>[he,he.overflows.filter(fe=>fe>0).reduce((fe,ee)=>fe+ee,0)]).sort((he,fe)=>he[1]-fe[1])[0])==null?void 0:H[0].placement;ce&&(le=ce);break}case"initialPlacement":le=o}if(n!==le)return{reset:{placement:le}}}return{}}}},SAe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:r,y:n}=e,i=await async function(a,o){const{placement:l,platform:u,elements:h}=a,f=await(u.isRTL==null?void 0:u.isRTL(h.floating)),g=EE(l),y=iF(l),N=aF(l)==="x",_=["left","top"].includes(g)?-1:1,k=f&&N?-1:1,C=typeof o=="function"?o(a):o;let{mainAxis:O,crossAxis:T,alignmentAxis:M}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...C};return y&&typeof M=="number"&&(T=y==="end"?-1*M:M),N?{x:T*k,y:O*_}:{x:O*_,y:T*k}}(e,t);return{x:r+i.x,y:n+i.y,data:i}}}};function HQ(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function Qu(t){if(t==null)return window;if(!HQ(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function hN(t){return Qu(t).getComputedStyle(t)}function Tu(t){return HQ(t)?"":t?(t.nodeName||"").toLowerCase():""}function WQ(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function ad(t){return t instanceof Qu(t).HTMLElement}function Ff(t){return t instanceof Qu(t).Element}function oF(t){return typeof ShadowRoot>"u"?!1:t instanceof Qu(t).ShadowRoot||t instanceof ShadowRoot}function TE(t){const{overflow:e,overflowX:r,overflowY:n}=hN(t);return/auto|scroll|overlay|hidden/.test(e+n+r)}function kAe(t){return["table","td","th"].includes(Tu(t))}function ZU(t){const e=/firefox/i.test(WQ()),r=hN(t);return r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].includes(r.willChange)||e&&r.willChange==="filter"||e&&!!r.filter&&r.filter!=="none"}function VQ(){return!/^((?!chrome|android).)*safari/i.test(WQ())}const KU=Math.min,Lw=Math.max,$A=Math.round;function Pu(t,e,r){var n,i,a,o;e===void 0&&(e=!1),r===void 0&&(r=!1);const l=t.getBoundingClientRect();let u=1,h=1;e&&ad(t)&&(u=t.offsetWidth>0&&$A(l.width)/t.offsetWidth||1,h=t.offsetHeight>0&&$A(l.height)/t.offsetHeight||1);const f=Ff(t)?Qu(t):window,g=!VQ()&&r,y=(l.left+(g&&(n=(i=f.visualViewport)==null?void 0:i.offsetLeft)!=null?n:0))/u,N=(l.top+(g&&(a=(o=f.visualViewport)==null?void 0:o.offsetTop)!=null?a:0))/h,_=l.width/u,k=l.height/h;return{width:_,height:k,top:N,right:y+_,bottom:N+k,left:y,x:y,y:N}}function Pf(t){return(e=t,(e instanceof Qu(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function PE(t){return Ff(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function UQ(t){return Pu(Pf(t)).left+PE(t).scrollLeft}function AAe(t,e,r){const n=ad(e),i=Pf(e),a=Pu(t,n&&function(u){const h=Pu(u);return $A(h.width)!==u.offsetWidth||$A(h.height)!==u.offsetHeight}(e),r==="fixed");let o={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(n||!n&&r!=="fixed")if((Tu(e)!=="body"||TE(i))&&(o=PE(e)),ad(e)){const u=Pu(e,!0);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=UQ(i));return{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function qQ(t){return Tu(t)==="html"?t:t.assignedSlot||t.parentNode||(oF(t)?t.host:null)||Pf(t)}function JU(t){return ad(t)&&getComputedStyle(t).position!=="fixed"?t.offsetParent:null}function gR(t){const e=Qu(t);let r=JU(t);for(;r&&kAe(r)&&getComputedStyle(r).position==="static";)r=JU(r);return r&&(Tu(r)==="html"||Tu(r)==="body"&&getComputedStyle(r).position==="static"&&!ZU(r))?e:r||function(n){let i=qQ(n);for(oF(i)&&(i=i.host);ad(i)&&!["html","body"].includes(Tu(i));){if(ZU(i))return i;i=i.parentNode}return null}(t)||e}function QU(t){if(ad(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=Pu(t);return{width:e.width,height:e.height}}function XQ(t){const e=qQ(t);return["html","body","#document"].includes(Tu(e))?t.ownerDocument.body:ad(e)&&TE(e)?e:XQ(e)}function zA(t,e){var r;e===void 0&&(e=[]);const n=XQ(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=Qu(n),o=i?[a].concat(a.visualViewport||[],TE(n)?n:[]):n,l=e.concat(o);return i?l:l.concat(zA(o))}function eq(t,e,r){return e==="viewport"?FA(function(n,i){const a=Qu(n),o=Pf(n),l=a.visualViewport;let u=o.clientWidth,h=o.clientHeight,f=0,g=0;if(l){u=l.width,h=l.height;const y=VQ();(y||!y&&i==="fixed")&&(f=l.offsetLeft,g=l.offsetTop)}return{width:u,height:h,x:f,y:g}}(t,r)):Ff(e)?function(n,i){const a=Pu(n,!1,i==="fixed"),o=a.top+n.clientTop,l=a.left+n.clientLeft;return{top:o,left:l,x:l,y:o,right:l+n.clientWidth,bottom:o+n.clientHeight,width:n.clientWidth,height:n.clientHeight}}(e,r):FA(function(n){var i;const a=Pf(n),o=PE(n),l=(i=n.ownerDocument)==null?void 0:i.body,u=Lw(a.scrollWidth,a.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),h=Lw(a.scrollHeight,a.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0);let f=-o.scrollLeft+UQ(n);const g=-o.scrollTop;return hN(l||a).direction==="rtl"&&(f+=Lw(a.clientWidth,l?l.clientWidth:0)-u),{width:u,height:h,x:f,y:g}}(Pf(t)))}function CAe(t){const e=zA(t),r=["absolute","fixed"].includes(hN(t).position)&&ad(t)?gR(t):t;return Ff(r)?e.filter(n=>Ff(n)&&function(i,a){const o=a.getRootNode==null?void 0:a.getRootNode();if(i.contains(a))return!0;if(o&&oF(o)){let l=a;do{if(l&&i===l)return!0;l=l.parentNode||l.host}while(l)}return!1}(n,r)&&Tu(n)!=="body"):[]}const EAe={getClippingRect:function(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?CAe(e):[].concat(r),n],o=a[0],l=a.reduce((u,h)=>{const f=eq(e,h,i);return u.top=Lw(f.top,u.top),u.right=KU(f.right,u.right),u.bottom=KU(f.bottom,u.bottom),u.left=Lw(f.left,u.left),u},eq(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:r,strategy:n}=t;const i=ad(r),a=Pf(r);if(r===a)return e;let o={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((i||!i&&n!=="fixed")&&((Tu(r)!=="body"||TE(a))&&(o=PE(r)),ad(r))){const u=Pu(r,!0);l.x=u.x+r.clientLeft,l.y=u.y+r.clientTop}return{...e,x:e.x-o.scrollLeft+l.x,y:e.y-o.scrollTop+l.y}},isElement:Ff,getDimensions:QU,getOffsetParent:gR,getDocumentElement:Pf,getElementRects:t=>{let{reference:e,floating:r,strategy:n}=t;return{reference:AAe(e,gR(r),n),floating:{...QU(r),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>hN(t).direction==="rtl"};function TAe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=!0,animationFrame:l=!1}=n,u=i&&!l,h=a&&!l,f=u||h?[...Ff(t)?zA(t):[],...zA(e)]:[];f.forEach(_=>{u&&_.addEventListener("scroll",r,{passive:!0}),h&&_.addEventListener("resize",r)});let g,y=null;if(o){let _=!0;y=new ResizeObserver(()=>{_||r(),_=!1}),Ff(t)&&!l&&y.observe(t),y.observe(e)}let N=l?Pu(t):null;return l&&function _(){const k=Pu(t);!N||k.x===N.x&&k.y===N.y&&k.width===N.width&&k.height===N.height||r(),N=k,g=requestAnimationFrame(_)}(),r(),()=>{var _;f.forEach(k=>{u&&k.removeEventListener("scroll",r),h&&k.removeEventListener("resize",r)}),(_=y)==null||_.disconnect(),y=null,l&&cancelAnimationFrame(g)}}const PAe=(t,e,r)=>xAe(t,e,{platform:EAe,...r});var U3={exports:{}},tq;function MAe(){return tq||(tq=1,function(t){(function(e){var r=!1,n,i;function a(){if(typeof n<"u")return n;var g=document.documentElement,y=document.createElement("div");return y.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),g.appendChild(y),n=y.offsetWidth-y.clientWidth,g.removeChild(y),n}function o(){return document.documentElement.scrollHeight>window.innerHeight}function l(g){if(!(typeof document>"u"||r)){var y=document.documentElement;i=window.pageYOffset,o()?y.style.width="calc(100% - "+a()+"px)":y.style.width="100%",y.style.position="fixed",y.style.top=-i+"px",y.style.overflow="hidden",r=!0}}function u(){if(!(typeof document>"u"||!r)){var g=document.documentElement;g.style.width="",g.style.position="",g.style.top="",g.style.overflow="",window.scroll(0,i),r=!1}}function h(){if(r){u();return}l()}var f={on:l,off:u,toggle:h};t.exports=f})()}(U3)),U3.exports}var LAe=MAe();const rq=Ur(LAe);/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var YQ=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],HA=YQ.join(","),GQ=typeof Element>"u",hg=GQ?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xR=!GQ&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},ZQ=function(e,r,n){var i=Array.prototype.slice.apply(e.querySelectorAll(HA));return r&&hg.call(e,HA)&&i.unshift(e),i=i.filter(n),i},KQ=function t(e,r,n){for(var i=[],a=Array.from(e);a.length;){var o=a.shift();if(o.tagName==="SLOT"){var l=o.assignedElements(),u=l.length?l:o.children,h=t(u,!0,n);n.flatten?i.push.apply(i,h):i.push({scope:o,candidates:h})}else{var f=hg.call(o,HA);f&&n.filter(o)&&(r||!e.includes(o))&&i.push(o);var g=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),y=!n.shadowRootFilter||n.shadowRootFilter(o);if(g&&y){var N=t(g===!0?o.children:g.children,!0,n);n.flatten?i.push.apply(i,N):i.push({scope:o,candidates:N})}else a.unshift.apply(a,o.children)}}return i},JQ=function(e,r){return e.tabIndex<0&&(r||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},OAe=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},QQ=function(e){return e.tagName==="INPUT"},DAe=function(e){return QQ(e)&&e.type==="hidden"},RAe=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},IAe=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},FAe=function(e){if(!e.name)return!0;var r=e.form||xR(e),n=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var a=IAe(i,e.form);return!a||a===e},BAe=function(e){return QQ(e)&&e.type==="radio"},$Ae=function(e){return BAe(e)&&!FAe(e)},sq=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},zAe=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=hg.call(e,"details>summary:first-of-type"),o=a?e.parentElement:e;if(hg.call(o,"details:not([open]) *"))return!0;var l=xR(e).host,u=(l==null?void 0:l.ownerDocument.contains(l))||e.ownerDocument.contains(e);if(!n||n==="full"){if(typeof i=="function"){for(var h=e;e;){var f=e.parentElement,g=xR(e);if(f&&!f.shadowRoot&&i(f)===!0)return sq(e);e.assignedSlot?e=e.assignedSlot:!f&&g!==e.ownerDocument?e=g.host:e=f}e=h}if(u)return!e.getClientRects().length}else if(n==="non-zero-area")return sq(e);return!1},HAe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return hg.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},WA=function(e,r){return!(r.disabled||DAe(r)||zAe(r,e)||RAe(r)||HAe(r))},yR=function(e,r){return!($Ae(r)||JQ(r)<0||!WA(e,r))},WAe=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},VAe=function t(e){var r=[],n=[];return e.forEach(function(i,a){var o=!!i.scope,l=o?i.scope:i,u=JQ(l,o),h=o?t(i.candidates):l;u===0?o?r.push.apply(r,h):r.push(l):n.push({documentOrder:a,tabIndex:u,item:i,isScope:o,content:h})}),n.sort(OAe).reduce(function(i,a){return a.isScope?i.push.apply(i,a.content):i.push(a.content),i},[]).concat(r)},UAe=function(e,r){r=r||{};var n;return r.getShadowRoot?n=KQ([e],r.includeContainer,{filter:yR.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:WAe}):n=ZQ(e,r.includeContainer,yR.bind(null,r)),VAe(n)},qAe=function(e,r){r=r||{};var n;return r.getShadowRoot?n=KQ([e],r.includeContainer,{filter:WA.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=ZQ(e,r.includeContainer,WA.bind(null,r)),n},J2=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return hg.call(e,HA)===!1?!1:yR(r,e)},XAe=YQ.concat("iframe").join(","),q3=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return hg.call(e,XAe)===!1?!1:WA(r,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function nq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(r),!0).forEach(function(n){YAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YAe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var aq=function(){var t=[];return{activateTrap:function(r){if(t.length>0){var n=t[t.length-1];n!==r&&n.pause()}var i=t.indexOf(r);i===-1||t.splice(i,1),t.push(r)},deactivateTrap:function(r){var n=t.indexOf(r);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}}}(),GAe=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ZAe=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},KAe=function(e){return e.key==="Tab"||e.keyCode===9},oq=function(e){return setTimeout(e,0)},lq=function(e,r){var n=-1;return e.every(function(i,a){return r(i)?(n=a,!1):!0}),n},wb=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},Q2=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},JAe=function(e,r){var n=(r==null?void 0:r.document)||document,i=iq({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},r),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},o,l=function(V,H,Z){return V&&V[H]!==void 0?V[H]:i[Z||H]},u=function(V){return a.containerGroups.findIndex(function(H){var Z=H.container,re=H.tabbableNodes;return Z.contains(V)||re.find(function(le){return le===V})})},h=function(V){var H=i[V];if(typeof H=="function"){for(var Z=arguments.length,re=new Array(Z>1?Z-1:0),le=1;le<Z;le++)re[le-1]=arguments[le];H=H.apply(void 0,re)}if(H===!0&&(H=void 0),!H){if(H===void 0||H===!1)return H;throw new Error("`".concat(V,"` was specified but was not a node, or did not return a node"))}var ce=H;if(typeof H=="string"&&(ce=n.querySelector(H),!ce))throw new Error("`".concat(V,"` as selector refers to no known node"));return ce},f=function(){var V=h("initialFocus");if(V===!1)return!1;if(V===void 0)if(u(n.activeElement)>=0)V=n.activeElement;else{var H=a.tabbableGroups[0],Z=H&&H.firstTabbableNode;V=Z||h("fallbackFocus")}if(!V)throw new Error("Your focus-trap needs to have at least one focusable element");return V},g=function(){if(a.containerGroups=a.containers.map(function(V){var H=UAe(V,i.tabbableOptions),Z=qAe(V,i.tabbableOptions);return{container:V,tabbableNodes:H,focusableNodes:Z,firstTabbableNode:H.length>0?H[0]:null,lastTabbableNode:H.length>0?H[H.length-1]:null,nextTabbableNode:function(le){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,he=Z.findIndex(function(fe){return fe===le});if(!(he<0))return ce?Z.slice(he+1).find(function(fe){return J2(fe,i.tabbableOptions)}):Z.slice(0,he).reverse().find(function(fe){return J2(fe,i.tabbableOptions)})}}}),a.tabbableGroups=a.containerGroups.filter(function(V){return V.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},y=function F(V){if(V!==!1&&V!==n.activeElement){if(!V||!V.focus){F(f());return}V.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=V,GAe(V)&&V.select()}},N=function(V){var H=h("setReturnFocus",V);return H||(H===!1?!1:V)},_=function(V){var H=Q2(V);if(!(u(H)>=0)){if(wb(i.clickOutsideDeactivates,V)){o.deactivate({returnFocus:i.returnFocusOnDeactivate&&!q3(H,i.tabbableOptions)});return}wb(i.allowOutsideClick,V)||V.preventDefault()}},k=function(V){var H=Q2(V),Z=u(H)>=0;Z||H instanceof Document?Z&&(a.mostRecentlyFocusedNode=H):(V.stopImmediatePropagation(),y(a.mostRecentlyFocusedNode||f()))},C=function(V){var H=Q2(V);g();var Z=null;if(a.tabbableGroups.length>0){var re=u(H),le=re>=0?a.containerGroups[re]:void 0;if(re<0)V.shiftKey?Z=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:Z=a.tabbableGroups[0].firstTabbableNode;else if(V.shiftKey){var ce=lq(a.tabbableGroups,function(ge){var G=ge.firstTabbableNode;return H===G});if(ce<0&&(le.container===H||q3(H,i.tabbableOptions)&&!J2(H,i.tabbableOptions)&&!le.nextTabbableNode(H,!1))&&(ce=re),ce>=0){var he=ce===0?a.tabbableGroups.length-1:ce-1,fe=a.tabbableGroups[he];Z=fe.lastTabbableNode}}else{var ee=lq(a.tabbableGroups,function(ge){var G=ge.lastTabbableNode;return H===G});if(ee<0&&(le.container===H||q3(H,i.tabbableOptions)&&!J2(H,i.tabbableOptions)&&!le.nextTabbableNode(H))&&(ee=re),ee>=0){var xe=ee===a.tabbableGroups.length-1?0:ee+1,ie=a.tabbableGroups[xe];Z=ie.firstTabbableNode}}}else Z=h("fallbackFocus");Z&&(V.preventDefault(),y(Z))},O=function(V){if(ZAe(V)&&wb(i.escapeDeactivates,V)!==!1){V.preventDefault(),o.deactivate();return}if(KAe(V)){C(V);return}},T=function(V){var H=Q2(V);u(H)>=0||wb(i.clickOutsideDeactivates,V)||wb(i.allowOutsideClick,V)||(V.preventDefault(),V.stopImmediatePropagation())},M=function(){if(a.active)return aq.activateTrap(o),a.delayInitialFocusTimer=i.delayInitialFocus?oq(function(){y(f())}):y(f()),n.addEventListener("focusin",k,!0),n.addEventListener("mousedown",_,{capture:!0,passive:!1}),n.addEventListener("touchstart",_,{capture:!0,passive:!1}),n.addEventListener("click",T,{capture:!0,passive:!1}),n.addEventListener("keydown",O,{capture:!0,passive:!1}),o},B=function(){if(a.active)return n.removeEventListener("focusin",k,!0),n.removeEventListener("mousedown",_,!0),n.removeEventListener("touchstart",_,!0),n.removeEventListener("click",T,!0),n.removeEventListener("keydown",O,!0),o};return o={get active(){return a.active},get paused(){return a.paused},activate:function(V){if(a.active)return this;var H=l(V,"onActivate"),Z=l(V,"onPostActivate"),re=l(V,"checkCanFocusTrap");re||g(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,H&&H();var le=function(){re&&g(),M(),Z&&Z()};return re?(re(a.containers.concat()).then(le,le),this):(le(),this)},deactivate:function(V){if(!a.active)return this;var H=iq({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},V);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,B(),a.active=!1,a.paused=!1,aq.deactivateTrap(o);var Z=l(H,"onDeactivate"),re=l(H,"onPostDeactivate"),le=l(H,"checkCanReturnFocus"),ce=l(H,"returnFocus","returnFocusOnDeactivate");Z&&Z();var he=function(){oq(function(){ce&&y(N(a.nodeFocusedBeforeActivation)),re&&re()})};return ce&&le?(le(N(a.nodeFocusedBeforeActivation)).then(he,he),this):(he(),this)},pause:function(){return a.paused||!a.active?this:(a.paused=!0,B(),this)},unpause:function(){return!a.paused||!a.active?this:(a.paused=!1,g(),M(),this)},updateContainerElements:function(V){var H=[].concat(V).filter(Boolean);return a.containers=H.map(function(Z){return typeof Z=="string"?n.querySelector(Z):Z}),a.active&&g(),this}},o.updateContainerElements(e),o},A_={exports:{}},QAe=A_.exports,cq;function eCe(){return cq||(cq=1,function(t){(function(e,r,n){t.exports?t.exports=n():e[r]=n()})(QAe,"subtag",function(){var e="",r=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function n(u){return u.match(r)||[]}function i(u){return n(u).filter(function(h,f){return h&&f})}function a(u){return u=n(u),{language:u[1]||e,extlang:u[2]||e,script:u[3]||e,region:u[4]||e}}function o(u,h,f){Object.defineProperty(u,h,{value:f,enumerable:!0})}function l(u,h,f){function g(y){return n(y)[u]||e}o(g,"pattern",h),o(a,f,g)}return l(1,/^[a-zA-Z]{2,3}$/,"language"),l(2,/^[a-zA-Z]{3}$/,"extlang"),l(3,/^[a-zA-Z]{4}$/,"script"),l(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),o(a,"split",i),a})}(A_)),A_.exports}var tCe=eCe();const eee=Ur(tCe);var X3={exports:{}},dq;function rCe(){return dq||(dq=1,function(t,e){var r=function(){var n={},i=Math.PI/180,a=180/Math.PI,o=6378137,l=20037508342789244e-9;function u(f){return Number(f)===f&&f%1!==0}function h(f){if(f=f||{},this.size=f.size||256,this.expansion=f.antimeridian===!0?2:1,!n[this.size]){var g=this.size,y=n[this.size]={};y.Bc=[],y.Cc=[],y.zc=[],y.Ac=[];for(var N=0;N<30;N++)y.Bc.push(g/360),y.Cc.push(g/(2*Math.PI)),y.zc.push(g/2),y.Ac.push(g),g*=2}this.Bc=n[this.size].Bc,this.Cc=n[this.size].Cc,this.zc=n[this.size].zc,this.Ac=n[this.size].Ac}return h.prototype.px=function(f,g){if(u(g)){var y=this.size*Math.pow(2,g),N=y/2,_=y/360,k=y/(2*Math.PI),C=y,O=Math.min(Math.max(Math.sin(i*f[1]),-.9999),.9999),T=N+f[0]*_,M=N+.5*Math.log((1+O)/(1-O))*-k;return T>C*this.expansion&&(T=C*this.expansion),M>C&&(M=C),[T,M]}else{var N=this.zc[g],O=Math.min(Math.max(Math.sin(i*f[1]),-.9999),.9999),T=Math.round(N+f[0]*this.Bc[g]),M=Math.round(N+.5*Math.log((1+O)/(1-O))*-this.Cc[g]);return T>this.Ac[g]*this.expansion&&(T=this.Ac[g]*this.expansion),M>this.Ac[g]&&(M=this.Ac[g]),[T,M]}},h.prototype.ll=function(f,g){if(u(g)){var y=this.size*Math.pow(2,g),N=y/360,_=y/(2*Math.PI),k=y/2,C=(f[1]-k)/-_,O=(f[0]-k)/N,T=a*(2*Math.atan(Math.exp(C))-.5*Math.PI);return[O,T]}else{var C=(f[1]-this.zc[g])/-this.Cc[g],O=(f[0]-this.zc[g])/this.Bc[g],T=a*(2*Math.atan(Math.exp(C))-.5*Math.PI);return[O,T]}},h.prototype.bbox=function(f,g,y,N,_){N&&(g=Math.pow(2,y)-1-g);var k=[f*this.size,(+g+1)*this.size],C=[(+f+1)*this.size,g*this.size],O=this.ll(k,y).concat(this.ll(C,y));return _==="900913"?this.convert(O,"900913"):O},h.prototype.xyz=function(f,g,y,N){N==="900913"&&(f=this.convert(f,"WGS84"));var _=[f[0],f[1]],k=[f[2],f[3]],C=this.px(_,g),O=this.px(k,g),T=[Math.floor(C[0]/this.size),Math.floor((O[0]-1)/this.size)],M=[Math.floor(O[1]/this.size),Math.floor((C[1]-1)/this.size)],B={minX:Math.min.apply(Math,T)<0?0:Math.min.apply(Math,T),minY:Math.min.apply(Math,M)<0?0:Math.min.apply(Math,M),maxX:Math.max.apply(Math,T),maxY:Math.max.apply(Math,M)};if(y){var F={minY:Math.pow(2,g)-1-B.maxY,maxY:Math.pow(2,g)-1-B.minY};B.minY=F.minY,B.maxY=F.maxY}return B},h.prototype.convert=function(f,g){return g==="900913"?this.forward(f.slice(0,2)).concat(this.forward(f.slice(2,4))):this.inverse(f.slice(0,2)).concat(this.inverse(f.slice(2,4)))},h.prototype.forward=function(f){var g=[o*f[0]*i,o*Math.log(Math.tan(Math.PI*.25+.5*f[1]*i))];return g[0]>l&&(g[0]=l),g[0]<-20037508342789244e-9&&(g[0]=-20037508342789244e-9),g[1]>l&&(g[1]=l),g[1]<-20037508342789244e-9&&(g[1]=-20037508342789244e-9),g},h.prototype.inverse=function(f){return[f[0]*a/o,(Math.PI*.5-2*Math.atan(Math.exp(-f[1]/o)))*a]},h}();t.exports=r}(X3)),X3.exports}var sCe=rCe();const nCe=Ur(sCe);var iCe=Object.defineProperty,aCe=Object.defineProperties,oCe=Object.getOwnPropertyDescriptors,uq=Object.getOwnPropertySymbols,lCe=Object.prototype.hasOwnProperty,cCe=Object.prototype.propertyIsEnumerable,hq=(t,e,r)=>e in t?iCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Rr=(t,e)=>{for(var r in e||(e={}))lCe.call(e,r)&&hq(t,r,e[r]);if(uq)for(var r of uq(e))cCe.call(e,r)&&hq(t,r,e[r]);return t},Co=(t,e)=>aCe(t,oCe(e)),lF=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},oe=(t,e,r)=>(lF(t,e,"read from private field"),r?r.call(t):e.get(t)),Je=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Lt=(t,e,r,n)=>(lF(t,e,"write to private field"),e.set(t,r),r),Ow=(t,e,r)=>(lF(t,e,"access private method"),r),zy=(t,e,r)=>new Promise((n,i)=>{var a=u=>{try{l(r.next(u))}catch(h){i(h)}},o=u=>{try{l(r.throw(u))}catch(h){i(h)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,o);l((r=r.apply(t,e)).next())}),fq=document.implementation.createHTMLDocument();function Tg(t,e){const r={};for(const[n,i]of Object.entries(e))r[n]=t.querySelector(i);return r}function dCe(t){return Array.from(t.childNodes||[]).filter(e=>e.nodeType===Node.ELEMENT_NODE)}function To(t){const e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild}function uCe(t){const e=fq.createElement("style");return e.textContent=t,fq.head.appendChild(e),e.sheet}function hCe(t){return window.getComputedStyle(t).display!=="none"}function _c(t,e){if(!t)return;Object.getOwnPropertyDescriptor(t.constructor.prototype,"value").set.call(t,e);const n=t;n._valueTracker&&n._valueTracker.setValue("");const i=new Event("input",{bubbles:!0});i.simulated=!0,t.dispatchEvent(i);const a=new Event("change",{bubbles:!0});a.simulated=!0,t.dispatchEvent(a)}function tee(t,e=!1){let r,n;const i=t.getBoundingClientRect();if(t.style.display==="none"||i.height===0&&i.width===0){const a=t.cloneNode(e);t.parentElement.appendChild(a),a.style.setProperty("display","block","important");const o=a.getBoundingClientRect();r=o.width,n=o.height,a.style.setProperty("display","none"),a.remove()}else r=i.width,n=i.height;return{height:Math.floor(n),width:Math.floor(r)}}function fCe(t){const e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}var mCe=new RegExp("[_a-zA-Z]+[_a-zA-Z0-9-]*","g"),pCe=new RegExp(`\\.${mCe.source}`,"g"),gCe=new RegExp("^\\s*(@(?:media|supports)[^{]*){(.*)}\\s*$");function C_(t,e){return t.replace(pCe,r=>"."+e(r.slice(1)))}function ree(t,e){const n=uCe(t).cssRules;function i(o){if(o instanceof CSSStyleRule)return`${C_(o.selectorText,e)} { ${o.style.cssText} }`;const l=gCe.exec(o.cssText.split(`
`).join(""));if(l&&l.length>2){const u=l[1],h=l[2];return`${u} { ${ree(h,e)} }`}return o.cssText}let a="";for(const o of Array.from(n))a+=i(o)+`

`;return a.trim()}function mq(t,e){const r=Array.from(t.querySelectorAll("[class]"));r.push(t);for(const n of r){const{classList:i}=n;for(const a of Array.from(i))i.remove(a),i.add(e(a))}return t}var cF=1.4;function see(t,e,r=.5){const{center:n,zoom:i}=t.cameraForBounds(e),a=Math.max(i-r,0);return{center:n,zoom:a,speed:cF}}function nee(t){switch(t){case"street":return 15;case"neighborhood":case"postcode":case"locality":case"oaza":return 14;case"place":case"city":return 13;case"district":return 9;case"region":case"prefecture":return 6;case"country":return 4;default:return 16}}function iee(t,e){return`https://api.mapbox.com/styles/v1/${t}/${e}/static/`}var dF='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.8 3.8a1 1 0 0 1 1.4 0L9 7.58l3.8-3.8a1 1 0 1 1 1.4 1.42L10.42 9l3.8 3.8a1 1 0 0 1-1.42 1.4L9 10.42l-3.8 3.8a1 1 0 0 1-1.4-1.42L7.58 9l-3.8-3.8a1 1 0 0 1 0-1.4Z" fill="currentColor"/></svg>',aee='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/></svg>',xCe=iee("mapbox","satellite-streets-v11"),yCe="20d01",vCe=["mapbox.com","mapbox.cn","tilestream.net"],bCe=To(`
<template>
  <div class="MapboxSearch">
    <div class="Label" role="label" aria-live="polite" aria-atomic="true">
    </div>
    <div class="Results" aria-hidden="true">
      <div class="ResultsList" role="listbox">
      </div>
      <div class="ResultsAttribution" aria-hidden="true">
        <a href="https://www.mapbox.com/search-service" target="_blank" tabindex="-1">
          Powered by Mapbox
        </a>
      </div>
    </div>
  </div>
</template>
`),wCe=To(`
<template>
  <div class="Suggestion" role="option" tabindex="-1">
    <div class="SuggestionIcon" aria-hidden="true"></div>
    <div class="SuggestionText">
      <div class="SuggestionName"></div>
      <div class="SuggestionDesc"></div>
    </div>
  </div>
</template>
`),jCe=To(`
<template>
  <div class="SearchBox">
    <div class="SearchIcon"></div>
    <input class="Input" type="text" />
    <div class="ActionIcon">
      <button aria-label="Clear" class="ClearBtn" type="button">${dF}</button>
      <div class="LoadingIcon">${aee}</div>
    </div>
  </div>
</template>
`),NCe=To(`
<template>
  <div class="Geocoder">
    <div class="SearchIcon"></div>
    <input class="Input" type="text" />
    <div class="ActionIcon">
      <button aria-label="Clear" class="ClearBtn" type="button">${dF}</button>
      <div class="LoadingIcon">${aee}</div>
    </div>
  </div>
</template>
`);function eg(){return"mbx"+new hl().id.slice(0,8)}function Hy(t){try{return JSON.parse(t)}catch{return null}}function uF(t,e){if(t==null||e==null||typeof t!="object"||typeof e!="object")return t===e;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r)if(!uF(t[i],e[i]))return!1;return!0}function pq(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}function _Ce(t){return!!t.match(/localhost|[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}|::1|\.local|^$/gi)}function SCe(t){return!!vCe.some(e=>t.includes(e))}var Rb,Nx,_x,Jf=class extends HTMLElement{constructor(){super(...arguments),Je(this,Rb,eg()),Je(this,Nx,void 0),Je(this,_x,t=>`${oe(this,Rb)}--${t}`)}get template(){return null}get templateStyle(){return null}get templateUserStyle(){return null}clonedCallback(t,e){const r=a=>a.replace(t,e);mq(this,r);const n=Array.from(this.querySelectorAll("style"));for(const a of n)a.textContent=C_(a.textContent,r);n.length&&Lt(this,Nx,n[n.length-1]);const i=Array.from(this.querySelectorAll(`[id^="${t}"]`));for(const a of i)a.id=a.id.replace(t,e)}connectedCallback(){if(this.childElementCount>0){const n=this.dataset.seed,i=oe(this,Rb);n&&n!==i&&(this.clonedCallback(n,i),this.dataset.seed=i);return}this.dataset.seed=oe(this,Rb);const t=this.template;if(t){const n=this.prepareTemplate(t);this.appendChild(n)}const e=this.templateStyle;if(e){const n=document.createElement("style");n.textContent=this.prepareCSS(e),this.appendChild(n)}const r=document.createElement("style");this.templateUserStyle&&(r.textContent=this.prepareCSS(this.templateUserStyle)),this.appendChild(r),Lt(this,Nx,r)}prepareTemplate(t){const e=t.content.firstElementChild;return mq(e.cloneNode(!0),oe(this,_x))}prepareCSS(t){return ree(t,oe(this,_x))}updateTemplateUserStyle(t){oe(this,Nx)&&(oe(this,Nx).textContent=this.prepareCSS(t))}querySelector(t){return super.querySelector(C_(t,oe(this,_x)))}querySelectorAll(t){return super.querySelectorAll(C_(t,oe(this,_x)))}addEventListener(t,e,r){super.addEventListener(t,e,r)}removeEventListener(t,e,r){super.removeEventListener(t,e,r)}dispatchEvent(t){return super.dispatchEvent(t)}};Rb=new WeakMap;Nx=new WeakMap;_x=new WeakMap;var kCe='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 16A7 7 0 1 0 9 2a7 7 0 0 0 0 14ZM6.88 4.88a2.58 2.58 0 0 1 1.83-.75h1.08a2.58 2.58 0 0 1 2.59 2.58v.16c0 1-.53 1.94-1.4 2.46l-.56.34c-.27.16-.45.42-.52.71-.03.14-.14.25-.28.25H8.38a.23.23 0 0 1-.24-.25c.08-.91.59-1.74 1.38-2.21l.56-.34c.34-.2.54-.57.54-.96V6.7a.83.83 0 0 0-.83-.83H8.71a.83.83 0 0 0-.84.83v.18a.87.87 0 1 1-1.75 0V6.7c0-.69.28-1.34.76-1.83ZM10 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" fill="currentColor"/></svg>',ACe='<svg width="48" height="56" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#a)"><path d="m24 50.4 13.79-14.12a18.82 18.82 0 0 0 4.23-20.86 19.23 19.23 0 0 0-7.19-8.6 19.76 19.76 0 0 0-21.66 0c-3.21 2.11-5.71 5.1-7.19 8.6a18.82 18.82 0 0 0 4.23 20.86L24 50.4Z" fill="currentColor"/><path d="M37.26 35.75 24 49.34 10.75 35.76l-.01-.01A18.07 18.07 0 0 1 6.68 15.7a18.48 18.48 0 0 1 6.9-8.26 19 19 0 0 1 20.84 0 18.48 18.48 0 0 1 6.9 8.26 18.07 18.07 0 0 1-4.06 20.04Z" stroke="#fff" stroke-width="1.5"/></g><circle cx="24" cy="22.45" fill="#fff" r="5.85"/><defs><filter id="a" x=".5" y=".6" width="47" height="54.8" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset dy="1"/><feGaussianBlur stdDeviation="2"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_17_871"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_17_871" result="shape"/></filter></defs></svg>',CCe=`<svg width="24" height="24" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M1.08 14.94 5.625 3.06h1.17l-3.42 11.88H1.08Zm15.885 0L12.42 3.06h-1.17l3.42 11.88h2.295Zm-6.86-1.44H7.946l.128-2.61h1.912l.119 2.61Zm-.217-4.77H8.181l.088-1.8h1.537l.082 1.8ZM9.74 5.49h-1.4l.049-.99h1.306l.045.99Z" fill="currentColor" />
</svg>`,ECe=`<!-- TODO: I'm not sure if the way I added the circle will "scale" properly, need to check that -->
<svg width="24" height="24" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
  <path fill="none" stroke="currentColor" stroke-width="1.5" d="M4 7a5 5 0 1 1 10 0c0 3.025-3.28 6.713-5 9-1.72-2.287-5-5.975-5-9z"></path>
    <circle cx="9" cy="7" r="2" fill="currentColor"></circle>
</svg>`,TCe=`<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
  <path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>
</svg>`,PCe="@mapbox/search-js-web",ME="1.1.0",MCe=`https://api.mapbox.com/search-js/v${ME}/img/style-toggle-satellite.jpg`,LCe=`https://api.mapbox.com/search-js/v${ME}/img/style-toggle-default.jpg`,OCe=767,DCe=`@media only screen and (max-width: ${OCe}px)`,hF={variables:{unit:["mobile","16px","14px"],unitHeader:["mobile","24px","18px"],minWidth:"min(300px, 100vw)",spacing:"0.75em",padding:"0.5em 0.75em",paddingFooterLabel:"0.5em 0.75em",paddingModal:"1.25em",colorText:"rgba(0, 0, 0, 0.75)",colorPrimary:"#4264FB",colorSecondary:"#667F91",colorBackground:"#fff",colorBackgroundHover:"#f5f5f5",colorBackgroundActive:"#f0f0f0",colorBackdrop:"rgba(102, 127, 145, 0.3)",border:"none",borderRadius:"4px",boxShadow:`
      0 0 10px 2px rgba(0, 0, 0, 0.05),
      0 0 6px 1px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(0, 0, 0, 0.1)
    `,lineHeight:"1.2em",fontFamily:`
      -apple-system, BlinkMacSystemFont,
      avenir next, avenir,
      segoe ui,
      helvetica neue, helvetica,
      Ubuntu, roboto, noto, arial, sans-serif
    `,fontWeight:"normal",fontWeightSemibold:"600",fontWeightBold:"bold",duration:"150ms",curve:"ease-out"},icons:{close:dF,question:kCe,marker:ACe,street:CCe,addressMarker:ECe,search:TCe},images:{styleToggleDefault:LCe,styleToggleSatellite:MCe}};function Xa(t,e={}){const r=Rr(Rr({},hF.variables),e.variables||{});let n=e.cssText||"",i="";for(const[a,o]of Object.entries(r)){if(!Array.isArray(o)){i+=`--${a}: ${o};`;continue}if(o[0]!=="mobile"){const h=JSON.stringify(o);throw new Error(`Unsupported expression in theme variables: ${a} ${h}`)}const[,l,u]=o;n+=`${DCe} { ${t} { --${a}: ${l} !important; } }`,i+=`--${a}: ${u};`}return n+`${t} { ${i} }`}function ol(t,e={}){return Rr(Rr({},hF.icons),e.icons||{})[t]}function RCe(t,e={}){return Rr(Rr({},hF.images),e.images||{})[t]}var Sx,vR,gq=class{constructor(t,e,r){Je(this,Sx,void 0),Je(this,vR,{placement:"bottom-start",flip:!1,offset:10}),this.update=()=>zy(this,null,function*(){const n={placement:this.options.placement,middleware:[SAe(this.options.offset),this.options.flip&&_Ae()].filter(Boolean)},{x:i,y:a}=yield PAe(this.referenceEl,this.floatingEl,n);Object.assign(this.floatingEl.style,{left:`${i}px`,top:`${a}px`})}),this.referenceEl=t,this.floatingEl=e,Lt(this,Sx,Rr(Rr({},oe(this,vR)),r)),this.destroy=TAe(this.referenceEl,this.floatingEl,this.update)}get options(){return oe(this,Sx)}set options(t){Lt(this,Sx,Rr(Rr({},oe(this,Sx)),t))}};Sx=new WeakMap;vR=new WeakMap;var Pg="*{box-sizing:border-box!important}[role=button]{cursor:pointer}.MapboxSearch{--width:0;display:none}.Results{background-color:var(--colorBackground);border:var(--border);border-radius:var(--borderRadius);box-shadow:var(--boxShadow);color:var(--colorText);font-family:var(--fontFamily);font-size:var(--unit);font-weight:var(--fontWeight);line-height:var(--lineHeight);min-width:var(--minWidth);overflow-y:auto;position:absolute;transform:translateZ(0);transition:visibility var(--duration);width:var(--width);z-index:1000}.Results:not([aria-hidden=true]){visibility:visible}.Results[aria-hidden=true]{animation:fadein var(--duration) var(--curve) reverse forwards;visibility:hidden}.Suggestion{align-items:center;display:flex;padding:var(--padding)}.Suggestion:hover{cursor:pointer}.Suggestion[aria-selected=true]{background-color:var(--colorBackgroundHover)}.Suggestion:active{background-color:var(--colorBackgroundActive)}.SuggestionName{font-weight:var(--fontWeightBold)}.SuggestionIcon{margin-right:6px}.SuggestionIcon[aria-hidden=true]{display:none}.ResultsAttribution{padding:var(--paddingFooterLabel)}.ResultsAttribution a{color:var(--colorSecondary)}.ResultsAttribution a:not(:hover){text-decoration:none}.ResultsList{list-style:none;margin:0;padding:0}.Label{display:none}.Geocoder,.SearchBox{background-color:var(--colorBackground);border:var(--border);border-radius:var(--borderRadius);box-shadow:var(--boxShadow);color:var(--colorText);font-family:var(--fontFamily);font-size:var(--unit);font-weight:var(--fontWeight);line-height:var(--lineHeight);padding:var(--padding);padding-bottom:0;padding-top:0;position:relative;width:100%}.SearchIcon{fill:#757575;left:.5em}.ActionIcon,.SearchIcon{bottom:0;height:20px;margin:auto 0;position:absolute;top:0;width:20px}.ActionIcon{right:.5em}.ActionIcon>button{background:none;border:none;color:inherit;cursor:pointer;font:inherit;height:100%;outline:inherit;padding:0;width:100%}.ActionIcon>button:hover{background:none!important}.ClearBtn{display:none}.ClearBtn:hover{color:#909090}.LoadingIcon{-moz-animation:rotate .8s cubic-bezier(.45,.05,.55,.95) infinite;-webkit-animation:rotate .8s cubic-bezier(.45,.05,.55,.95) infinite;animation:rotate .8s cubic-bezier(.45,.05,.55,.95) infinite;display:none;height:100%}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.Input{background-color:transparent;border:0;color:#404040;color:rgba(0,0,0,.75);font:inherit;height:36px;margin:0;overflow:hidden;padding:0 40px;text-overflow:ellipsis;white-space:nowrap;width:100%}.Input::-ms-clear{display:none}.Input:focus{border:thin dotted;border-radius:var(--borderRadius);box-shadow:none;color:#404040;color:rgba(0,0,0,.75);outline:0}mapbox-address-confirmation-feature[aria-hidden=true],mapbox-address-confirmation-no-feature[aria-hidden=true]{display:none}.MapboxAddressConfirmation{align-items:center;background-color:var(--colorBackdrop);bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;transform:translateZ(0);z-index:1000}.MapboxAddressConfirmation:not([aria-hidden=true]){animation:fadein var(--duration) var(--curve) forwards;visibility:visible}.MapboxAddressConfirmation[aria-hidden=true]{visibility:hidden}.ContentFeature,.ContentNoFeature{width:var(--minWidth)}.Modal{background-color:var(--colorBackground);border:var(--border);border-radius:var(--borderRadius);box-shadow:var(--boxShadow);color:var(--colorText);font-family:var(--fontFamily);font-size:var(--unit);font-weight:var(--fontWeight);line-height:var(--lineHeight);padding:var(--paddingModal);width:100%}@media screen and (max-width:480px){.MapboxAddressConfirmation{align-items:flex-end}.ContentFeature,.ContentNoFeature{width:100%}.Modal{border-bottom-left-radius:0;border-bottom-right-radius:0}}.ModalHeader{align-items:center;color:var(--colorPrimary);display:flex;font-size:var(--unitHeader);font-weight:var(--fontWeightBold);margin-bottom:var(--spacing);user-select:none;width:100%}.ModalMap{height:calc(var(--minWidth)*9/16);margin-left:calc(var(--paddingModal)*-1);width:calc(100% + var(--paddingModal)*2)}.ModalMap[aria-hidden=true]{display:none}.Icon{height:var(--unitHeader);width:var(--unitHeader)}.Icon.IconClose{color:var(--colorSecondary)}.ModalHeaderTitle{flex:1;margin-left:.25em}.ModalFooter{color:var(--colorSecondary);margin-top:var(--spacing);text-align:center}.ModalFooter[aria-hidden=true]{display:none}.ModalSubheader{font-weight:var(--fontWeightBold);user-select:none}.ModalDescription{color:var(--colorPrimary)}.ModalAddress,.ModalSubheader{margin-bottom:var(--spacing)}.ModalAddress.ModalAddressApprove{color:var(--colorPrimary)}.Button{border-radius:var(--borderRadius);cursor:pointer;font-weight:var(--fontWeightSemibold);margin-top:var(--spacing);padding:var(--padding);text-align:center;user-select:none;width:100%}.Button[aria-hidden=true]{display:none}.Button.ButtonPrimary{background-color:var(--colorPrimary);color:var(--colorBackground)}.Button.ButtonSecondary{border:1px solid var(--colorSecondary);color:var(--colorSecondary)}@keyframes fadein{0%{opacity:0}to{opacity:1}}.MapboxAddressMinimap{font-family:var(--fontFamily);font-size:var(--unit);font-weight:var(--fontWeight);line-height:var(--lineHeight)}.MapboxAddressMinimap[aria-hidden=true]{display:none}.MinimapImageContainer{border-radius:var(--borderRadius);overflow:hidden}.MinimapImage{height:unset;max-height:unset;max-width:unset;position:relative;width:unset}.MinimapInnerFrame{border:var(--border);border-radius:inherit;height:inherit;left:0;overflow:hidden;position:absolute;top:0;width:inherit}.MinimapMarker{left:50%;position:absolute;top:50%}.MinimapMarker>svg{color:var(--colorPrimary);display:block!important}.MinimapAttributionLogo{bottom:0;left:0;margin:0 0 6px 6px;position:absolute}.MinimapAttributionLogo a{cursor:pointer;display:block;height:23px;width:88px}.MinimapAttributionText{background-color:hsla(0,0%,100%,.65);bottom:0;font:11px/16px Helvetica Neue,Arial,Helvetica,sans-serif;padding:0 5px;position:absolute;right:0}.MinimapAttributionText a{color:rgba(0,0,0,.75);text-decoration:none}.MinimapAttributionText a:hover{color:inherit;text-decoration:underline}.MinimapAttributionText a:not(:first-child){margin-left:3px}.MinimapStyleToggle{background-position:0;background-repeat:no-repeat;background-size:contain;border:2px solid #fff;border-radius:3px;box-shadow:var(--boxShadow);cursor:pointer;height:2em;position:absolute;right:var(--spacing);top:var(--spacing);width:2em}.MinimapFooter{color:var(--colorSecondary);font-family:var(--fontFamily);font-size:var(--unit);margin-top:var(--spacing)}.MinimapFooter[aria-hidden=true]{display:none}.MinimapEditButtons{bottom:26px;display:flex;font-family:var(--fontFamily);position:absolute;right:var(--spacing)}.MinimapEditButtons .Button{box-shadow:var(--boxShadow)}.MinimapButtonCancel{background-color:var(--colorBackground);margin-left:var(--spacing)}.draggable{cursor:move;cursor:grab}.draggable:active{cursor:grabbing}",Ms=class extends CustomEvent{constructor(t,e){super(t,{composed:!0,detail:e})}clone(t){const e=new Ms(this.type,this.detail);return t&&Object.defineProperty(e,"target",{value:t}),e}},ICe="Type in 2 or more characters for results.",FCe="When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.",BCe="No search results.",$Ce=(t,e,r)=>`${e} ${e===1?"result is":"results are"} available. ${t}. ${r} of ${e} is selected.`,zCe=t=>`${t} ${t===1?"result is":"results are"} available. Use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.`;function oee(t){const e=t.currentTarget;(t.key===" "||t.key==="Enter")&&(t.preventDefault(),t.stopPropagation(),e.dispatchEvent(new MouseEvent("click",{bubbles:!0,composed:!0})))}var lee="search-listbox__description",fF=t=>{const e=document.createElement("div");e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.setAttribute("role","status"),e.setAttribute("style","border: 0px;clip: rect(0px, 0px, 0px, 0px);height: 1px;margin-bottom: -1px;margin-right: -1px;overflow: hidden;padding: 0px;position: absolute;white-space: nowrap;width: 1px;");const r=document.createElement("div");return r.setAttribute("id",`${t}--${lee}`),e.appendChild(r),e},xq=(t,e)=>{var r;const n=(r=document.body.querySelector(`[id="${e}--${lee}"]`))!=null?r:null;n&&(n.textContent=t)},HCe=t=>{t.name=t.name+" address-search",t.setAttribute("data-lpignore","true")},WCe=(t,e,r)=>{let n=null;const i=!e||e.length===0;if((t==null?void 0:t.length)<2)n=ICe+" "+FCe;else if(i)n=BCe;else if(r!==void 0){const a=e[r],o=a.name||a.feature_name||a.properties.name;n=$Ce(o,e.length,r+1)}else n=zCe(e.length);return n},bR=(t,e)=>{switch(e){case 0:return t.matching_name||t.feature_name||t.address_line1;case 2:return t.name;case 1:return t.properties.name;default:return""}},VCe=(t,e)=>{switch(e){case 0:return t.description;case 2:return t.feature_type==="poi"?t.full_address:t.place_formatted;case 1:return t.properties.place_formatted;default:return""}};function Y3(t,e){return`${t}-${e}`}var Di,ia,Ib,Bd,Fb,E_,Bb,T_,wR,jR,cee,P_,M_,L_,Dw,$b,kx,O_,fN=class extends Jf{constructor(){super(...arguments),Je(this,T_),Je(this,jR),this.suggestions=null,Je(this,Di,null),Je(this,ia,void 0),Je(this,Ib,void 0),Je(this,Bd,void 0),Je(this,Fb,void 0),Je(this,E_,null),Je(this,Bb,void 0),Je(this,P_,{}),Je(this,M_,{}),Je(this,L_,t=>{const{Results:e}=oe(this,ia),r=t.target;if(r.dataset.mapboxSuccess){delete r.dataset.mapboxSuccess;return}const n=r.value;this.renderAriaMessage(),e.setAttribute("aria-busy","true"),this.dispatchEvent(new Ms("input",{lastInput:t.data,inputText:n}))}),this.renderAriaMessage=()=>{var t;const e=WCe((t=this.input)==null?void 0:t.value,this.suggestions,this.selectedIndex);xq(e,this.dataset.seed)},this.clearAriaMessage=()=>{xq("",this.dataset.seed)},this.handleSuggest=t=>{if(this.suggestions=t,(!t||t.length===0)&&this.renderAriaMessage(),!t){this.hideResults();return}Ow(this,jR,cee).call(this),t.length&&Ow(this,T_,wR).call(this);const{Results:e}=oe(this,ia);e.setAttribute("aria-busy","false")},this.handleError=()=>{const{Results:t}=oe(this,ia);t.setAttribute("aria-busy","false"),this.hideResults()},Je(this,Dw,(t,e)=>zy(this,null,function*(){const r=this.input;r&&(r.dataset.mapboxSuccess="true");const n={suggestion:t,selectedIndex:e};this.dispatchEvent(new Ms("select",n)),this.hideResults()})),Je(this,$b,()=>{const t=this.input;delete t.dataset.mapboxSuccess,this.dispatchEvent(new Ms("focus")),this.renderAriaMessage(),Ow(this,T_,wR).call(this)}),Je(this,kx,()=>{document.activeElement!==this.input&&(this.dispatchEvent(new Ms("blur")),this.clearAriaMessage(),this.hideResults())}),this.handleArrowUp=()=>{this.selectedIndex===void 0?this.selectedIndex=this.suggestions.length-1:this.selectedIndex===0?this.selectedIndex=void 0:this.selectedIndex=Math.max(0,this.selectedIndex-1)},this.handleArrowDown=()=>{this.selectedIndex===void 0?this.selectedIndex=0:this.selectedIndex===this.suggestions.length-1?this.selectedIndex=void 0:this.selectedIndex=Math.min(this.selectedIndex+1,this.suggestions.length-1)},Je(this,O_,t=>{var e;if((e=this.suggestions)!=null&&e.length){if(t.key==="ArrowDown"){t.preventDefault(),this.handleArrowDown();return}if(t.key==="ArrowUp"){t.preventDefault(),this.handleArrowUp();return}if(t.key==="Escape"){this.hideResults();return}if(this.selectedIndex!==void 0){if(t.key==="Tab"){oe(this,Dw).call(this,this.suggestions[this.selectedIndex],this.selectedIndex);return}if(t.key==="Enter"){t.preventDefault(),oe(this,Dw).call(this,this.suggestions[this.selectedIndex],this.selectedIndex);return}}}})}get template(){return bCe}get templateStyle(){return Pg}get templateUserStyle(){return Xa(".MapboxSearch",this.theme)}get input(){return oe(this,Fb)}set input(t){const e=oe(this,Fb);e&&(e.removeEventListener("input",oe(this,L_)),e.removeEventListener("focus",oe(this,$b)),e.removeEventListener("blur",oe(this,kx)),e.removeEventListener("keydown",oe(this,O_)),oe(this,Di)&&oe(this,Di).destroy()),t&&(t.addEventListener("input",oe(this,L_)),t.addEventListener("focus",oe(this,$b)),t.addEventListener("blur",oe(this,kx)),t.addEventListener("keydown",oe(this,O_)),t.setAttribute("role","combobox"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-controls",oe(this,Bd)),this.isConnected&&Lt(this,Di,new gq(t,oe(this,ia).Results,this.popoverOptions))),Lt(this,Fb,t)}get searchService(){return oe(this,E_)}set searchService(t){Lt(this,E_,t)}get selectedIndex(){return oe(this,Bb)}set selectedIndex(t){const e=oe(this,Bb);Lt(this,Bb,t);const{ResultsList:r}=oe(this,ia),n=Y3(oe(this,Bd),t);if(t!==void 0?(this.input.setAttribute("aria-activedescendant",n),r.setAttribute("aria-activedescendant",n)):(this.input.removeAttribute("aria-activedescendant"),r.removeAttribute("aria-activedescendant")),e!==t){const i=Y3(oe(this,Bd),e),a=r.querySelector(`#${i}`);if(a==null||a.removeAttribute("aria-selected"),a==null||a.setAttribute("tabindex","-1"),t!==void 0){const o=r.querySelector(`#${n}`);o==null||o.setAttribute("aria-selected","true"),o==null||o.setAttribute("tabindex","0")}}this.renderAriaMessage()}hideResults(){const{Results:t,ResultsList:e}=oe(this,ia);t.setAttribute("aria-hidden","true"),this.input.setAttribute("aria-expanded","false"),e.removeAttribute("aria-activedescendant"),this.input.removeAttribute("aria-activedescendant")}renderItem(t){const e=this.prepareTemplate(wCe);return e.id=Y3(oe(this,Bd),t),e}fillItem(t,e,r,n){const i=t.querySelector('[class$="SuggestionIcon"]'),a=t.querySelector('[class$="SuggestionName"]'),o=t.querySelector('[class$="SuggestionDesc"]');this.searchService===0?(i.innerHTML=ol(e.accuracy==="street"?"street":"addressMarker",this.theme),i.removeAttribute("aria-hidden")):i.setAttribute("aria-hidden","true"),a.textContent=o.textContent="",a.textContent=bR(e,this.searchService),o.textContent=VCe(e,this.searchService),r===this.selectedIndex?t.setAttribute("aria-selected","true"):t.removeAttribute("aria-selected"),t.setAttribute("aria-posinset",(r+1).toString()),t.setAttribute("aria-setsize",n.toString())}get theme(){return oe(this,P_)}set theme(t){Lt(this,P_,t),!(!oe(this,ia)||!t)&&this.updateTemplateUserStyle(Xa(".MapboxSearch",t))}get popoverOptions(){return oe(this,M_)}set popoverOptions(t){Lt(this,M_,t),oe(this,Di)&&(oe(this,Di).options=t,oe(this,Di).update())}connectedCallback(){super.connectedCallback(),this.dataSeed=this.dataset.seed,Lt(this,Ib,this.dataset.seed+"-Label"),Lt(this,Bd,this.dataset.seed+"-ResultsList"),this.input&&this.input.setAttribute("aria-controls",oe(this,Bd)),Lt(this,ia,Tg(this,{MapboxSearch:".MapboxSearch",Results:".Results",ResultsList:".ResultsList",Label:".Label"}));const{Results:t,ResultsList:e,Label:r}=oe(this,ia);r.id=oe(this,Ib),e.id=oe(this,Bd),e.setAttribute("aria-labelledby",oe(this,Ib)),t.addEventListener("blur",oe(this,kx)),!oe(this,Di)&&this.input&&Lt(this,Di,new gq(this.input,oe(this,ia).Results,this.popoverOptions)),requestAnimationFrame(()=>{oe(this,Di)&&oe(this,Di).update()})}disconnectedCallback(){this.input=null;const{Results:t}=oe(this,ia);t.removeEventListener("blur",oe(this,kx)),oe(this,Di)&&oe(this,Di).destroy()}focus(){document.activeElement===this.input?oe(this,$b).call(this):this.input.focus()}blur(){this.input.blur()}updatePopover(){oe(this,Di)&&oe(this,Di).update()}};Di=new WeakMap;ia=new WeakMap;Ib=new WeakMap;Bd=new WeakMap;Fb=new WeakMap;E_=new WeakMap;Bb=new WeakMap;T_=new WeakSet;wR=function(){if(!this.suggestions||!this.suggestions.length)return;const{Results:t,MapboxSearch:e}=oe(this,ia),r=this.input.getBoundingClientRect();e.style.setProperty("--width",`${r.width}px`),e.style.setProperty("display","block"),this.input.setAttribute("aria-expanded","true"),t.removeAttribute("aria-hidden"),this.selectedIndex=void 0};jR=new WeakSet;cee=function(){const{ResultsList:t}=oe(this,ia);if(!this.suggestions||!this.suggestions.length){t.innerHTML="",this.hideResults();return}const e=dCe(t);if(this.suggestions.length>e.length)for(let r=e.length;r<this.suggestions.length;r++){const n=this.renderItem(r);e.push(n),n.onmouseenter=()=>{this.selectedIndex=r},n.onmouseleave=()=>{this.selectedIndex=void 0},t.appendChild(n)}if(this.suggestions.length<e.length)for(let r=this.suggestions.length;r<e.length;r++)e[r].remove();for(let r=0;r<this.suggestions.length;r++){const n=this.suggestions[r],i=e[r];this.fillItem(i,n,r,this.suggestions.length),i.onclick=()=>{oe(this,Dw).call(this,n,r)}}};P_=new WeakMap;M_=new WeakMap;L_=new WeakMap;Dw=new WeakMap;$b=new WeakMap;kx=new WeakMap;O_=new WeakMap;window.MapboxSearchListbox=fN;window.customElements.get("mapbox-search-listbox")||customElements.define("mapbox-search-listbox",fN);var UCe=new Set(["street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code"]),qCe=new Set(["off","on","true","false"]);function dee(t){let e=t.parentNode;for(;e;){if(e instanceof HTMLFormElement)return e;e=e.parentNode}return null}function XCe(t){const e=t||document;return Array.from(e.querySelectorAll('input[autocomplete~="address-line1"], input[autocomplete~="street-address"]'))}var YCe="section-",GCe="section-default",ZCe="section-shipping",KCe="section-billing";function mF(t){const e=Array.from(t.querySelectorAll("[autocomplete]")).filter(n=>{const i=n.tagName.toLowerCase();return i==="input"||i==="select"||i==="textarea"}),r=[];for(const n of e){if(!hCe(n))continue;const i=n.getAttribute("autocomplete")||"";if(!i||qCe.has(i))continue;const a=i.toLowerCase().split(" ");if(a.length>3)continue;const o=a[a.length-1];if(!UCe.has(o))continue;a.pop();let l=GCe;if(a.length){const u=a[a.length-1];u==="shipping"&&(l=ZCe,a.pop()),u==="billing"&&(l=KCe,a.pop())}if(a.length){const u=a[a.length-1];u.startsWith(YCe)&&(l=u)}r.push({input:n,section:l,field:o})}return r}function mN(t,e){const r=[],n=[],i=mF(t);let a=null;for(const{input:o,section:l,field:u}of i){let h=r.length-1,f=!1;if(r.length?(n[h]!==l||r[h][u])&&(f=!0):f=!0,f){if(a)break;r.push({[u]:o}),n.push(l),h++}else r[h][u]=o;o===e&&(a=r[h])}return a??{}}function uee(t,e,r){var n;const i=mN(t,e),a=[r.address_line1,r.address_line2,r.address_line3].filter(l=>!!l).join(", ");_c(i["street-address"],i["address-line2"]?r.address_line1||"":a),_c(i["address-line1"],r.address_line1||""),_c(i["address-line2"],r.address_line2||""),_c(i["address-level1"],r.address_level1||""),_c(i["address-level2"],r.address_level2||""),_c(i["address-level3"],r.address_level3||"");const o=r.country_code||((n=r.metadata)==null?void 0:n.iso_3166_1)||"";if(i.country&&i.country instanceof HTMLSelectElement){let l=i.country.querySelector("option").value;l===""&&(l=i.country.querySelectorAll("option")[1].value);const u=l===l.toUpperCase();_c(i.country,u?o.toUpperCase():o)}else _c(i.country,o);_c(i["country-name"],r.country||""),_c(i["postal-code"],r.postcode||"")}function JCe(t,e){const r=mN(t,e),n={};for(const[i,a]of Object.entries(r))a!=null&&a.value&&(n[i]=a.value);return n}function hee(t){const e=[];return t["street-address"]?e.push(t["street-address"]):e.push(t["address-line1"]||""),e.push(t["address-line2"]||""),e.push(t["address-line3"]||""),e.push(t["address-level3"]||""),e.push(t["address-level2"]||""),e.push(t["address-level1"]||""),e.push(t["postal-code"]||""),t["country-name"]?e.push(t["country-name"]):e.push(t.country||""),e.filter(r=>!!r).map(r=>r.trim()).join(", ")}function fee(t,e){const r=dee(e);if(!r)return;const n=nF(t);uee(r,e,n);const i=mN(r,e);i["address-line2"]&&!n.address_line2&&i["address-line2"].focus()}function QCe(t){var e;const r={},n=[t.properties.address_line1,t.properties.address_line2,t.properties.address_line3].filter(i=>!!i).join(", ");return r["street-address"]=n,r["address-line1"]=t.properties.address_line1,r["address-line2"]=t.properties.address_line2,r["address-line3"]=t.properties.address_line3,r["address-level1"]=t.properties.address_level1,r["address-level2"]=t.properties.address_level2,r["address-level3"]=t.properties.address_level3,r.country=(e=t.properties.metadata)==null?void 0:e.iso_3166_1,r["country-name"]=t.properties.country,r["postal-code"]=t.properties.postcode,r}function eEe(t,e){for(const[r,n]of Object.entries(t))if(e[r]!==n)return!0;return!1}var tEe=t=>t.filter((e,r,n)=>{const i=bR(e,0);return e.accuracy!=="street"||n.findIndex(a=>i===bR(a,0))===r}),Qx=(t,e,r)=>{const a=r?e||"address-line1":"new-password";t&&(t.autocomplete=a)},rEe=(t,e,r)=>{if(!t||!r)return;Qx(t,e,!0);const n={properties:Co(Rr({},r),{address_line1:r.address_line1+" ",postcode:null})};fee(n,t),Qx(t,e,!1),t==null||t.focus()},sEe=class{constructor(){this.feedbackEnabled=!0,this.autofillSessionToken=new hl,this.autofillSessionEnabled=!1,this.detectBrowserAutofillEnabled=!1}},ic=new sEe;Object.defineProperty(ic,"autofillSessionToken",{configurable:!1,writable:!1});var nEe=To(`
<template>
  <div class="MapboxAddressConfirmation" aria-hidden="true">
    <mapbox-address-confirmation-feature class="ContentFeature"></mapbox-address-confirmation-feature>
    <mapbox-address-confirmation-no-feature class="ContentNoFeature"></mapbox-address-confirmation-no-feature>
  </div>
</template>
`),D_,Zo,Ax,R_,pF=class extends Jf{constructor(){super(...arguments),Je(this,D_,!1),Je(this,Zo,void 0),Je(this,Ax,void 0),Je(this,R_,{})}get template(){return nEe}get templateStyle(){return Pg}get templateUserStyle(){return Xa(".MapboxAddressConfirmation",this.theme)}get theme(){return oe(this,R_)}set theme(t){if(Lt(this,R_,t),!oe(this,Zo)||!t)return;this.updateTemplateUserStyle(Xa(".MapboxAddressConfirmation",t));const{ContentFeature:e,ContentNoFeature:r}=oe(this,Zo);e.theme=t,r.theme=t}connectedCallback(){super.connectedCallback(),Lt(this,Zo,Tg(this,{MapboxAddressConfirmation:".MapboxAddressConfirmation",ContentFeature:".ContentFeature",ContentNoFeature:".ContentNoFeature"}));const{MapboxAddressConfirmation:t}=oe(this,Zo);t.setAttribute("aria-hidden","true");const e=this.theme;if(e){const{ContentFeature:r,ContentNoFeature:n}=oe(this,Zo);r.theme=e,n.theme=e}}disconnectedCallback(){Lt(this,Ax,null)}hide(){var t;if(Lt(this,D_,!1),!oe(this,Zo))return;const{MapboxAddressConfirmation:e}=oe(this,Zo);e.setAttribute("aria-hidden","true"),(t=oe(this,Ax))==null||t.deactivate(),rq.off()}show(t,e,r){return zy(this,null,function*(){var n;if(!oe(this,Zo))return{type:"cancel"};const{MapboxAddressConfirmation:i,ContentFeature:a,ContentNoFeature:o}=oe(this,Zo),{accessToken:l,minimap:u=!1,theme:h,footer:f}=e;this.theme=h,r?(a.removeAttribute("aria-hidden"),o.setAttribute("aria-hidden","true"),a.minimap=u,a.accessToken=l,a.footer=f,a.update(r,t)):(a.setAttribute("aria-hidden","true"),o.removeAttribute("aria-hidden"),o.update(t)),Lt(this,D_,!0),i.removeAttribute("aria-hidden"),rq.on();const g=r?a:o;return Lt(this,Ax,JAe(i,{fallbackFocus:g,escapeDeactivates:()=>(this.hide(),!0)})),(n=oe(this,Ax))==null||n.activate(),new Promise(y=>{const N=g,_=k=>{N.removeEventListener("result",_);const C=k.detail;this.hide(),y(C==="change"?{type:"change",feature:r}:{type:C})};N.addEventListener("result",_)})})}tryShow(t,e){return zy(this,null,function*(){if(!oe(this,Zo))return{type:"cancel"};const{accessToken:r,options:n={}}=e,i=new IQ(Rr({accessToken:r},n)),a=hee(t),l=(yield i.validate(a,{sessionToken:ic.autofillSessionToken})).features[0];if(l){const u=f=>f.properties.match_code.confidence===BQ.exact,{skipConfirmModal:h=u}=e;if(h(l))return{type:"nochange"}}return yield this.show(t,e,l)})}};D_=new WeakMap;Zo=new WeakMap;Ax=new WeakMap;R_=new WeakMap;window.MapboxAddressConfirmation=pF;window.customElements.get("mapbox-address-confirmation")||customElements.define("mapbox-address-confirmation",pF);var G3=new pF;function iEe(t){return zy(this,arguments,function*(e,r={}){var n;const{sections:i=[]}=r;G3.parentNode||document.body.appendChild(G3);let a={type:"nochange"};const o=XCe(e),l=mF(e),u=Array.from(document.querySelectorAll("mapbox-search-listbox"));for(const h of o){if(i.length){const k=l.find(C=>C.input===h);if(!k||!i.includes(k.section))continue}const f=JCe(e,h),g=u.find(k=>k.input===h),y=g==null?void 0:g.autofillHost;if(y){const k=y.retrieveFeature;if(k){const C=QCe(k);if(!eEe(f,C))continue}}const N=r.accessToken||ic.accessToken,_=yield G3.tryShow(f,Co(Rr({},r),{accessToken:N}));if(_.type==="change"){const k=mN(e,h);if((n=k["address-line2"])!=null&&n.value&&(_.feature.properties.address_line2=k["address-line2"].value),g)y.simulateRetrieve(_.feature);else{h.dataset.mapboxSuccess="true";const C=nF(_.feature);uee(e,h,C)}}_.type==="change"&&a.type!=="cancel"&&(a=_),_.type==="cancel"&&(a=_)}return a})}function mee(t,e,r,n,i){if(e){const a=To(`
        <span>
          <span></span>
          <br />
          <span></span>
        </span>
      `),[o,l]=Array.from(a.querySelectorAll("span > span"));if(r&&n)o.textContent=r,l.textContent=n;else{const u=e.split(",");o.textContent=u[0].trim(),l.textContent=u.slice(1).join(",").trim()}if(!i){if(t["address-line2"]){const u=document.createElement("span");u.textContent=t["address-line2"],a.insertBefore(u,l),a.insertBefore(document.createElement("br"),l)}if(t["address-line3"]){const u=document.createElement("span");u.textContent=t["address-line3"],a.insertBefore(u,l),a.insertBefore(document.createElement("br"),l)}}return a}else{const a=t["street-address"]||t["address-line1"]||"",o=t["address-line2"],l=t["address-line3"],u=[t["address-level4"]||"",t["address-level3"]||"",t["address-level2"]||"",`${t["address-level1"]||""} ${t["postal-code"]||""}`,t.country||t["country-name"]||""].filter(Boolean).join(", "),f=[a,o,l,u].filter(Boolean).map(y=>`<span>${y}</span>`).join("<br />");return To(`
        <span>${f}</span>
      `)}}function aEe(t,e,r,n){return zy(this,null,function*(){if(!r)return;const i=dee(t),a=Object.values(mN(i,t));if(!e.detail.elements.some(y=>a.includes(y)))return;const o=mF(i),u=o.find(y=>y.input===t).section,h=Array.from(new Set(o.filter(y=>e.detail.elements.includes(y.input)).map(y=>y.section)));if(!h.includes(u))return;const f=typeof r=="object"&&r.sections||[];if(f.length&&!f.some(y=>h.includes(y)))return;let g=typeof r=="object"?r:{};g=Co(Rr({},g),{accessToken:n,sections:[u]}),yield iEe(i,g)})}var oEe="https://contribute-api.mapbox.com/v1",lEe="https://contribute-api-staging.tilestream.net/v1",cEe="edit-suggestion";function pee(t,e){if(!ic.feedbackEnabled)return;const r=window.location.hostname,i=`${_Ce(r)||SCe(r)?lEe:oEe}/${cEe}/address?access_token=${t}`,{originalCoordinate:a,originalAddress:o,changes:l}=e,u={action:"update",reason:"incorrect_address",location:{longitude:a[0],latitude:a[1]},userEmail:"no-reply-autofill@mapbox.com",changes:l,placeName:o};fetch(i,{method:"POST",headers:new Headers({"User-Agent":`mapbox-search-js.${ME}.${navigator.userAgent}`,"Content-Type":"application/json"}),body:JSON.stringify(u)})}var dEe=To(`
<template>
  <div class="MapboxAddressConfirmationFeature">
    <div class="Modal" aria-modal="true" role="dialog">
      <div class="ModalHeader">
        <svg viewBox="0 0 18 18" class="Icon IconQuestion"></svg>
        <div class="ModalHeaderTitle">Did you mean?</div>
        <svg
          viewBox="0 0 18 18"
          class="Icon IconClose"
          tabindex="0"
          role="button"
          title="Close"
          aria-label="Close"
          aria-expanded="true"
        ></svg>
      </div>

      <div class="ModalAddress ModalAddressApprove"></div>
            
      <div class="ModalMap">
        <mapbox-address-minimap class="Minimap"></mapbox-address-minimap>
      </div>

      <div
        class="Button ButtonPrimary ButtonApprove"
        tabindex="0"
        role="button"
        aria-label="Yes"
      >
        Yes
      </div>
      
      <div
        class="Button ButtonSecondary ButtonReject"
        tabindex="0"
        role="button"
        aria-label="No, use the address I provided"
      >
        No, use the address I provided
      </div>

      <div class="ModalFooter">
          Your confirmation helps improve address data accuracy.
      </div>
    </div>
  </div>
</template>
`),$d,I_,zb,F_,B_,$_,z_,H_,gee=class extends Jf{constructor(){super(...arguments),Je(this,$d,void 0),Je(this,I_,{}),this.minimap=!1,Je(this,zb,void 0),Je(this,F_,void 0),this.update=(t,e)=>{var r;Lt(this,zb,t),Lt(this,F_,e);const{ModalMap:n,Minimap:i,ModalAddressApprove:a}=oe(this,$d);if(this.minimap){if(n.removeAttribute("aria-hidden"),i.accessToken=this.accessToken,typeof this.minimap=="object"){const{defaultMapStyle:l,theme:u,mapStyleMode:h,satelliteToggle:f}=this.minimap;l&&(i.defaultMapStyle=this.minimap.defaultMapStyle),u&&(i.theme=this.minimap.theme),h&&(i.mapStyleMode=h),f!==void 0&&(i.satelliteToggle=f)}i.feature=t}else n.setAttribute("aria-hidden","true");const o=t.properties.place_name||t.properties.full_address||t.properties.address;a.innerHTML="",a.appendChild(mee(e,o,t.properties.feature_name,t.properties.description,((r=t.properties.place_type)==null?void 0:r[0])==="secondary_address"))},Je(this,B_,()=>{this.dispatchEvent(new Ms("result","cancel"))}),this.approve=()=>{this.dispatchEvent(new Ms("result","change"))},this.reject=()=>{this.dispatchEvent(new Ms("result","nochange")),pee(this.accessToken,{originalCoordinate:oe(this,zb).geometry.coordinates,originalAddress:oe(this,zb).properties.full_address,changes:{address:hee(oe(this,F_))}})},Je(this,$_,eg()),Je(this,z_,eg()),Je(this,H_,eg())}get template(){return dEe}get templateStyle(){return Pg}get templateUserStyle(){return Xa(".MapboxAddressConfirmationFeature",this.theme)}get theme(){return oe(this,I_)}set theme(t){if(Lt(this,I_,t),!oe(this,$d)||!t)return;this.updateTemplateUserStyle(Xa(".MapboxAddressConfirmationFeature",t));const{IconQuestion:e,IconClose:r}=oe(this,$d);e.innerHTML=ol("question",t),r.innerHTML=ol("close",t)}set footer(t){if(t===void 0)return;const e=this.querySelector(".ModalFooter");typeof t=="string"?(e.textContent=t,e.removeAttribute("aria-hidden")):t?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden","true")}connectedCallback(){super.connectedCallback(),Lt(this,$d,Tg(this,{MapboxAddressConfirmationFeature:".MapboxAddressConfirmationFeature",Modal:".Modal",ModalHeaderTitle:".ModalHeaderTitle",ModalMap:".ModalMap",Minimap:".Minimap",IconQuestion:".IconQuestion",IconClose:".IconClose",ButtonApprove:".ButtonApprove",ButtonReject:".ButtonReject",ModalAddressApprove:".ModalAddressApprove"}));const{Modal:t,ModalHeaderTitle:e,IconClose:r,ButtonApprove:n,ButtonReject:i,ModalAddressApprove:a}=oe(this,$d);t.setAttribute("aria-labelledby",oe(this,z_)),t.setAttribute("aria-describedby",oe(this,H_)),r.setAttribute("aria-controls",oe(this,$_)),t.id=oe(this,$_),e.id=oe(this,z_),a.id=oe(this,H_);const o=Array.from(this.querySelectorAll('[role="button"]'));for(const u of o)u.addEventListener("keydown",oee);r.addEventListener("click",oe(this,B_)),n.addEventListener("click",this.approve),i.addEventListener("click",this.reject);const l=this.theme;if(l){const{IconQuestion:u,IconClose:h}=oe(this,$d);u.innerHTML=ol("question",l),h.innerHTML=ol("close",l)}}disconnectedCallback(){const{IconClose:t,ButtonApprove:e}=oe(this,$d);t.removeEventListener("click",oe(this,B_)),e.removeEventListener("click",this.approve)}};$d=new WeakMap;I_=new WeakMap;zb=new WeakMap;F_=new WeakMap;B_=new WeakMap;$_=new WeakMap;z_=new WeakMap;H_=new WeakMap;window.MapboxAddressConfirmationFeature=gee;window.customElements.get("mapbox-address-confirmation-feature")||customElements.define("mapbox-address-confirmation-feature",gee);var uEe=To(`
<template>
  <div class="MapboxAddressConfirmationNoFeature">
    <div class="Modal" aria-modal="true" role="dialog">
      <div class="ModalHeader">
        <svg viewBox="0 0 18 18" class="Icon IconQuestion"></svg>
        <div class="ModalHeaderTitle">Confirm address</div>
        <svg
          viewBox="0 0 18 18"
          class="Icon IconClose"
          tabindex="0"
          role="button"
          title="Close"
          aria-label="Close"
          aria-expanded="true"
        ></svg>
      </div>
      <div class="ModalDescription">
        We couldn't verify this address. Please check that your information is correct before continuing.
      </div>
      <br />
      <div class="ModalSubheader">
        You entered
      </div>
      <div class="ModalAddress"></div>
      <div
        class="Button ButtonPrimary"
        tabindex="0"
        role="button"
        aria-label="Use the address I provided"
      >
        Use the address I provided
      </div>
    </div>
  </div>
</template>
`),zd,W_,V_,U_,q_,X_,xee=class extends Jf{constructor(){super(...arguments),Je(this,zd,void 0),Je(this,W_,{}),this.update=t=>{const{ModalAddress:e}=oe(this,zd);e.innerHTML="",e.appendChild(mee(t))},Je(this,V_,()=>{this.dispatchEvent(new Ms("result","cancel"))}),this.reject=()=>{this.dispatchEvent(new Ms("result","nochange"))},Je(this,U_,eg()),Je(this,q_,eg()),Je(this,X_,eg())}get template(){return uEe}get templateStyle(){return Pg}get templateUserStyle(){return Xa(".MapboxAddressConfirmationNoFeature",this.theme)}get theme(){return oe(this,W_)}set theme(t){if(Lt(this,W_,t),!oe(this,zd)||!t)return;this.updateTemplateUserStyle(Xa(".MapboxAddressConfirmationNoFeature",t));const{IconQuestion:e,IconClose:r}=oe(this,zd);e.innerHTML=ol("question",t),r.innerHTML=ol("close",t)}connectedCallback(){super.connectedCallback(),Lt(this,zd,Tg(this,{Modal:".Modal",ModalHeaderTitle:".ModalHeaderTitle",IconQuestion:".IconQuestion",IconClose:".IconClose",ModalAddress:".ModalAddress",ButtonReject:".Button"}));const{Modal:t,ModalHeaderTitle:e,IconClose:r,ModalAddress:n,ButtonReject:i}=oe(this,zd);t.setAttribute("aria-labelledby",oe(this,q_)),t.setAttribute("aria-describedby",oe(this,X_)),r.setAttribute("aria-controls",oe(this,U_)),t.id=oe(this,U_),e.id=oe(this,q_),n.id=oe(this,X_);const a=Array.from(this.querySelectorAll('[role="button"]'));for(const l of a)l.addEventListener("keydown",oee);r.addEventListener("click",oe(this,V_)),i.addEventListener("click",this.reject);const o=this.theme;if(o){const{IconQuestion:l,IconClose:u}=oe(this,zd);l.innerHTML=ol("question",o),u.innerHTML=ol("close",o)}}disconnectedCallback(){const{IconClose:t,ButtonReject:e}=oe(this,zd);t.removeEventListener("click",oe(this,V_)),e.removeEventListener("click",this.reject)}};zd=new WeakMap;W_=new WeakMap;V_=new WeakMap;U_=new WeakMap;q_=new WeakMap;X_=new WeakMap;window.MapboxAddressConfirmationNoFeature=xee;window.customElements.get("mapbox-address-confirmation-no-feature")||customElements.define("mapbox-address-confirmation-no-feature",xee);var hEe='input:-webkit-autofill,select:-webkit-autofill,textarea:-webkit-autofill{animation-name:onbrowserautofillstart}input:not(:-webkit-autofill),select:not(:-webkit-autofill),textarea:not(:-webkit-autofill){animation-name:onbrowserautofillcancel}@keyframes onbrowserautofillstart{0%{animation-name:"onbrowserautofillstart"}to{animation-name:"onbrowserautofillstart"}}@keyframes onbrowserautofillcancel{0%{animation-name:"onbrowserautofillcancel"}to{animation-name:"onbrowserautofillcancel"}}',VA="browser-autofilled",NR=[];function fEe(){window.dispatchEvent(new window.CustomEvent("browserautofill",{bubbles:!0,cancelable:!0,detail:{elements:NR}})),NR=[]}var mEe=$Q(fEe,5);function yee(t){t.hasAttribute(VA)||(t.setAttribute(VA,""),NR.push(t),mEe())}function vee(t){t.hasAttribute(VA)&&t.removeAttribute(VA)}function pEe(t){t.animationName==="onbrowserautofillstart"?yee(t.target):vee(t.target)}function gEe(t){const e=t.target;e.nodeName.toLowerCase()!=="select"&&!t.simulated&&!(t instanceof Ms)&&(t.inputType==="insertReplacementText"||!("data"in t))?yee(e):vee(e)}function xEe(){ic.detectBrowserAutofillEnabled||(ic.detectBrowserAutofillEnabled=!0,fCe(hEe),document.addEventListener("animationstart",pEe,!0),document.addEventListener("input",gEe,!0))}var gF=(t,e)=>{if(typeof t=="string")if(t==="ip"){const r=e==null?void 0:e.get("ip-proximity");return r&&typeof r=="string"?r.split(",").map(parseFloat):[999,999]}else return t.split(",").map(Number);else return vn.convert(t).toArray()},yEe=t=>{const e={};return t.bbox&&(typeof t.bbox=="string"?e.bbox=t.bbox.split(",").map(Number):e.bbox=_o.convert(t.bbox).toFlatArray()),t.proximity&&(e.proximity=gF(t.proximity)),t.country&&(e.country=t.country.split(",")),t.language&&(e.language=t.language.split(",")),t.types&&(typeof t.types=="string"?e.types=t.types.split(","):e.types=Array.from(t.types)),t.limit&&(typeof t.limit=="string"?e.limit=parseInt(t.limit):e.limit=t.limit),e},vEe=(t,e)=>{const r={};return t.bbox&&(typeof t.bbox=="string"?r.bbox=t.bbox.split(",").map(Number):r.bbox=_o.convert(t.bbox).toFlatArray()),t.proximity&&(r.proximity=gF(t.proximity,e)),t.country&&(r.country=t.country.split(",")),t.language&&(r.language=t.language.split(",")),t.types&&(typeof t.types=="string"?r.types=t.types.split(","):r.types=Array.from(t.types)),t.limit&&(typeof t.limit=="string"?r.limit=parseInt(t.limit):r.limit=t.limit),typeof t.autocomplete=="boolean"&&(r.autocomplete=t.autocomplete),t.worldview&&(r.worldview=t.worldview),t.permanent&&(r.permanent=t.permanent),r},bEe=(t,e)=>{const r={};return t.bbox&&(typeof t.bbox=="string"?r.bbox=t.bbox.split(",").map(Number):r.bbox=_o.convert(t.bbox).toFlatArray()),t.proximity&&(r.proximity=gF(t.proximity,e)),t.country&&(r.country=t.country.split(",")),t.language&&(r.language=t.language.split(",")),t.limit&&(typeof t.limit=="string"?r.limit=parseInt(t.limit):r.limit=t.limit),t.streets!==void 0&&t.streets!==null&&(typeof t.streets=="string"?r.streets=t.streets==="true":r.streets=t.streets),r},wEe=(t,e,r)=>{switch(e){case 2:return yEe(t);case 1:return vEe(t,r);case 0:return bEe(t,r)}},jEe=t=>({suggestionIds:t.map(e=>e.mapbox_id||""),suggestionNames:t.map(e=>e.feature_type==="poi"?[e.name,e.full_address].filter(Boolean).join(", "):e.full_address?e.full_address:e.name),suggestionTypes:t.map(e=>e.feature_type||""),suggestionSources:t.map(()=>"mapbox")}),NEe=t=>({suggestionIds:t.map(e=>e.properties.mapbox_id||e.id||""),suggestionNames:t.map(e=>e.properties.full_address||""),suggestionTypes:t.map(e=>e.properties.feature_type||""),suggestionSources:t.map(()=>"mapbox")}),_Ee=t=>({suggestionIds:t.map(e=>e.mapbox_id||""),suggestionNames:t.map(e=>e.full_address||""),suggestionTypes:t.map(e=>{var r;return((r=e.place_type)==null?void 0:r[0])||""}),suggestionSources:t.map(()=>"mapbox")}),SEe=(t,e)=>{switch(e){case 2:return jEe(t);case 1:return NEe(t);case 0:return _Ee(t)}},yq=(t,e)=>{switch(t){case 2:return"search/searchbox/v1/suggest";case 1:return`search/geocode/v6/${/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/.test(e)?"reverse":"forward"}`;case 0:return"autofill/v1/suggest"}},_R,SR,Am,Y_,kR,Cm,Hb,Wb,Vb,Ub,AR,Cx,Hd,CR,ER,TR,qb,PR,MR,LR,OR,DR,RR,Xb,Em,Yb,xF=class{constructor(t){Je(this,_R,"https://api.mapbox.com"),Je(this,SR,"events/v2"),Je(this,Am,void 0),Je(this,Y_,void 0),Je(this,kR,navigator.language||null),Je(this,Cm,[]),Je(this,Hb,""),Je(this,Wb,0),Je(this,Vb,!0),Je(this,Ub,1e3),Je(this,AR,100),Je(this,Cx,void 0),Je(this,Hd,void 0),this.start=(e,r,n,i)=>{Lt(this,Am,r.accessToken);const a=oe(this,qb).call(this,"search.start",{queryString:e,options:r,map:n,responseHeaders:i});a&&oe(this,Yb).call(this,a)},this.input=(e,r,n,i,a)=>{if(Lt(this,Am,n.accessToken),oe(this,Vb)&&(this.start(e,n,i,a),Lt(this,Vb,!1)),!r)return;const o=oe(this,qb).call(this,"search.keystroke",{lastInput:r,queryString:e,options:n,map:i,responseHeaders:a});o&&oe(this,Yb).call(this,o)},this.select=(e,r,n,i,a,o)=>{Lt(this,Am,i.accessToken);const l=oe(this,qb).call(this,"search.select",{queryString:e,selectedIndex:r,suggestions:n,options:i,map:a,responseHeaders:o});l&&(l.resultIndex===oe(this,Wb)&&l.queryString===oe(this,Hb)||l.resultIndex===-1||(Lt(this,Wb,l.resultIndex),Lt(this,Hb,l.queryString),oe(this,Yb).call(this,l)))},this.clear=()=>{Lt(this,Vb,!0),Lt(this,Hb,""),Lt(this,Wb,0),oe(this,Em).call(this)},Je(this,CR,e=>{const r=`${oe(this,_R)}/${oe(this,SR)}?access_token=${oe(this,Am)}`,n=oe(this,ER).call(this,e);try{fetch(r,n)}catch(i){oe(this,TR).call(this,i)}}),Je(this,ER,e=>(Array.isArray(e)||(e=[e]),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),Je(this,TR,e=>{console.log(e)}),Je(this,qb,(e,r)=>{if(e==="search.select"&&!(typeof r.selectedIndex=="number"||r.suggestions)||e==="search.keystroke"&&!r.lastInput)return null;const n=wEe(r.options,oe(this,Hd),r.responseHeaders),i=oe(this,PR).call(this,e,r,n);return e==="search.keystroke"?oe(this,MR).call(this,i,r,n):e==="search.select"&&oe(this,LR).call(this,i,r,n),oe(this,RR).call(this,i)?i:null}),Je(this,PR,(e,r,n)=>{let i={event:e,version:oe(this,DR).call(this,e),created:+new Date,sessionIdentifier:r.options.sessionToken,userAgent:oe(this,Y_),keyboardLocale:oe(this,kR),queryString:r.queryString};if(n&&(i=Rr(Rr({},i),n)),e==="search.start")for(const a of["streets","permanent"])delete i[a];if(r.map){const a=r.map.getZoom()||void 0,o=r.map.getCenter();i=Co(Rr({},i),{mapZoom:a,mapCenterLat:o.lat,mapCenterLng:o.lng})}return i}),Je(this,MR,(e,r,n)=>{switch(oe(this,Hd)){case 0:n.streets&&(e.streets=n.streets);break;case 1:n.permanent&&(e.permanent=n.permanent);break}e.path=yq(oe(this,Hd),r.queryString),e.lastAction=r.lastInput}),Je(this,LR,(e,r,n)=>{switch(oe(this,Hd)){case 0:n.streets&&(e.streets=n.streets);break;case 1:n.permanent&&(e.permanent=n.permanent);break}e.path=yq(oe(this,Hd),r.queryString);const{selectedIndex:i,suggestions:a}=r;if(a&&a.length>0){const o=SEe(a,oe(this,Hd));e.resultIndex=i,e.resultPlaceName=o.suggestionNames[i],e.resultId=o.suggestionIds[i],e.resultId.startsWith("dXJuOm1ie")&&(e.resultMapboxId=e.resultId),e.suggestionIds=o.suggestionIds,e.suggestionNames=o.suggestionNames,e.suggestionTypes=o.suggestionTypes,e.suggestionSources=o.suggestionSources}}),Je(this,OR,()=>`mapbox.${PCe.split("/")[1]}.${ME}.${navigator.userAgent}`),Je(this,DR,e=>["search.keystroke","search.select"].includes(e)?"2.2":"2.0"),Je(this,RR,e=>{if(!e||!e.event)return!1;const r=["event","created","sessionIdentifier","queryString"],n=["event","created","sessionIdentifier","queryString","lastAction"],i=["event","created","sessionIdentifier","queryString","resultIndex","path","suggestionIds"],a=e.event;return a==="search.start"?oe(this,Xb).call(this,e,r):a==="search.keystroke"?oe(this,Xb).call(this,e,n):a==="search.select"?oe(this,Xb).call(this,e,i):!0}),Je(this,Xb,(e,r)=>r.every(n=>n==="queryString"?typeof e[n]=="string"&&e[n].length>0:e[n]!==void 0)),Je(this,Em,()=>{oe(this,Cm).length>0&&oe(this,Am)&&(oe(this,CR).call(this,oe(this,Cm)),Lt(this,Cm,[])),oe(this,Cx)&&clearTimeout(oe(this,Cx)),oe(this,Ub)&&Lt(this,Cx,setTimeout(oe(this,Em),oe(this,Ub)))}),Je(this,Yb,(e,r)=>{oe(this,Cm).push(e),(oe(this,Cm).length>=oe(this,AR)||r)&&oe(this,Em).call(this)}),this.remove=()=>{oe(this,Em).call(this)},Lt(this,Hd,t),Lt(this,Y_,oe(this,OR).call(this)),Lt(this,Cx,setTimeout(oe(this,Em),oe(this,Ub)))}};_R=new WeakMap;SR=new WeakMap;Am=new WeakMap;Y_=new WeakMap;kR=new WeakMap;Cm=new WeakMap;Hb=new WeakMap;Wb=new WeakMap;Vb=new WeakMap;Ub=new WeakMap;AR=new WeakMap;Cx=new WeakMap;Hd=new WeakMap;CR=new WeakMap;ER=new WeakMap;TR=new WeakMap;qb=new WeakMap;PR=new WeakMap;MR=new WeakMap;LR=new WeakMap;OR=new WeakMap;DR=new WeakMap;RR=new WeakMap;Xb=new WeakMap;Em=new WeakMap;Yb=new WeakMap;var Ih,Ca,Ea,ys,Ex,Fh,Gb,G_,Z_,Zb,K_,J_,Q_,eS,tS,rS,sS,IR,yF=class extends Jf{constructor(){super(...arguments),Je(this,Ih,new AQ),Je(this,Ca,new sF(oe(this,Ih))),Je(this,Ea,void 0),Je(this,ys,new fN),Je(this,Ex,new xF(0)),Je(this,Fh,void 0),this.options={},this.confirmOnBrowserAutofill=!1,Je(this,Gb,!1),Je(this,G_,t=>{const e=t!=null&&t.suggestions?tEe(t.suggestions):null;oe(this,ys).handleSuggest(e),this.dispatchEvent(new Ms("suggest",t))}),Je(this,Z_,t=>{oe(this,ys).handleError(),this.dispatchEvent(new Ms("suggesterror",t))}),Je(this,Zb,t=>{var e;if(this.dispatchEvent(new Ms("retrieve",t)),this.retrieveFeature=(e=t.features)==null?void 0:e[0],!oe(this,Ea))return;const r=t;!r||!r.features||!r.features.length||fee(r.features[0],oe(this,Ea))}),Je(this,K_,()=>{var t;try{const e=(t=this.querySelector("input"))!=null?t:null;Lt(this,Ea,e),oe(this,ys).input=e}catch(e){Lt(this,Ea,null),oe(this,ys).input=null,console.error(e.message||e)}}),Je(this,J_,new MutationObserver(oe(this,K_))),Je(this,Q_,t=>{oe(this,ys).blur(),aEe(oe(this,Ea),t,this.confirmOnBrowserAutofill,this.accessToken)}),this.retrieveFeature=null,this.interceptSearch=null,Je(this,eS,t=>{this.dispatchEvent(new Ms("input",t.detail.inputText));const{lastInput:e,inputText:r}=t.detail,n=this.browserAutofillEnabled===!0&&(r==null?void 0:r.length)<=2;if(Qx(oe(this,Ea),oe(this,Fh),n),!r){oe(this,IR).call(this);return}const i=this.interceptSearch&&this.interceptSearch(r),a=this.interceptSearch?i:r;if(this.interceptSearch&&!i||(a==null?void 0:a.length)<=2){oe(this,ys).handleSuggest(null);return}oe(this,Ca).suggest(a,this.options),oe(this,Ex).input(a,e,Co(Rr({},this.options),{sessionToken:oe(this,Ca).sessionToken,accessToken:this.accessToken}),null,oe(this,Ih).responseHeaders)}),Je(this,tS,t=>{const{suggestion:e,selectedIndex:r}=t.detail;e.accuracy!=="street"?(Qx(oe(this,Ea),oe(this,Fh),!0),oe(this,Ca).retrieve(e,this.options),oe(this,Ex).select(this.input.value,r,oe(this,ys).suggestions,Co(Rr({},this.options),{sessionToken:oe(this,Ca).sessionToken,accessToken:this.accessToken}),null,oe(this,Ih).responseHeaders)):rEe(oe(this,Ea),oe(this,Fh),e)}),Je(this,rS,()=>{Qx(oe(this,Ea),oe(this,Fh),!0),oe(this,Ca).abort()}),Je(this,sS,()=>{var t;const e=this.browserAutofillEnabled===!0&&((t=oe(this,Ea).value)==null?void 0:t.length)<=2;Qx(oe(this,Ea),oe(this,Fh),e)}),Je(this,IR,()=>{oe(this,ys).handleSuggest(null),oe(this,Ex).clear()})}get accessToken(){return oe(this,Ih).accessToken}set accessToken(t){oe(this,Ih).accessToken=t}get input(){return oe(this,Ea)}get theme(){return oe(this,ys).theme}set theme(t){oe(this,ys).theme=t}get popoverOptions(){return oe(this,ys).popoverOptions}set popoverOptions(t){oe(this,ys).popoverOptions=t}get browserAutofillEnabled(){return oe(this,Gb)}set browserAutofillEnabled(t){Lt(this,Gb,t)}connectedCallback(){var t;super.connectedCallback(),ic.autofillSessionEnabled=!0,oe(this,Ca).sessionToken=ic.autofillSessionToken.id,oe(this,ys).autofillHost=this,oe(this,ys).searchService=0;const e=(t=this.querySelector("input"))!=null?t:null;oe(this,J_).observe(this,{subtree:!0,childList:!0}),oe(this,K_).call(this),oe(this,ys).addEventListener("input",oe(this,eS)),oe(this,ys).addEventListener("select",oe(this,tS)),oe(this,ys).addEventListener("blur",oe(this,rS)),oe(this,ys).addEventListener("focus",oe(this,sS)),oe(this,Ca).addEventListener("suggest",oe(this,G_)),oe(this,Ca).addEventListener("suggesterror",oe(this,Z_)),oe(this,Ca).addEventListener("retrieve",oe(this,Zb)),document.body.appendChild(oe(this,ys)),e&&(e.insertAdjacentElement("beforebegin",fF(oe(this,ys).dataSeed)),HCe(e),Lt(this,Fh,e.autocomplete)),xEe(),window.addEventListener("browserautofill",oe(this,Q_))}disconnectedCallback(){oe(this,ys).remove(),oe(this,ys).removeEventListener("input",oe(this,eS)),oe(this,ys).removeEventListener("select",oe(this,tS)),oe(this,ys).removeEventListener("blur",oe(this,rS)),oe(this,ys).removeEventListener("focus",oe(this,sS)),oe(this,Ca).removeEventListener("suggest",oe(this,G_)),oe(this,Ca).removeEventListener("suggesterror",oe(this,Z_)),oe(this,Ca).removeEventListener("retrieve",oe(this,Zb)),oe(this,Ex).remove(),oe(this,J_).disconnect(),window.removeEventListener("browserautofill",oe(this,Q_))}attributeChangedCallback(t,e,r){if(t==="access-token"){oe(this,Ih).accessToken=r;return}if(t==="browser-autofill-enabled"){Lt(this,Gb,!!r);return}if(t==="theme"){this.theme=Hy(r);return}if(t==="popover-options"){this.popoverOptions=Hy(r);return}const n=t.split("-").join("_");r||delete this.options[n],this.options[n]=r}focus(){oe(this,ys).focus()}simulateRetrieve(t){const e=this.input;e&&(e.dataset.mapboxSuccess="true"),oe(this,ys).hideResults();const r={type:"FeatureCollection",features:[t],url:""};oe(this,Zb).call(this,r)}};Ih=new WeakMap;Ca=new WeakMap;Ea=new WeakMap;ys=new WeakMap;Ex=new WeakMap;Fh=new WeakMap;Gb=new WeakMap;G_=new WeakMap;Z_=new WeakMap;Zb=new WeakMap;K_=new WeakMap;J_=new WeakMap;Q_=new WeakMap;eS=new WeakMap;tS=new WeakMap;rS=new WeakMap;sS=new WeakMap;IR=new WeakMap;yF.observedAttributes=["access-token","browser-autofill-enabled","theme","popover-options","css-text","language","country","bbox","limit","proximity","streets"];window.MapboxAddressAutofill=yF;window.customElements.get("mapbox-address-autofill")||customElements.define("mapbox-address-autofill",yF);var kEe={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"",ja:"",lv:"Meklt",pt:"Procurar",sr:"",zh:"",cs:"Vyhledvn",hu:"Keress",ka:"",nb:"Ske",sk:"Vyhadvanie",th:"",fi:"Hae",is:"Leita",ko:"",pl:"Szukaj",sl:"Iskanje",fa:"",ru:""},bee={placeholder:kEe},AEe=9,kc,Tx,Ta,Tl,Ac,Rs,Px,FR,wee,Mx,nS,iS,aS,Tm,oS,lS,Kb,cS,dS,Bh,uS,hS,vF=class extends Jf{constructor(){super(...arguments),Je(this,FR),Je(this,kc,void 0),Je(this,Tx,new OQ({})),Je(this,Ta,new sF(oe(this,Tx))),Je(this,Tl,null),Je(this,Ac,void 0),Je(this,Rs,new fN),Je(this,Px,new xF(2)),this.options={},this.componentOptions={},Je(this,Mx,void 0),Je(this,nS,t=>{oe(this,Bh).call(this),oe(this,Rs).handleSuggest((t==null?void 0:t.suggestions)||null),this.dispatchEvent(new Ms("suggest",t))}),Je(this,iS,t=>{oe(this,Bh).call(this),oe(this,Rs).handleError(),this.dispatchEvent(new Ms("suggesterror",t))}),Je(this,aS,t=>{oe(this,Bh).call(this),this.dispatchEvent(new Ms("retrieve",t));const e=t;if(!e||!e.features.length)return;const r=nF(e.features[0]);oe(this,Ac).value=r.name;const n=oe(this,Tl);if(!n)return;const i=e.features[0];if(!i)return;const a=i.properties.feature_type,o=i.properties.bbox;if(o)n.flyTo(see(n,_o.convert(o).toFlatArray()));else{const l=i.geometry.coordinates,u=nee(a);n.flyTo({center:l,zoom:u,speed:cF})}this.marker&&this.mapboxgl&&oe(this,lS).call(this,i)}),Je(this,Tm,void 0),Je(this,oS,()=>{oe(this,Tm)&&(oe(this,Tm).remove(),Lt(this,Tm,null))}),Je(this,lS,t=>{if(!oe(this,Tl)||(oe(this,oS).call(this),!t))return;const r=Rr(Rr({},{color:"#4668F2"}),typeof this.marker=="object"&&this.marker);Lt(this,Tm,new this.mapboxgl.Marker(r)),t.geometry&&t.geometry.type&&t.geometry.type==="Point"&&t.geometry.coordinates&&oe(this,Tm).setLngLat(t.geometry.coordinates).addTo(oe(this,Tl))}),this.interceptSearch=null,Je(this,Kb,t=>{this.dispatchEvent(new Ms("input",t.detail.inputText));const{lastInput:e,inputText:r}=t.detail;if(!r){oe(this,uS).call(this);return}const n=this.interceptSearch&&this.interceptSearch(r),i=this.interceptSearch?n:r;if(this.interceptSearch&&!n){oe(this,Rs).hideResults();return}oe(this,Ta).suggest(i,Rr(Rr({},this.options),this.componentOptions)),oe(this,Px).input(i,e,Co(Rr({},this.options),{sessionToken:oe(this,Ta).sessionToken,accessToken:this.accessToken}),oe(this,Tl)),oe(this,Bh).call(this,!0)}),Je(this,cS,t=>{const{suggestion:e,selectedIndex:r}=t.detail;oe(this,Ta).retrieve(e,this.options),oe(this,Px).select(this.value,r,oe(this,Rs).suggestions,Co(Rr({},this.options),{sessionToken:oe(this,Ta).sessionToken,accessToken:this.accessToken}),oe(this,Tl)),oe(this,Bh).call(this,!0)}),Je(this,dS,()=>{oe(this,Ta).abort()}),Je(this,Bh,(t=!1)=>{t?(oe(this,kc).ClearBtn.style.display="none",oe(this,kc).LoadingIcon.style.display="block"):(oe(this,kc).LoadingIcon.style.display="none",oe(this,kc).ClearBtn.style.display=this.value?"block":"none")}),Je(this,uS,()=>{this.value="",oe(this,Bh).call(this),oe(this,lS).call(this,null),oe(this,Rs).handleSuggest(null),oe(this,Px).clear(),oe(this,Ta).incrementSession(),this.dispatchEvent(new Ms("clear"))}),this.marker=!0,Je(this,hS,()=>{const t=oe(this,Tl),e=Rr({},this.options);if(t.getZoom()<=AEe){delete e.proximity,this.options=e;return}const r=t.getCenter();this.options=Co(Rr({},e),{proximity:r})})}get accessToken(){return oe(this,Tx).accessToken}set accessToken(t){oe(this,Tx).accessToken=t}get value(){return oe(this,Ac).value}set value(t){oe(this,Ac).value=t||""}get input(){return oe(this,Ac)}get template(){return jCe}get templateStyle(){return Pg}get templateUserStyle(){return Xa(".SearchBox",oe(this,Rs).theme)}get theme(){return oe(this,Rs).theme}set theme(t){if(oe(this,Rs).theme=t,!oe(this,kc)||!t)return;this.updateTemplateUserStyle(Xa(".SearchBox",t)),oe(this,Rs).updatePopover();const{SearchIcon:e}=oe(this,kc);e.innerHTML=ol("search",t)}get popoverOptions(){return oe(this,Rs).popoverOptions}set popoverOptions(t){oe(this,Rs).popoverOptions=t}get placeholder(){return oe(this,Mx)||Ow(this,FR,wee).call(this)}set placeholder(t){Lt(this,Mx,t),oe(this,Ac)&&(oe(this,Ac).placeholder=this.placeholder,oe(this,Ac).setAttribute("aria-label",this.placeholder))}connectedCallback(){super.connectedCallback(),Lt(this,kc,Tg(this,{SearchBox:".SearchBox",SearchIcon:".SearchIcon",Input:".Input",ClearBtn:".ClearBtn",LoadingIcon:".LoadingIcon"})),this.theme=Rr({},this.theme);const{Input:t,ClearBtn:e}=oe(this,kc);Lt(this,Ac,t),oe(this,Rs).input=t,oe(this,Rs).searchService=2,oe(this,Rs).addEventListener("input",oe(this,Kb)),oe(this,Rs).addEventListener("select",oe(this,cS)),oe(this,Rs).addEventListener("blur",oe(this,dS)),oe(this,Ta).addEventListener("suggest",oe(this,nS)),oe(this,Ta).addEventListener("suggesterror",oe(this,iS)),oe(this,Ta).addEventListener("retrieve",oe(this,aS)),e.addEventListener("click",oe(this,uS)),this.placeholder=oe(this,Mx),this.parentElement.appendChild(oe(this,Rs)),t&&(t.previousElementSibling.hasAttribute("aria-live")&&t.previousElementSibling.remove(),t.insertAdjacentElement("beforebegin",fF(oe(this,Rs).dataSeed)))}disconnectedCallback(){oe(this,Rs).remove(),oe(this,Rs).input=null,oe(this,Rs).removeEventListener("input",oe(this,Kb)),oe(this,Rs).removeEventListener("select",oe(this,cS)),oe(this,Rs).removeEventListener("blur",oe(this,dS)),oe(this,Ta).removeEventListener("suggest",oe(this,nS)),oe(this,Ta).removeEventListener("suggesterror",oe(this,iS)),oe(this,Ta).removeEventListener("retrieve",oe(this,aS)),oe(this,Px).remove()}attributeChangedCallback(t,e,r){if(t==="access-token"){oe(this,Tx).accessToken=r;return}if(t==="theme"){this.theme=Hy(r);return}if(t==="popover-options"){this.popoverOptions=Hy(r);return}if(t==="placeholder"){this.placeholder=r;return}if(t==="allow-reverse"){this.componentOptions.allowReverse=r==="true";return}if(t==="flip-coordinates"){this.componentOptions.flipCoordinates=r==="true";return}const n=t.split("-").join("_");r||delete this.options[n],this.options[n]=r,n==="language"&&(this.placeholder=oe(this,Mx))}focus(){oe(this,Rs).focus()}search(t){this.value=t;const e={lastInput:t,inputText:t};oe(this,Kb).call(this,new Ms("input",e))}bindMap(t){oe(this,Tl)&&oe(this,Tl).off("moveend",oe(this,hS)),t&&t.on("moveend",oe(this,hS)),Lt(this,Tl,t)}unbindMap(){this.bindMap(null)}onAdd(t){this.bindMap(t),this.remove();const e=document.createElement("div");return e.className="mapboxgl-ctrl",e.style.width="300px",e.appendChild(this),e}onRemove(){this.remove(),this.unbindMap(),oe(this,oS).call(this)}getDefaultPosition(){return"top-right"}};kc=new WeakMap;Tx=new WeakMap;Ta=new WeakMap;Tl=new WeakMap;Ac=new WeakMap;Rs=new WeakMap;Px=new WeakMap;FR=new WeakSet;wee=function(){if(this.options.language){const t=this.options.language.split(",")[0],e=eee.language(t),r=bee.placeholder[e];if(r)return r}return"Search"};Mx=new WeakMap;nS=new WeakMap;iS=new WeakMap;aS=new WeakMap;Tm=new WeakMap;oS=new WeakMap;lS=new WeakMap;Kb=new WeakMap;cS=new WeakMap;dS=new WeakMap;Bh=new WeakMap;uS=new WeakMap;hS=new WeakMap;vF.observedAttributes=["access-token","theme","popover-options","placeholder","allow-reverse","flip-coordinates","language","country","bbox","limit","navigation-profile","origin","proximity","eta-type","types"];window.MapboxSearchBox=vF;window.customElements.get("mapbox-search-box")||customElements.define("mapbox-search-box",vF);var CEe=9,Cc,$h,Pa,Pl,Ec,Is,Lx,BR,jee,Ox,fS,mS,pS,Pm,gS,xS,Jb,yS,vS,zh,bS,wS,bF=class extends Jf{constructor(){super(...arguments),Je(this,BR),Je(this,Cc,void 0),Je(this,$h,new pAe({})),Je(this,Pa,new sF(oe(this,$h))),Je(this,Pl,null),Je(this,Ec,void 0),Je(this,Is,new fN),Je(this,Lx,new xF(1)),this.options={},this.componentOptions={},Je(this,Ox,void 0),Je(this,fS,t=>{oe(this,zh).call(this),oe(this,Is).handleSuggest((t==null?void 0:t.features)||null),this.dispatchEvent(new Ms("suggest",t))}),Je(this,mS,t=>{oe(this,zh).call(this),oe(this,Is).handleError(),this.dispatchEvent(new Ms("suggesterror",t))}),Je(this,pS,t=>{oe(this,zh).call(this),this.dispatchEvent(new Ms("retrieve",t));const e=t;if(!e)return;oe(this,Ec).value=e.properties.full_address;const r=oe(this,Pl);if(!r)return;const n=e.properties.feature_type,i=e.properties.bbox;if(i)r.flyTo(see(r,_o.convert(i).toFlatArray()));else{const a=e.geometry.coordinates,o=nee(n);r.flyTo({center:a,zoom:o,speed:cF})}this.marker&&this.mapboxgl&&oe(this,xS).call(this,e)}),Je(this,Pm,void 0),Je(this,gS,()=>{oe(this,Pm)&&(oe(this,Pm).remove(),Lt(this,Pm,null))}),Je(this,xS,t=>{if(!oe(this,Pl)||(oe(this,gS).call(this),!t))return;const r=Rr(Rr({},{color:"#4668F2"}),typeof this.marker=="object"&&this.marker);Lt(this,Pm,new this.mapboxgl.Marker(r)),t.geometry&&t.geometry.type&&t.geometry.type==="Point"&&t.geometry.coordinates&&oe(this,Pm).setLngLat(t.geometry.coordinates).addTo(oe(this,Pl))}),this.interceptSearch=null,Je(this,Jb,t=>{this.dispatchEvent(new Ms("input",t.detail.inputText));const{lastInput:e,inputText:r}=t.detail;if(!r){oe(this,bS).call(this);return}const n=this.interceptSearch&&this.interceptSearch(r),i=this.interceptSearch?n:r;if(this.interceptSearch&&!n){oe(this,Is).hideResults();return}oe(this,Pa).suggest(i,Rr(Rr({},this.options),this.componentOptions)),oe(this,Lx).input(i,e,Co(Rr({},this.options),{sessionToken:oe(this,Pa).sessionToken,accessToken:this.accessToken}),oe(this,Pl),oe(this,$h).responseHeaders),oe(this,zh).call(this,!0)}),Je(this,yS,t=>{const{suggestion:e,selectedIndex:r}=t.detail;oe(this,Pa).retrieve(e,this.options),oe(this,Lx).select(this.value,r,oe(this,Is).suggestions,Co(Rr({},this.options),{sessionToken:oe(this,Pa).sessionToken,accessToken:this.accessToken}),oe(this,Pl),oe(this,$h).responseHeaders),oe(this,zh).call(this,!0)}),Je(this,vS,()=>{oe(this,Pa).abort()}),Je(this,zh,(t=!1)=>{t?(oe(this,Cc).ClearBtn.style.display="none",oe(this,Cc).LoadingIcon.style.display="block"):(oe(this,Cc).LoadingIcon.style.display="none",oe(this,Cc).ClearBtn.style.display=this.value?"block":"none")}),Je(this,bS,()=>{this.value="",oe(this,zh).call(this),oe(this,xS).call(this,null),oe(this,Is).handleSuggest(null),oe(this,Lx).clear(),oe(this,Pa).incrementSession(),this.dispatchEvent(new Ms("clear"))}),this.marker=!0,Je(this,wS,()=>{const t=oe(this,Pl),e=Rr({},this.options);if(t.getZoom()<=CEe){delete e.proximity,this.options=e;return}const r=t.getCenter();this.options=Co(Rr({},e),{proximity:r})})}get accessToken(){return oe(this,$h).accessToken}set accessToken(t){oe(this,$h).accessToken=t}get value(){return oe(this,Ec).value}set value(t){oe(this,Ec).value=t||""}get input(){return oe(this,Ec)}get template(){return NCe}get templateStyle(){return Pg}get templateUserStyle(){return Xa(".Geocoder",oe(this,Is).theme)}get theme(){return oe(this,Is).theme}set theme(t){if(oe(this,Is).theme=t,!oe(this,Cc)||!t)return;this.updateTemplateUserStyle(Xa(".Geocoder",t)),oe(this,Is).updatePopover();const{SearchIcon:e}=oe(this,Cc);e.innerHTML=ol("search",t)}get popoverOptions(){return oe(this,Is).popoverOptions}set popoverOptions(t){oe(this,Is).popoverOptions=t}get placeholder(){return oe(this,Ox)||Ow(this,BR,jee).call(this)}set placeholder(t){Lt(this,Ox,t),oe(this,Ec)&&(oe(this,Ec).placeholder=this.placeholder,oe(this,Ec).setAttribute("aria-label",this.placeholder))}connectedCallback(){super.connectedCallback(),Lt(this,Cc,Tg(this,{Geocoder:".Geocoder",SearchIcon:".SearchIcon",Input:".Input",ClearBtn:".ClearBtn",LoadingIcon:".LoadingIcon"})),this.theme=Rr({},this.theme);const{Input:t,ClearBtn:e}=oe(this,Cc);Lt(this,Ec,t),oe(this,Is).input=t,oe(this,Is).searchService=1,oe(this,Is).addEventListener("input",oe(this,Jb)),oe(this,Is).addEventListener("select",oe(this,yS)),oe(this,Is).addEventListener("blur",oe(this,vS)),oe(this,Pa).addEventListener("suggest",oe(this,fS)),oe(this,Pa).addEventListener("suggesterror",oe(this,mS)),oe(this,Pa).addEventListener("retrieve",oe(this,pS)),e.addEventListener("click",oe(this,bS)),this.placeholder=oe(this,Ox),this.parentElement.appendChild(oe(this,Is)),t&&(t.previousElementSibling.hasAttribute("aria-live")&&t.previousElementSibling.remove(),t.insertAdjacentElement("beforebegin",fF(oe(this,Is).dataSeed)))}disconnectedCallback(){oe(this,Is).remove(),oe(this,Is).input=null,oe(this,Is).removeEventListener("input",oe(this,Jb)),oe(this,Is).removeEventListener("select",oe(this,yS)),oe(this,Is).removeEventListener("blur",oe(this,vS)),oe(this,Pa).removeEventListener("suggest",oe(this,fS)),oe(this,Pa).removeEventListener("suggesterror",oe(this,mS)),oe(this,Pa).removeEventListener("retrieve",oe(this,pS)),oe(this,Lx).remove()}attributeChangedCallback(t,e,r){if(t==="access-token"){oe(this,$h).accessToken=r;return}if(t==="theme"){this.theme=Hy(r);return}if(t==="popover-options"){this.popoverOptions=Hy(r);return}if(t==="placeholder"){this.placeholder=r;return}if(t==="flip-coordinates"){this.componentOptions.flipCoordinates=r==="true";return}const n=t.split("-").join("_");r||delete this.options[n],this.options[n]=r,n==="language"&&(this.placeholder=oe(this,Ox))}focus(){oe(this,Is).focus()}search(t){this.value=t;const e={lastInput:t,inputText:t};oe(this,Jb).call(this,new Ms("input",e))}bindMap(t){oe(this,Pl)&&oe(this,Pl).off("moveend",oe(this,wS)),t&&t.on("moveend",oe(this,wS)),Lt(this,Pl,t)}unbindMap(){this.bindMap(null)}onAdd(t){this.bindMap(t),this.remove();const e=document.createElement("div");return e.className="mapboxgl-ctrl",e.style.width="300px",e.appendChild(this),e}onRemove(){this.remove(),this.unbindMap(),oe(this,gS).call(this)}getDefaultPosition(){return"top-right"}};Cc=new WeakMap;$h=new WeakMap;Pa=new WeakMap;Pl=new WeakMap;Ec=new WeakMap;Is=new WeakMap;Lx=new WeakMap;BR=new WeakSet;jee=function(){if(this.options.language){const t=this.options.language.split(",")[0],e=eee.language(t),r=bee.placeholder[e];if(r)return r}return"Search"};Ox=new WeakMap;fS=new WeakMap;mS=new WeakMap;pS=new WeakMap;Pm=new WeakMap;gS=new WeakMap;xS=new WeakMap;Jb=new WeakMap;yS=new WeakMap;vS=new WeakMap;zh=new WeakMap;bS=new WeakMap;wS=new WeakMap;bF.observedAttributes=["access-token","theme","popover-options","placeholder","allow-reverse","flip-coordinates","autocomplete","language","country","bbox","limit","proximity","types","worldview","permanent"];window.MapboxGeocoder=bF;window.customElements.get("mapbox-geocoder")||customElements.define("mapbox-geocoder",bF);var vq=new nCe({size:512,antimeridian:!0}),vx=1280;function bq(t,e){const{width:r,height:n}=tee(t,!0);switch(e){case"center":return[0,0];case"top":return[0,n/2];case"bottom":return[0,-1*n/2];case"left":return[r/2,0];case"right":return[-1*r/2,0];case"top-left":return[r/2,n/2];case"top-right":return[-1*r/2,n/2];case"bottom-left":return[r/2,-1*n/2];case"bottom-right":return[-1*r/2,-1*n/2]}}var jS,$R,Dx,NS,_S,zR,SS,kS,HR,AS,CS,Rx,WR,ES,EEe=class{constructor(t,e,r,n,i,a){Je(this,jS,void 0),Je(this,$R,()=>{[this.anchorOffsetX,this.anchorOffsetY]=bq(this.markerElement,this.anchor),this.markerTransform={anchorX:this.anchorOffsetX,anchorY:this.anchorOffsetY}}),Je(this,Dx,{anchorX:0,anchorY:0,globalX:0,globalY:0,correctionX:0,correctionY:0}),Je(this,NS,!1),Je(this,_S,void 0),Je(this,zR,l=>{this.isActive&&(l.preventDefault(),l.stopPropagation(),oe(this,Rx).call(this,l),window.addEventListener("pointermove",oe(this,kS)),window.addEventListener("pointerup",oe(this,SS)))}),Je(this,SS,()=>{window.removeEventListener("pointermove",oe(this,kS)),window.removeEventListener("pointerup",oe(this,SS))}),Je(this,kS,l=>{l.preventDefault(),l.stopPropagation();const u=this.curPointerXPos-l.pageX,h=this.curPointerYPos-l.pageY;this.markerDeltaX+=u,this.markerDeltaY-=h,this.markerDeltaX=Math.max(Math.min(this.imgElement.width/2,this.markerDeltaX),this.imgElement.width/2*-1),this.markerDeltaY=Math.max(Math.min(this.imgElement.height/2,this.markerDeltaY),this.imgElement.height/2*-1);const f=this.imgCenterPx[0]-this.imgCenterAdjustedPx[0],g=this.imgCenterPx[1]-this.imgCenterAdjustedPx[1],y=this.markerDeltaX-f,N=this.markerDeltaY+g;this.markerTransform={globalX:y,globalY:N},oe(this,Rx).call(this,l)}),Je(this,HR,l=>{this.isActive&&(l.preventDefault(),l.stopPropagation(),oe(this,Rx).call(this,l),window.addEventListener("pointermove",oe(this,CS)),window.addEventListener("pointerup",oe(this,AS)))}),Je(this,AS,()=>{window.removeEventListener("pointermove",oe(this,CS)),window.removeEventListener("pointerup",oe(this,AS))}),Je(this,CS,l=>{l.preventDefault();let u=Math.round(this.imgContainerElement.scrollTop+(this.curPointerYPos-l.pageY));u=Math.max(Math.min(this.imgElement.height-this.imgContainerElement.clientHeight,u),0);let h=Math.round(this.imgContainerElement.scrollLeft+(this.curPointerXPos-l.pageX));h=Math.max(Math.min(this.imgElement.width-this.imgContainerElement.clientWidth,h),0),this.imgContainerElement.scrollTop=u,this.imgContainerElement.scrollLeft=h;const f=Math.round(h-(this.imgElement.width-this.imgContainerElement.clientWidth)/2),g=Math.round((this.imgElement.height-this.imgContainerElement.clientHeight)/2-u);if(this.imgCenterAdjustedPx=[this.imgCenterPx[0]+f,this.imgCenterPx[1]-g],!this.keepMarkerCentered){const y=this.markerDeltaX+f,N=this.markerDeltaY+g;this.markerTransform={globalX:y,globalY:N}}oe(this,ES).call(this,h,u),oe(this,Rx).call(this,l)}),Je(this,Rx,l=>{this.curPointerXPos=l.pageX,this.curPointerYPos=l.pageY}),Je(this,WR,()=>{const{anchorX:l,anchorY:u,globalX:h,globalY:f,correctionX:g,correctionY:y}=oe(this,Dx),N=l-h+g,_=u+f+y;this.markerElement.style.transform=`translate(calc(-50% + ${N}px), calc(-50% + ${_}px))`}),this.reCenter=()=>{const l=(this.imgElement.height-this.imgContainerElement.clientHeight)/2,u=(this.imgElement.width-this.imgContainerElement.clientWidth)/2;this.imgContainerElement.scrollTop=l,this.imgContainerElement.scrollLeft=u,this.imgCenterAdjustedPx=this.imgCenterPx,this.markerDeltaX=this.markerDeltaY=0,this.markerTransform={globalX:0,globalY:0,correctionX:0,correctionY:0}},this.handleMinimapResize=()=>{if(!this.imgElement.height||!this.imgElement.width)return;const l=this.imgCenterOffset.x,u=this.imgCenterOffset.y,h=this.imgElement.width/2-l-this.imgContainerElement.clientWidth/2,f=this.imgElement.height/2-u-this.imgContainerElement.clientHeight/2;this.imgContainerElement.scrollLeft=h,this.imgContainerElement.scrollTop=f,oe(this,ES).call(this,h,f)},Je(this,ES,(l,u)=>{const h=this.imgCenterOffset.x,f=this.imgCenterOffset.y,{correctionX:g,correctionY:y}=this.markerTransform,N={};if(l/2<h*-1){const _=h*-1-l/2;N.correctionX=_*2}else l<0?N.correctionX=l:g!==0&&(N.correctionX=0);if(u/2<f*-1){const _=f*-1-u/2;N.correctionY=_*2}else u<0?N.correctionY=u:y!==0&&(N.correctionY=0);this.markerTransform=N}),this.markerElement=r,this.imgContainerElement=t,this.imgElement=e,this.keepMarkerCentered=n,this.zoom=i,this.anchor=a,this.curPointerXPos=0,this.curPointerYPos=0,this.markerDeltaX=0,this.markerDeltaY=0,this.imgContainerElement.addEventListener("pointerdown",oe(this,HR)),this.keepMarkerCentered||this.markerElement.addEventListener("pointerdown",oe(this,zR)),new ResizeObserver(oe(this,$R)).observe(this.markerElement)}get anchor(){return oe(this,jS)}set anchor(t){Lt(this,jS,t),[this.anchorOffsetX,this.anchorOffsetY]=bq(this.markerElement,t),this.markerTransform={anchorX:this.anchorOffsetX,anchorY:this.anchorOffsetY}}get markerTransform(){return oe(this,Dx)}set markerTransform(t){Lt(this,Dx,Rr(Rr({},oe(this,Dx)),t)),oe(this,WR).call(this)}get isActive(){return oe(this,NS)}set isActive(t){this.imgContainerElement.style.touchAction=t?"none":"",Lt(this,NS,t)}get coordinate(){const t=this.keepMarkerCentered?this.imgCenterAdjustedPx:[this.imgCenterPx[0]-this.markerDeltaX,this.imgCenterPx[1]+this.markerDeltaY];if(uF(t,this.imgCenterPx))return oe(this,_S);{const e=vq.ll(t,this.zoom);return[pq(e[0],6),pq(e[1],6)]}}set coordinate(t){Lt(this,_S,t),this.imgCenterPx=this.imgCenterAdjustedPx=vq.px(t,this.zoom)}get imgCenterOffset(){return{x:this.imgCenterPx[0]-this.imgCenterAdjustedPx[0],y:this.imgCenterPx[1]-this.imgCenterAdjustedPx[1]}}};jS=new WeakMap;$R=new WeakMap;Dx=new WeakMap;NS=new WeakMap;_S=new WeakMap;zR=new WeakMap;SS=new WeakMap;kS=new WeakMap;HR=new WeakMap;AS=new WeakMap;CS=new WeakMap;Rx=new WeakMap;WR=new WeakMap;ES=new WeakMap;var TEe='<svg width="88" height="23" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill-rule="evenodd"><defs><path id="g" d="M11.5 2.25a9.25 9.25 0 1 1 0 18.5 9.25 9.25 0 0 1 0-18.5zM7 15.98c-.05-.33-.83-5.8 2.23-8.87a4.4 4.4 0 0 1 3.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39a4.4 4.4 0 0 1-1.28 3.13C12.72 16.93 7 16 7 16v-.02zm8.3-5.48-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z"/><path id="b" d="M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19A3.77 3.77 0 0 1 50.86 15v3.77c0 .13-.1.23-.23.23h-1.4a.23.23 0 0 1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01.01-.01c.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4a.23.23 0 0 1-.23-.23V15a3.7 3.7 0 0 1-2.73 1.19c-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.38-.19a4.24 4.24 0 0 0-4.16 3.29 4.07 4.07 0 0 0 0 1.77 4.23 4.23 0 0 0 4.17 3.3 4.22 4.22 0 0 0 4.26-4.19 4.2 4.2 0 0 0-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18a4 4 0 0 1 3.84 3.28c.13.59.13 1.2 0 1.8a4 4 0 0 1-3.84 3.29A3.77 3.77 0 0 1 60.86 15v.77c0 .12-.1.23-.23.23h-1.4a.23.23 0 0 1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4a.23.23 0 0 1-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55a2.73 2.73 0 0 1 2.44-1.56c1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41a.23.23 0 0 1-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41a.23.23 0 0 1-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.62 0h-1.61a.27.27 0 0 1-.12-.03c-.1-.06-.13-.19-.06-.28l2.43-3.71-2.4-3.65a.21.21 0 0 1-.02-.12.2.2 0 0 1 .2-.21h1.61c.13 0 .24.06.3.17L82 10.54l1.4-2.37a.34.34 0 0 1 .3-.17h1.6l.12.03c.1.06.13.19.06.28l-2.37 3.65 2.43 3.7.01.13a.2.2 0 0 1-.2.21h-1.61a.33.33 0 0 1-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 0 1-.3.17zm-7.12-1.49A2.47 2.47 0 0 1 70.7 12a2.47 2.47 0 0 1 2.42-2.52 2.47 2.47 0 0 1 2.42 2.51 2.48 2.48 0 0 1-2.42 2.52zm-19.87 0a2.48 2.48 0 0 1-2.42-2.48v-.07a2.47 2.47 0 0 1 2.4-2.49 2.47 2.47 0 0 1 2.41 2.51 2.47 2.47 0 0 1-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51a2.47 2.47 0 0 1 2.4-2.52 2.46 2.46 0 0 1 2.41 2.48l.02.08zm18.12 2.47a2.47 2.47 0 0 1-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51a2.47 2.47 0 0 1-2.42 2.51z"/></defs><mask id="c"><rect width="100%" height="100%" fill="#fff"/><use xlink:href="#g"/><use xlink:href="#b"/></mask><g opacity=".3" stroke="#000" stroke-width="3"><circle mask="url(#c)" cx="11.5" cy="11.5" r="9.25"/><use xlink:href="#b" mask="url(#c)"/></g><g opacity=".9" fill="#fff"><use xlink:href="#g"/><use xlink:href="#b"/></g></svg>',wq=16,PEe=To(`
<template>
  <div class="MapboxAddressMinimap" aria-hidden="true">
    <div class="MinimapImageContainer">
      <img class="MinimapImage" draggable="false"></img>
      <div class="MinimapInnerFrame">
        <div class="MinimapMarker"></div>
        <div class="MinimapAttribution">
          <div class="MinimapAttributionLogo">
            <a target="_blank" rel="noopener nofollow" href="https://www.mapbox.com/" aria-label="Mapbox logo">
              ${TEe}
            </a>
          </div>
          <div class="MinimapAttributionText">
            <a target="_blank" href='https://www.mapbox.com/about/maps/'> Mapbox</a><a target="_blank" href='http://www.openstreetmap.org/copyright'> OpenStreetMap</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
`),MEe=To(`
<template>
  <button type="button" class="MinimapStyleToggle"></button>
</template>
`),LEe=To(`
<template>
  <div class="MinimapFooter">Adjust the marker on the map if it doesn't precisely match your location. This helps improve address data quality.</div>
</template>
`),VR="Adjust pin",UR="Save",qR="Cancel",OEe=To(`
<template>
  <div class="MinimapEditButtons">
    <div class="Button ButtonPrimary MinimapButtonAdjust">${VR}</div>
    <div class="Button ButtonPrimary MinimapButtonSave" aria-hidden="true">${UR}</div>
    <div class="Button MinimapButtonCancel" aria-hidden="true">${qR}</div>
  </div>
</template>
`),TS,Ix,Qb,Wd,Mm,Tc,Pc,Fs,ai,PS,MS,LS,Fx,OS,DS,RS,IS,FS,BS,ew,$S,zS,HS,WS,XR,YR,VS,tw,rw,US,qS,GR,XS,ZR,wF=class extends Jf{constructor(){super(...arguments),Je(this,TS,!1),this.keepMarkerCentered=!1,this.markerAnchor="bottom",Je(this,Ix,!1),Je(this,Qb,!1),Je(this,Wd,void 0),Je(this,Mm,""),Je(this,Tc,void 0),Je(this,Pc,void 0),Je(this,Fs,void 0),Je(this,ai,void 0),Je(this,PS,void 0),Je(this,MS,{}),Je(this,LS,!1),Je(this,Fx,"default"),Je(this,OS,void 0),Je(this,DS,void 0),Je(this,RS,void 0),Je(this,IS,["mapbox","streets-v11"]),Je(this,FS,void 0),Je(this,BS,void 0),Je(this,ew,()=>{const{ImageContainer:t,ButtonAdjust:e,ButtonSave:r,ButtonCancel:n}=oe(this,Fs);oe(this,Ix)?(t.classList.add(`${this.dataset.seed}--draggable`),oe(this,ai).isActive=!0,e.setAttribute("aria-hidden","true"),r.removeAttribute("aria-hidden"),n.removeAttribute("aria-hidden")):(t.classList.remove(`${this.dataset.seed}--draggable`),oe(this,ai).isActive=!1,e.removeAttribute("aria-hidden"),r.setAttribute("aria-hidden","true"),n.setAttribute("aria-hidden","true"))}),Je(this,$S,()=>{Lt(this,Ix,!0),oe(this,ew).call(this)}),Je(this,zS,()=>{if(this.feature.properties.full_address&&!uF(this.feature.geometry.coordinates,oe(this,ai).coordinate)){const[t,e]=oe(this,ai).coordinate;pee(this.accessToken,{originalCoordinate:this.feature.geometry.coordinates,originalAddress:this.feature.properties.full_address,changes:{location:{longitude:t,latitude:e}}})}this.onSaveMarkerLocation&&this.onSaveMarkerLocation(oe(this,ai).coordinate),Lt(this,Ix,!1),oe(this,ew).call(this)}),Je(this,HS,()=>{oe(this,ai).reCenter(),Lt(this,Ix,!1),oe(this,ew).call(this)}),Je(this,WS,()=>{this.mapStyleMode=this.mapStyleMode==="default"?"satellite":"default"}),Je(this,XR,()=>{oe(this,Qb)||oe(this,ai).reCenter(),Lt(this,Qb,!0),oe(this,ai)&&oe(this,ai).handleMinimapResize()}),Je(this,YR,()=>{Lt(this,Qb,!1)}),Je(this,VS,t=>{if(oe(this,Tc)===0||oe(this,Pc)===0)return"";const[e,r]=this.defaultMapStyle,n=iee(e,r),i=this.mapStyleMode==="default"?n:xCe,a=yCe+ic.autofillSessionToken.toString();let o=i+vn.convert(t).toArray().join(",")+","+wq+",0/"+Math.min(oe(this,Tc)*2,vx)+"x"+Math.min(oe(this,Pc)*2,vx)+"?access_token="+this.accessToken+"&attribution=false&logo=false";return ic.autofillSessionEnabled&&(o+=`&sku=${a}`),o}),Je(this,tw,()=>{if(oe(this,Wd)){const t=oe(this,Wd).geometry.coordinates;Lt(this,Mm,oe(this,VS).call(this,t));const{Image:e}=oe(this,Fs);e.src=oe(this,Mm)}}),Je(this,rw,t=>`url("${RCe(t==="default"?"styleToggleDefault":"styleToggleSatellite",this.theme)}")`),Je(this,US,()=>{const{MapboxAddressMinimap:t,ImageContainer:e,Image:r}=oe(this,Fs),{width:n,height:i}=tee(this.container),[a,o]=[oe(this,Tc),oe(this,Pc)];Lt(this,Tc,Math.min(n,vx)),Lt(this,Pc,Math.min(i,vx)),t.style.setProperty("width",`${oe(this,Tc)}px`),t.style.setProperty("height",`${oe(this,Pc)}px`),e.style.setProperty("height",`${oe(this,Pc)}px`),e.style.setProperty("width",`${oe(this,Tc)}px`);const[l,u]=[r.width,r.height];oe(this,Tc)>a&&oe(this,Tc)>l/2&&l<vx||oe(this,Pc)>o&&oe(this,Pc)>u/2&&u<vx?oe(this,tw).call(this):oe(this,ai)&&oe(this,ai).handleMinimapResize()}),Je(this,qS,()=>{if(this.querySelector(".MinimapFooter"))return;const e=this.prepareTemplate(LEe),r=this.querySelector(".MapboxAddressMinimap");if(!r||(r.appendChild(e),this.querySelector(".MinimapEditButtons")))return;const i=this.prepareTemplate(OEe);this.querySelector(".MinimapInnerFrame").appendChild(i),Lt(this,Fs,Co(Rr({},oe(this,Fs)),{EditButtons:this.querySelector(".MinimapEditButtons"),ButtonAdjust:this.querySelector(".MinimapButtonAdjust"),ButtonSave:this.querySelector(".MinimapButtonSave"),ButtonCancel:this.querySelector(".MinimapButtonCancel")}));const{ButtonAdjust:o,ButtonSave:l,ButtonCancel:u}=oe(this,Fs);o.addEventListener("click",oe(this,$S)),l.addEventListener("click",oe(this,zS)),u.addEventListener("click",oe(this,HS))}),Je(this,GR,()=>{if(!oe(this,Fs))return;const{EditButtons:t,ButtonAdjust:e,ButtonSave:r,ButtonCancel:n}=oe(this,Fs),i=this.querySelector(".MinimapFooter");i==null||i.remove(),t==null||t.remove(),e&&(e.remove(),e.removeEventListener("click",oe(this,$S))),r&&(r.remove(),r.removeEventListener("click",oe(this,zS))),n&&(n.remove(),n.removeEventListener("click",oe(this,HS))),delete oe(this,Fs).EditButtons,delete oe(this,Fs).ButtonAdjust,delete oe(this,Fs).ButtonSave,delete oe(this,Fs).ButtonCancel}),Je(this,XS,()=>{if(this.querySelector(".MinimapStyleToggle"))return;const e=this.prepareTemplate(MEe),r=this.querySelector(".MinimapInnerFrame");r&&(r.appendChild(e),oe(this,Fs).MapStyleToggle=e,e.addEventListener("click",oe(this,WS)),e.style.backgroundImage=oe(this,rw).call(this,this.mapStyleMode==="default"?"satellite":"default"),e.setAttribute("title",`Switch to ${this.mapStyleMode==="default"?"Satellite":"Default"}`))}),Je(this,ZR,()=>{if(!oe(this,Fs))return;const{MapStyleToggle:t}=oe(this,Fs);t&&(t.remove(),t.removeEventListener("click",oe(this,WS)),delete oe(this,Fs).MapStyleToggle)})}get canAdjustMarker(){return oe(this,TS)}set canAdjustMarker(t){Lt(this,TS,t),t?oe(this,qS).call(this):oe(this,GR).call(this)}get accessToken(){return oe(this,PS)||ic.accessToken}set accessToken(t){Lt(this,PS,t)}get feature(){return oe(this,Wd)}set feature(t){Lt(this,Wd,t),t?this.show():this.hide()}get template(){return PEe}get templateStyle(){return Pg}get templateUserStyle(){return Xa(".MapboxAddressMinimap",this.theme)}get satelliteToggle(){return oe(this,LS)}set satelliteToggle(t){Lt(this,LS,t),t?oe(this,XS).call(this):oe(this,ZR).call(this)}get theme(){return oe(this,MS)}set theme(t){if(Lt(this,MS,t),!oe(this,Fs)||!t)return;this.updateTemplateUserStyle(Xa(".MapboxAddressMinimap",t));const{Marker:e,MapStyleToggle:r}=oe(this,Fs);e.innerHTML=ol("marker",t),r&&(r.style.backgroundImage=oe(this,rw).call(this,this.mapStyleMode==="default"?"satellite":"default"))}get adjustBtnText(){return oe(this,OS)||VR}set adjustBtnText(t){Lt(this,OS,t);const e=this.querySelector(".MinimapButtonAdjust");e.textContent=t||VR}get saveBtnText(){return oe(this,DS)||UR}set saveBtnText(t){Lt(this,DS,t);const e=this.querySelector(".MinimapButtonSave");e.textContent=t||UR}get cancelBtnText(){return oe(this,RS)||qR}set cancelBtnText(t){Lt(this,RS,t);const e=this.querySelector(".MinimapButtonCancel");e.textContent=t||qR}get mapStyleMode(){return oe(this,Fx)}set mapStyleMode(t){const e=oe(this,Fx);if(e===t||(Lt(this,Fx,t),!oe(this,Fs)))return;const{MapStyleToggle:r}=oe(this,Fs);r&&(r.style.backgroundImage=oe(this,rw).call(this,e),r.setAttribute("title",`Switch to ${e==="satellite"?"Satellite":"Default"}`),oe(this,tw).call(this))}get defaultMapStyle(){return oe(this,IS)}set defaultMapStyle(t){Lt(this,IS,t),oe(this,tw).call(this)}get footer(){return oe(this,FS)}set footer(t){Lt(this,FS,t);const e=this.querySelector(".MinimapFooter");e&&(typeof t=="string"?(e.textContent=t,e.removeAttribute("aria-hidden")):t?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden","true"))}get container(){return oe(this,BS)}set container(t){t&&(t.style.position="relative",Lt(this,BS,t))}show(){if(!oe(this,Wd))return;const t=oe(this,Wd).geometry.coordinates;oe(this,ai).coordinate=t,Lt(this,Mm,oe(this,VS).call(this,t));const{MapboxAddressMinimap:e,Image:r}=oe(this,Fs);r.src=oe(this,Mm),e.removeAttribute("aria-hidden")}hide(){const{MapboxAddressMinimap:t}=oe(this,Fs);t.setAttribute("aria-hidden","true")}connectedCallback(){super.connectedCallback(),Lt(this,Fs,Tg(this,{MapboxAddressMinimap:".MapboxAddressMinimap",ImageContainer:".MinimapImageContainer",Image:".MinimapImage",Marker:".MinimapMarker",MapStyleToggle:".MinimapStyleToggle",EditButtons:".MinimapEditButtons",ButtonAdjust:".MinimapButtonAdjust",ButtonSave:".MinimapButtonSave",ButtonCancel:".MinimapButtonCancel"})),this.mapStyleMode=oe(this,Fx),this.theme=Rr({},this.theme),this.canAdjustMarker&&oe(this,qS).call(this),this.satelliteToggle&&oe(this,XS).call(this),this.container=this.parentElement,new ResizeObserver(oe(this,US)).observe(this.container),oe(this,US).call(this);const{MapboxAddressMinimap:e,ImageContainer:r,Image:n,Marker:i}=oe(this,Fs);Lt(this,ai,new EEe(r,n,i,this.keepMarkerCentered,wq,this.markerAnchor)),oe(this,ai).reCenter(),n.onload=oe(this,XR),n.onerror=oe(this,YR),n.src=oe(this,Mm),oe(this,Wd)?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden","true")}attributeChangedCallback(t,e,r){if(t==="access-token")this.accessToken=r;else if(t==="can-adjust-marker")this.canAdjustMarker=r==="true";else if(t==="keep-marker-centered")this.keepMarkerCentered=r==="true";else if(t==="marker-anchor"){const n=r;this.markerAnchor=n,oe(this,ai)&&(oe(this,ai).anchor=n)}else t==="satellite-toggle"&&(this.satelliteToggle=r==="true")}};TS=new WeakMap;Ix=new WeakMap;Qb=new WeakMap;Wd=new WeakMap;Mm=new WeakMap;Tc=new WeakMap;Pc=new WeakMap;Fs=new WeakMap;ai=new WeakMap;PS=new WeakMap;MS=new WeakMap;LS=new WeakMap;Fx=new WeakMap;OS=new WeakMap;DS=new WeakMap;RS=new WeakMap;IS=new WeakMap;FS=new WeakMap;BS=new WeakMap;ew=new WeakMap;$S=new WeakMap;zS=new WeakMap;HS=new WeakMap;WS=new WeakMap;XR=new WeakMap;YR=new WeakMap;VS=new WeakMap;tw=new WeakMap;rw=new WeakMap;US=new WeakMap;qS=new WeakMap;GR=new WeakMap;XS=new WeakMap;ZR=new WeakMap;wF.observedAttributes=["access-token","can-adjust-marker","keep-marker-centered","marker-anchor","satellite-toggle"];window.MapboxAddressMinimap=wF;window.customElements.get("mapbox-address-minimap")||customElements.define("mapbox-address-minimap",wF);Oe.forwardRef((t,e)=>{const{accessToken:r,options:n,theme:i,popoverOptions:a,confirmOnBrowserAutofill:o,browserAutofillEnabled:l,children:u,onChange:h,onSuggest:f,onSuggestError:g,onRetrieve:y,interceptSearch:N}=t,_=Y.useRef();return Y.useImperativeHandle(e,()=>({focus:()=>{if(_.current)return _.current.focus();throw new Error("AddressAutofill is not mounted")}})),Y.useEffect(()=>{_.current&&(_.current.options=n)},[_.current,n]),Y.useEffect(()=>{_.current&&(_.current.interceptSearch=N)},[_.current,n]),Y.useEffect(()=>{_.current&&(_.current.theme=i)},[_.current,i]),Y.useEffect(()=>{_.current&&(_.current.popoverOptions=a)},[_.current,a]),Y.useEffect(()=>{_.current&&(_.current.confirmOnBrowserAutofill=o)},[_.current,o]),Y.useEffect(()=>{_.current&&(_.current.browserAutofillEnabled=l)},[_.current,l]),Y.useEffect(()=>{const k=_.current;if(!k||!f)return;const C=O=>f(O.detail);return k.addEventListener("suggest",C),()=>{k.removeEventListener("suggest",C)}},[_.current,f]),Y.useEffect(()=>{const k=_.current;if(!k||!g)return;const C=O=>g(O.detail);return k.addEventListener("suggesterror",C),()=>{k.removeEventListener("suggesterror",C)}},[_.current,g]),Y.useEffect(()=>{const k=_.current;if(!k||!y)return;const C=O=>y(O.detail);return k.addEventListener("retrieve",C),()=>{k.removeEventListener("retrieve",C)}},[_.current,y]),Y.useEffect(()=>{const k=_.current;if(!k||!h)return;const C=O=>{O.target===O.currentTarget&&h(O.detail)};return k.addEventListener("input",C),()=>{k.removeEventListener("input",C)}},[_.current,h]),Y.useEffect(()=>{_.current&&(_.current.accessToken=r)},[_.current,r]),Oe.createElement("mapbox-address-autofill",{ref:_},u)});Oe.forwardRef((t,e)=>{const{accessToken:r,options:n,componentOptions:i,theme:a,popoverOptions:o,placeholder:l,map:u,marker:h,mapboxgl:f,value:g,onChange:y,onSuggest:N,onSuggestError:_,onRetrieve:k,onClear:C,interceptSearch:O}=t,T=Y.useRef();return Y.useImperativeHandle(e,()=>({focus:()=>{if(T.current)return T.current.focus();throw new Error("SearchBox is not mounted")},search:M=>{if(T.current)return T.current.search(M);throw new Error("SearchBox is not mounted")}})),Y.useEffect(()=>{T.current&&(T.current.options=n||{})},[T.current,n]),Y.useEffect(()=>{T.current&&(T.current.componentOptions=i||{})},[T.current,i]),Y.useEffect(()=>{T.current&&(T.current.interceptSearch=O)},[T.current,O]),Y.useEffect(()=>{T.current&&(T.current.theme=a)},[T.current,a]),Y.useEffect(()=>{T.current&&(T.current.popoverOptions=o)},[T.current,o]),Y.useEffect(()=>{T.current&&(T.current.placeholder=l)},[T.current,l]),Y.useEffect(()=>{T.current&&(T.current.value=g||"")},[T.current,g]),Y.useEffect(()=>{const M=T.current;if(M)return M.bindMap(u),()=>{M.unbindMap()}},[T.current,u]),Y.useEffect(()=>{T.current&&(T.current.marker=h)},[T.current,h]),Y.useEffect(()=>{T.current&&(T.current.mapboxgl=f)},[T.current,f]),Y.useEffect(()=>{const M=T.current;if(!M||!N)return;const B=F=>N(F.detail);return M.addEventListener("suggest",B),()=>{M.removeEventListener("suggest",B)}},[T.current,N]),Y.useEffect(()=>{const M=T.current;if(!M||!_)return;const B=F=>_(F.detail);return M.addEventListener("suggesterror",B),()=>{M.removeEventListener("suggesterror",B)}},[T.current,_]),Y.useEffect(()=>{const M=T.current;if(!M||!k)return;const B=F=>k(F.detail);return M.addEventListener("retrieve",B),()=>{M.removeEventListener("retrieve",B)}},[T.current,k]),Y.useEffect(()=>{const M=T.current;if(!M||!y)return;const B=F=>{F.target===F.currentTarget&&y(F.detail)};return M.addEventListener("input",B),()=>{M.removeEventListener("input",B)}},[T.current,y]),Y.useEffect(()=>{const M=T.current;if(!M||!C)return;const B=()=>{C()};return M.addEventListener("clear",B),()=>{M.removeEventListener("clear",B)}},[T.current,C]),Y.useEffect(()=>{T.current&&(T.current.accessToken=r)},[T.current,r]),Oe.createElement("mapbox-search-box",{ref:T})});var DEe=Oe.forwardRef((t,e)=>{const{accessToken:r,options:n,componentOptions:i,theme:a,popoverOptions:o,placeholder:l,map:u,marker:h,mapboxgl:f,value:g,onChange:y,onSuggest:N,onSuggestError:_,onRetrieve:k,onClear:C,interceptSearch:O}=t,T=Y.useRef();return Y.useImperativeHandle(e,()=>({focus:()=>{if(T.current)return T.current.focus();throw new Error("Geocoder is not mounted")},search:M=>{if(T.current)return T.current.search(M);throw new Error("Geocoder is not mounted")}})),Y.useEffect(()=>{T.current&&(T.current.options=n||{})},[T.current,n]),Y.useEffect(()=>{T.current&&(T.current.componentOptions=i||{})},[T.current,i]),Y.useEffect(()=>{T.current&&(T.current.interceptSearch=O)},[T.current,O]),Y.useEffect(()=>{T.current&&(T.current.theme=a)},[T.current,a]),Y.useEffect(()=>{T.current&&(T.current.popoverOptions=o)},[T.current,o]),Y.useEffect(()=>{T.current&&(T.current.placeholder=l)},[T.current,l]),Y.useEffect(()=>{T.current&&(T.current.value=g||"")},[T.current,g]),Y.useEffect(()=>{const M=T.current;if(M)return M.bindMap(u),()=>{M.unbindMap()}},[T.current,u]),Y.useEffect(()=>{T.current&&(T.current.marker=h)},[T.current,h]),Y.useEffect(()=>{T.current&&(T.current.mapboxgl=f)},[T.current,f]),Y.useEffect(()=>{const M=T.current;if(!M||!N)return;const B=F=>N(F.detail);return M.addEventListener("suggest",B),()=>{M.removeEventListener("suggest",B)}},[T.current,N]),Y.useEffect(()=>{const M=T.current;if(!M||!_)return;const B=F=>_(F.detail);return M.addEventListener("suggesterror",B),()=>{M.removeEventListener("suggesterror",B)}},[T.current,_]),Y.useEffect(()=>{const M=T.current;if(!M||!k)return;const B=F=>k(F.detail);return M.addEventListener("retrieve",B),()=>{M.removeEventListener("retrieve",B)}},[T.current,k]),Y.useEffect(()=>{const M=T.current;if(!M||!y)return;const B=F=>{F.target===F.currentTarget&&y(F.detail)};return M.addEventListener("input",B),()=>{M.removeEventListener("input",B)}},[T.current,y]),Y.useEffect(()=>{const M=T.current;if(!M||!C)return;const B=()=>{C()};return M.addEventListener("clear",B),()=>{M.removeEventListener("clear",B)}},[T.current,C]),Y.useEffect(()=>{T.current&&(T.current.accessToken=r)},[T.current,r]),Oe.createElement("mapbox-geocoder",{ref:T})});const REe=DEe,IEe="pk.eyJ1IjoiYnJhbmRvbmhheTI5IiwiYSI6ImNtOHN2d3lmbzA0aXkya24xNWdwd3B4ZG8ifQ.XkfYRmRTSVJgK8g28PlOOA",Wy=({value:t,onChange:e,onFeatureSelect:r,placeholder:n="Enter address",savedLocations:i=[],label:a,required:o=!1})=>{const[l,u]=Oe.useState(!1),[h,f]=Oe.useState(!1),[g,y]=Oe.useState(t),N=_=>{e(_.address),u(!1),r&&_.coordinates&&r({type:"Feature",id:"custom_"+Math.random().toString(36).substring(2,11),geometry:{coordinates:[_.coordinates.lon,_.coordinates.lat],type:"Point"},properties:{mapbox_id:"custom_"+Math.random().toString(36).substring(2,11),feature_type:"address",name:_.name,name_preferred:_.name,place_formatted:_.address,full_address:_.address,coordinates:{longitude:_.coordinates.lon,latitude:_.coordinates.lat}}})};return s.jsxs("div",{className:"space-y-2",children:[a&&s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[a," ",o&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(REe,{accessToken:IEe,value:t,onChange:_=>{y(_),e(_)},onRetrieve:_=>{_&&(e(_.properties.full_address||""),r==null||r(_))},onSuggest:()=>f(!0),onClear:()=>{y(""),e("")},options:{language:"en",country:"US",limit:5},theme:{variables:{borderRadius:"0.375rem",fontFamily:"Poppins, system-ui, sans-serif",colorBackground:"#ffffff",colorBackgroundActive:"#f3f4f6",colorBackgroundHover:"#f9fafb",colorText:"#111827",colorSecondary:"#6b7280",colorPrimary:"#2563eb",unit:"16px",padding:"0.5rem 0.75rem",boxShadow:"none",border:"1px solid #d1d5db"}},placeholder:n}),h&&g.length<3&&s.jsx("p",{className:"absolute -bottom-6 left-0 text-xs text-gray-500",children:"Enter at least 3 characters to search"})]}),i.length>0&&s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"button",onClick:()=>u(!l),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[s.jsx("span",{children:"Saved Locations"}),s.jsx("svg",{className:`w-4 h-4 transition-transform ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),l&&i.length>0&&s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase px-2 py-1",children:"Select a saved location"}),i.map(_=>s.jsxs("button",{type:"button",onClick:()=>N(_),className:"w-full text-left px-3 py-2 hover:bg-gray-50 rounded flex items-start gap-3 group",children:[s.jsxs("div",{className:"mt-0.5",children:[_.type==="facility"&&s.jsx(RA,{className:"w-5 h-5 text-blue-500"}),_.type==="warehouse"&&s.jsx(RA,{className:"w-5 h-5 text-green-500"}),_.type==="customer"&&s.jsx(Q6,{className:"w-5 h-5 text-yellow-500"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-medium text-gray-900 group-hover:text-blue-600",children:[_.name,_.isDefault&&s.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Default"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:_.address})]})]},_.id))]})})]})},UA=[{id:"loc-1",name:"Jupiter Aluminum - Beech Bottom",address:"8963 River Road, Beech Bottom, WV, 26030",type:"facility",isDefault:!0,coordinates:{lat:40.2231,lon:-80.6559}},{id:"loc-2",name:"Jupiter Aluminum - Hammond",address:"1745 - 165th Street, Hammond, IN, 46320",type:"facility",coordinates:{lat:41.5806,lon:-87.5217}},{id:"loc-3",name:"Jupiter Aluminum - Fairland",address:"205 East Carey Street, Fairland, IN 46126",type:"facility",coordinates:{lat:39.5881,lon:-85.8608}},{id:"loc-4",name:"Central Warehouse - Chicago",address:"2500 S Ashland Ave, Chicago, IL 60608",type:"warehouse",coordinates:{lat:41.8469,lon:-87.6653}},{id:"loc-5",name:"Distribution Center - Detroit",address:"1200 Oakwood Blvd, Detroit, MI 48217",type:"warehouse",coordinates:{lat:42.3011,lon:-83.0787}}],qA=[{id:"dest-1",name:"ABC Manufacturing",address:"456 Industrial Park Dr, Cleveland, OH 44113",type:"customer",coordinates:{lat:41.4822,lon:-81.6697}},{id:"dest-2",name:"XYZ Distribution",address:"789 Commerce Blvd, Milwaukee, WI 53204",type:"customer",coordinates:{lat:43.0116,lon:-87.9466}},{id:"dest-3",name:"Global Logistics Hub",address:"321 Freight Way, Columbus, OH 43215",type:"customer",coordinates:{lat:39.969,lon:-83.0114}}],FEe=()=>{const t=Bn(),[e,r]=Y.useState(!1),[n,i]=Y.useState(!1),[a,o]=Y.useState({origin:"",destination:"",originCoordinates:null,destinationCoordinates:null,pickupDate:"",deliveryDate:"",commodity:"",weight:"",rate:"",equipmentType:"Dry Van",notes:""}),l=h=>{const{name:f,value:g}=h.target;o({...a,[f]:g})},u=async h=>{h.preventDefault(),r(!0);try{await new Promise(g=>setTimeout(g,1e3));const f={id:`BL-${Math.floor(1e3+Math.random()*9e3)}`,...a,status:"Posted",createdAt:new Date().toISOString()};n&&lt.success("Load posted to DAT/Truckstop (Simulated)",{duration:3e3,icon:""}),lt.success(`Load ${f.id} created successfully!`),t("/broker/loads")}catch(f){console.error("Error creating load:",f),lt.error("Failed to create load. Please try again.")}finally{r(!1)}};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Create New Load"}),s.jsxs("button",{onClick:()=>t("/broker/loads"),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md shadow-sm flex items-center",children:[s.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Loads"]})]}),s.jsx(st,{className:"bg-white shadow-md",children:s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:u,children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsx(Wy,{label:"Origin Address",value:a.origin,onChange:h=>o({...a,origin:h}),onFeatureSelect:h=>{var f;(f=h==null?void 0:h.geometry)!=null&&f.coordinates&&o({...a,origin:h.properties.full_address||a.origin,originCoordinates:{lat:h.geometry.coordinates[1],lon:h.geometry.coordinates[0]}})},savedLocations:UA,placeholder:"Search for pickup address",required:!0})}),s.jsx("div",{children:s.jsx(Wy,{label:"Destination Address",value:a.destination,onChange:h=>o({...a,destination:h}),onFeatureSelect:h=>{var f;(f=h==null?void 0:h.geometry)!=null&&f.coordinates&&o({...a,destination:h.properties.full_address||a.destination,destinationCoordinates:{lat:h.geometry.coordinates[1],lon:h.geometry.coordinates[0]}})},savedLocations:[...UA,...qA],placeholder:"Search for delivery address",required:!0})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pickupDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Date *"}),s.jsx("input",{type:"date",id:"pickupDate",name:"pickupDate",value:a.pickupDate,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"deliveryDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Date *"}),s.jsx("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:a.deliveryDate,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"commodity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Commodity *"}),s.jsx("input",{type:"text",id:"commodity",name:"commodity",value:a.commodity,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. General Freight",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (lbs) *"}),s.jsx("input",{type:"text",id:"weight",name:"weight",value:a.weight,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 40000",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate ($) *"}),s.jsx("input",{type:"text",id:"rate",name:"rate",value:a.rate,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 1500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"equipmentType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipment Type *"}),s.jsxs("select",{id:"equipmentType",name:"equipmentType",value:a.equipmentType,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"Dry Van",children:"Dry Van"}),s.jsx("option",{value:"Reefer",children:"Reefer"}),s.jsx("option",{value:"Flatbed",children:"Flatbed"}),s.jsx("option",{value:"Step Deck",children:"Step Deck"}),s.jsx("option",{value:"Lowboy",children:"Lowboy"}),s.jsx("option",{value:"Tanker",children:"Tanker"}),s.jsx("option",{value:"Power Only",children:"Power Only"})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),s.jsx("textarea",{id:"notes",name:"notes",value:a.notes,onChange:l,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter any special instructions or requirements..."})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"postToLoadBoard",checked:n,onChange:()=>i(!n),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"postToLoadBoard",className:"ml-2 block text-sm text-gray-700",children:"Post to external load boards (DAT/Truckstop)"})]})}),a.origin&&a.destination&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-md",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Calculated Information:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Estimated Distance:"}),s.jsxs("span",{className:"ml-2",children:[Math.floor(500+Math.random()*1e3)," miles"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Rate per Mile:"}),s.jsxs("span",{className:"ml-2",children:["$",a.rate?(Number(a.rate)/750).toFixed(2):"0.00","/mile"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Market Rate:"}),s.jsxs("span",{className:"ml-2",children:["$",Math.floor(1.8*750),"-$",Math.floor(2.2*750)]})]})]})]}),s.jsx("div",{className:"mt-8 flex justify-end",children:s.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded-md shadow-sm flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",disabled:e,children:e?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Load..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-plus-circle mr-2"})," Create Load"]})})})]})})})]})},Nee=[{id:"SH-2152",origin:"Cincinnati, OH",destination:"Louisville, KY",pickupDate:"2025-06-19",deliveryDate:"2025-06-19",commodity:"Manufacturing Equipment",weight:"35000",rate:"1200",equipmentType:"Flatbed",status:"New",broker:"Shanahan Transportation Systems, Inc.",shipper:"Acme Manufacturing",reference:"PO-78950",specialInstructions:"Forklift required for loading",createdBy:"shipper",createdAt:"2025-06-03T10:30:00Z"},{id:"SH-2153",origin:"Toledo, OH",destination:"Detroit, MI",pickupDate:"2025-06-20",deliveryDate:"2025-06-20",commodity:"Automotive Parts",weight:"28000",rate:"950",equipmentType:"Dry Van",status:"New",broker:"Express Freight Brokers",shipper:"Auto Parts Direct",reference:"PO-78951",createdBy:"shipper",createdAt:"2025-06-03T11:15:00Z"},{id:"BL-1234",origin:"Chicago, IL",destination:"Atlanta, GA",pickupDate:"2025-06-15",deliveryDate:"2025-06-17",commodity:"Electronics",weight:"15000",rate:"2200",equipmentType:"Dry Van",status:"Assigned",carrier:"FastFreight Inc.",broker:"Shanahan Transportation Systems, Inc.",shipper:"Tech Distributors Inc.",createdBy:"broker",createdAt:"2025-06-01T08:00:00Z"},{id:"BL-1235",origin:"Dallas, TX",destination:"Phoenix, AZ",pickupDate:"2025-06-16",deliveryDate:"2025-06-18",commodity:"Auto Parts",weight:"22000",rate:"1800",equipmentType:"Flatbed",status:"En Route",carrier:"Southwest Carriers",broker:"National Logistics Corp",shipper:"Auto Suppliers LLC",createdBy:"broker",createdAt:"2025-06-01T09:00:00Z"},{id:"BL-1236",origin:"Miami, FL",destination:"Charlotte, NC",pickupDate:"2025-06-17",deliveryDate:"2025-06-19",commodity:"Retail Goods",weight:"18000",rate:"1950",equipmentType:"Dry Van",status:"Posted",broker:"Express Freight Brokers",shipper:"Retail Chain Distribution",createdBy:"broker",createdAt:"2025-06-02T10:00:00Z"},{id:"BL-1237",origin:"Seattle, WA",destination:"Portland, OR",pickupDate:"2025-06-14",deliveryDate:"2025-06-15",commodity:"Produce",weight:"24000",rate:"1100",equipmentType:"Reefer",status:"Delivered",carrier:"Pacific Transport",broker:"West Coast Brokers",shipper:"Fresh Farms Co.",createdBy:"broker",createdAt:"2025-05-30T14:00:00Z"},{id:"BL-1238",origin:"Boston, MA",destination:"New York, NY",pickupDate:"2025-06-13",deliveryDate:"2025-06-14",commodity:"Medical Supplies",weight:"12000",rate:"950",equipmentType:"Dry Van",status:"Awaiting Docs",carrier:"East Coast Logistics",broker:"Northeast Logistics",shipper:"Medical Supply Corp",createdBy:"broker",createdAt:"2025-05-29T16:00:00Z"},{id:"BL-1239",origin:"Denver, CO",destination:"Salt Lake City, UT",pickupDate:"2025-06-12",deliveryDate:"2025-06-13",commodity:"Construction Materials",weight:"28000",rate:"1400",equipmentType:"Flatbed",status:"Paid",carrier:"Mountain Haulers",broker:"Regional Transport Services",shipper:"Construction Supply Inc.",createdBy:"broker",createdAt:"2025-05-28T12:00:00Z"},{id:"SH-2145",origin:"Chicago, IL",destination:"Atlanta, GA",pickupDate:"2025-06-15",deliveryDate:"2025-06-17",commodity:"Aluminum Coils",weight:"42000",rate:"3200",equipmentType:"Flatbed",status:"Assigned",carrier:"Shanahan Transportation",broker:"Shanahan Transportation Systems, Inc.",shipper:"Metal Works Inc.",reference:"PO-78945",specialInstructions:"Tarped load required",createdBy:"shipper",createdAt:"2025-06-01T07:00:00Z"},{id:"SH-2146",origin:"Detroit, MI",destination:"Houston, TX",pickupDate:"2025-06-16",deliveryDate:"2025-06-19",commodity:"Auto Parts",weight:"38000",rate:"2950",equipmentType:"Dry Van",status:"En Route",carrier:"Swift Logistics",broker:"Express Freight Brokers",shipper:"Auto Manufacturing Co.",reference:"PO-78946",createdBy:"shipper",createdAt:"2025-06-01T11:00:00Z"},{id:"SH-2147",origin:"Milwaukee, WI",destination:"Nashville, TN",pickupDate:"2025-06-17",deliveryDate:"2025-06-19",commodity:"Industrial Equipment",weight:"28000",rate:"2650",equipmentType:"Flatbed",status:"Posted",broker:"Midwest Freight Solutions",shipper:"Industrial Supply Corp",reference:"PO-78947",createdBy:"shipper",createdAt:"2025-06-02T09:00:00Z"}],BEe=t=>Nee.filter(e=>e.broker===t),$Ee=t=>Nee.filter(e=>e.shipper===t),zEe=t=>({New:"New",Posted:"Posted",Assigned:"Carrier Assigned","En Route":"In Transit",Delivered:"Delivered","POD Received":"POD Received",Paid:"Closed",Closed:"Closed"})[t]||"Draft",XA=t=>{switch(t){case"New":return"bg-indigo-100 text-indigo-800";case"Draft":return"bg-gray-100 text-gray-800";case"Posted":return"bg-blue-100 text-blue-800";case"Assigned":case"Carrier Assigned":return"bg-green-100 text-green-800";case"En Route":case"In Transit":return"bg-yellow-100 text-yellow-800";case"Delivered":return"bg-purple-100 text-purple-800";case"Awaiting Docs":case"POD Received":return"bg-orange-100 text-orange-800";case"Paid":case"Closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},HEe=()=>{const t=Bn(),[e,r]=Y.useState("All"),[n,i]=Y.useState(""),[a,o]=Y.useState("grid"),u=BEe("Shanahan Transportation Systems, Inc."),h=u.filter(g=>{const y=e==="All"||g.status===e,N=n===""||g.id.toLowerCase().includes(n.toLowerCase())||g.origin.toLowerCase().includes(n.toLowerCase())||g.destination.toLowerCase().includes(n.toLowerCase())||g.carrier&&g.carrier.toLowerCase().includes(n.toLowerCase());return y&&N}),f=g=>g==="All"?u.length:u.filter(y=>y.status===g).length;return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Loads"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>t("/broker/smart-load-match"),className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md shadow-sm flex items-center",children:[s.jsx("i",{className:"fas fa-magic mr-2"})," Smart Match"]}),s.jsxs("button",{onClick:()=>t("/broker/create-load"),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md shadow-sm flex items-center",children:[s.jsx("i",{className:"fas fa-plus-circle mr-2"})," Create New Load"]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:["All","New","Posted","Assigned","En Route","Delivered","Awaiting Docs","Paid"].map(g=>s.jsxs("button",{onClick:()=>r(g),className:`px-3 py-1 rounded-full text-sm font-medium ${e===g?"bg-blue-600 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:[g," (",f(g),")"]},g))}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search loads...",value:n,onChange:g=>i(g.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("i",{className:"fas fa-search"})})]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[s.jsx("button",{onClick:()=>o("grid"),className:`px-3 py-2 ${a==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:s.jsx("i",{className:"fas fa-th-large"})}),s.jsx("button",{onClick:()=>o("table"),className:`px-3 py-2 ${a==="table"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:s.jsx("i",{className:"fas fa-list"})})]})]})]})}),h.length===0?s.jsx(st,{className:"bg-white shadow-md p-8 text-center",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx("i",{className:"fas fa-truck text-5xl mb-4"}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"No loads found"}),s.jsx("p",{children:"Try adjusting your filters or create a new load."})]})}):a==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(g=>s.jsx(st,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:g.id}),s.jsxs("div",{className:"flex items-center gap-2",children:[g.status==="New"&&s.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium animate-pulse",children:"NEW"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${XA(g.status)}`,children:g.status})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Route:"}),s.jsxs("div",{className:"font-medium",children:[g.origin,"  ",g.destination]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Pickup:"}),s.jsx("div",{className:"font-medium",children:new Date(g.pickupDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Delivery:"}),s.jsx("div",{className:"font-medium",children:new Date(g.deliveryDate).toLocaleDateString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Equipment:"}),s.jsx("div",{className:"font-medium",children:g.equipmentType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Rate:"}),s.jsxs("div",{className:"font-medium text-green-600",children:["$",g.rate]})]})]}),g.carrier&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Carrier:"}),s.jsx("div",{className:"font-medium",children:g.carrier})]}),g.status==="New"&&g.shipper&&s.jsx("div",{className:"mb-3 p-2 bg-indigo-50 rounded",children:s.jsxs("div",{className:"text-sm text-indigo-700 font-medium",children:[s.jsx("i",{className:"fas fa-building mr-1"}),"Created by: ",g.shipper]})}),s.jsxs("div",{className:"mt-4 flex justify-between",children:[s.jsx("button",{onClick:()=>t("/load-details/"+g.id,{state:{load:g}}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"}),g.status==="Posted"&&s.jsx("button",{onClick:()=>t("/broker/carrier-match",{state:{load:g}}),className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Find Carriers"})]})]})},g.id))}):s.jsx(st,{className:"bg-white shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load #"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equipment"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carrier"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(g=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.id}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[g.origin,"  ",g.destination]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(g.pickupDate).toLocaleDateString()," - ",new Date(g.deliveryDate).toLocaleDateString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.equipmentType}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["$",g.rate]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.carrier||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[g.status==="New"&&s.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium animate-pulse",children:"NEW"}),s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${XA(g.status)}`,children:g.status})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>t("/load-details/"+g.id,{state:{load:g}}),className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),g.status==="Posted"&&s.jsx("button",{onClick:()=>t("/broker/carrier-match",{state:{load:g}}),className:"text-green-600 hover:text-green-900",children:"Match"})]})]},g.id))})]})})})]})},WEe=()=>{const t=Bn(),[e,r]=Y.useState(null),[n,i]=Y.useState("All"),[a,o]=Y.useState(""),[l,u]=Y.useState(!1),[h,f]=Y.useState(null),[g,y]=Y.useState(""),N=[{id:"BL-1236",origin:"Miami, FL",destination:"Charlotte, NC",pickupDate:"2025-06-17",deliveryDate:"2025-06-19",commodity:"Retail Goods",weight:"18000",rate:"1950",equipmentType:"Dry Van",status:"Posted"},{id:"BL-1240",origin:"Houston, TX",destination:"Memphis, TN",pickupDate:"2025-06-18",deliveryDate:"2025-06-20",commodity:"Industrial Equipment",weight:"26000",rate:"2100",equipmentType:"Flatbed",status:"Posted"},{id:"BL-1241",origin:"Minneapolis, MN",destination:"Detroit, MI",pickupDate:"2025-06-19",deliveryDate:"2025-06-20",commodity:"Auto Parts",weight:"14000",rate:"1200",equipmentType:"Dry Van",status:"Posted"}],_=[{id:"C1001",name:"FastFreight Inc.",mcNumber:"MC-123456",equipmentTypes:["Dry Van","Reefer"],preferredLanes:["FL-NC","GA-SC","FL-GA"],safetyRating:"Satisfactory",insuranceExpiration:"2025-12-31",contactName:"John Smith",contactPhone:"(555) 123-4567",contactEmail:"john@fastfreight.example.com",notes:"Reliable carrier with good track record."},{id:"C1002",name:"Southwest Carriers",mcNumber:"MC-234567",equipmentTypes:["Flatbed","Step Deck"],preferredLanes:["TX-TN","TX-OK","TX-LA"],safetyRating:"Satisfactory",insuranceExpiration:"2025-10-15",contactName:"Maria Rodriguez",contactPhone:"(555) 234-5678",contactEmail:"maria@swcarriers.example.com",notes:"Specializes in heavy equipment transport."},{id:"C1003",name:"Midwest Express",mcNumber:"MC-345678",equipmentTypes:["Dry Van","Flatbed"],preferredLanes:["MN-MI","IL-OH","WI-IN"],safetyRating:"Conditional",insuranceExpiration:"2025-08-22",contactName:"Robert Johnson",contactPhone:"(555) 345-6789",contactEmail:"robert@midwestexpress.example.com",notes:"Working on improving safety rating."},{id:"C1004",name:"East Coast Logistics",mcNumber:"MC-456789",equipmentTypes:["Dry Van","Reefer"],preferredLanes:["FL-NC","NY-MA","PA-VA"],safetyRating:"Satisfactory",insuranceExpiration:"2025-11-30",contactName:"Sarah Williams",contactPhone:"(555) 456-7890",contactEmail:"sarah@eclogistics.example.com",notes:"Excellent service on East Coast routes."},{id:"C1005",name:"Pacific Transport",mcNumber:"MC-567890",equipmentTypes:["Reefer","Tanker"],preferredLanes:["CA-WA","CA-OR","WA-OR"],safetyRating:"Satisfactory",insuranceExpiration:"2026-01-15",contactName:"David Chen",contactPhone:"(555) 567-8901",contactEmail:"david@pacifictransport.example.com",notes:"Specializes in refrigerated goods."},{id:"C1006",name:"Mountain Haulers",mcNumber:"MC-678901",equipmentTypes:["Flatbed","Step Deck","Lowboy"],preferredLanes:["CO-UT","CO-WY","UT-NV"],safetyRating:"Satisfactory",insuranceExpiration:"2025-09-30",contactName:"Michael Brown",contactPhone:"(555) 678-9012",contactEmail:"michael@mountainhaulers.example.com",notes:"Experienced with mountain routes and heavy loads."}],C=e?_.filter(M=>!(n!=="All"&&!M.equipmentTypes.includes(n)||a&&!M.name.toLowerCase().includes(a.toLowerCase())&&!M.mcNumber.toLowerCase().includes(a.toLowerCase()))).map(M=>{let B=0;M.equipmentTypes.includes(e.equipmentType)&&(B+=30);const F=`${e.origin.split(",")[1].trim()}-${e.destination.split(",")[1].trim()}`;M.preferredLanes.includes(F)&&(B+=40),M.safetyRating==="Satisfactory"?B+=20:M.safetyRating==="Conditional"&&(B+=10);const V=new Date(M.insuranceExpiration),H=new Date(e.deliveryDate);return V>H&&(B+=10),{...M,matchScore:B}}).sort((M,B)=>(B.matchScore||0)-(M.matchScore||0)):[],O=M=>M>=80?"bg-green-100 text-green-800":M>=60?"bg-blue-100 text-blue-800":M>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",T=()=>{!h||!e||(lt.success(`Invitation sent to ${h.name} for load ${e.id}`,{duration:3e3,icon:""}),u(!1),y(""))};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Carrier Match"}),s.jsxs("button",{onClick:()=>t("/broker/loads"),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md shadow-sm flex items-center",children:[s.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Loads"]})]}),s.jsx(st,{className:"bg-white shadow-md mb-6",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select a Load to Match"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load #"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equipment"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(M=>s.jsxs("tr",{className:`hover:bg-gray-50 ${(e==null?void 0:e.id)===M.id?"bg-blue-50":""}`,children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:M.id}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:[M.origin,"  ",M.destination]}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:new Date(M.pickupDate).toLocaleDateString()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M.equipmentType}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600",children:["$",M.rate]}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{onClick:()=>r(M),className:`px-3 py-1 rounded-md text-sm font-medium ${(e==null?void 0:e.id)===M.id?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:(e==null?void 0:e.id)===M.id?"Selected":"Select"})})]},M.id))})]})})]})}),e?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0 mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["Matching Carriers for Load ",e.id]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search carriers...",value:a,onChange:M=>o(M.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("i",{className:"fas fa-search"})})]}),s.jsxs("select",{value:n,onChange:M=>i(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"All",children:"All Equipment"}),s.jsx("option",{value:"Dry Van",children:"Dry Van"}),s.jsx("option",{value:"Reefer",children:"Reefer"}),s.jsx("option",{value:"Flatbed",children:"Flatbed"}),s.jsx("option",{value:"Step Deck",children:"Step Deck"}),s.jsx("option",{value:"Lowboy",children:"Lowboy"}),s.jsx("option",{value:"Tanker",children:"Tanker"})]})]})]}),s.jsx(st,{className:"bg-blue-50 shadow-sm mb-4",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Rate Benchmarking"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Your Rate:"}),s.jsxs("span",{className:"ml-2",children:["$",e.rate," ($",(Number(e.rate)/750).toFixed(2),"/mile)"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Market Average:"}),s.jsxs("span",{className:"ml-2",children:["$",Math.floor(2*750)," ($",2 .toFixed(2),"/mile)"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-blue-800",children:"Rate Assessment:"}),s.jsx("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Competitive"})]})]})]})}),C.length===0?s.jsx(st,{className:"bg-white shadow-md p-8 text-center",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx("i",{className:"fas fa-truck text-5xl mb-4"}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"No matching carriers found"}),s.jsx("p",{children:"Try adjusting your filters or equipment type."})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:C.map(M=>s.jsx(st,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:M.name}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(M.matchScore||0)}`,children:[M.matchScore,"% Match"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"MC Number:"}),s.jsx("div",{className:"font-medium",children:M.mcNumber})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Safety Rating:"}),s.jsx("div",{className:"font-medium",children:M.safetyRating})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Equipment Types:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:M.equipmentTypes.map(B=>s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B===e.equipmentType?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:B},B))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Preferred Lanes:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:M.preferredLanes.map(B=>s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B===`${e.origin.split(",")[1].trim()}-${e.destination.split(",")[1].trim()}`?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:B},B))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Contact:"}),s.jsx("div",{className:"font-medium",children:M.contactName}),s.jsx("div",{className:"text-sm text-gray-500",children:M.contactPhone}),s.jsx("div",{className:"text-sm text-gray-500",children:M.contactEmail})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs("button",{onClick:()=>{f(M),u(!0)},className:"bg-green-600 hover:bg-green-700 text-white py-1 px-4 rounded-md shadow-sm flex items-center text-sm",children:[s.jsx("i",{className:"fas fa-paper-plane mr-2"})," Send Invite"]})})]})},M.id))})]})}):s.jsx(st,{className:"bg-white shadow-md p-8 text-center",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx("i",{className:"fas fa-truck-loading text-5xl mb-4"}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"Select a load to find matching carriers"}),s.jsx("p",{children:"Choose from the available loads above to see carrier matches."})]})}),l&&h&&e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Send Invitation to ",h.name]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Load:"}),s.jsxs("div",{className:"font-medium",children:[e.id," - ",e.origin," to ",e.destination]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"inviteMessage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),s.jsx("textarea",{id:"inviteMessage",value:g,onChange:M=>y(M.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Add any additional details about this load..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>u(!1),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md",children:"Cancel"}),s.jsx("button",{onClick:T,className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md",children:"Send Invitation"})]})]})})})]})},VEe=()=>{Bn();const[t,e]=Y.useState("All"),[r,n]=Y.useState(""),[i,a]=Y.useState(!1),[o,l]=Y.useState(!1),[u,h]=Y.useState(null),f=[{id:"C-1001",carrierId:"C1001",carrierName:"FastFreight Inc.",type:"Master Agreement",status:"Signed",effectiveDate:"2025-01-15",expirationDate:"2026-01-15",documentUrl:"/documents/contracts/fastfreight-master.pdf",notes:"Annual master agreement with standard terms."},{id:"C-1002",carrierId:"C1002",carrierName:"Southwest Carriers",type:"Rate Agreement",status:"Signed",effectiveDate:"2025-03-01",expirationDate:"2025-09-01",documentUrl:"/documents/contracts/southwest-rate.pdf",notes:"Specialized rates for flatbed equipment."},{id:"C-1003",carrierId:"C1003",carrierName:"Midwest Express",type:"Insurance Certificate",status:"Expired",effectiveDate:"2024-08-22",expirationDate:"2025-02-22",documentUrl:"/documents/contracts/midwest-insurance.pdf",notes:"Needs renewal. Follow up with carrier."},{id:"C-1004",carrierId:"C1004",carrierName:"East Coast Logistics",type:"Master Agreement",status:"Signed",effectiveDate:"2025-02-15",expirationDate:"2026-02-15",documentUrl:"/documents/contracts/eastcoast-master.pdf",notes:"Includes special provisions for Northeast deliveries."},{id:"C-1005",carrierId:"C1005",carrierName:"Pacific Transport",type:"Rate Agreement",status:"Pending",effectiveDate:"2025-06-01",expirationDate:"2025-12-01",documentUrl:"/documents/contracts/pacific-rate.pdf",notes:"Awaiting signature from carrier."},{id:"C-1006",carrierId:"C1006",carrierName:"Mountain Haulers",type:"Insurance Certificate",status:"Signed",effectiveDate:"2025-03-15",expirationDate:"2026-03-15",documentUrl:"/documents/contracts/mountain-insurance.pdf",notes:"Comprehensive coverage including hazardous materials."}],[g,y]=Y.useState({carrierId:"",carrierName:"",type:"Rate Agreement",effectiveDate:"",expirationDate:"",notes:""}),N=f.filter(M=>{const B=t==="All"||M.status===t,F=r===""||M.carrierName.toLowerCase().includes(r.toLowerCase())||M.id.toLowerCase().includes(r.toLowerCase());return B&&F}),_=M=>{switch(M){case"Signed":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=M=>{switch(M){case"Master Agreement":return"bg-blue-100 text-blue-800";case"Rate Agreement":return"bg-purple-100 text-purple-800";case"Insurance Certificate":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},C=M=>{const{name:B,value:F}=M.target;y({...g,[B]:F})},O=M=>{M.preventDefault();const B={id:`C-${Math.floor(1e3+Math.random()*9e3)}`,carrierId:g.carrierId||`C${Math.floor(1e3+Math.random()*9e3)}`,carrierName:g.carrierName,type:g.type,effectiveDate:g.effectiveDate,expirationDate:g.expirationDate,notes:g.notes};lt.success(`Contract ${B.id} uploaded successfully!`,{duration:3e3,icon:""}),a(!1),y({carrierId:"",carrierName:"",type:"Rate Agreement",effectiveDate:"",expirationDate:"",notes:""})},T=(M,B)=>{lt.success(`Contract ${M.id} status changed to ${B}`,{duration:3e3})};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Carrier Contracts"}),s.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md shadow-sm flex items-center",children:[s.jsx("i",{className:"fas fa-upload mr-2"})," Upload Contract"]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:["All","Signed","Pending","Expired"].map(M=>s.jsx("button",{onClick:()=>e(M),className:`px-3 py-1 rounded-full text-sm font-medium ${t===M?"bg-blue-600 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:M},M))}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search contracts...",value:r,onChange:M=>n(M.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("i",{className:"fas fa-search"})})]})]})}),N.length===0?s.jsx(st,{className:"bg-white shadow-md p-8 text-center",children:s.jsxs("div",{className:"text-gray-500",children:[s.jsx("i",{className:"fas fa-file-contract text-5xl mb-4"}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"No contracts found"}),s.jsx("p",{children:"Try adjusting your filters or upload a new contract."})]})}):s.jsx(st,{className:"bg-white shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contract ID"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carrier"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Effective Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiration Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(M=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.carrierName}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${k(M.type)}`,children:M.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${_(M.status)}`,children:M.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.effectiveDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.expirationDate).toLocaleDateString()}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>{h(M),l(!0)},className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),M.status==="Pending"&&s.jsx("button",{onClick:()=>T(M,"Signed"),className:"text-green-600 hover:text-green-900 mr-3",children:"Mark Signed"}),M.status==="Signed"&&s.jsx("button",{onClick:()=>T(M,"Expired"),className:"text-red-600 hover:text-red-900",children:"Mark Expired"})]})]},M.id))})]})})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upload New Contract"}),s.jsxs("form",{onSubmit:O,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"carrierName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Carrier Name *"}),s.jsx("input",{type:"text",id:"carrierName",name:"carrierName",value:g.carrierName,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Type *"}),s.jsxs("select",{id:"type",name:"type",value:g.type,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"Rate Agreement",children:"Rate Agreement"}),s.jsx("option",{value:"Master Agreement",children:"Master Agreement"}),s.jsx("option",{value:"Insurance Certificate",children:"Insurance Certificate"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"effectiveDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date *"}),s.jsx("input",{type:"date",id:"effectiveDate",name:"effectiveDate",value:g.effectiveDate,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"expirationDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiration Date *"}),s.jsx("input",{type:"date",id:"expirationDate",name:"expirationDate",value:g.expirationDate,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"document",className:"block text-sm font-medium text-gray-700 mb-1",children:"Document *"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("i",{className:"fas fa-file-upload text-gray-400 text-3xl mb-2"}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX up to 10MB"})]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{id:"notes",name:"notes",value:g.notes,onChange:C,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Add any notes about this contract..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>a(!1),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md",children:"Upload Contract"})]})]})]})})}),o&&u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Contract Details"}),s.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx("i",{className:"fas fa-times"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Contract ID:"}),s.jsx("div",{className:"font-medium",children:u.id})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Carrier:"}),s.jsx("div",{className:"font-medium",children:u.carrierName})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Type:"}),s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${k(u.type)}`,children:u.type})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${_(u.status)}`,children:u.status})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Effective Date:"}),s.jsx("div",{className:"font-medium",children:new Date(u.effectiveDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Expiration Date:"}),s.jsx("div",{className:"font-medium",children:new Date(u.expirationDate).toLocaleDateString()})]})]}),u.notes&&s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Notes:"}),s.jsx("div",{className:"text-sm",children:u.notes})]}),s.jsx("div",{className:"mt-6 bg-gray-100 p-4 rounded-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Document:"}),s.jsx("div",{className:"font-medium",children:"contract-document.pdf"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded-md text-sm",children:[s.jsx("i",{className:"fas fa-download mr-1"})," Download"]}),s.jsxs("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-1 px-3 rounded-md text-sm",children:[s.jsx("i",{className:"fas fa-eye mr-1"})," Preview"]})]})]})}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>l(!1),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md",children:"Close"}),u.status==="Pending"&&s.jsx("button",{onClick:()=>{T(u,"Signed"),l(!1)},className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md",children:"Mark as Signed"})]})]})})})]})},UEe=()=>{var ht;const[t,e]=Y.useState(""),[r,n]=Y.useState(""),[i,a]=Y.useState(!1),[o,l]=Y.useState(null),[u,h]=Y.useState(null),[f,g]=Y.useState(!1),[y,N]=Y.useState(!1),[_,k]=Y.useState(!1),[C,O]=Y.useState(!1),[T,M]=Y.useState(""),[B,F]=Y.useState(""),V=ye=>({...ye,poNumber:`PO-${Math.floor(1e3+Math.random()*9e3)}`,carrierAddress:"456 Trucking Ave, Suite 200, Transport City, State 54321",carrierEmail:`billing@${ye.carrier.toLowerCase().replace(/\s+/g,"")}.com`,carrierPhone:"(555) 987-6543",lineItems:[{description:`Transportation Services - Load ${ye.loadId}`,quantity:1,rate:ye.amount*.85,amount:ye.amount*.85},{description:"Fuel Surcharge",quantity:1,rate:ye.amount*.15,amount:ye.amount*.15}],subtotal:ye.amount,tax:0,totalAmount:ye.amount,notes:"Payment terms: Net 30 days. Please include invoice number on remittance.",attachments:["Rate_Confirmation.pdf","Proof_of_Delivery.pdf","Bill_of_Lading.pdf"]}),H=[{id:"1",invoiceNumber:"INV-2301",carrier:"Fast Freight Inc",loadId:"LD1001",date:"05/23/2025",dueDate:"06/22/2025",amount:2850,status:"unpaid"},{id:"2",invoiceNumber:"INV-2302",carrier:"Swift Transport",loadId:"LD1002",date:"05/22/2025",dueDate:"06/21/2025",amount:1950,status:"unpaid"},{id:"3",invoiceNumber:"INV-2303",carrier:"Reliable Carriers",loadId:"LD1003",date:"05/21/2025",dueDate:"06/20/2025",amount:1750,status:"unpaid"},{id:"4",invoiceNumber:"INV-2304",carrier:"Express Logistics",loadId:"LD1004",date:"05/20/2025",dueDate:"06/19/2025",amount:1795,status:"paid",paidDate:"06/01/2025"},{id:"5",invoiceNumber:"INV-2305",carrier:"Prime Movers",loadId:"LD1005",date:"05/19/2025",dueDate:"06/18/2025",amount:2950,status:"paid",paidDate:"05/30/2025"},{id:"6",invoiceNumber:"INV-2295",carrier:"National Freight",loadId:"LD987",date:"04/15/2025",dueDate:"05/15/2025",amount:2250,status:"overdue"}],[Z,re]=Y.useState(H),le=ye=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ye),ce=Z.filter(ye=>{const Xe=t===""||ye.invoiceNumber.toLowerCase().includes(t.toLowerCase())||ye.carrier.toLowerCase().includes(t.toLowerCase())||ye.loadId.toLowerCase().includes(t.toLowerCase()),dt=r===""||ye.status===r;return Xe&&dt}),he=ye=>{switch(ye){case"paid":return"bg-green-100 text-green-800";case"unpaid":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},fe=Z.filter(ye=>ye.status==="unpaid"||ye.status==="overdue").reduce((ye,Xe)=>ye+Xe.amount,0),ee=Z.filter(ye=>ye.status==="paid").reduce((ye,Xe)=>ye+Xe.amount,0),xe=Z.filter(ye=>ye.status==="overdue").reduce((ye,Xe)=>ye+Xe.amount,0),ie=Z.filter(ye=>ye.status==="unpaid").length,ge=Z.filter(ye=>ye.status==="paid").length,G=Z.filter(ye=>ye.status==="overdue").length,ue=[{name:"Fast Freight Inc",amount:12850,invoices:4},{name:"Swift Transport",amount:18750,invoices:5},{name:"Reliable Carriers",amount:22350,invoices:6},{name:"Others",amount:24500,invoices:10}],ke=ye=>{l(ye),g(!0)},ve=async ye=>{a(!0);try{await Ps.downloadInvoice(ye.id)}catch(Xe){console.error("Error downloading invoice:",Xe)}finally{a(!1)}},Se=async ye=>{a(!0);try{const Xe=await Ps.markInvoiceAsPaid(ye.id),dt=Z.map(Tt=>Tt.id===ye.id?{...Tt,status:"paid",paidDate:Xe.paidDate}:Tt);re(dt)}catch(Xe){console.error("Error marking invoice as paid:",Xe)}finally{a(!1)}},He=ye=>{l(ye);const Xe=ye.carrier.toLowerCase().replace(/\s+/g,"");M(`billing@${Xe}.com`),F(`This is a friendly reminder that invoice ${ye.invoiceNumber} for $${ye.amount} is now past due. Please submit payment at your earliest convenience.`),k(!0)},De=async()=>{if(o){a(!0);try{await Ps.sendInvoiceReminder(o.id),k(!1),M(""),F("")}catch(ye){console.error("Error sending reminder:",ye)}finally{a(!1)}}},$e=()=>{N(!0)},Ue=ye=>{h(ye),O(!0)},Ke=async()=>{a(!0);try{await Ps.syncWithQuickBooks()}catch(ye){console.error("Error syncing with QuickBooks:",ye)}finally{a(!1)}},nt=async()=>{a(!0);try{await Ps.sendOverdueReminders()}catch(ye){console.error("Error processing batch invoices:",ye)}finally{a(!1)}},Me=async()=>{a(!0);try{await Ps.downloadInvoiceReport()}catch(ye){console.error("Error downloading invoice report:",ye)}finally{a(!1)}},qe=async()=>{a(!0);try{await Ps.bulkUpdateInvoiceStatus("paid")}catch(ye){console.error("Error integrating with Triumph Pay:",ye)}finally{a(!1)}};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invoices"}),s.jsx("p",{className:"text-gray-600",children:"Manage carrier invoices and payments"})]}),s.jsx("div",{children:s.jsxs("button",{className:"btn btn-primary flex items-center",onClick:$e,disabled:i,children:[s.jsx("i",{className:"fas fa-plus-circle mr-2"}),"Create New Invoice"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[s.jsx("div",{className:"dashboard-card bg-gradient-blue",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-file-invoice-dollar card-icon"}),s.jsx("h5",{className:"card-title",children:"Total Outstanding"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:le(fe)}),s.jsxs("p",{className:"text-sm mt-1 opacity-90",children:[ie+G," Unpaid Invoices"]}),s.jsx("div",{className:"mt-3 bg-blue-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"75%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-green",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-check-circle card-icon"}),s.jsx("h5",{className:"card-title",children:"Paid This Month"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:le(ee)}),s.jsxs("p",{className:"text-sm mt-1 opacity-90",children:[ge," Paid Invoices"]}),s.jsx("div",{className:"mt-3 bg-green-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"65%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-red",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-exclamation-triangle card-icon"}),s.jsx("h5",{className:"card-title",children:"Overdue"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:le(xe)}),s.jsxs("p",{className:"text-sm mt-1 opacity-90",children:[G," Overdue Invoices"]}),s.jsx("div",{className:"mt-3 bg-red-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"35%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-orange",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-clock card-icon"}),s.jsx("h5",{className:"card-title",children:"Average Payment Time"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"28"}),s.jsx("p",{className:"text-sm mt-1 opacity-90",children:"Days to Payment"}),s.jsx("div",{className:"mt-3 bg-orange-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"55%"}})})]})})]}),s.jsxs(st,{className:"shadow-sm mb-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 pb-4 border-b border-gray-100",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4 md:mb-0",children:[s.jsx("i",{className:"fas fa-file-invoice-dollar mr-2 text-blue-600"}),"Carrier Invoices"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full md:w-auto",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-search text-gray-400"})}),s.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md text-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Search invoices...",value:t,onChange:ye=>e(ye.target.value)})]}),s.jsxs("select",{className:"block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:r,onChange:ye=>n(ye.target.value),children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"unpaid",children:"Unpaid"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"})]}),s.jsxs("button",{className:"px-3 py-2 bg-white border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-blue-500 focus:border-blue-500",onClick:()=>alert("Advanced filters would appear here"),children:[s.jsx("i",{className:"fas fa-filter mr-1"}),s.jsx("span",{children:"More Filters"})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carrier"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load ID"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(ye=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>ke(ye),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:ye.invoiceNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ye.carrier}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ye.loadId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ye.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ye.dueDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:le(ye.amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${he(ye.status)}`,children:ye.status.charAt(0).toUpperCase()+ye.status.slice(1)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:Xe=>Xe.stopPropagation(),children:[s.jsx("button",{className:"btn-sm btn-outline-primary mr-2",onClick:Xe=>{Xe.stopPropagation(),ke(ye)},disabled:i,children:"View"}),ye.status==="paid"?s.jsx("button",{className:"btn-sm btn-outline-secondary",onClick:Xe=>{Xe.stopPropagation(),ve(ye)},disabled:i,children:"Download"}):ye.status==="overdue"?s.jsx("button",{className:"btn-sm btn-outline-danger",onClick:Xe=>{Xe.stopPropagation(),He(ye)},disabled:i,children:"Send Reminder"}):s.jsx("button",{className:"btn-sm btn-outline-success",onClick:Xe=>{Xe.stopPropagation(),Se(ye)},disabled:i,children:"Mark Paid"})]})]},ye.id))})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:["Showing ",s.jsx("span",{className:"font-medium",children:ce.length})," of ",s.jsx("span",{className:"font-medium",children:Z.length})," invoices"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",disabled:!0,children:"Previous"}),s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-chart-pie mr-2 text-blue-600"}),"Invoice Summary by Carrier"]}),s.jsx(st,{className:"shadow-sm h-full",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"md:col-span-2 flex flex-col justify-center",children:s.jsx("div",{className:"space-y-4 p-4",children:ue.map((ye,Xe)=>{const dt=["blue","green","purple","orange"],Tt=dt[Xe%dt.length],Ct=Math.round(ye.amount/ue.reduce((or,Cr)=>or+Cr.amount,0)*100);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-3 w-3 rounded-full bg-${Tt}-500 mr-2`}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:ye.name})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:le(ye.amount)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`bg-${Tt}-500 h-2 rounded-full`,style:{width:`${Ct}%`}})})]},Xe)})})}),s.jsx("div",{className:"md:col-span-3 border-t md:border-t-0 md:border-l border-gray-200 p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carrier"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Due"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoices"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ue.map((ye,Xe)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>Ue(ye),children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:ye.name}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:le(ye.amount)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:ye.invoices}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",onClick:dt=>dt.stopPropagation(),children:s.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:dt=>{dt.stopPropagation(),Ue(ye)},disabled:i,children:"View"})})]},Xe))})]})})})]})})]}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-bolt mr-2 text-blue-600"}),"Quick Actions"]}),s.jsx(st,{className:"shadow-sm mb-6",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:Ke,disabled:i,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-sync text-green-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Sync with QuickBooks"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:nt,disabled:i,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-money-check-alt text-blue-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Process Batch Invoices"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:Me,disabled:i,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-download text-purple-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Download Invoice Report"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:qe,disabled:i,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-link text-orange-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Integrate Triumph Pay"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})]})}),s.jsx(st,{className:"shadow-sm bg-gradient-to-br from-purple-50 to-indigo-50 border border-purple-100",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx("i",{className:"fas fa-chart-line text-4xl text-purple-500"})}),s.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Invoice Overview"}),s.jsx("p",{className:"text-purple-800 mb-4",children:"Your accounts payable has decreased by 12% compared to last month."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-purple-800",children:"30-day Payment Rate"}),s.jsx("span",{className:"text-purple-900 font-medium",children:"89%"})]}),s.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"89%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-purple-800",children:"Invoices Processed (This Month)"}),s.jsx("span",{className:"text-purple-900 font-medium",children:"45"})]}),s.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"85%"}})})]})]}),s.jsx("button",{className:"mt-6 inline-flex items-center px-4 py-2 border border-purple-300 shadow-sm text-sm font-medium rounded-md text-purple-700 bg-white hover:bg-purple-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",onClick:()=>alert("Full invoice report would be shown here"),children:"View Full Report"})]})})]})]}),o&&s.jsx(xr,{isOpen:f,onClose:()=>g(!1),title:`Invoice ${o.invoiceNumber}`,size:"lg",footer:s.jsxs("div",{className:"flex justify-end space-x-4",children:[o.status==="paid"?s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>ve(o),disabled:i,children:"Download Invoice"}):o.status==="overdue"?s.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:()=>{g(!1),He(o)},disabled:i,children:"Send Payment Reminder"}):s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>{Se(o),g(!1)},disabled:i,children:"Mark as Paid"}),s.jsx("button",{className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>g(!1),children:"Close"})]}),children:s.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start border-b border-gray-200 pb-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"INVOICE"}),s.jsxs("p",{className:"text-gray-600",children:["#",o.invoiceNumber]})]}),s.jsxs("div",{className:`px-3 py-1 rounded-md text-sm font-medium ${o.status==="paid"?"bg-green-100 text-green-800":o.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[o.status.toUpperCase(),o.paidDate&&` - Paid on ${o.paidDate}`]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-500 font-medium mb-2",children:"Bill To:"}),s.jsx("p",{className:"font-medium text-gray-900",children:o.carrier}),s.jsx("p",{className:"text-gray-600",children:V(o).carrierAddress}),s.jsxs("p",{className:"text-gray-600 mt-2",children:[s.jsx("strong",{children:"Email:"})," ",V(o).carrierEmail]}),s.jsxs("p",{className:"text-gray-600",children:[s.jsx("strong",{children:"Phone:"})," ",V(o).carrierPhone]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{className:"text-left text-gray-500",children:"Invoice Date:"}),s.jsx("div",{className:"text-right font-medium",children:o.date}),s.jsx("div",{className:"text-left text-gray-500",children:"Due Date:"}),s.jsx("div",{className:"text-right font-medium",children:o.dueDate}),s.jsx("div",{className:"text-left text-gray-500",children:"PO Number:"}),s.jsx("div",{className:"text-right font-medium",children:V(o).poNumber}),s.jsx("div",{className:"text-left text-gray-500",children:"Load ID:"}),s.jsx("div",{className:"text-right font-medium",children:o.loadId})]})})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden mb-6",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V(o).lineItems.map((ye,Xe)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ye.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:ye.quantity}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:le(ye.rate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:le(ye.amount)})]},Xe))}),s.jsxs("tfoot",{className:"bg-gray-50",children:[s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-500",children:"Subtotal"}),s.jsx("td",{className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:le(V(o).subtotal)})]}),s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-500",children:"Tax"}),s.jsx("td",{className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:le(V(o).tax)})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-bold text-gray-700",children:"Total"}),s.jsx("td",{className:"px-6 py-3 text-right text-lg font-bold text-gray-900",children:le(V(o).totalAmount)})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-700 font-medium mb-2",children:"Notes"}),s.jsx("p",{className:"text-gray-600",children:V(o).notes})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-700 font-medium mb-2",children:"Attachments"}),s.jsx("ul",{className:"space-y-2",children:(ht=V(o).attachments)==null?void 0:ht.map((ye,Xe)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-pdf text-red-500 mr-2"}),s.jsx("span",{className:"text-gray-600",children:ye}),s.jsx("button",{className:"ml-2 text-blue-600 hover:text-blue-800 text-sm",onClick:()=>alert(`Downloading ${ye}`),children:"Download"})]},Xe))})]})]})]})}),s.jsx(xr,{isOpen:_,onClose:()=>k(!1),title:"Send Payment Reminder",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:De,disabled:i,children:"Send Reminder"}),s.jsx("button",{className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>k(!1),children:"Cancel"})]}),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Recipient Email"}),s.jsx("input",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",type:"email",value:T,onChange:ye=>M(ye.target.value)})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Message"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:5,value:B,onChange:ye=>F(ye.target.value)})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"include-invoice",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",defaultChecked:!0}),s.jsx("label",{htmlFor:"include-invoice",className:"ml-2 block text-sm text-gray-900",children:"Include invoice details (PDF)"})]})})]})}),s.jsx(xr,{isOpen:y,onClose:()=>N(!1),title:"Create New Invoice",size:"lg",footer:s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>{alert("New invoice would be created here"),N(!1)},disabled:i,children:"Create Invoice"}),s.jsx("button",{className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>N(!1),children:"Cancel"})]}),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Carrier"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select Carrier"}),s.jsx("option",{value:"fast",children:"Fast Freight Inc"}),s.jsx("option",{value:"swift",children:"Swift Transport"}),s.jsx("option",{value:"reliable",children:"Reliable Carriers"}),s.jsx("option",{value:"express",children:"Express Logistics"}),s.jsx("option",{value:"prime",children:"Prime Movers"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Load ID"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select Load"}),s.jsx("option",{value:"LD1001",children:"LD1001 - Chicago to Dallas"}),s.jsx("option",{value:"LD1002",children:"LD1002 - New York to Miami"}),s.jsx("option",{value:"LD1003",children:"LD1003 - Los Angeles to Seattle"}),s.jsx("option",{value:"LD1004",children:"LD1004 - Boston to Washington DC"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Invoice Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Due Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"PO Number"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional PO Number"})]})]}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Line Items"}),s.jsx("div",{className:"border rounded-lg overflow-hidden mb-4",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Quantity"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Rate"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-16"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"text",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:"Transportation Services"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-right",defaultValue:"1"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-right",defaultValue:"1500"})}),s.jsx("td",{className:"px-4 py-2 text-right text-sm font-medium",children:"$1,500.00"}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx("i",{className:"fas fa-trash"})})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"text",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:"Fuel Surcharge"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-right",defaultValue:"1"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-right",defaultValue:"250"})}),s.jsx("td",{className:"px-4 py-2 text-right text-sm font-medium",children:"$250.00"}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx("i",{className:"fas fa-trash"})})})]})]})]})}),s.jsx("div",{className:"flex justify-start mb-6",children:s.jsxs("button",{className:"flex items-center text-blue-600 hover:text-blue-800",children:[s.jsx("i",{className:"fas fa-plus-circle mr-1"}),"Add Line Item"]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Notes"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Optional notes to display on the invoice...",defaultValue:"Payment terms: Net 30 days. Please include invoice number on remittance."})]}),s.jsx("div",{children:s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal"}),s.jsx("span",{className:"text-sm font-medium",children:"$1,750.00"})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tax"}),s.jsx("span",{className:"text-sm font-medium",children:"$0.00"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-base font-medium text-gray-700",children:"Total"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"$1,750.00"})]})]})})]})]})}),s.jsx(xr,{isOpen:C,onClose:()=>O(!1),title:(u==null?void 0:u.name)||"Carrier Details",size:"lg",footer:s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>{alert("Carrier statement would be downloaded here")},disabled:i,children:"Download Statement"}),s.jsx("button",{className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>O(!1),children:"Close"})]}),children:u&&s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1",children:"Total Outstanding"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:le(u.amount)}),s.jsxs("p",{className:"text-sm text-blue-700",children:[u.invoices," Active Invoices"]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[s.jsx("h3",{className:"font-medium text-green-800 mb-1",children:"Average Payment Time"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:"24 Days"}),s.jsx("p",{className:"text-sm text-green-700",children:"Improved by 4 days"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[s.jsx("h3",{className:"font-medium text-purple-800 mb-1",children:"YTD Payments"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:le(u.amount*2.5)}),s.jsx("p",{className:"text-sm text-purple-700",children:"+15% year over year"})]})]}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Outstanding Invoices"}),s.jsx("div",{className:"overflow-x-auto border rounded-lg mb-6",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.from({length:3}).map((ye,Xe)=>{const dt=Xe===0?"overdue":"unpaid",Tt=Xe*10+5,Ct=new Date;Ct.setDate(Ct.getDate()-Tt);const or=new Date(Ct);return or.setDate(or.getDate()+30),s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:["INV-",2300+Xe]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:Ct.toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:or.toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-right",children:le(Math.round(u.amount/u.invoices*(Xe+.8)))}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${he(dt)}`,children:dt.charAt(0).toUpperCase()+dt.slice(1)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{className:"btn-sm btn-outline-primary mr-2",children:"View"}),dt==="overdue"?s.jsx("button",{className:"btn-sm btn-outline-danger",children:"Remind"}):s.jsx("button",{className:"btn-sm btn-outline-success",children:"Mark Paid"})]})]},Xe)})})]})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Billing Contact:"})," Mike Johnson"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Email:"})," billing@",u.name.toLowerCase().replace(/\s+/g,""),".com"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Phone:"})," (555) 987-6543"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Address:"})," 456 Trucking Ave, Suite 200, Transport City, ST 54321"]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Account Manager:"})," David Wilson"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Payment Terms:"})," Net 30"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Preferred Method:"})," ACH Transfer"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Carrier Since:"})," Jan 2022"]})]})]}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Recent Activity"}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("div",{className:"divide-y divide-gray-200",children:[s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 mr-3",children:s.jsx("i",{className:"fas fa-check text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Invoice INV-2290 paid"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["May 01, 2025  ",le(1850)]})]})]})}),s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 mr-3",children:s.jsx("i",{className:"fas fa-paper-plane text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Invoice INV-2295 sent"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["April 15, 2025  ",le(2250)]})]})]})}),s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-100 rounded-full p-2 mr-3",children:s.jsx("i",{className:"fas fa-truck text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New load completed"}),s.jsx("p",{className:"text-xs text-gray-500",children:"April 10, 2025  Load LD-1234"})]})]})})]})})]})})]})},qEe="modulepreload",XEe=function(t){return"/"+t},jq={},e_=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(r.map(h=>{if(h=XEe(h),h in jq)return;jq[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":qEe,f||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),f)return new Promise((N,_)=>{y.addEventListener("load",N),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};var Rw={};Rw.d=(t,e)=>{for(var r in e)Rw.o(e,r)&&!Rw.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})};Rw.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tr=globalThis.pdfjsLib={};Rw.d(Tr,{AbortException:()=>Lg,AnnotationEditorLayer:()=>lI,AnnotationEditorParamsType:()=>Ar,AnnotationEditorType:()=>Dr,AnnotationEditorUIManager:()=>mg,AnnotationLayer:()=>UPe,AnnotationMode:()=>Yh,ColorPicker:()=>KA,DOMSVGFactory:()=>LF,DrawLayer:()=>hI,FeatureTest:()=>fa,GlobalWorkerOptions:()=>vu,ImageKind:()=>YS,InvalidPDFException:()=>See,MissingPDFException:()=>Mg,OPS:()=>Ll,OutputScale:()=>t4,PDFDataRangeTransport:()=>wte,PDFDateString:()=>kF,PDFWorker:()=>l0,PasswordResponses:()=>KEe,PermissionFlag:()=>ZEe,PixelsPerInch:()=>Bf,RenderingCancelledException:()=>_F,TextLayer:()=>E4,UnexpectedResponseException:()=>RE,Util:()=>cr,VerbosityLevel:()=>LE,XfaLayer:()=>Nte,build:()=>SPe,createValidAbsoluteUrl:()=>tTe,fetchData:()=>FE,getDocument:()=>gPe,getFilenameFromUrl:()=>dTe,getPdfFilenameFromUrl:()=>uTe,getXfaPageViewport:()=>hTe,isDataScheme:()=>BE,isPdfFile:()=>SF,noContextMenu:()=>fl,normalizeUnicode:()=>oTe,setLayerDimensions:()=>fg,shadow:()=>Zr,version:()=>_Pe});const Xi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),_ee=[1,0,0,1,0,0],KR=[.001,0,0,.001,0,0],YEe=1e7,Z3=1.35,xo={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Yh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},GEe="pdfjs_internal_editor_",Dr={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ar={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},ZEe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ri={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},YS={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},qn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},jb={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},LE={ERRORS:0,WARNINGS:1,INFOS:5},Ll={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},KEe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let OE=LE.WARNINGS;function JEe(t){Number.isInteger(t)&&(OE=t)}function QEe(){return OE}function DE(t){OE>=LE.INFOS&&console.log(`Info: ${t}`)}function Hr(t){OE>=LE.WARNINGS&&console.log(`Warning: ${t}`)}function Vs(t){throw new Error(t)}function Zn(t,e){t||Vs(e)}function eTe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tTe(t,e=null,r=null){if(!t)return null;try{if(r&&typeof t=="string"){if(r.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=aTe(t)}catch{}}const n=e?new URL(t,e):new URL(t);if(eTe(n))return n}catch{}return null}function Zr(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const Qf=function(){function e(r,n){this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class JR extends Qf{constructor(e,r){super(e,"PasswordException"),this.code=r}}class QR extends Qf{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class See extends Qf{constructor(e){super(e,"InvalidPDFException")}}class Mg extends Qf{constructor(e){super(e,"MissingPDFException")}}class RE extends Qf{constructor(e,r){super(e,"UnexpectedResponseException"),this.status=r}}class rTe extends Qf{constructor(e){super(e,"FormatError")}}class Lg extends Qf{constructor(e){super(e,"AbortException")}}function kee(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Vs("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const a=Math.min(i+r,e),o=t.subarray(i,a);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function IE(t){typeof t!="string"&&Vs("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function sTe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function jF(t){const e=Object.create(null);for(const[r,n]of t)e[r]=n;return e}function nTe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function iTe(){try{return new Function(""),!0}catch{return!1}}class fa{static get isLittleEndian(){return Zr(this,"isLittleEndian",nTe())}static get isEvalSupported(){return Zr(this,"isEvalSupported",iTe())}static get isOffscreenCanvasSupported(){return Zr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Zr(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Zr(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,r;return Zr(this,"isCSSRoundSupported",(r=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:r.call(e,"width: round(1.5px, 1px)"))}}const K3=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Ru,GS,e4;class cr{static makeHexColor(e,r,n){return`#${K3[e]}${K3[r]}${K3[n]}`}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static applyTransform(e,r){const n=e[0]*r[0]+e[1]*r[2]+r[4],i=e[0]*r[1]+e[1]*r[3]+r[5];return[n,i]}static applyInverseTransform(e,r){const n=r[0]*r[3]-r[1]*r[2],i=(e[0]*r[3]-e[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n,a=(-e[0]*r[1]+e[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[i,a]}static getAxialAlignedBoundingBox(e,r){const n=this.applyTransform(e,r),i=this.applyTransform(e.slice(2,4),r),a=this.applyTransform([e[0],e[3]],r),o=this.applyTransform([e[2],e[1]],r);return[Math.min(n[0],i[0],a[0],o[0]),Math.min(n[1],i[1],a[1],o[1]),Math.max(n[0],i[0],a[0],o[0]),Math.max(n[1],i[1],a[1],o[1])]}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e){const r=[e[0],e[2],e[1],e[3]],n=e[0]*r[0]+e[1]*r[2],i=e[0]*r[1]+e[1]*r[3],a=e[2]*r[0]+e[3]*r[2],o=e[2]*r[1]+e[3]*r[3],l=(n+o)/2,u=Math.sqrt((n+o)**2-4*(n*o-a*i))/2,h=l+u||1,f=l-u||1;return[Math.sqrt(h),Math.sqrt(f)]}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return a>o?null:[n,a,i,o]}static bezierBoundingBox(e,r,n,i,a,o,l,u,h){return h?(h[0]=Math.min(h[0],e,l),h[1]=Math.min(h[1],r,u),h[2]=Math.max(h[2],e,l),h[3]=Math.max(h[3],r,u)):h=[Math.min(e,l),Math.min(r,u),Math.max(e,l),Math.max(r,u)],_e(this,Ru,e4).call(this,e,n,a,l,r,i,o,u,3*(-e+3*(n-a)+l),6*(e-2*n+a),3*(n-e),h),_e(this,Ru,e4).call(this,e,n,a,l,r,i,o,u,3*(-r+3*(i-o)+u),6*(r-2*i+o),3*(i-r),h),h}}Ru=new WeakSet,GS=function(e,r,n,i,a,o,l,u,h,f){if(h<=0||h>=1)return;const g=1-h,y=h*h,N=y*h,_=g*(g*(g*e+3*h*r)+3*y*n)+N*i,k=g*(g*(g*a+3*h*o)+3*y*l)+N*u;f[0]=Math.min(f[0],_),f[1]=Math.min(f[1],k),f[2]=Math.max(f[2],_),f[3]=Math.max(f[3],k)},e4=function(e,r,n,i,a,o,l,u,h,f,g,y){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&_e(this,Ru,GS).call(this,e,r,n,i,a,o,l,u,-g/f,y);return}const N=f**2-4*g*h;if(N<0)return;const _=Math.sqrt(N),k=2*h;_e(this,Ru,GS).call(this,e,r,n,i,a,o,l,u,(-f+_)/k,y),_e(this,Ru,GS).call(this,e,r,n,i,a,o,l,u,(-f-_)/k,y)},Te(cr,Ru);function aTe(t){return decodeURIComponent(escape(t))}let J3=null,Nq=null;function oTe(t){return J3||(J3=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Nq=new Map([["","t"]])),t.replaceAll(J3,(e,r,n)=>r?r.normalize("NFKC"):Nq.get(n))}function lTe(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return kee(t)}const NF="pdfjs_internal_id_",Dd={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function cTe(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(kee(t))}const Vd="http://www.w3.org/2000/svg",zm=class zm{};kr(zm,"CSS",96),kr(zm,"PDF",72),kr(zm,"PDF_TO_CSS_UNITS",zm.CSS/zm.PDF);let Bf=zm;async function FE(t,e="text"){if(sw(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(i.response);return}r(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class pN{constructor({viewBox:e,scale:r,rotation:n,offsetX:i=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.scale=r,this.rotation=n,this.offsetX=i,this.offsetY=a;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,f,g,y;switch(n%=360,n<0&&(n+=360),n){case 180:h=-1,f=0,g=0,y=1;break;case 90:h=0,f=1,g=1,y=0;break;case 270:h=0,f=-1,g=-1,y=0;break;case 0:h=1,f=0,g=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,y=-y);let N,_,k,C;h===0?(N=Math.abs(u-e[1])*r+i,_=Math.abs(l-e[0])*r+a,k=(e[3]-e[1])*r,C=(e[2]-e[0])*r):(N=Math.abs(l-e[0])*r+i,_=Math.abs(u-e[1])*r+a,k=(e[2]-e[0])*r,C=(e[3]-e[1])*r),this.transform=[h*r,f*r,g*r,y*r,N-h*r*l-g*r*u,_-f*r*l-y*r*u],this.width=k,this.height=C}get rawDims(){const{viewBox:e}=this;return Zr(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new pN({viewBox:this.viewBox.slice(),scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(e,r){return cr.applyTransform([e,r],this.transform)}convertToViewportRectangle(e){const r=cr.applyTransform([e[0],e[1]],this.transform),n=cr.applyTransform([e[2],e[3]],this.transform);return[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){return cr.applyInverseTransform([e,r],this.transform)}}class _F extends Qf{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function BE(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function SF(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function dTe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function uTe(t,e="document.pdf"){if(typeof t!="string")return e;if(BE(t))return Hr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=r.exec(t);let a=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch{}return a||e}class _q{constructor(){kr(this,"started",Object.create(null));kr(this,"times",[])}time(e){e in this.started&&Hr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Hr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:i,end:a}of this.times)e.push(`${n.padEnd(r)} ${a-i}ms
`);return e.join("")}}function sw(t,e){try{const{protocol:r}=e?new URL(t,e):new URL(t);return r==="http:"||r==="https:"}catch{return!1}}function fl(t){t.preventDefault()}function Sq(t){console.log("Deprecated API usage: "+t)}var I1;class kF{static toDateObject(e){if(!e||typeof e!="string")return null;D(this,I1)||je(this,I1,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=D(this,I1).exec(e);if(!r)return null;const n=parseInt(r[1],10);let i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(r[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(r[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(r[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(r[6],10);u=u>=0&&u<=59?u:0;const h=r[7]||"Z";let f=parseInt(r[8],10);f=f>=0&&f<=23?f:0;let g=parseInt(r[9],10)||0;return g=g>=0&&g<=59?g:0,h==="-"?(o+=f,l+=g):h==="+"&&(o-=f,l-=g),new Date(Date.UTC(n,i,a,o,l,u))}}I1=new WeakMap,Te(kF,I1);function hTe(t,{scale:e=1,rotation:r=0}){const{width:n,height:i}=t.attributes.style,a=[0,0,parseInt(n),parseInt(i)];return new pN({viewBox:a,scale:e,rotation:r})}function AF(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Hr(`Not a valid color format: "${t}"`),[0,0,0])}function fTe(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,AF(n))}e.remove()}function an(t){const{a:e,b:r,c:n,d:i,e:a,f:o}=t.getTransform();return[e,r,n,i,a,o]}function Rd(t){const{a:e,b:r,c:n,d:i,e:a,f:o}=t.getTransform().invertSelf();return[e,r,n,i,a,o]}function fg(t,e,r=!1,n=!0){if(e instanceof pN){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:o}=t,l=fa.isCSSRoundSupported,u=`var(--scale-factor) * ${i}px`,h=`var(--scale-factor) * ${a}px`,f=l?`round(down, ${u}, var(--scale-round-x, 1px))`:`calc(${u})`,g=l?`round(down, ${h}, var(--scale-round-y, 1px))`:`calc(${h})`;!r||e.rotation%180===0?(o.width=f,o.height=g):(o.width=g,o.height=f)}n&&t.setAttribute("data-main-rotation",e.rotation)}class t4{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Kh,ep,Ol,tp,F1,B1,yC,Aee,ma,Cee,Eee,ZS,Tee,s4;const qd=class qd{constructor(e){Te(this,ma);Te(this,Kh,null);Te(this,ep,null);Te(this,Ol);Te(this,tp,null);Te(this,F1,null);je(this,Ol,e),D(qd,B1)||je(qd,B1,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=je(this,Kh,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const r=D(this,Ol)._uiManager._signal;e.addEventListener("contextmenu",fl,{signal:r}),e.addEventListener("pointerdown",_e(qd,yC,Aee),{signal:r});const n=je(this,tp,document.createElement("div"));n.className="buttons",e.append(n);const i=D(this,Ol).toolbarPosition;if(i){const{style:a}=e,o=D(this,Ol)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return _e(this,ma,Tee).call(this),e}get div(){return D(this,Kh)}hide(){var e;D(this,Kh).classList.add("hidden"),(e=D(this,ep))==null||e.hideDropdown()}show(){var e;D(this,Kh).classList.remove("hidden"),(e=D(this,F1))==null||e.shown()}async addAltText(e){const r=await e.render();_e(this,ma,ZS).call(this,r),D(this,tp).prepend(r,D(this,ma,s4)),je(this,F1,e)}addColorPicker(e){je(this,ep,e);const r=e.renderButton();_e(this,ma,ZS).call(this,r),D(this,tp).prepend(r,D(this,ma,s4))}remove(){var e;D(this,Kh).remove(),(e=D(this,ep))==null||e.destroy(),je(this,ep,null)}};Kh=new WeakMap,ep=new WeakMap,Ol=new WeakMap,tp=new WeakMap,F1=new WeakMap,B1=new WeakMap,yC=new WeakSet,Aee=function(e){e.stopPropagation()},ma=new WeakSet,Cee=function(e){D(this,Ol)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Eee=function(e){D(this,Ol)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},ZS=function(e){const r=D(this,Ol)._uiManager._signal;e.addEventListener("focusin",_e(this,ma,Cee).bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",_e(this,ma,Eee).bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",fl,{signal:r})},Tee=function(){const{editorType:e,_uiManager:r}=D(this,Ol),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",D(qd,B1)[e]),_e(this,ma,ZS).call(this,n),n.addEventListener("click",i=>{r.delete()},{signal:r._signal}),D(this,tp).append(n)},s4=function(){const e=document.createElement("div");return e.className="divider",e},Te(qd,yC),Te(qd,B1,null);let r4=qd;var $1,rp,sp,Hf,Pee,Mee,Lee;class mTe{constructor(e){Te(this,Hf);Te(this,$1,null);Te(this,rp,null);Te(this,sp);je(this,sp,e)}show(e,r,n){const[i,a]=_e(this,Hf,Mee).call(this,r,n),{style:o}=D(this,rp)||je(this,rp,_e(this,Hf,Pee).call(this));e.append(D(this,rp)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){D(this,rp).remove()}}$1=new WeakMap,rp=new WeakMap,sp=new WeakMap,Hf=new WeakSet,Pee=function(){const e=je(this,rp,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",fl,{signal:D(this,sp)._signal});const r=je(this,$1,document.createElement("div"));return r.className="buttons",e.append(r),_e(this,Hf,Lee).call(this),e},Mee=function(e,r){let n=0,i=0;for(const a of e){const o=a.y+a.height;if(o<n)continue;const l=a.x+(r?a.width:0);if(o>n){i=l,n=o;continue}r?l>i&&(i=l):l<i&&(i=l)}return[r?1-i:i,n]},Lee=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const r=document.createElement("span");e.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=D(this,sp)._signal;e.addEventListener("contextmenu",fl,{signal:n}),e.addEventListener("click",()=>{D(this,sp).highlightSelection("floating_button")},{signal:n}),D(this,$1).append(e)};function YA(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}function pTe(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var vC;class gTe{constructor(){Te(this,vC,0)}get id(){return`${GEe}${ea(this,vC)._++}`}}vC=new WeakMap;var f0,z1,Fi,m0,KS;const dB=class dB{constructor(){Te(this,m0);Te(this,f0,lTe());Te(this,z1,0);Te(this,Fi,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Zr(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:r,name:n,size:i,type:a}=e;return _e(this,m0,KS).call(this,`${r}_${n}_${i}_${a}`,e)}async getFromUrl(e){return _e(this,m0,KS).call(this,e,e)}async getFromBlob(e,r){const n=await r;return _e(this,m0,KS).call(this,e,n)}async getFromId(e){D(this,Fi)||je(this,Fi,new Map);const r=D(this,Fi).get(e);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:n}=r;return delete r.blobPromise,this.getFromBlob(r.id,n)}return this.getFromUrl(r.url)}getFromCanvas(e,r){D(this,Fi)||je(this,Fi,new Map);let n=D(this,Fi).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(r.width,r.height);return i.getContext("2d").drawImage(r,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${D(this,f0)}_${ea(this,z1)._++}`,refCounter:1,isSvg:!1},D(this,Fi).set(e,n),D(this,Fi).set(n.id,n),n}getSvgUrl(e){const r=D(this,Fi).get(e);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(e){var i;D(this,Fi)||je(this,Fi,new Map);const r=D(this,Fi).get(e);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:n}=r;if(!r.url&&!r.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=a.convertToBlob()}(i=n.close)==null||i.call(n),r.bitmap=null}isValidId(e){return e.startsWith(`image_${D(this,f0)}_`)}};f0=new WeakMap,z1=new WeakMap,Fi=new WeakMap,m0=new WeakSet,KS=async function(e,r){D(this,Fi)||je(this,Fi,new Map);let n=D(this,Fi).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${D(this,f0)}_${ea(this,z1)._++}`,refCounter:0,isSvg:!1});let i;if(typeof r=="string"?(n.url=r,i=await FE(r,"blob")):r instanceof File?i=n.file=r:r instanceof Blob&&(i=r),i.type==="image/svg+xml"){const a=dB._isSVGFittingCanvas,o=new FileReader,l=new Image,u=new Promise((h,f)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,h()},o.onload=async()=>{const g=n.svgUrl=o.result;l.src=await a?`${g}#svgView(preserveAspectRatio(none))`:g},l.onerror=o.onerror=f});o.readAsDataURL(i),await u}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return D(this,Fi).set(e,n),n&&D(this,Fi).set(n.id,n),n};let n4=dB;var oi,Jh,H1,li;class xTe{constructor(e=128){Te(this,oi,[]);Te(this,Jh,!1);Te(this,H1);Te(this,li,-1);je(this,H1,e)}add({cmd:e,undo:r,post:n,mustExec:i,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(i&&e(),D(this,Jh))return;const u={cmd:e,undo:r,post:n,type:a};if(D(this,li)===-1){D(this,oi).length>0&&(D(this,oi).length=0),je(this,li,0),D(this,oi).push(u);return}if(o&&D(this,oi)[D(this,li)].type===a){l&&(u.undo=D(this,oi)[D(this,li)].undo),D(this,oi)[D(this,li)]=u;return}const h=D(this,li)+1;h===D(this,H1)?D(this,oi).splice(0,1):(je(this,li,h),h<D(this,oi).length&&D(this,oi).splice(h)),D(this,oi).push(u)}undo(){if(D(this,li)===-1)return;je(this,Jh,!0);const{undo:e,post:r}=D(this,oi)[D(this,li)];e(),r==null||r(),je(this,Jh,!1),je(this,li,D(this,li)-1)}redo(){if(D(this,li)<D(this,oi).length-1){je(this,li,D(this,li)+1),je(this,Jh,!0);const{cmd:e,post:r}=D(this,oi)[D(this,li)];e(),r==null||r(),je(this,Jh,!1)}}hasSomethingToUndo(){return D(this,li)!==-1}hasSomethingToRedo(){return D(this,li)<D(this,oi).length-1}destroy(){je(this,oi,null)}}oi=new WeakMap,Jh=new WeakMap,H1=new WeakMap,li=new WeakMap;var bC,Oee;class gN{constructor(e){Te(this,bC);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=fa.platform;for(const[n,i,a={}]of e)for(const o of n){const l=o.startsWith("mac+");r&&l?(this.callbacks.set(o.slice(4),{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1))):!r&&!l&&(this.callbacks.set(o,{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get(_e(this,bC,Oee).call(this,r));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:o=[],checker:l=null}}=n;l&&!l(e,r)||(i.bind(e,...o,r)(),a||(r.stopPropagation(),r.preventDefault()))}}bC=new WeakSet,Oee=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const wC=class wC{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return fTe(e),Zr(this,"_colors",e)}convert(e){const r=AF(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,i]of this._colors)if(i.every((a,o)=>a===r[o]))return wC._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?cr.makeHexColor(...r):e}};kr(wC,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let i4=wC;var p0,lo,Xn,bi,g0,Yd,x0,Dl,Qh,y0,np,Lc,Rl,ip,W1,V1,v0,U1,Oc,ef,b0,tf,Dc,jC,rf,q1,sf,ap,X1,Y1,ci,vs,Gd,op,G1,Z1,nf,Rc,Zd,K1,Ko,It,JS,a4,Dee,Ree,QS,Iee,Fee,Bee,o4,$ee,l4,c4,zee,sa,Hh,Hee,Wee,d4,Vee,nw,u4;const s0=class s0{constructor(e,r,n,i,a,o,l,u,h,f,g){Te(this,It);Te(this,p0,new AbortController);Te(this,lo,null);Te(this,Xn,new Map);Te(this,bi,new Map);Te(this,g0,null);Te(this,Yd,null);Te(this,x0,null);Te(this,Dl,new xTe);Te(this,Qh,null);Te(this,y0,0);Te(this,np,new Set);Te(this,Lc,null);Te(this,Rl,null);Te(this,ip,new Set);Te(this,W1,!1);Te(this,V1,!1);Te(this,v0,!1);Te(this,U1,null);Te(this,Oc,null);Te(this,ef,null);Te(this,b0,null);Te(this,tf,!1);Te(this,Dc,null);Te(this,jC,new gTe);Te(this,rf,!1);Te(this,q1,!1);Te(this,sf,null);Te(this,ap,null);Te(this,X1,null);Te(this,Y1,null);Te(this,ci,Dr.NONE);Te(this,vs,new Set);Te(this,Gd,null);Te(this,op,null);Te(this,G1,null);Te(this,Z1,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Te(this,nf,[0,0]);Te(this,Rc,null);Te(this,Zd,null);Te(this,K1,null);Te(this,Ko,null);const y=this._signal=D(this,p0).signal;je(this,Zd,e),je(this,K1,r),je(this,g0,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:y}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),i._on("setpreference",this.onSetPreference.bind(this),{signal:y}),i._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:y}),_e(this,It,Iee).call(this),_e(this,It,zee).call(this),_e(this,It,o4).call(this),je(this,Yd,a.annotationStorage),je(this,U1,a.filterFactory),je(this,op,o),je(this,b0,l||null),je(this,W1,u),je(this,V1,h),je(this,v0,f),je(this,Y1,g||null),this.viewParameters={realScale:Bf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=s0.prototype,r=o=>D(o,Zd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Zr(this,"_keyboardManager",new gN([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&D(o,Zd).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&D(o,Zd).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:r}]]))}destroy(){var e,r,n,i;(e=D(this,Ko))==null||e.resolve(),je(this,Ko,null),(r=D(this,p0))==null||r.abort(),je(this,p0,null),this._signal=null;for(const a of D(this,bi).values())a.destroy();D(this,bi).clear(),D(this,Xn).clear(),D(this,ip).clear(),je(this,lo,null),D(this,vs).clear(),D(this,Dl).destroy(),(n=D(this,g0))==null||n.destroy(),(i=D(this,Dc))==null||i.hide(),je(this,Dc,null),D(this,Oc)&&(clearTimeout(D(this,Oc)),je(this,Oc,null)),D(this,Rc)&&(clearTimeout(D(this,Rc)),je(this,Rc,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return D(this,Y1)}get useNewAltTextFlow(){return D(this,V1)}get useNewAltTextWhenAddingImage(){return D(this,v0)}get hcmFilter(){return Zr(this,"hcmFilter",D(this,op)?D(this,U1).addHCMFilter(D(this,op).foreground,D(this,op).background):"none")}get direction(){return Zr(this,"direction",getComputedStyle(D(this,Zd)).direction)}get highlightColors(){return Zr(this,"highlightColors",D(this,b0)?new Map(D(this,b0).split(",").map(e=>e.split("=").map(r=>r.trim()))):null)}get highlightColorNames(){return Zr(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){je(this,X1,e)}editAltText(e,r=!1){var n;(n=D(this,g0))==null||n.editAltText(this,e,r)}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){switch(e){case"enableNewAltTextWhenAddingImage":je(this,v0,r);break}}onPageChanging({pageNumber:e}){je(this,y0,e-1)}focusMainContainer(){D(this,Zd).focus()}findParent(e,r){for(const n of D(this,bi).values()){const{x:i,y:a,width:o,height:l}=n.div.getBoundingClientRect();if(e>=i&&e<=i+o&&r>=a&&r<=a+l)return n}return null}disableUserSelect(e=!1){D(this,K1).classList.toggle("noUserSelect",e)}addShouldRescale(e){D(this,ip).add(e)}removeShouldRescale(e){D(this,ip).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Bf.PDF_TO_CSS_UNITS;for(const r of D(this,ip))r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:o}=r,l=r.toString(),h=_e(this,It,JS).call(this,r).closest(".textLayer"),f=this.getSelectionBoxes(h);if(!f)return;r.empty();const g=_e(this,It,a4).call(this,h),y=D(this,ci)===Dr.NONE,N=()=>{g==null||g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:o,text:l}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Dr.HIGHLIGHT,N);return}N()}addToAnnotationStorage(e){!e.isEmpty()&&D(this,Yd)&&!D(this,Yd).has(e.id)&&D(this,Yd).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,D(this,tf)&&(je(this,tf,!1),_e(this,It,QS).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of D(this,vs))if(r.div.contains(e)){je(this,ap,[r,e]),r._focusEventsAllowed=!1;break}}focus(){if(!D(this,ap))return;const[e,r]=D(this,ap);je(this,ap,null),r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){_e(this,It,o4).call(this),_e(this,It,l4).call(this)}removeEditListeners(){_e(this,It,$ee).call(this),_e(this,It,c4).call(this)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of D(this,Rl))if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of D(this,Rl))if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=D(this,lo))==null||n.commitOrRemove(),!this.hasSelection)return;const r=[];for(const i of D(this,vs)){const a=i.serialize(!0);a&&r.push(a)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:r}=e;for(const a of r.items)for(const o of D(this,Rl))if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){Hr(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const u of n){const h=await i.deserialize(u);if(!h)return;a.push(h)}const o=()=>{for(const u of a)_e(this,It,d4).call(this,u);_e(this,It,u4).call(this,a)},l=()=>{for(const u of a)u.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(a){Hr(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),D(this,ci)!==Dr.NONE&&!this.isEditorHandlingKeyboard&&s0._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,D(this,tf)&&(je(this,tf,!1),_e(this,It,QS).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_e(this,It,Fee).call(this),_e(this,It,l4).call(this),_e(this,It,sa).call(this,{isEditing:D(this,ci)!==Dr.NONE,isEmpty:_e(this,It,nw).call(this),hasSomethingToUndo:D(this,Dl).hasSomethingToUndo(),hasSomethingToRedo:D(this,Dl).hasSomethingToRedo(),hasSelectedEditor:!1})):(_e(this,It,Bee).call(this),_e(this,It,c4).call(this),_e(this,It,sa).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!D(this,Rl)){je(this,Rl,e);for(const r of D(this,Rl))_e(this,It,Hh).call(this,r.defaultPropertiesToUpdate)}}getId(){return D(this,jC).id}get currentLayer(){return D(this,bi).get(D(this,y0))}getLayer(e){return D(this,bi).get(e)}get currentPageIndex(){return D(this,y0)}addLayer(e){D(this,bi).set(e.pageIndex,e),D(this,rf)?e.enable():e.disable()}removeLayer(e){D(this,bi).delete(e.pageIndex)}async updateMode(e,r=null,n=!1){if(D(this,ci)!==e&&!(D(this,Ko)&&(await D(this,Ko).promise,!D(this,Ko)))){if(je(this,Ko,Promise.withResolvers()),je(this,ci,e),e===Dr.NONE){this.setEditingState(!1),_e(this,It,Wee).call(this),D(this,Ko).resolve();return}this.setEditingState(!0),await _e(this,It,Hee).call(this),this.unselectAll();for(const i of D(this,bi).values())i.updateMode(e);if(!r){n&&this.addNewEditorFromKeyboard(),D(this,Ko).resolve();return}for(const i of D(this,Xn).values())i.annotationElementId===r?(this.setSelected(i),i.enterInEditMode()):i.unselect();D(this,Ko).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==D(this,ci)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,r){var n;if(D(this,Rl)){switch(e){case Ar.CREATE:this.currentLayer.addNewEditor();return;case Ar.HIGHLIGHT_DEFAULT_COLOR:(n=D(this,X1))==null||n.updateColor(r);break;case Ar.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(D(this,G1)||je(this,G1,new Map)).set(e,r),this.showAllEditors("highlight",r);break}for(const i of D(this,vs))i.updateParams(e,r);for(const i of D(this,Rl))i.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){var a;for(const o of D(this,Xn).values())o.editorType===e&&o.show(r);(((a=D(this,G1))==null?void 0:a.get(Ar.HIGHLIGHT_SHOW_ALL))??!0)!==r&&_e(this,It,Hh).call(this,[[Ar.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(D(this,q1)!==e){je(this,q1,e);for(const r of D(this,bi).values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}getEditors(e){const r=[];for(const n of D(this,Xn).values())n.pageIndex===e&&r.push(n);return r}getEditor(e){return D(this,Xn).get(e)}addEditor(e){D(this,Xn).set(e.id,e)}removeEditor(e){var r;e.div.contains(document.activeElement)&&(D(this,Oc)&&clearTimeout(D(this,Oc)),je(this,Oc,setTimeout(()=>{this.focusMainContainer(),je(this,Oc,null)},0))),D(this,Xn).delete(e.id),this.unselect(e),(!e.annotationElementId||!D(this,np).has(e.annotationElementId))&&((r=D(this,Yd))==null||r.remove(e.id))}addDeletedAnnotationElement(e){D(this,np).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return D(this,np).has(e)}removeDeletedAnnotationElement(e){D(this,np).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){D(this,lo)!==e&&(je(this,lo,e),e&&_e(this,It,Hh).call(this,e.propertiesToUpdate))}updateUI(e){D(this,It,Vee)===e&&_e(this,It,Hh).call(this,e.propertiesToUpdate)}toggleSelected(e){if(D(this,vs).has(e)){D(this,vs).delete(e),e.unselect(),_e(this,It,sa).call(this,{hasSelectedEditor:this.hasSelection});return}D(this,vs).add(e),e.select(),_e(this,It,Hh).call(this,e.propertiesToUpdate),_e(this,It,sa).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const r of D(this,vs))r!==e&&r.unselect();D(this,vs).clear(),D(this,vs).add(e),e.select(),_e(this,It,Hh).call(this,e.propertiesToUpdate),_e(this,It,sa).call(this,{hasSelectedEditor:!0})}isSelected(e){return D(this,vs).has(e)}get firstSelectedEditor(){return D(this,vs).values().next().value}unselect(e){e.unselect(),D(this,vs).delete(e),_e(this,It,sa).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return D(this,vs).size!==0}get isEnterHandled(){return D(this,vs).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){D(this,Dl).undo(),_e(this,It,sa).call(this,{hasSomethingToUndo:D(this,Dl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_e(this,It,nw).call(this)})}redo(){D(this,Dl).redo(),_e(this,It,sa).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:D(this,Dl).hasSomethingToRedo(),isEmpty:_e(this,It,nw).call(this)})}addCommands(e){D(this,Dl).add(e),_e(this,It,sa).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_e(this,It,nw).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...D(this,vs)],r=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)_e(this,It,d4).call(this,i)};this.addCommands({cmd:r,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=D(this,lo))==null||e.commitOrRemove()}hasSomethingToControl(){return D(this,lo)||this.hasSelection}selectAll(){for(const e of D(this,vs))e.commit();_e(this,It,u4).call(this,D(this,Xn).values())}unselectAll(){if(!(D(this,lo)&&(D(this,lo).commitOrRemove(),D(this,ci)!==Dr.NONE))&&this.hasSelection){for(const e of D(this,vs))e.unselect();D(this,vs).clear(),_e(this,It,sa).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;D(this,nf)[0]+=e,D(this,nf)[1]+=r;const[i,a]=D(this,nf),o=[...D(this,vs)],l=1e3;D(this,Rc)&&clearTimeout(D(this,Rc)),je(this,Rc,setTimeout(()=>{je(this,Rc,null),D(this,nf)[0]=D(this,nf)[1]=0,this.addCommands({cmd:()=>{for(const u of o)D(this,Xn).has(u.id)&&u.translateInPage(i,a)},undo:()=>{for(const u of o)D(this,Xn).has(u.id)&&u.translateInPage(-i,-a)},mustExec:!1})},l));for(const u of o)u.translateInPage(e,r)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),je(this,Lc,new Map);for(const e of D(this,vs))D(this,Lc).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!D(this,Lc))return!1;this.disableUserSelect(!1);const e=D(this,Lc);je(this,Lc,null);let r=!1;for(const[{x:i,y:a,pageIndex:o},l]of e)l.newX=i,l.newY=a,l.newPageIndex=o,r||(r=i!==l.savedX||a!==l.savedY||o!==l.savedPageIndex);if(!r)return!1;const n=(i,a,o,l)=>{if(D(this,Xn).has(i.id)){const u=D(this,bi).get(l);u?i._setParentAndPosition(u,a,o):(i.pageIndex=l,i.x=a,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:o,newPageIndex:l}]of e)n(i,a,o,l)},undo:()=>{for(const[i,{savedX:a,savedY:o,savedPageIndex:l}]of e)n(i,a,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(D(this,Lc))for(const n of D(this,Lc).keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||D(this,vs).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return D(this,lo)===e}getActive(){return D(this,lo)}getMode(){return D(this,ci)}get imageManager(){return Zr(this,"imageManager",new n4)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let h=0,f=r.rangeCount;h<f;h++)if(!e.contains(r.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(h,f,g,y)=>({x:(f-i)/o,y:1-(h+g-n)/a,width:y/o,height:g/a});break;case"180":l=(h,f,g,y)=>({x:1-(h+g-n)/a,y:1-(f+y-i)/o,width:g/a,height:y/o});break;case"270":l=(h,f,g,y)=>({x:1-(f+y-i)/o,y:(h-n)/a,width:y/o,height:g/a});break;default:l=(h,f,g,y)=>({x:(h-n)/a,y:(f-i)/o,width:g/a,height:y/o});break}const u=[];for(let h=0,f=r.rangeCount;h<f;h++){const g=r.getRangeAt(h);if(!g.collapsed)for(const{x:y,y:N,width:_,height:k}of g.getClientRects())_===0||k===0||u.push(l(y,N,_,k))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:r}){(D(this,x0)||je(this,x0,new Map)).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){var r;(r=D(this,x0))==null||r.delete(e)}renderAnnotationElement(e){var i;const r=(i=D(this,x0))==null?void 0:i.get(e.data.id);if(!r)return;const n=D(this,Yd).getRawValue(r);n&&(D(this,ci)===Dr.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};p0=new WeakMap,lo=new WeakMap,Xn=new WeakMap,bi=new WeakMap,g0=new WeakMap,Yd=new WeakMap,x0=new WeakMap,Dl=new WeakMap,Qh=new WeakMap,y0=new WeakMap,np=new WeakMap,Lc=new WeakMap,Rl=new WeakMap,ip=new WeakMap,W1=new WeakMap,V1=new WeakMap,v0=new WeakMap,U1=new WeakMap,Oc=new WeakMap,ef=new WeakMap,b0=new WeakMap,tf=new WeakMap,Dc=new WeakMap,jC=new WeakMap,rf=new WeakMap,q1=new WeakMap,sf=new WeakMap,ap=new WeakMap,X1=new WeakMap,Y1=new WeakMap,ci=new WeakMap,vs=new WeakMap,Gd=new WeakMap,op=new WeakMap,G1=new WeakMap,Z1=new WeakMap,nf=new WeakMap,Rc=new WeakMap,Zd=new WeakMap,K1=new WeakMap,Ko=new WeakMap,It=new WeakSet,JS=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},a4=function(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const n of D(this,bi).values())if(n.hasTextLayer(e))return n;return null},Dee=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=_e(this,It,JS).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(D(this,Dc)||je(this,Dc,new mTe(this)),D(this,Dc).show(n,i,this.direction==="ltr"))},Ree=function(){var a,o,l;const e=document.getSelection();if(!e||e.isCollapsed){D(this,Gd)&&((a=D(this,Dc))==null||a.hide(),je(this,Gd,null),_e(this,It,sa).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===D(this,Gd))return;const i=_e(this,It,JS).call(this,e).closest(".textLayer");if(!i){D(this,Gd)&&((o=D(this,Dc))==null||o.hide(),je(this,Gd,null),_e(this,It,sa).call(this,{hasSelectedText:!1}));return}if((l=D(this,Dc))==null||l.hide(),je(this,Gd,r),_e(this,It,sa).call(this,{hasSelectedText:!0}),!(D(this,ci)!==Dr.HIGHLIGHT&&D(this,ci)!==Dr.NONE)&&(D(this,ci)===Dr.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),je(this,tf,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=D(this,ci)===Dr.HIGHLIGHT?_e(this,It,a4).call(this,i):null;u==null||u.toggleDrawing();const h=new AbortController,f=this.combinedSignal(h),g=y=>{y.type==="pointerup"&&y.button!==0||(h.abort(),u==null||u.toggleDrawing(!0),y.type==="pointerup"&&_e(this,It,QS).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("blur",g,{signal:f})}},QS=function(e=""){D(this,ci)===Dr.HIGHLIGHT?this.highlightSelection(e):D(this,W1)&&_e(this,It,Dee).call(this)},Iee=function(){document.addEventListener("selectionchange",_e(this,It,Ree).bind(this),{signal:this._signal})},Fee=function(){if(D(this,ef))return;je(this,ef,new AbortController);const e=this.combinedSignal(D(this,ef));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Bee=function(){var e;(e=D(this,ef))==null||e.abort(),je(this,ef,null)},o4=function(){if(D(this,sf))return;je(this,sf,new AbortController);const e=this.combinedSignal(D(this,sf));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},$ee=function(){var e;(e=D(this,sf))==null||e.abort(),je(this,sf,null)},l4=function(){if(D(this,Qh))return;je(this,Qh,new AbortController);const e=this.combinedSignal(D(this,Qh));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},c4=function(){var e;(e=D(this,Qh))==null||e.abort(),je(this,Qh,null)},zee=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},sa=function(e){Object.entries(e).some(([n,i])=>D(this,Z1)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(D(this,Z1),e)}),D(this,ci)===Dr.HIGHLIGHT&&e.hasSelectedEditor===!1&&_e(this,It,Hh).call(this,[[Ar.HIGHLIGHT_FREE,!0]]))},Hh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Hee=async function(){if(!D(this,rf)){je(this,rf,!0);const e=[];for(const r of D(this,bi).values())e.push(r.enable());await Promise.all(e);for(const r of D(this,Xn).values())r.enable()}},Wee=function(){if(this.unselectAll(),D(this,rf)){je(this,rf,!1);for(const e of D(this,bi).values())e.disable();for(const e of D(this,Xn).values())e.disable()}},d4=function(e){const r=D(this,bi).get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Vee=function(){let e=null;for(e of D(this,vs));return e},nw=function(){if(D(this,Xn).size===0)return!0;if(D(this,Xn).size===1)for(const e of D(this,Xn).values())return e.isEmpty();return!1},u4=function(e){for(const r of D(this,vs))r.unselect();D(this,vs).clear();for(const r of e)r.isEmpty()||(D(this,vs).add(r),r.select());_e(this,It,sa).call(this,{hasSelectedEditor:this.hasSelection})},kr(s0,"TRANSLATE_SMALL",1),kr(s0,"TRANSLATE_BIG",10);let mg=s0;var di,Ic,Il,w0,Fc,co,j0,Bc,La,Kd,lp,$c,af,rc,iw,ek;const na=class na{constructor(e){Te(this,rc);Te(this,di,null);Te(this,Ic,!1);Te(this,Il,null);Te(this,w0,null);Te(this,Fc,null);Te(this,co,null);Te(this,j0,!1);Te(this,Bc,null);Te(this,La,null);Te(this,Kd,null);Te(this,lp,null);Te(this,$c,!1);je(this,La,e),je(this,$c,e._uiManager.useNewAltTextFlow),D(na,af)||je(na,af,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){na._l10n??(na._l10n=e)}async render(){const e=je(this,Il,document.createElement("button"));e.className="altText",e.tabIndex="0";const r=je(this,w0,document.createElement("span"));e.append(r),D(this,$c)?(e.classList.add("new"),e.setAttribute("data-l10n-id",D(na,af).missing),r.setAttribute("data-l10n-id",D(na,af)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=D(this,La)._uiManager._signal;e.addEventListener("contextmenu",fl,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),D(this,La)._uiManager.editAltText(D(this,La)),D(this,$c)&&D(this,La)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:D(this,rc,iw)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(je(this,j0,!0),i(a))},{signal:n}),await _e(this,rc,ek).call(this),e}finish(){D(this,Il)&&(D(this,Il).focus({focusVisible:D(this,j0)}),je(this,j0,!1))}isEmpty(){return D(this,$c)?D(this,di)===null:!D(this,di)&&!D(this,Ic)}hasData(){return D(this,$c)?D(this,di)!==null||!!D(this,Kd):this.isEmpty()}get guessedText(){return D(this,Kd)}async setGuessedText(e){D(this,di)===null&&(je(this,Kd,e),je(this,lp,await na._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),_e(this,rc,ek).call(this))}toggleAltTextBadge(e=!1){var r;if(!D(this,$c)||D(this,di)){(r=D(this,Bc))==null||r.remove(),je(this,Bc,null);return}if(!D(this,Bc)){const n=je(this,Bc,document.createElement("div"));n.className="noAltTextBadge",D(this,La).div.append(n)}D(this,Bc).classList.toggle("hidden",!e)}serialize(e){let r=D(this,di);return!e&&D(this,Kd)===r&&(r=D(this,lp)),{altText:r,decorative:D(this,Ic),guessedText:D(this,Kd),textWithDisclaimer:D(this,lp)}}get data(){return{altText:D(this,di),decorative:D(this,Ic)}}set data({altText:e,decorative:r,guessedText:n,textWithDisclaimer:i,cancel:a=!1}){n&&(je(this,Kd,n),je(this,lp,i)),!(D(this,di)===e&&D(this,Ic)===r)&&(a||(je(this,di,e),je(this,Ic,r)),_e(this,rc,ek).call(this))}toggle(e=!1){D(this,Il)&&(!e&&D(this,co)&&(clearTimeout(D(this,co)),je(this,co,null)),D(this,Il).disabled=!e)}shown(){D(this,La)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:D(this,rc,iw)}})}destroy(){var e,r;(e=D(this,Il))==null||e.remove(),je(this,Il,null),je(this,w0,null),je(this,Fc,null),(r=D(this,Bc))==null||r.remove(),je(this,Bc,null)}};di=new WeakMap,Ic=new WeakMap,Il=new WeakMap,w0=new WeakMap,Fc=new WeakMap,co=new WeakMap,j0=new WeakMap,Bc=new WeakMap,La=new WeakMap,Kd=new WeakMap,lp=new WeakMap,$c=new WeakMap,af=new WeakMap,rc=new WeakSet,iw=function(){return D(this,di)&&"added"||D(this,di)===null&&this.guessedText&&"review"||"missing"},ek=async function(){var i,a,o;const e=D(this,Il);if(!e)return;if(D(this,$c)){if(e.classList.toggle("done",!!D(this,di)),e.setAttribute("data-l10n-id",D(na,af)[D(this,rc,iw)]),(i=D(this,w0))==null||i.setAttribute("data-l10n-id",D(na,af)[`${D(this,rc,iw)}-label`]),!D(this,di)){(a=D(this,Fc))==null||a.remove();return}}else{if(!D(this,di)&&!D(this,Ic)){e.classList.remove("done"),(o=D(this,Fc))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=D(this,Fc);if(!r){je(this,Fc,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${D(this,La).id}`;const l=100,u=D(this,La)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(D(this,co)),je(this,co,null)},{once:!0}),e.addEventListener("mouseenter",()=>{je(this,co,setTimeout(()=>{je(this,co,null),D(this,Fc).classList.add("show"),D(this,La)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:u}),e.addEventListener("mouseleave",()=>{var h;D(this,co)&&(clearTimeout(D(this,co)),je(this,co,null)),(h=D(this,Fc))==null||h.classList.remove("show")},{signal:u})}D(this,Ic)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=D(this,di)),r.parentNode||e.append(r);const n=D(this,La).getImageForAltText();n==null||n.setAttribute("aria-describedby",r.id)},Te(na,af,null),kr(na,"_l10n",null);let GA=na;var cp,Fl,sn,N0,dp,wi,up,of,J1,hp,lf,Q1,fp,Jd,zc,_0,S0,Jo,ej,NC,$r,h4,tj,f4,m4,Uee,qee,p4,g4,x4,Xee,y4,Yee,Gee,Zee,v4,aw;const ps=class ps{constructor(e){Te(this,$r);Te(this,cp,null);Te(this,Fl,null);Te(this,sn,null);Te(this,N0,!1);Te(this,dp,!1);Te(this,wi,null);Te(this,up,null);Te(this,of,null);Te(this,J1,"");Te(this,hp,!1);Te(this,lf,null);Te(this,Q1,!1);Te(this,fp,!1);Te(this,Jd,!1);Te(this,zc,null);Te(this,_0,0);Te(this,S0,0);Te(this,Jo,null);kr(this,"_editToolbar",null);kr(this,"_initialOptions",Object.create(null));kr(this,"_initialData",null);kr(this,"_isVisible",!0);kr(this,"_uiManager",null);kr(this,"_focusEventsAllowed",!0);Te(this,ej,!1);Te(this,NC,ps._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:r,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,o];const[l,u]=this.parentDimensions;this.x=e.x/l,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ps.prototype._resizeWithKeyboard,r=mg.TRANSLATE_SMALL,n=mg.TRANSLATE_BIG;return Zr(this,"_resizerKeyboardManager",new gN([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],ps.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Zr(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new yTe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r){if(ps._l10n??(ps._l10n=e),ps._l10nResizer||(ps._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ps._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);ps._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){Vs("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return D(this,ej)}set _isDraggable(e){var r;je(this,ej,e),(r=this.div)==null||r.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=D(this,NC)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_e(this,$r,aw).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(D(this,hp)?je(this,hp,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,i){const[a,o]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/a,this.y=(r+i)/o,this.fixAndSetPosition()}translate(e,r){_e(this,$r,h4).call(this,this.parentDimensions,e,r)}translateInPage(e,r){D(this,lf)||je(this,lf,[this.x,this.y]),_e(this,$r,h4).call(this,this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}drag(e,r){D(this,lf)||je(this,lf,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=r/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!D(this,lf)&&(D(this,lf)[0]!==this.x||D(this,lf)[1]!==this.y)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=ps,i=n/e,a=n/r;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[r,n]=this.pageDimensions;let{x:i,y:a,width:o,height:l}=this;if(o*=r,l*=n,i*=r,a*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(r-o,i)),a=Math.max(0,Math.min(n-l,a));break;case 90:i=Math.max(0,Math.min(r-l,i)),a=Math.min(n,Math.max(o,a));break;case 180:i=Math.min(r,Math.max(o,i)),a=Math.min(n,Math.max(l,a));break;case 270:i=Math.min(r,Math.max(l,i)),a=Math.max(0,Math.min(n-o,a));break}this.x=i/=r,this.y=a/=n;const[u,h]=this.getBaseTranslation();i+=u,a+=h;const{style:f}=this.div;f.left=`${(100*i).toFixed(2)}%`,f.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,r){var n;return _e(n=ps,tj,f4).call(n,e,r,this.parentRotation)}pageTranslationToScreen(e,r){var n;return _e(n=ps,tj,f4).call(n,e,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this;return[r*e,n*e]}setDims(e,r){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,D(this,dp)||(this.div.style.height=`${(100*r/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:r,width:n}=e,i=n.endsWith("%"),a=!D(this,dp)&&r.endsWith("%");if(i&&a)return;const[o,l]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!D(this,dp)&&!a&&(e.height=`${(100*parseFloat(r)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=D(this,sn))==null||e.finish()}async addEditToolbar(){return this._editToolbar||D(this,fp)?this._editToolbar:(this._editToolbar=new r4(this),this.div.append(this._editToolbar.render()),D(this,sn)&&await this._editToolbar.addAltText(D(this,sn)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=D(this,sn))==null||e.destroy())}addContainer(e){var n;const r=(n=this._editToolbar)==null?void 0:n.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){D(this,sn)||(GA.initialize(ps._l10n),je(this,sn,new GA(this)),D(this,cp)&&(D(this,sn).data=D(this,cp),je(this,cp,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=D(this,sn))==null?void 0:e.data}set altTextData(e){D(this,sn)&&(D(this,sn).data=e)}get guessedAltText(){var e;return(e=D(this,sn))==null?void 0:e.guessedText}async setGuessedAltText(e){var r;await((r=D(this,sn))==null?void 0:r.setGuessedText(e))}serializeAltText(e){var r;return(r=D(this,sn))==null?void 0:r.serialize(e)}hasAltText(){return!!D(this,sn)&&!D(this,sn).isEmpty()}hasAltTextData(){var e;return((e=D(this,sn))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=D(this,N0)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),_e(this,$r,y4).call(this);const[e,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/r).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),YA(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:r}=fa.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(je(this,hp,!0),this._isDraggable){_e(this,$r,Xee).call(this,e);return}_e(this,$r,x4).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){D(this,zc)&&clearTimeout(D(this,zc)),je(this,zc,setTimeout(()=>{var e;je(this,zc,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition()}getRect(e,r,n=this.rotation){const i=this.parentScale,[a,o]=this.pageDimensions,[l,u]=this.pageTranslation,h=e/i,f=r/i,g=this.x*a,y=this.y*o,N=this.width*a,_=this.height*o;switch(n){case 0:return[g+h+l,o-y-f-_+u,g+h+N+l,o-y-f+u];case 90:return[g+f+l,o-y+h+u,g+f+_+l,o-y+h+N+u];case 180:return[g-h-N+l,o-y+f+u,g-h+l,o-y+f+_+u];case 270:return[g-f-_+l,o-y-h-N+u,g-f+l,o-y-h+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,i,a,o]=e,l=a-n,u=o-i;switch(this.rotation){case 0:return[n,r-o,l,u];case 90:return[n,r-i,u,l];case 180:return[a,r-i,l,u];case 270:return[a,r-o,u,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){je(this,fp,!0)}disableEditMode(){je(this,fp,!1)}isInEditMode(){return D(this,fp)}shouldGetKeyboardEvents(){return D(this,Jd)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){_e(this,$r,y4).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,r=null){Vs("An editor must be serializable")}static async deserialize(e,r,n){const i=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n});i.rotation=e.rotation,je(i,cp,e.accessibilityData);const[a,o]=i.pageDimensions,[l,u,h,f]=i.getRectInCurrentCoords(e.rect,o);return i.x=l/a,i.y=u/o,i.width=h/a,i.height=f/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=D(this,of))==null||e.abort(),je(this,of,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),D(this,zc)&&(clearTimeout(D(this,zc)),je(this,zc,null)),_e(this,$r,aw).call(this),this.removeEditToolbar(),D(this,Jo)){for(const r of D(this,Jo).values())clearTimeout(r);je(this,Jo,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_e(this,$r,Uee).call(this),D(this,wi).classList.remove("hidden"),YA(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),je(this,up,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=D(this,wi).children;if(!D(this,Fl)){je(this,Fl,Array.from(r));const o=_e(this,$r,Yee).bind(this),l=_e(this,$r,Gee).bind(this),u=this._uiManager._signal;for(const h of D(this,Fl)){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:u}),h.addEventListener("blur",l,{signal:u}),h.addEventListener("focus",_e(this,$r,Zee).bind(this,f),{signal:u}),h.setAttribute("data-l10n-id",ps._l10nResizer[f])}}const n=D(this,Fl)[0];let i=0;for(const o of r){if(o===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(D(this,Fl).length/4);if(a!==i){if(a<i)for(let l=0;l<i-a;l++)D(this,wi).append(D(this,wi).firstChild);else if(a>i)for(let l=0;l<a-i;l++)D(this,wi).firstChild.before(D(this,wi).lastChild);let o=0;for(const l of r){const h=D(this,Fl)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",ps._l10nResizer[h])}}_e(this,$r,v4).call(this,0),je(this,Jd,!0),D(this,wi).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,r){D(this,Jd)&&_e(this,$r,g4).call(this,D(this,J1),{movementX:e,movementY:r})}_stopResizingWithKeyboard(){_e(this,$r,aw).call(this),this.div.focus()}select(){var e,r,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(r=this._editToolbar)==null||r.show(),(n=D(this,sn))==null||n.toggleAltTextBadge(!1)}unselect(){var e,r,n,i,a;(e=D(this,wi))==null||e.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=D(this,sn))==null||a.toggleAltTextBadge(!0)}updateParams(e,r){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return D(this,Q1)}set isEditing(e){je(this,Q1,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,r){je(this,dp,!0);const n=e/r,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){D(this,Jo)||je(this,Jo,new Map);const{action:n}=e;let i=D(this,Jo).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),D(this,Jo).delete(n),D(this,Jo).size===0&&je(this,Jo,null)},ps._telemetryTimeout),D(this,Jo).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),je(this,N0,!1)}disable(){this.div&&(this.div.tabIndex=-1),je(this,N0,!0)}renderAnnotationElement(e){let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstChild:r}=e.container;(r==null?void 0:r.nodeName)==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};cp=new WeakMap,Fl=new WeakMap,sn=new WeakMap,N0=new WeakMap,dp=new WeakMap,wi=new WeakMap,up=new WeakMap,of=new WeakMap,J1=new WeakMap,hp=new WeakMap,lf=new WeakMap,Q1=new WeakMap,fp=new WeakMap,Jd=new WeakMap,zc=new WeakMap,_0=new WeakMap,S0=new WeakMap,Jo=new WeakMap,ej=new WeakMap,NC=new WeakMap,$r=new WeakSet,h4=function([e,r],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/r,this.fixAndSetPosition()},tj=new WeakSet,f4=function(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}},m4=function(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}},Uee=function(){if(D(this,wi))return;je(this,wi,document.createElement("div")),D(this,wi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const i=document.createElement("div");D(this,wi).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",_e(this,$r,qee).bind(this,n),{signal:r}),i.addEventListener("contextmenu",fl,{signal:r}),i.tabIndex=-1}this.div.prepend(D(this,wi))},qee=function(e,r){var _;r.preventDefault();const{isMac:n}=fa.platform;if(r.button!==0||r.ctrlKey&&n)return;(_=D(this,sn))==null||_.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_e(this,$r,g4).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",fl,{signal:o});const l=this.x,u=this.y,h=this.width,f=this.height,g=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const N=()=>{var k;a.abort(),this.parent.togglePointerEvents(!0),(k=D(this,sn))==null||k.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=g,this.div.style.cursor=y,_e(this,$r,p4).call(this,l,u,h,f)};window.addEventListener("pointerup",N,{signal:o}),window.addEventListener("blur",N,{signal:o})},p4=function(e,r,n,i){const a=this.x,o=this.y,l=this.width,u=this.height;a===e&&o===r&&l===n&&u===i||this.addCommands({cmd:()=>{this.width=l,this.height=u,this.x=a,this.y=o;const[h,f]=this.parentDimensions;this.setDims(h*l,f*u),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=r;const[h,f]=this.parentDimensions;this.setDims(h*n,f*i),this.fixAndSetPosition()},mustExec:!0})},g4=function(e,r){const[n,i]=this.parentDimensions,a=this.x,o=this.y,l=this.width,u=this.height,h=ps.MIN_SIZE/n,f=ps.MIN_SIZE/i,g=ge=>Math.round(ge*1e4)/1e4,y=_e(this,$r,m4).call(this,this.rotation),N=(ge,G)=>[y[0]*ge+y[2]*G,y[1]*ge+y[3]*G],_=_e(this,$r,m4).call(this,360-this.rotation),k=(ge,G)=>[_[0]*ge+_[2]*G,_[1]*ge+_[3]*G];let C,O,T=!1,M=!1;switch(e){case"topLeft":T=!0,C=(ge,G)=>[0,0],O=(ge,G)=>[ge,G];break;case"topMiddle":C=(ge,G)=>[ge/2,0],O=(ge,G)=>[ge/2,G];break;case"topRight":T=!0,C=(ge,G)=>[ge,0],O=(ge,G)=>[0,G];break;case"middleRight":M=!0,C=(ge,G)=>[ge,G/2],O=(ge,G)=>[0,G/2];break;case"bottomRight":T=!0,C=(ge,G)=>[ge,G],O=(ge,G)=>[0,0];break;case"bottomMiddle":C=(ge,G)=>[ge/2,G],O=(ge,G)=>[ge/2,0];break;case"bottomLeft":T=!0,C=(ge,G)=>[0,G],O=(ge,G)=>[ge,0];break;case"middleLeft":M=!0,C=(ge,G)=>[0,G/2],O=(ge,G)=>[ge,G/2];break}const B=C(l,u),F=O(l,u);let V=N(...F);const H=g(a+V[0]),Z=g(o+V[1]);let re=1,le=1,[ce,he]=this.screenToPageTranslation(r.movementX,r.movementY);if([ce,he]=k(ce/n,he/i),T){const ge=Math.hypot(l,u);re=le=Math.max(Math.min(Math.hypot(F[0]-B[0]-ce,F[1]-B[1]-he)/ge,1/l,1/u),h/l,f/u)}else M?re=Math.max(h,Math.min(1,Math.abs(F[0]-B[0]-ce)))/l:le=Math.max(f,Math.min(1,Math.abs(F[1]-B[1]-he)))/u;const fe=g(l*re),ee=g(u*le);V=N(...O(fe,ee));const xe=H-V[0],ie=Z-V[1];this.width=fe,this.height=ee,this.x=xe,this.y=ie,this.setDims(n*fe,i*ee),this.fixAndSetPosition()},x4=function(e){const{isMac:r}=fa.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},Xee=function(e){const{isSelected:r}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(r){this.div.classList.add("moving"),je(this,_0,e.clientX),je(this,S0,e.clientY);const o=l=>{const{clientX:u,clientY:h}=l,[f,g]=this.screenToPageTranslation(u-D(this,_0),h-D(this,S0));je(this,_0,u),je(this,S0,h),this._uiManager.dragSelectedEditors(f,g)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:i})}const a=()=>{n.abort(),r&&this.div.classList.remove("moving"),je(this,hp,!1),this._uiManager.endDragSession()||_e(this,$r,x4).call(this,e)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})},y4=function(){if(D(this,of)||!this.div)return;je(this,of,new AbortController);const e=this._uiManager.combinedSignal(D(this,of));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Yee=function(e){ps._resizerKeyboardManager.exec(this,e)},Gee=function(e){var r;D(this,Jd)&&((r=e.relatedTarget)==null?void 0:r.parentNode)!==D(this,wi)&&_e(this,$r,aw).call(this)},Zee=function(e){je(this,J1,D(this,Jd)?e:"")},v4=function(e){if(D(this,Fl))for(const r of D(this,Fl))r.tabIndex=e},aw=function(){if(je(this,Jd,!1),_e(this,$r,v4).call(this,-1),D(this,up)){const{savedX:e,savedY:r,savedWidth:n,savedHeight:i}=D(this,up);_e(this,$r,p4).call(this,e,r,n,i),je(this,up,null)}},Te(ps,tj),kr(ps,"_l10n",null),kr(ps,"_l10nResizer",null),kr(ps,"_borderLineWidth",-1),kr(ps,"_colorManager",new i4),kr(ps,"_zIndex",1),kr(ps,"_telemetryTimeout",1e3);let Ns=ps;class yTe extends Ns{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const kq=3285377520,Yo=4294901760,Sc=65535;class Kee{constructor(e){this.h1=e?e&4294967295:kq,this.h2=e?e&4294967295:kq}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let k=0,C=e.length;k<C;k++){const O=e.charCodeAt(k);O<=255?r[n++]=O:(r[n++]=O>>>8,r[n++]=O&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,a=n-i*4,o=new Uint32Array(r.buffer,0,i);let l=0,u=0,h=this.h1,f=this.h2;const g=3432918353,y=461845907,N=g&Sc,_=y&Sc;for(let k=0;k<i;k++)k&1?(l=o[k],l=l*g&Yo|l*N&Sc,l=l<<15|l>>>17,l=l*y&Yo|l*_&Sc,h^=l,h=h<<13|h>>>19,h=h*5+3864292196):(u=o[k],u=u*g&Yo|u*N&Sc,u=u<<15|u>>>17,u=u*y&Yo|u*_&Sc,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,a){case 3:l^=r[i*4+2]<<16;case 2:l^=r[i*4+1]<<8;case 1:l^=r[i*4],l=l*g&Yo|l*N&Sc,l=l<<15|l>>>17,l=l*y&Yo|l*_&Sc,i&1?h^=l:f^=l}this.h1=h,this.h2=f}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&Yo|e*36045&Sc,r=r*4283543511&Yo|((r<<16|e>>>16)*2950163797&Yo)>>>16,e^=r>>>1,e=e*444984403&Yo|e*60499&Sc,r=r*3301882366&Yo|((r<<16|e>>>16)*3120437893&Yo)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const b4=Object.freeze({map:null,hash:"",transfer:void 0});var mp,pp,ui,_C,Jee;class CF{constructor(){Te(this,_C);Te(this,mp,!1);Te(this,pp,null);Te(this,ui,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=D(this,ui).get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return D(this,ui).get(e)}remove(e){if(D(this,ui).delete(e),D(this,ui).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const r of D(this,ui).values())if(r instanceof Ns)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=D(this,ui).get(e);let i=!1;if(n!==void 0)for(const[a,o]of Object.entries(r))n[a]!==o&&(i=!0,n[a]=o);else i=!0,D(this,ui).set(e,r);i&&_e(this,_C,Jee).call(this),r instanceof Ns&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type)}has(e){return D(this,ui).has(e)}getAll(){return D(this,ui).size>0?jF(D(this,ui)):null}setAll(e){for(const[r,n]of Object.entries(e))this.setValue(r,n)}get size(){return D(this,ui).size}resetModified(){D(this,mp)&&(je(this,mp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Qee(this)}get serializable(){if(D(this,ui).size===0)return b4;const e=new Map,r=new Kee,n=[],i=Object.create(null);let a=!1;for(const[o,l]of D(this,ui)){const u=l instanceof Ns?l.serialize(!1,i):l;u&&(e.set(o,u),r.update(`${o}:${JSON.stringify(u)}`),a||(a=!!u.bitmap))}if(a)for(const o of e.values())o.bitmap&&n.push(o.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:b4}get editorStats(){let e=null;const r=new Map;for(const n of D(this,ui).values()){if(!(n instanceof Ns))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:a}=i;r.has(a)||r.set(a,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const o=e[a]||(e[a]=new Map);for(const[l,u]of Object.entries(i)){if(l==="type")continue;let h=o.get(l);h||(h=new Map,o.set(l,h));const f=h.get(u)??0;h.set(u,f+1)}}for(const[n,i]of r)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){je(this,pp,null)}get modifiedIds(){if(D(this,pp))return D(this,pp);const e=[];for(const r of D(this,ui).values())!(r instanceof Ns)||!r.annotationElementId||!r.serialize()||e.push(r.annotationElementId);return je(this,pp,{ids:new Set(e),hash:e.join(",")})}}mp=new WeakMap,pp=new WeakMap,ui=new WeakMap,_C=new WeakSet,Jee=function(){D(this,mp)||(je(this,mp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var rj;class Qee extends CF{constructor(r){super();Te(this,rj);const{map:n,hash:i,transfer:a}=r.serializable,o=structuredClone(n,a?{transfer:a}:null);je(this,rj,{map:o,hash:i,transfer:a})}get print(){Vs("Should not call PrintAnnotationStorage.print")}get serializable(){return D(this,rj)}get modifiedIds(){return Zr(this,"modifiedIds",{ids:new Set,hash:""})}}rj=new WeakMap;var k0;class vTe{constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){Te(this,k0,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),D(this,k0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:r}){if(!(!e||D(this,k0).has(e.loadedName))){if(Zn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:a}=e,o=new FontFace(n,i,a);this.addNativeFontFace(o);try{await o.load(),D(this,k0).add(n),r==null||r(e)}catch{Hr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Vs("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Hr(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var r;const e=!!((r=this._document)!=null&&r.fonts);return Zr(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Xi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Zr(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function r(){for(Zn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:r,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Zr(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(B,F){return B.charCodeAt(F)<<24|B.charCodeAt(F+1)<<16|B.charCodeAt(F+2)<<8|B.charCodeAt(F+3)&255}function i(B,F,V,H){const Z=B.substring(0,F),re=B.substring(F+V);return Z+H+re}let a,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let h=0;function f(B,F){if(++h>30){Hr("Load test font never loaded."),F();return}if(u.font="30px "+B,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(f.bind(null,B,F))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=i(y,976,g.length,g);const _=16,k=1482184792;let C=n(y,_);for(a=0,o=g.length-3;a<o;a+=4)C=C-k+n(g,a)|0;a<g.length&&(C=C-k+n(g+"XXX",a)|0),y=i(y,_,4,sTe(C));const O=`url(data:font/opentype;base64,${btoa(y)});`,T=`@font-face {font-family:"${g}";src:${O}}`;this.insertRule(T);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const B of[e.loadedName,g]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=B,M.append(F)}this._document.body.append(M),f(g,()=>{M.remove(),r.complete()})}}k0=new WeakMap;class bTe{constructor(e,{disableFontFace:r=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=r===!0,this._inspectFont=n}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(r=this._inspectFont)==null||r.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${cTe(this.data)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),r}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];let n;try{n=e.get(this.loadedName+"_path_"+r)}catch(a){Hr(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[r]=function(a,o){};const i=[];for(let a=0,o=n.length;a<o;)switch(n[a++]){case Dd.BEZIER_CURVE_TO:{const[l,u,h,f,g,y]=n.slice(a,a+6);i.push(N=>N.bezierCurveTo(l,u,h,f,g,y)),a+=6}break;case Dd.MOVE_TO:{const[l,u]=n.slice(a,a+2);i.push(h=>h.moveTo(l,u)),a+=2}break;case Dd.LINE_TO:{const[l,u]=n.slice(a,a+2);i.push(h=>h.lineTo(l,u)),a+=2}break;case Dd.QUADRATIC_CURVE_TO:{const[l,u,h,f]=n.slice(a,a+4);i.push(g=>g.quadraticCurveTo(l,u,h,f)),a+=4}break;case Dd.RESTORE:i.push(l=>l.restore());break;case Dd.SAVE:i.push(l=>l.save());break;case Dd.SCALE:Zn(i.length===2,"Scale command is only valid at the third position.");break;case Dd.TRANSFORM:{const[l,u,h,f,g,y]=n.slice(a,a+6);i.push(N=>N.transform(l,u,h,f,g,y)),a+=6}break;case Dd.TRANSLATE:{const[l,u]=n.slice(a,a+2);i.push(h=>h.translate(l,u)),a+=2}break}return this.compiledGlyphs[r]=function(o,l){i[0](o),i[1](o),o.scale(l,-l);for(let u=2,h=i.length;u<h;u++)i[u](o)}}}var sj;class ete{constructor({enableHWA:e=!1}){Te(this,sj,!1);je(this,sj,e)}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!D(this,sj)})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){Vs("Abstract method `_createCanvas` called.")}}sj=new WeakMap;class wTe extends ete{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}class tte{constructor({baseUrl:e=null,isCompressed:r=!0}){this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(e){Vs("Abstract method `_fetch` called.")}}class rte extends tte{async _fetch(e){const r=await FE(e,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):IE(r)}}class ste{addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,i,a){return"none"}destroy(e=!1){}}var gp,xp,Hc,Qd,Bi,SC,yp,Yt,Ii,Bx,$x,tk,zx,nte,w4,Hx,ow,lw,j4,cw;class jTe extends ste{constructor({docId:r,ownerDocument:n=globalThis.document}){super();Te(this,Yt);Te(this,gp);Te(this,xp);Te(this,Hc);Te(this,Qd);Te(this,Bi);Te(this,SC);Te(this,yp,0);je(this,Qd,r),je(this,Bi,n)}addFilter(r){if(!r)return"none";let n=D(this,Yt,Ii).get(r);if(n)return n;const[i,a,o]=_e(this,Yt,tk).call(this,r),l=r.length===1?i:`${i}${a}${o}`;if(n=D(this,Yt,Ii).get(l),n)return D(this,Yt,Ii).set(r,n),n;const u=`g_${D(this,Qd)}_transfer_map_${ea(this,yp)._++}`,h=_e(this,Yt,zx).call(this,u);D(this,Yt,Ii).set(r,h),D(this,Yt,Ii).set(l,h);const f=_e(this,Yt,Hx).call(this,u);return _e(this,Yt,lw).call(this,i,a,o,f),h}addHCMFilter(r,n){var _;const i=`${r}-${n}`,a="base";let o=D(this,Yt,Bx).get(a);if((o==null?void 0:o.key)===i||(o?((_=o.filter)==null||_.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},D(this,Yt,Bx).set(a,o)),!r||!n))return o.url;const l=_e(this,Yt,cw).call(this,r);r=cr.makeHexColor(...l);const u=_e(this,Yt,cw).call(this,n);if(n=cr.makeHexColor(...u),D(this,Yt,$x).style.color="",r==="#000000"&&n==="#ffffff"||r===n)return o.url;const h=new Array(256);for(let k=0;k<=255;k++){const C=k/255;h[k]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const f=h.join(","),g=`g_${D(this,Qd)}_hcm_filter`,y=o.filter=_e(this,Yt,Hx).call(this,g);_e(this,Yt,lw).call(this,f,f,f,y),_e(this,Yt,w4).call(this,y);const N=(k,C)=>{const O=l[k]/255,T=u[k]/255,M=new Array(C+1);for(let B=0;B<=C;B++)M[B]=O+B/C*(T-O);return M.join(",")};return _e(this,Yt,lw).call(this,N(0,5),N(1,5),N(2,5),y),o.url=_e(this,Yt,zx).call(this,g),o.url}addAlphaFilter(r){let n=D(this,Yt,Ii).get(r);if(n)return n;const[i]=_e(this,Yt,tk).call(this,[r]),a=`alpha_${i}`;if(n=D(this,Yt,Ii).get(a),n)return D(this,Yt,Ii).set(r,n),n;const o=`g_${D(this,Qd)}_alpha_map_${ea(this,yp)._++}`,l=_e(this,Yt,zx).call(this,o);D(this,Yt,Ii).set(r,l),D(this,Yt,Ii).set(a,l);const u=_e(this,Yt,Hx).call(this,o);return _e(this,Yt,j4).call(this,i,u),l}addLuminosityFilter(r){let n=D(this,Yt,Ii).get(r||"luminosity");if(n)return n;let i,a;if(r?([i]=_e(this,Yt,tk).call(this,[r]),a=`luminosity_${i}`):a="luminosity",n=D(this,Yt,Ii).get(a),n)return D(this,Yt,Ii).set(r,n),n;const o=`g_${D(this,Qd)}_luminosity_map_${ea(this,yp)._++}`,l=_e(this,Yt,zx).call(this,o);D(this,Yt,Ii).set(r,l),D(this,Yt,Ii).set(a,l);const u=_e(this,Yt,Hx).call(this,o);return _e(this,Yt,nte).call(this,u),r&&_e(this,Yt,j4).call(this,i,u),l}addHighlightHCMFilter(r,n,i,a,o){var T;const l=`${n}-${i}-${a}-${o}`;let u=D(this,Yt,Bx).get(r);if((u==null?void 0:u.key)===l||(u?((T=u.filter)==null||T.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},D(this,Yt,Bx).set(r,u)),!n||!i))return u.url;const[h,f]=[n,i].map(_e(this,Yt,cw).bind(this));let g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),y=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[N,_]=[a,o].map(_e(this,Yt,cw).bind(this));y<g&&([g,y,N,_]=[y,g,_,N]),D(this,Yt,$x).style.color="";const k=(M,B,F)=>{const V=new Array(256),H=(y-g)/F,Z=M/255,re=(B-M)/(255*F);let le=0;for(let ce=0;ce<=F;ce++){const he=Math.round(g+ce*H),fe=Z+ce*re;for(let ee=le;ee<=he;ee++)V[ee]=fe;le=he+1}for(let ce=le;ce<256;ce++)V[ce]=V[le-1];return V.join(",")},C=`g_${D(this,Qd)}_hcm_${r}_filter`,O=u.filter=_e(this,Yt,Hx).call(this,C);return _e(this,Yt,w4).call(this,O),_e(this,Yt,lw).call(this,k(N[0],_[0],5),k(N[1],_[1],5),k(N[2],_[2],5),O),u.url=_e(this,Yt,zx).call(this,C),u.url}destroy(r=!1){r&&D(this,Yt,Bx).size!==0||(D(this,Hc)&&(D(this,Hc).parentNode.parentNode.remove(),je(this,Hc,null)),D(this,xp)&&(D(this,xp).clear(),je(this,xp,null)),je(this,yp,0))}}gp=new WeakMap,xp=new WeakMap,Hc=new WeakMap,Qd=new WeakMap,Bi=new WeakMap,SC=new WeakMap,yp=new WeakMap,Yt=new WeakSet,Ii=function(){return D(this,xp)||je(this,xp,new Map)},Bx=function(){return D(this,SC)||je(this,SC,new Map)},$x=function(){if(!D(this,Hc)){const r=D(this,Bi).createElement("div"),{style:n}=r;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=D(this,Bi).createElementNS(Vd,"svg");i.setAttribute("width",0),i.setAttribute("height",0),je(this,Hc,D(this,Bi).createElementNS(Vd,"defs")),r.append(i),i.append(D(this,Hc)),D(this,Bi).body.append(r)}return D(this,Hc)},tk=function(r){if(r.length===1){const h=r[0],f=new Array(256);for(let y=0;y<256;y++)f[y]=h[y]/255;const g=f.join(",");return[g,g,g]}const[n,i,a]=r,o=new Array(256),l=new Array(256),u=new Array(256);for(let h=0;h<256;h++)o[h]=n[h]/255,l[h]=i[h]/255,u[h]=a[h]/255;return[o.join(","),l.join(","),u.join(",")]},zx=function(r){if(D(this,gp)===void 0){je(this,gp,"");const n=D(this,Bi).URL;n!==D(this,Bi).baseURI&&(BE(n)?Hr('#createUrl: ignore "data:"-URL for performance reasons.'):je(this,gp,n.split("#",1)[0]))}return`url(${D(this,gp)}#${r})`},nte=function(r){const n=D(this,Bi).createElementNS(Vd,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(n)},w4=function(r){const n=D(this,Bi).createElementNS(Vd,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(n)},Hx=function(r){const n=D(this,Bi).createElementNS(Vd,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",r),D(this,Yt,$x).append(n),n},ow=function(r,n,i){const a=D(this,Bi).createElementNS(Vd,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),r.append(a)},lw=function(r,n,i,a){const o=D(this,Bi).createElementNS(Vd,"feComponentTransfer");a.append(o),_e(this,Yt,ow).call(this,o,"feFuncR",r),_e(this,Yt,ow).call(this,o,"feFuncG",n),_e(this,Yt,ow).call(this,o,"feFuncB",i)},j4=function(r,n){const i=D(this,Bi).createElementNS(Vd,"feComponentTransfer");n.append(i),_e(this,Yt,ow).call(this,i,"feFuncA",r)},cw=function(r){return D(this,Yt,$x).style.color=r,AF(getComputedStyle(D(this,Yt,$x)).getPropertyValue("color"))};class ite{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(e){Vs("Abstract method `_fetch` called.")}}class ate extends ite{async _fetch(e){const r=await FE(e,"arraybuffer");return new Uint8Array(r)}}if(Xi){var N4=Promise.withResolvers(),Iw=null;(async()=>{const e=await e_(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await e_(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await e_(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await e_(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,o;return new Map(Object.entries({fs:e,http:r,https:n,url:i,canvas:a,path2d:o}))})().then(e=>{Iw=e,N4.resolve()},e=>{Hr(`loadPackages: ${e}`),Iw=new Map,N4.resolve()})}class $f{static get promise(){return N4.promise}static get(e){return Iw==null?void 0:Iw.get(e)}}async function ote(t){const r=await $f.get("fs").promises.readFile(t);return new Uint8Array(r)}class NTe extends ste{}class _Te extends ete{_createCanvas(e,r){return $f.get("canvas").createCanvas(e,r)}}class STe extends tte{async _fetch(e){return ote(e)}}class kTe extends ite{async _fetch(e){return ote(e)}}const ca={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function _4(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}class EF{getPattern(){Vs("Abstract method `getPattern` called.")}}class ATe extends EF{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let r;this._type==="axial"?r=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(r=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)r.addColorStop(n[0],n[1]);return r}getPattern(e,r,n,i){let a;if(i===ca.STROKE||i===ca.FILL){const o=r.current.getClippedPathBoundingBox(i,an(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,h=r.cachedCanvases.getCanvas("pattern",l,u),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),n=cr.transform(n,[1,0,0,1,o[0],o[1]]),f.transform(...r.baseTransform),this.matrix&&f.transform(...this.matrix),_4(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=e.createPattern(h.canvas,"no-repeat");const g=new DOMMatrix(n);a.setTransform(g)}else _4(e,this._bbox),a=this._createGradient(e);return a}}function Q3(t,e,r,n,i,a,o,l){const u=e.coords,h=e.colors,f=t.data,g=t.width*4;let y;u[r+1]>u[n+1]&&(y=r,r=n,n=y,y=a,a=o,o=y),u[n+1]>u[i+1]&&(y=n,n=i,i=y,y=o,o=l,l=y),u[r+1]>u[n+1]&&(y=r,r=n,n=y,y=a,a=o,o=y);const N=(u[r]+e.offsetX)*e.scaleX,_=(u[r+1]+e.offsetY)*e.scaleY,k=(u[n]+e.offsetX)*e.scaleX,C=(u[n+1]+e.offsetY)*e.scaleY,O=(u[i]+e.offsetX)*e.scaleX,T=(u[i+1]+e.offsetY)*e.scaleY;if(_>=T)return;const M=h[a],B=h[a+1],F=h[a+2],V=h[o],H=h[o+1],Z=h[o+2],re=h[l],le=h[l+1],ce=h[l+2],he=Math.round(_),fe=Math.round(T);let ee,xe,ie,ge,G,ue,ke,ve;for(let Se=he;Se<=fe;Se++){if(Se<C){const Ke=Se<_?0:(_-Se)/(_-C);ee=N-(N-k)*Ke,xe=M-(M-V)*Ke,ie=B-(B-H)*Ke,ge=F-(F-Z)*Ke}else{let Ke;Se>T?Ke=1:C===T?Ke=0:Ke=(C-Se)/(C-T),ee=k-(k-O)*Ke,xe=V-(V-re)*Ke,ie=H-(H-le)*Ke,ge=Z-(Z-ce)*Ke}let He;Se<_?He=0:Se>T?He=1:He=(_-Se)/(_-T),G=N-(N-O)*He,ue=M-(M-re)*He,ke=B-(B-le)*He,ve=F-(F-ce)*He;const De=Math.round(Math.min(ee,G)),$e=Math.round(Math.max(ee,G));let Ue=g*Se+De*4;for(let Ke=De;Ke<=$e;Ke++)He=(ee-Ke)/(ee-G),He<0?He=0:He>1&&(He=1),f[Ue++]=xe-(xe-ue)*He|0,f[Ue++]=ie-(ie-ke)*He|0,f[Ue++]=ge-(ge-ve)*He|0,f[Ue++]=255}}function CTe(t,e,r){const n=e.coords,i=e.colors;let a,o;switch(e.type){case"lattice":const l=e.verticesPerRow,u=Math.floor(n.length/l)-1,h=l-1;for(a=0;a<u;a++){let f=a*l;for(let g=0;g<h;g++,f++)Q3(t,r,n[f],n[f+1],n[f+l],i[f],i[f+1],i[f+l]),Q3(t,r,n[f+l+1],n[f+1],n[f+l],i[f+l+1],i[f+1],i[f+l])}break;case"triangles":for(a=0,o=n.length;a<o;a+=3)Q3(t,r,n[a],n[a+1],n[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class ETe extends EF{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,r,n){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-u,g=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),N=h/g,_=f/y,k={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/N,scaleY:1/_},C=g+2*2,O=y+2*2,T=n.getCanvas("mesh",C,O),M=T.context,B=M.createImageData(g,y);if(r){const V=B.data;for(let H=0,Z=V.length;H<Z;H+=4)V[H]=r[0],V[H+1]=r[1],V[H+2]=r[2],V[H+3]=255}for(const V of this._figures)CTe(B,V,k);return M.putImageData(B,2,2),{canvas:T.canvas,offsetX:l-2*N,offsetY:u-2*_,scaleX:N,scaleY:_}}getPattern(e,r,n,i){_4(e,this._bbox);let a;if(i===ca.SHADING)a=cr.singularValueDecompose2dScale(an(e));else if(a=cr.singularValueDecompose2dScale(r.baseTransform),this.matrix){const l=cr.singularValueDecompose2dScale(this.matrix);a=[a[0]*l[0],a[1]*l[1]]}const o=this._createMeshCanvas(a,i===ca.SHADING?null:this._background,r.cachedCanvases);return i!==ca.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class TTe extends EF{getPattern(){return"hotpink"}}function PTe(t){switch(t[0]){case"RadialAxial":return new ATe(t);case"Mesh":return new ETe(t);case"Dummy":return new TTe}throw new Error(`Unknown IR type: ${t[0]}`)}const Aq={COLORED:1,UNCOLORED:2},kC=class kC{constructor(e,r,n,i,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(e){const{bbox:r,operatorList:n,paintType:i,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),DE("TilingType: "+a);const f=r[0],g=r[1],y=r[2],N=r[3],_=y-f,k=N-g,C=cr.singularValueDecompose2dScale(this.matrix),O=cr.singularValueDecompose2dScale(this.baseTransform),T=C[0]*O[0],M=C[1]*O[1];let B=_,F=k,V=!1,H=!1;const Z=Math.ceil(u*T),re=Math.ceil(h*M),le=Math.ceil(_*T),ce=Math.ceil(k*M);Z>=le?B=u:V=!0,re>=ce?F=h:H=!0;const he=this.getSizeAndScale(B,this.ctx.canvas.width,T),fe=this.getSizeAndScale(F,this.ctx.canvas.height,M),ee=e.cachedCanvases.getCanvas("pattern",he.size,fe.size),xe=ee.context,ie=l.createCanvasGraphics(xe);if(ie.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ie,i,o),xe.translate(-he.scale*f,-fe.scale*g),ie.transform(he.scale,0,0,fe.scale,0,0),xe.save(),this.clipBbox(ie,f,g,y,N),ie.baseTransform=an(ie.ctx),ie.executeOperatorList(n),ie.endDrawing(),xe.restore(),V||H){const ge=ee.canvas;V&&(B=u),H&&(F=h);const G=this.getSizeAndScale(B,this.ctx.canvas.width,T),ue=this.getSizeAndScale(F,this.ctx.canvas.height,M),ke=G.size,ve=ue.size,Se=e.cachedCanvases.getCanvas("pattern-workaround",ke,ve),He=Se.context,De=V?Math.floor(_/u):0,$e=H?Math.floor(k/h):0;for(let Ue=0;Ue<=De;Ue++)for(let Ke=0;Ke<=$e;Ke++)He.drawImage(ge,ke*Ue,ve*Ke,ke,ve,0,0,ke,ve);return{canvas:Se.canvas,scaleX:G.scale,scaleY:ue.scale,offsetX:f,offsetY:g}}return{canvas:ee.canvas,scaleX:he.scale,scaleY:fe.scale,offsetX:f,offsetY:g}}getSizeAndScale(e,r,n){const i=Math.max(kC.MAX_PATTERN_SIZE,r);let a=Math.ceil(e*n);return a>=i?a=i:n=a/e,{scale:n,size:a}}clipBbox(e,r,n,i,a){const o=i-r,l=a-n;e.ctx.rect(r,n,o,l),e.current.updateRectMinMax(an(e.ctx),[r,n,i,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const i=e.ctx,a=e.current;switch(r){case Aq.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,a.fillColor=o.fillStyle,a.strokeColor=o.strokeStyle;break;case Aq.UNCOLORED:const l=cr.makeHexColor(n[0],n[1],n[2]);i.fillStyle=l,i.strokeStyle=l,a.fillColor=l,a.strokeColor=l;break;default:throw new rTe(`Unsupported paint type: ${r}`)}}getPattern(e,r,n,i){let a=n;i!==ca.SHADING&&(a=cr.transform(a,r.baseTransform),this.matrix&&(a=cr.transform(a,this.matrix)));const o=this.createPatternCanvas(r);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};kr(kC,"MAX_PATTERN_SIZE",3e3);let S4=kC;function MTe({src:t,srcPos:e=0,dest:r,width:n,height:i,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const l=fa.isLittleEndian?4278190080:255,[u,h]=o?[a,l]:[l,a],f=n>>3,g=n&7,y=t.length;r=new Uint32Array(r.buffer);let N=0;for(let _=0;_<i;_++){for(const C=e+f;e<C;e++){const O=e<y?t[e]:255;r[N++]=O&128?h:u,r[N++]=O&64?h:u,r[N++]=O&32?h:u,r[N++]=O&16?h:u,r[N++]=O&8?h:u,r[N++]=O&4?h:u,r[N++]=O&2?h:u,r[N++]=O&1?h:u}if(g===0)continue;const k=e<y?t[e++]:255;for(let C=0;C<g;C++)r[N++]=k&1<<7-C?h:u}return{srcPos:e,destPos:N}}const Cq=16,Eq=100,LTe=15,Tq=10,Pq=1e3,Ia=16;function OTe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},t.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},t.transform=function(n,i,a,o,l,u){e.transform(n,i,a,o,l,u),this.__originalTransform(n,i,a,o,l,u)},t.setTransform=function(n,i,a,o,l,u){e.setTransform(n,i,a,o,l,u),this.__originalSetTransform(n,i,a,o,l,u)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,i,a,o,l){e.bezierCurveTo(r,n,i,a,o,l),this.__originalBezierCurveTo(r,n,i,a,o,l)},t.rect=function(r,n,i,a){e.rect(r,n,i,a),this.__originalRect(r,n,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class DTe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,r,n)):(i=this.canvasFactory.create(r,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function t_(t,e,r,n,i,a,o,l,u,h){const[f,g,y,N,_,k]=an(t);if(g===0&&y===0){const T=o*f+_,M=Math.round(T),B=l*N+k,F=Math.round(B),V=(o+u)*f+_,H=Math.abs(Math.round(V)-M)||1,Z=(l+h)*N+k,re=Math.abs(Math.round(Z)-F)||1;return t.setTransform(Math.sign(f),0,0,Math.sign(N),M,F),t.drawImage(e,r,n,i,a,0,0,H,re),t.setTransform(f,g,y,N,_,k),[H,re]}if(f===0&&N===0){const T=l*y+_,M=Math.round(T),B=o*g+k,F=Math.round(B),V=(l+h)*y+_,H=Math.abs(Math.round(V)-M)||1,Z=(o+u)*g+k,re=Math.abs(Math.round(Z)-F)||1;return t.setTransform(0,Math.sign(g),Math.sign(y),0,M,F),t.drawImage(e,r,n,i,a,0,0,re,H),t.setTransform(f,g,y,N,_,k),[re,H]}t.drawImage(e,r,n,i,a,o,l,u,h);const C=Math.hypot(f,g),O=Math.hypot(y,N);return[C*u,O*h]}function RTe(t){const{width:e,height:r}=t;if(e>Pq||r>Pq)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=e+1;let o=new Uint8Array(a*(r+1)),l,u,h;const f=e+7&-8;let g=new Uint8Array(f*r),y=0;for(const O of t.data){let T=128;for(;T>0;)g[y++]=O&T?0:255,T>>=1}let N=0;for(y=0,g[y]!==0&&(o[0]=1,++N),u=1;u<e;u++)g[y]!==g[y+1]&&(o[u]=g[y]?2:1,++N),y++;for(g[y]!==0&&(o[u]=2,++N),l=1;l<r;l++){y=l*f,h=l*a,g[y-f]!==g[y]&&(o[h]=g[y]?1:8,++N);let O=(g[y]?4:0)+(g[y-f]?8:0);for(u=1;u<e;u++)O=(O>>2)+(g[y+1]?4:0)+(g[y-f+1]?8:0),i[O]&&(o[h+u]=i[O],++N),y++;if(g[y-f]!==g[y]&&(o[h+u]=g[y]?2:4,++N),N>n)return null}for(y=f*(r-1),h=l*a,g[y]!==0&&(o[h]=8,++N),u=1;u<e;u++)g[y]!==g[y+1]&&(o[h+u]=g[y]?4:8,++N),y++;if(g[y]!==0&&(o[h+u]=4,++N),N>n)return null;const _=new Int32Array([0,a,-1,0,-a,0,0,0,1]),k=new Path2D;for(l=0;N&&l<=r;l++){let O=l*a;const T=O+e;for(;O<T&&!o[O];)O++;if(O===T)continue;k.moveTo(O%a,l);const M=O;let B=o[O];do{const F=_[B];do O+=F;while(!o[O]);const V=o[O];V!==5&&V!==10?(B=V,o[O]=0):(B=V&51*B>>4,o[O]&=B>>2|B<<2),k.lineTo(O%a,O/a|0),o[O]||--N}while(M!==O);--l}return g=null,o=null,function(O){O.save(),O.scale(1/e,-1/r),O.translate(0,-r),O.fill(k),O.beginPath(),O.restore()}}class Mq{constructor(e,r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_ee,this.textMatrixScale=1,this.fontMatrix=KR,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ri.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,r])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,r){this.x=e,this.y=r}updatePathMinMax(e,r,n){[r,n]=cr.applyTransform([r,n],e),this.minX=Math.min(this.minX,r),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,r),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,r){const n=cr.applyTransform(r,e),i=cr.applyTransform(r.slice(2),e),a=cr.applyTransform([r[0],r[3]],e),o=cr.applyTransform([r[2],r[1]],e);this.minX=Math.min(this.minX,n[0],i[0],a[0],o[0]),this.minY=Math.min(this.minY,n[1],i[1],a[1],o[1]),this.maxX=Math.max(this.maxX,n[0],i[0],a[0],o[0]),this.maxY=Math.max(this.maxY,n[1],i[1],a[1],o[1])}updateScalingPathMinMax(e,r){cr.scaleMinMax(e,r),this.minX=Math.min(this.minX,r[0]),this.minY=Math.min(this.minY,r[1]),this.maxX=Math.max(this.maxX,r[2]),this.maxY=Math.max(this.maxY,r[3])}updateCurvePathMinMax(e,r,n,i,a,o,l,u,h,f){const g=cr.bezierBoundingBox(r,n,i,a,o,l,u,h,f);f||this.updateRectMinMax(e,g)}getPathBoundingBox(e=ca.FILL,r=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===ca.STROKE){r||Vs("Stroke bounding box must include transform.");const i=cr.singularValueDecompose2dScale(r),a=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;n[0]-=a,n[1]-=o,n[2]+=a,n[3]+=o}return n}updateClipFromPath(){const e=cr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ca.FILL,r=null){return cr.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function Lq(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,i=r%Ia,a=(r-i)/Ia,o=i===0?a:a+1,l=t.createImageData(n,Ia);let u=0,h;const f=e.data,g=l.data;let y,N,_,k;if(e.kind===YS.GRAYSCALE_1BPP){const C=f.byteLength,O=new Uint32Array(g.buffer,0,g.byteLength>>2),T=O.length,M=n+7>>3,B=4294967295,F=fa.isLittleEndian?4278190080:255;for(y=0;y<o;y++){for(_=y<a?Ia:i,h=0,N=0;N<_;N++){const V=C-u;let H=0;const Z=V>M?n:V*8-7,re=Z&-8;let le=0,ce=0;for(;H<re;H+=8)ce=f[u++],O[h++]=ce&128?B:F,O[h++]=ce&64?B:F,O[h++]=ce&32?B:F,O[h++]=ce&16?B:F,O[h++]=ce&8?B:F,O[h++]=ce&4?B:F,O[h++]=ce&2?B:F,O[h++]=ce&1?B:F;for(;H<Z;H++)le===0&&(ce=f[u++],le=128),O[h++]=ce&le?B:F,le>>=1}for(;h<T;)O[h++]=0;t.putImageData(l,0,y*Ia)}}else if(e.kind===YS.RGBA_32BPP){for(N=0,k=n*Ia*4,y=0;y<a;y++)g.set(f.subarray(u,u+k)),u+=k,t.putImageData(l,0,N),N+=Ia;y<o&&(k=n*i*4,g.set(f.subarray(u,u+k)),t.putImageData(l,0,N))}else if(e.kind===YS.RGB_24BPP)for(_=Ia,k=n*_,y=0;y<o;y++){for(y>=a&&(_=i,k=n*_),h=0,N=k;N--;)g[h++]=f[u++],g[h++]=f[u++],g[h++]=f[u++],g[h++]=255;t.putImageData(l,0,y*Ia)}else throw new Error(`bad image kind: ${e.kind}`)}function Oq(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,i=r%Ia,a=(r-i)/Ia,o=i===0?a:a+1,l=t.createImageData(n,Ia);let u=0;const h=e.data,f=l.data;for(let g=0;g<o;g++){const y=g<a?Ia:i;({srcPos:u}=MTe({src:h,srcPos:u,dest:f,width:n,height:y,nonBlackColor:0})),t.putImageData(l,0,g*Ia)}}function Nb(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function r_(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Xi){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function Dq(t,e){if(e)return!0;const r=cr.singularValueDecompose2dScale(t);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Bf.PDF_TO_CSS_UNITS);return r[0]<=n&&r[1]<=n}const ITe=["butt","round","square"],FTe=["miter","round","bevel"],BTe={},Rq={};var Wf,k4,A4;const uB=class uB{constructor(e,r,n,i,a,{optionalContentConfig:o,markedContentStack:l=null},u,h){Te(this,Wf);this.ctx=e,this.current=new Mq(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new DTe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,r=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):r}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:i=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=l,n){const u=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...an(this.compositeCtx))}this.ctx.save(),r_(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=an(this.ctx)}executeOperatorList(e,r,n,i){const a=e.argsArray,o=e.fnArray;let l=r||0;const u=a.length;if(u===l)return l;const h=u-l>Tq&&typeof n=="function",f=h?Date.now()+LTe:0;let g=0;const y=this.commonObjs,N=this.objs;let _;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(_=o[l],_!==Ll.dependency)this[_].apply(this,a[l]);else for(const k of a[l]){const C=k.startsWith("g_")?y:N;if(!C.has(k))return C.get(k,n),l}if(l++,l===u)return l;if(h&&++g>Tq){if(Date.now()>f)return n(),l;g=0}}}endDrawing(){_e(this,Wf,k4).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),_e(this,Wf,A4).call(this)}_scaleImage(e,r){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(r[0],r[1]),1),o=Math.max(Math.hypot(r[2],r[3]),1),l=n,u=i,h="prescale1",f,g;for(;a>2&&l>1||o>2&&u>1;){let y=l,N=u;a>2&&l>1&&(y=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/y),o>2&&u>1&&(N=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/N),f=this.cachedCanvases.getCanvas(h,y,N),g=f.context,g.clearRect(0,0,y,N),g.drawImage(e,0,0,l,u,0,0,y,N),e=f.canvas,l=y,u=N,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:u}}_createMaskCanvas(e){const r=this.ctx,{width:n,height:i}=e,a=this.current.fillColor,o=this.current.patternFill,l=an(r);let u,h,f,g;if((e.bitmap||e.data)&&e.count>1){const Z=e.bitmap||e.data.buffer;h=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(Z),u||(u=new Map,this._cachedBitmapsMap.set(Z,u));const re=u.get(h);if(re&&!o){const le=Math.round(Math.min(l[0],l[2])+l[4]),ce=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:re,offsetX:le,offsetY:ce}}f=re}f||(g=this.cachedCanvases.getCanvas("maskCanvas",n,i),Oq(g.context,e));let y=cr.transform(l,[1/n,0,0,-1/i,0,0]);y=cr.transform(y,[1,0,0,1,0,-i]);const[N,_,k,C]=cr.getAxialAlignedBoundingBox([0,0,n,i],y),O=Math.round(k-N)||1,T=Math.round(C-_)||1,M=this.cachedCanvases.getCanvas("fillCanvas",O,T),B=M.context,F=N,V=_;B.translate(-F,-V),B.transform(...y),f||(f=this._scaleImage(g.canvas,Rd(B)),f=f.img,u&&o&&u.set(h,f)),B.imageSmoothingEnabled=Dq(an(B),e.interpolate),t_(B,f,0,0,f.width,f.height,0,0,n,i),B.globalCompositeOperation="source-in";const H=cr.transform(Rd(B),[1,0,0,1,-F,-V]);return B.fillStyle=o?a.getPattern(r,this,H,ca.FILL):a,B.fillRect(0,0,n,i),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,M.canvas)),{canvas:M.canvas,offsetX:Math.round(F),offsetY:Math.round(V)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=ITe[e]}setLineJoin(e){this.ctx.lineJoin=FTe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,r){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=r)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[r,n]of e)switch(r){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,r=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,r);this.suspendedCtx=this.ctx,this.ctx=i.context;const a=this.ctx;a.setTransform(...an(this.suspendedCtx)),Nb(this.suspendedCtx,a),OTe(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Nb(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,i){const a=i[0],o=i[1],l=i[2]-a,u=i[3]-o;l===0||u===0||(this.genericComposeSMask(r.context,n,l,u,r.subtype,r.backdrop,r.transferMap,a,o,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,i,a,o,l,u,h,f,g){let y=e.canvas,N=u-f,_=h-g;if(o){const C=cr.makeHexColor(...o);if(N<0||_<0||N+n>y.width||_+i>y.height){const O=this.cachedCanvases.getCanvas("maskExtension",n,i),T=O.context;T.drawImage(y,-N,-_),T.globalCompositeOperation="destination-atop",T.fillStyle=C,T.fillRect(0,0,n,i),T.globalCompositeOperation="source-over",y=O.canvas,N=_=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const O=new Path2D;O.rect(N,_,n,i),e.clip(O),e.globalCompositeOperation="destination-atop",e.fillStyle=C,e.fillRect(N,_,n,i),e.restore()}}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),a==="Alpha"&&l?r.filter=this.filterFactory.addAlphaFilter(l):a==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(l));const k=new Path2D;k.rect(u,h,n,i),r.clip(k),r.globalCompositeOperation="destination-in",r.drawImage(y,N,_,n,i,u,h,n,i),r.restore()}save(){this.inSMaskMode?(Nb(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Nb(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,r,n,i,a,o){this.ctx.transform(e,r,n,i,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n){const i=this.ctx,a=this.current;let o=a.x,l=a.y,u,h;const f=an(i),g=f[0]===0&&f[3]===0||f[1]===0&&f[2]===0,y=g?n.slice(0):null;for(let N=0,_=0,k=e.length;N<k;N++)switch(e[N]|0){case Ll.rectangle:o=r[_++],l=r[_++];const C=r[_++],O=r[_++],T=o+C,M=l+O;i.moveTo(o,l),C===0||O===0?i.lineTo(T,M):(i.lineTo(T,l),i.lineTo(T,M),i.lineTo(o,M)),g||a.updateRectMinMax(f,[o,l,T,M]),i.closePath();break;case Ll.moveTo:o=r[_++],l=r[_++],i.moveTo(o,l),g||a.updatePathMinMax(f,o,l);break;case Ll.lineTo:o=r[_++],l=r[_++],i.lineTo(o,l),g||a.updatePathMinMax(f,o,l);break;case Ll.curveTo:u=o,h=l,o=r[_+4],l=r[_+5],i.bezierCurveTo(r[_],r[_+1],r[_+2],r[_+3],o,l),a.updateCurvePathMinMax(f,u,h,r[_],r[_+1],r[_+2],r[_+3],o,l,y),_+=6;break;case Ll.curveTo2:u=o,h=l,i.bezierCurveTo(o,l,r[_],r[_+1],r[_+2],r[_+3]),a.updateCurvePathMinMax(f,u,h,o,l,r[_],r[_+1],r[_+2],r[_+3],y),o=r[_+2],l=r[_+3],_+=4;break;case Ll.curveTo3:u=o,h=l,o=r[_+2],l=r[_+3],i.bezierCurveTo(r[_],r[_+1],o,l,o,l),a.updateCurvePathMinMax(f,u,h,r[_],r[_+1],o,l,o,l,y),_+=4;break;case Ll.closePath:i.closePath();break}g&&a.updateScalingPathMinMax(f,y),a.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const r=this.ctx,n=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(r.save(),r.strokeStyle=n.getPattern(r,this,Rd(r),ca.STROKE),this.rescaleAndStroke(!1),r.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let a=!1;i&&(r.save(),r.fillStyle=n.getPattern(r,this,Rd(r),ca.FILL),a=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill()),a&&r.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=BTe}eoClip(){this.pendingClip=Rq}beginText(){this.current.textMatrix=_ee,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,r=this.ctx;if(e===void 0){r.beginPath();return}r.save(),r.beginPath();for(const n of e)r.setTransform(...n.transform),r.translate(n.x,n.y),n.addToPath(r,n.fontSize);r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,r){var f;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||KR,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Hr("Invalid font matrix for font "+e),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=r,n.isType3Font)return;const a=n.loadedName||"sans-serif",o=((f=n.systemFontInfo)==null?void 0:f.css)||`"${a}", ${n.fallbackName}`;let l="normal";n.black?l="900":n.bold&&(l="bold");const u=n.italic?"italic":"normal";let h=r;r<Cq?h=Cq:r>Eq&&(h=Eq),this.current.fontSizeScale=r/h,this.ctx.font=`${u} ${l} ${h}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,r){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,r){this.setLeading(-r),this.moveText(e,r)}setTextMatrix(e,r,n,i,a,o){this.current.textMatrix=[e,r,n,i,a,o],this.current.textMatrixScale=Math.hypot(e,r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,r,n,i){const a=this.ctx,o=this.current,l=o.font,u=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,f=u&Ri.FILL_STROKE_MASK,g=!!(u&Ri.ADD_TO_PATH_FLAG),y=o.patternFill&&!l.missingFile;let N;(l.disableFontFace||g||y)&&(N=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||y?(a.save(),a.translate(r,n),a.beginPath(),N(a,h),i&&a.setTransform(...i),(f===Ri.FILL||f===Ri.FILL_STROKE)&&a.fill(),(f===Ri.STROKE||f===Ri.FILL_STROKE)&&a.stroke(),a.restore()):((f===Ri.FILL||f===Ri.FILL_STROKE)&&a.fillText(e,r,n),(f===Ri.STROKE||f===Ri.FILL_STROKE)&&a.strokeText(e,r,n)),g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:an(a),x:r,y:n,fontSize:h,addToPath:N})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<r.length;i+=4)if(r[i]>0&&r[i]<255){n=!0;break}return Zr(this,"isFontSubpixelAAEnabled",n)}showText(e){const r=this.current,n=r.font;if(n.isType3Font)return this.showType3Text(e);const i=r.fontSize;if(i===0)return;const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,u=r.wordSpacing,h=r.fontDirection,f=r.textHScale*h,g=e.length,y=n.vertical,N=y?1:-1,_=n.defaultVMetrics,k=i*r.fontMatrix[0],C=r.textRenderingMode===Ri.FILL&&!n.disableFontFace&&!r.patternFill;a.save(),a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),h>0?a.scale(f,-1):a.scale(f,1);let O;if(r.patternFill){a.save();const V=r.fillColor.getPattern(a,this,Rd(a),ca.FILL);O=an(a),a.restore(),a.fillStyle=V}let T=r.lineWidth;const M=r.textMatrixScale;if(M===0||T===0){const V=r.textRenderingMode&Ri.FILL_STROKE_MASK;(V===Ri.STROKE||V===Ri.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=M;if(o!==1&&(a.scale(o,o),T/=o),a.lineWidth=T,n.isInvalidPDFjsFont){const V=[];let H=0;for(const Z of e)V.push(Z.unicode),H+=Z.width;a.fillText(V.join(""),0,0),r.x+=H*k*f,a.restore(),this.compose();return}let B=0,F;for(F=0;F<g;++F){const V=e[F];if(typeof V=="number"){B+=N*V*i/1e3;continue}let H=!1;const Z=(V.isSpace?u:0)+l,re=V.fontChar,le=V.accent;let ce,he,fe=V.width;if(y){const xe=V.vmetric||_,ie=-(V.vmetric?xe[1]:fe*.5)*k,ge=xe[2]*k;fe=xe?-xe[0]:fe,ce=ie/o,he=(B+ge)/o}else ce=B/o,he=0;if(n.remeasure&&fe>0){const xe=a.measureText(re).width*1e3/i*o;if(fe<xe&&this.isFontSubpixelAAEnabled){const ie=fe/xe;H=!0,a.save(),a.scale(ie,1),ce/=ie}else fe!==xe&&(ce+=(fe-xe)/2e3*i/o)}if(this.contentVisible&&(V.isInFont||n.missingFile)){if(C&&!le)a.fillText(re,ce,he);else if(this.paintChar(re,ce,he,O),le){const xe=ce+i*le.offset.x/o,ie=he-i*le.offset.y/o;this.paintChar(le.fontChar,xe,ie,O)}}const ee=y?fe*k-Z*h:fe*k+Z*h;B+=ee,H&&a.restore()}y?r.y-=B:r.x+=B*f,a.restore(),this.compose()}showType3Text(e){const r=this.ctx,n=this.current,i=n.font,a=n.fontSize,o=n.fontDirection,l=i.vertical?1:-1,u=n.charSpacing,h=n.wordSpacing,f=n.textHScale*o,g=n.fontMatrix||KR,y=e.length,N=n.textRenderingMode===Ri.INVISIBLE;let _,k,C,O;if(!(N||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),r.transform(...n.textMatrix),r.translate(n.x,n.y),r.scale(f,o),_=0;_<y;++_){if(k=e[_],typeof k=="number"){O=l*k*a/1e3,this.ctx.translate(O,0),n.x+=O*f;continue}const T=(k.isSpace?h:0)+u,M=i.charProcOperatorList[k.operatorListId];if(!M){Hr(`Type3 character "${k.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=k,this.save(),r.scale(a,a),r.transform(...g),this.executeOperatorList(M),this.restore()),C=cr.applyTransform([k.width,0],g)[0]*a+T,r.translate(C,0),n.x+=C*f}r.restore(),this.processingType3=null}}setCharWidth(e,r){}setCharWidthAndBounds(e,r,n,i,a,o){this.ctx.rect(n,i,a-n,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let r;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||an(this.ctx),a={createCanvasGraphics:o=>new uB(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};r=new S4(e,n,this.ctx,a,i)}else r=this._getPattern(e[1],e[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,r,n){this.ctx.strokeStyle=this.current.strokeColor=cr.makeHexColor(e,r,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,r,n){this.ctx.fillStyle=this.current.fillColor=cr.makeHexColor(e,r,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,r=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=PTe(this.getObject(e)),this.cachedPatterns.set(e,n)),r&&(n.matrix=r),n}shadingFill(e){if(!this.contentVisible)return;const r=this.ctx;this.save();const n=this._getPattern(e);r.fillStyle=n.getPattern(r,this,Rd(r),ca.SHADING);const i=Rd(r);if(i){const{width:a,height:o}=r.canvas,[l,u,h,f]=cr.getAxialAlignedBoundingBox([0,0,a,o],i);this.ctx.fillRect(l,u,h-l,f-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Vs("Should not call beginInlineImage")}beginImageData(){Vs("Should not call beginImageData")}paintFormXObjectBegin(e,r){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=an(this.ctx),r)){const n=r[2]-r[0],i=r[3]-r[1];this.ctx.rect(r[0],r[1],n,i),this.current.updateRectMinMax(an(this.ctx),r),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;e.isolated||DE("TODO: Support non-isolated groups."),e.knockout&&Hr("Knockout groups not supported.");const n=an(r);if(e.matrix&&r.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=cr.getAxialAlignedBoundingBox(e.bbox,an(r));const a=[0,0,r.canvas.width,r.canvas.height];i=cr.intersect(i,a)||[0,0,0,0];const o=Math.floor(i[0]),l=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-o,1),h=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,h]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,u,h),y=g.context;y.translate(-o,-l),y.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:y,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),Nb(r,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=an(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=cr.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],i);this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,r,n,i,a){if(_e(this,Wf,k4).call(this),r_(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=r[0],n[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l;const[u,h]=cr.singularValueDecompose2dScale(an(this.ctx)),{viewportScale:f}=this,g=Math.ceil(o*this.outputScaleX*f),y=Math.ceil(l*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(g,y);const{canvas:N,context:_}=this.annotationCanvas;this.annotationCanvasMap.set(e,N),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_,this.ctx.save(),this.ctx.setTransform(u,0,0,-h,0,l*h),r_(this.ctx)}else r_(this.ctx),this.endPath(),this.ctx.rect(r[0],r[1],o,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new Mq(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_e(this,Wf,A4).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const r=e.count;e=this.getObject(e.data,e),e.count=r;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=RTe(e)),i.compiled)){i.compiled(n);return}const a=this._createMaskCanvas(e),o=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,a.offsetX,a.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n=0,i=0,a,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const u=an(l);l.transform(r,n,i,a,0,0);const h=this._createMaskCanvas(e);l.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]);for(let f=0,g=o.length;f<g;f+=2){const y=cr.transform(u,[r,n,i,a,o[f],o[f+1]]),[N,_]=cr.applyTransform([0,0],y);l.drawImage(h.canvas,N,_)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:o,width:l,height:u,transform:h}=a,f=this.cachedCanvases.getCanvas("maskCanvas",l,u),g=f.context;g.save();const y=this.getObject(o,a);Oq(g,y),g.globalCompositeOperation="source-in",g.fillStyle=i?n.getPattern(g,this,Rd(r),ca.FILL):n,g.fillRect(0,0,l,u),g.restore(),r.save(),r.transform(...h),r.scale(1,-1),t_(r,f.canvas,0,0,l,u,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){Hr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)}paintImageXObjectRepeat(e,r,n,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){Hr("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let h=0,f=i.length;h<f;h+=2)u.push({transform:[r,0,0,n,i[h],i[h+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,i),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(r,0,0),o.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const r=e.width,n=e.height,i=this.ctx;if(this.save(),!Xi){const{filter:l}=i;l!=="none"&&l!==""&&(i.filter="none")}i.scale(1/r,-1/n);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",r,n).context;Lq(u,e),a=this.applyTransferMapsToCanvas(u)}const o=this._scaleImage(a,Rd(i));i.imageSmoothingEnabled=Dq(an(i),e.interpolate),t_(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,r,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,r){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,o=e.height,u=this.cachedCanvases.getCanvas("inlineImage",a,o).context;Lq(u,e),i=this.applyTransferMapsToCanvas(u)}for(const a of r)n.save(),n.transform(...a.transform),n.scale(1,-1),t_(n,i,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,r){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(r||(this.pendingClip===Rq?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=an(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:i,d:a}=this.ctx.getTransform();let o,l;if(n===0&&i===0){const u=Math.abs(r),h=Math.abs(a);if(u===h)if(e===0)o=l=1/u;else{const f=u*e;o=l=f<1?1/f:1}else if(e===0)o=1/u,l=1/h;else{const f=u*e,g=h*e;o=f<1?1/f:1,l=g<1?1/g:1}}else{const u=Math.abs(r*a-n*i),h=Math.hypot(r,n),f=Math.hypot(i,a);if(e===0)o=f/u,l=h/u;else{const g=e*u;o=f>g?f/g:1,l=h>g?h/g:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:r}=this,{lineWidth:n}=this.current,[i,a]=this.getScaleForStroking();if(r.lineWidth=n||1,i===1&&a===1){r.stroke();return}const o=r.getLineDash();if(e&&r.save(),r.scale(i,a),o.length>0){const l=Math.max(i,a);r.setLineDash(o.map(u=>u/l)),r.lineDashOffset/=l}r.stroke(),e&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Wf=new WeakSet,k4=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},A4=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}};let o0=uB;for(const t in Ll)o0.prototype[t]!==void 0&&(o0.prototype[Ll[t]]=o0.prototype[t]);var nj,ij;class vu{static get workerPort(){return D(this,nj)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");je(this,nj,e)}static get workerSrc(){return D(this,ij)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");je(this,ij,e)}}nj=new WeakMap,ij=new WeakMap,Te(vu,nj,null),Te(vu,ij,"");const s_={DATA:1,ERROR:2},Pn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function io(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Vs('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Lg(t.message);case"MissingPDFException":return new Mg(t.message);case"PasswordException":return new JR(t.message,t.code);case"UnexpectedResponseException":return new RE(t.message,t.status);case"UnknownErrorException":return new QR(t.message,t.details);default:return new QR(t.message,t.toString())}}var A0,cl,lte,cte,dte,rk;class dw{constructor(e,r,n){Te(this,cl);Te(this,A0,new AbortController);this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",_e(this,cl,lte).bind(this),{signal:D(this,A0).signal})}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:r},n)}catch(o){a.reject(o)}return a.promise}sendWithStream(e,r,n,i){const a=this.streamId++,o=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:l,action:e,streamId:a,data:r,desiredSize:h.desiredSize},i),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,u.postMessage({sourceName:o,targetName:l,stream:Pn.PULL,streamId:a,desiredSize:h.desiredSize}),f.promise},cancel:h=>{Zn(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,u.postMessage({sourceName:o,targetName:l,stream:Pn.CANCEL,streamId:a,reason:io(h)}),f.promise}},n)}destroy(){var e;(e=D(this,A0))==null||e.abort(),je(this,A0,null)}}A0=new WeakMap,cl=new WeakSet,lte=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){_e(this,cl,dte).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===s_.DATA)i.resolve(e.data);else if(e.callback===s_.ERROR)i.reject(io(e.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,a=this.comObj;new Promise(function(o){o(r(e.data))}).then(function(o){a.postMessage({sourceName:n,targetName:i,callback:s_.DATA,callbackId:e.callbackId,data:o})},function(o){a.postMessage({sourceName:n,targetName:i,callback:s_.ERROR,callbackId:e.callbackId,reason:io(o)})});return}if(e.streamId){_e(this,cl,cte).call(this,e);return}r(e.data)},cte=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,o=this,l=this.actionHandler[e.action],u={enqueue(h,f=1,g){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=f,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:Pn.ENQUEUE,streamId:r,chunk:h},g)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:Pn.CLOSE,streamId:r}),delete o.streamSinks[r])},error(h){Zn(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:Pn.ERROR,streamId:r,reason:io(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[r]=u,new Promise(function(h){h(l(e.data,u))}).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Pn.START_COMPLETE,streamId:r,success:!0})},function(h){a.postMessage({sourceName:n,targetName:i,stream:Pn.START_COMPLETE,streamId:r,reason:io(h)})})},dte=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,o=this.streamControllers[r],l=this.streamSinks[r];switch(e.stream){case Pn.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(io(e.reason));break;case Pn.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(io(e.reason));break;case Pn.PULL:if(!l){a.postMessage({sourceName:n,targetName:i,stream:Pn.PULL_COMPLETE,streamId:r,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise(function(u){var h;u((h=l.onPull)==null?void 0:h.call(l))}).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Pn.PULL_COMPLETE,streamId:r,success:!0})},function(u){a.postMessage({sourceName:n,targetName:i,stream:Pn.PULL_COMPLETE,streamId:r,reason:io(u)})});break;case Pn.ENQUEUE:if(Zn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Pn.CLOSE:if(Zn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),_e(this,cl,rk).call(this,o,r);break;case Pn.ERROR:Zn(o,"error should have stream controller"),o.controller.error(io(e.reason)),_e(this,cl,rk).call(this,o,r);break;case Pn.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(io(e.reason)),_e(this,cl,rk).call(this,o,r);break;case Pn.CANCEL:if(!l)break;new Promise(function(u){var h;u((h=l.onCancel)==null?void 0:h.call(l,io(e.reason)))}).then(function(){a.postMessage({sourceName:n,targetName:i,stream:Pn.CANCEL_COMPLETE,streamId:r,success:!0})},function(u){a.postMessage({sourceName:n,targetName:i,stream:Pn.CANCEL_COMPLETE,streamId:r,reason:io(u)})}),l.sinkCapability.reject(io(e.reason)),l.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},rk=async function(e,r){var n,i,a;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[r]};var vp,aj;class $Te{constructor({parsedData:e,rawData:r}){Te(this,vp);Te(this,aj);je(this,vp,e),je(this,aj,r)}getRaw(){return D(this,aj)}get(e){return D(this,vp).get(e)??null}getAll(){return jF(D(this,vp))}has(e){return D(this,vp).has(e)}}vp=new WeakMap,aj=new WeakMap;const Wx=Symbol("INTERNAL");var oj,lj,cj,C0;class zTe{constructor(e,{name:r,intent:n,usage:i,rbGroups:a}){Te(this,oj,!1);Te(this,lj,!1);Te(this,cj,!1);Te(this,C0,!0);je(this,oj,!!(e&xo.DISPLAY)),je(this,lj,!!(e&xo.PRINT)),this.name=r,this.intent=n,this.usage=i,this.rbGroups=a}get visible(){if(D(this,cj))return D(this,C0);if(!D(this,C0))return!1;const{print:e,view:r}=this.usage;return D(this,oj)?(r==null?void 0:r.viewState)!=="OFF":D(this,lj)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,r,n=!1){e!==Wx&&Vs("Internal method `_setVisible` called."),je(this,cj,n),je(this,C0,r)}}oj=new WeakMap,lj=new WeakMap,cj=new WeakMap,C0=new WeakMap;var cf,bs,E0,T0,dj,C4;class HTe{constructor(e,r=xo.DISPLAY){Te(this,dj);Te(this,cf,null);Te(this,bs,new Map);Te(this,E0,null);Te(this,T0,null);if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,je(this,T0,e.order);for(const n of e.groups)D(this,bs).set(n.id,new zTe(r,n));if(e.baseState==="OFF")for(const n of D(this,bs).values())n._setVisible(Wx,!1);for(const n of e.on)D(this,bs).get(n)._setVisible(Wx,!0);for(const n of e.off)D(this,bs).get(n)._setVisible(Wx,!1);je(this,E0,this.getHash())}}isVisible(e){if(D(this,bs).size===0)return!0;if(!e)return DE("Optional content group not defined."),!0;if(e.type==="OCG")return D(this,bs).has(e.id)?D(this,bs).get(e.id).visible:(Hr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _e(this,dj,C4).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!D(this,bs).has(r))return Hr(`Optional content group not found: ${r}`),!0;if(D(this,bs).get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!D(this,bs).has(r))return Hr(`Optional content group not found: ${r}`),!0;if(!D(this,bs).get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!D(this,bs).has(r))return Hr(`Optional content group not found: ${r}`),!0;if(!D(this,bs).get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!D(this,bs).has(r))return Hr(`Optional content group not found: ${r}`),!0;if(D(this,bs).get(r).visible)return!1}return!0}return Hr(`Unknown optional content policy ${e.policy}.`),!0}return Hr(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0,n=!0){var a;const i=D(this,bs).get(e);if(!i){Hr(`Optional content group not found: ${e}`);return}if(n&&r&&i.rbGroups.length)for(const o of i.rbGroups)for(const l of o)l!==e&&((a=D(this,bs).get(l))==null||a._setVisible(Wx,!1,!0));i._setVisible(Wx,!!r,!0),je(this,cf,null)}setOCGState({state:e,preserveRB:r}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const a=D(this,bs).get(i);if(a)switch(n){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!a.visible,r);break}}je(this,cf,null)}get hasInitialVisibility(){return D(this,E0)===null||this.getHash()===D(this,E0)}getOrder(){return D(this,bs).size?D(this,T0)?D(this,T0).slice():[...D(this,bs).keys()]:null}getGroups(){return D(this,bs).size>0?jF(D(this,bs)):null}getGroup(e){return D(this,bs).get(e)||null}getHash(){if(D(this,cf)!==null)return D(this,cf);const e=new Kee;for(const[r,n]of D(this,bs))e.update(`${r}:${n.visible}`);return je(this,cf,e.hexdigest())}}cf=new WeakMap,bs=new WeakMap,E0=new WeakMap,T0=new WeakMap,dj=new WeakSet,C4=function(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let i=1;i<r;i++){const a=e[i];let o;if(Array.isArray(a))o=_e(this,dj,C4).call(this,a);else if(D(this,bs).has(a))o=D(this,bs).get(a).visible;else return Hr(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"};class WTe{constructor(e,{disableRange:r=!1,disableStream:n=!1}){Zn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(a==null?void 0:a.length)>0){const u=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!r,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,h)=>{this._onReceiveData({begin:u,chunk:h})}),e.addProgressListener((u,h)=>{this._onProgress({loaded:u,total:h})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:r}){const n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});Zn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var r,n,i,a;e.total===void 0?(n=(r=this._rangeReaders[0])==null?void 0:r.onProgress)==null||n.call(r,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const r=this._rangeReaders.indexOf(e);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){Zn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new VTe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new UTe(this,e,r);return this._pdfDataRangeTransport.requestDataRange(e,r),this._rangeReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class VTe{constructor(e,r,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=SF(i)?i:null,this._queuedChunks=r||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class UTe{constructor(e,r,n){this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function qTe(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let f=l(r);return f=unescape(f),f=u(f),f=h(f),a(f)}if(r=o(t),r){const f=h(r);return a(f)}if(r=n("filename","i").exec(t),r){r=r[1];let f=l(r);return f=h(f),a(f)}function n(f,g){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function i(f,g){if(f){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const y=new TextDecoder(f,{fatal:!0}),N=IE(g);g=y.decode(N),e=!1}catch{}}return g}function a(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function o(f){const g=[];let y;const N=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=N.exec(f))!==null;){let[,k,C,O]=y;if(k=parseInt(k,10),k in g){if(k===0)break;continue}g[k]=[C,O]}const _=[];for(let k=0;k<g.length&&k in g;++k){let[C,O]=g[k];O=l(O),C&&(O=unescape(O),k===0&&(O=u(O))),_.push(O)}return _.join("")}function l(f){if(f.startsWith('"')){const g=f.slice(1).split('\\"');for(let y=0;y<g.length;++y){const N=g[y].indexOf('"');N!==-1&&(g[y]=g[y].slice(0,N),g.length=y+1),g[y]=g[y].replaceAll(/\\(.)/g,"$1")}f=g.join('"')}return f}function u(f){const g=f.indexOf("'");if(g===-1)return f;const y=f.slice(0,g),_=f.slice(g+1).replace(/^[^']*'/,"");return i(y,_)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,y,N,_){if(N==="q"||N==="Q")return _=_.replaceAll("_"," "),_=_.replaceAll(/=([0-9a-fA-F]{2})/g,function(k,C){return String.fromCharCode(parseInt(C,16))}),i(y,_);try{_=atob(_)}catch{}return i(y,_)})}return""}function TF(t,e){const r=new Headers;if(!t||!e||typeof e!="object")return r;for(const n in e){const i=e[n];i!==void 0&&r.append(n,i)}return r}function PF({responseHeaders:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*r)||n||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function MF(t){const e=t.get("Content-Disposition");if(e){let r=qTe(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(SF(r))return r}return null}function $E(t,e){return t===404||t===0&&e.startsWith("file:")?new Mg('Missing PDF "'+e+'".'):new RE(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function ute(t){return t===200||t===206}function hte(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function fte(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Hr(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Iq{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=TF(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Zn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new XTe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new YTe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class XTe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;const n=new Headers(e.headers),i=r.url;fetch(i,hte(n,this._withCredentials,this._abortController)).then(a=>{if(!ute(a.status))throw $E(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const o=a.headers,{allowRangeRequests:l,suggestedLength:u}=PF({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=u||this._contentLength,this._filename=MF(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Lg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:fte(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}class YTe{constructor(e,r,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${r}-${n-1}`);const o=i.url;fetch(o,hte(a,this._withCredentials,this._abortController)).then(l=>{if(!ute(l.status))throw $E(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:fte(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}const eO=200,tO=206;function GTe(t){const e=t.response;return typeof e!="string"?e:IE(e).buffer}class ZTe{constructor({url:e,httpHeaders:r,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=TF(this.isHttp,r),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,r,n){const i={begin:e,end:r};for(const a in n)i[a]=n[a];return this.request(i)}requestFull(e){return this.request(e)}request(e){const r=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const[a,o]of this.headers)r.setRequestHeader(a,o);return this.isHttp&&"begin"in e&&"end"in e?(r.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=tO):i.expectedStatus=eO,r.responseType="arraybuffer",e.onError&&(r.onerror=function(a){e.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,r.send(null),n}onProgress(e,r){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,r))}onStateChange(e,r){var u,h,f;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(u=n.onError)==null||u.call(n,i.status);return}const a=i.status||eO;if(!(a===eO&&n.expectedStatus===tO)&&a!==n.expectedStatus){(h=n.onError)==null||h.call(n,i.status);return}const l=GTe(i);if(a===tO){const g=i.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);n.onDone({begin:parseInt(y[1],10),chunk:l})}else l?n.onDone({begin:0,chunk:l}):(f=n.onError)==null||f.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const r=this.pendingRequests[e].xhr;delete this.pendingRequests[e],r.abort()}}class KTe{constructor(e){this._source=e,this._manager=new ZTe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const r=this._rangeRequestReaders.indexOf(e);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return Zn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new JTe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,r){const n=new QTe(this._manager,e,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class JTe{constructor(e,r){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,r=this._manager.getRequestXhr(e),n=new Headers(r.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]})),{allowRangeRequests:i,suggestedLength:a}=PF({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=MF(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=$E(e,this._url),this._headersCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var r;(r=this.onProgress)==null||r.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class QTe{constructor(e,r,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(r,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const r=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=$E(e,this._url);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ePe=/^[a-z][a-z0-9\-+.]+:/i;function tPe(t){if(ePe.test(t))return new URL(t);const e=$f.get("url");return new URL(e.pathToFileURL(t))}function mte(t,e,r){return t.protocol==="http:"?$f.get("http").request(t,{headers:e},r):$f.get("https").request(t,{headers:e},r)}class rPe{constructor(e){this.source=e,this.url=tPe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=TF(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Zn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new iPe(this):new sPe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=this.isFsUrl?new aPe(this,e,r):new nPe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class pte{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Lg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class gte{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class sPe extends pte{constructor(e){super(e);const r=Object.fromEntries(e.headers),n=i=>{if(i.statusCode===404){const u=new Mg(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(i);const a=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:l}=PF({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=MF(a)};this._request=mte(this._url,r,n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class nPe extends gte{constructor(e,r,n){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${r}-${n-1}`;const a=o=>{if(o.statusCode===404){const l=new Mg(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(o)};this._request=mte(this._url,i,a),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class iPe extends pte{constructor(e){super(e);const r=$f.get("fs");r.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Mg(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class aPe extends gte{constructor(e,r,n){super(e);const i=$f.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:r,end:n-1}))}}const oPe=1e5,Aa=30,lPe=.8;var LY,df,Oa,uj,hj,bp,eu,fj,mj,wp,P0,M0,uf,L0,pj,O0,jp,gj,xj,xn,Np,_p,yj,hf,D0,qu,xte,yte,T4,Eo,sk,P4,vte,bte;let E4=(xn=class{constructor({textContentSource:e,container:r,viewport:n}){Te(this,qu);Te(this,df,Promise.withResolvers());Te(this,Oa,null);Te(this,uj,!1);Te(this,hj,!!((LY=globalThis.FontInspector)!=null&&LY.enabled));Te(this,bp,null);Te(this,eu,null);Te(this,fj,0);Te(this,mj,0);Te(this,wp,null);Te(this,P0,null);Te(this,M0,0);Te(this,uf,0);Te(this,L0,Object.create(null));Te(this,pj,[]);Te(this,O0,null);Te(this,jp,[]);Te(this,gj,new WeakMap);Te(this,xj,null);var u;if(e instanceof ReadableStream)je(this,O0,e);else if(typeof e=="object")je(this,O0,new ReadableStream({start(h){h.enqueue(e),h.close()}}));else throw new Error('No "textContentSource" parameter specified.');je(this,Oa,je(this,P0,r)),je(this,uf,n.scale*(globalThis.devicePixelRatio||1)),je(this,M0,n.rotation),je(this,eu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:o,pageY:l}=n.rawDims;je(this,xj,[1,0,0,-1,-o,l+a]),je(this,mj,i),je(this,fj,a),_e(u=xn,Eo,vte).call(u),fg(r,n),D(this,df).promise.finally(()=>{D(xn,D0).delete(this),je(this,eu,null),je(this,L0,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:r}=fa.platform;return Zr(this,"fontFamilyMap",new Map([["sans-serif",`${e&&r?"Calibri, ":""}sans-serif`],["monospace",`${e&&r?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{D(this,wp).read().then(({value:r,done:n})=>{if(n){D(this,df).resolve();return}D(this,bp)??je(this,bp,r.lang),Object.assign(D(this,L0),r.styles),_e(this,qu,xte).call(this,r.items),e()},D(this,df).reject)};return je(this,wp,D(this,O0).getReader()),D(xn,D0).add(this),e(),D(this,df).promise}update({viewport:e,onBefore:r=null}){var a;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==D(this,M0)&&(r==null||r(),je(this,M0,i),fg(D(this,P0),{rotation:i})),n!==D(this,uf)){r==null||r(),je(this,uf,n);const o={div:null,properties:null,ctx:_e(a=xn,Eo,sk).call(a,D(this,bp))};for(const l of D(this,jp))o.properties=D(this,gj).get(l),o.div=l,_e(this,qu,T4).call(this,o)}}cancel(){var r;const e=new Lg("TextLayer task cancelled.");(r=D(this,wp))==null||r.cancel(e).catch(()=>{}),je(this,wp,null),D(this,df).reject(e)}get textDivs(){return D(this,jp)}get textContentItemsStr(){return D(this,pj)}static cleanup(){if(!(D(this,D0).size>0)){D(this,Np).clear();for(const{canvas:e}of D(this,_p).values())e.remove();D(this,_p).clear()}}},df=new WeakMap,Oa=new WeakMap,uj=new WeakMap,hj=new WeakMap,bp=new WeakMap,eu=new WeakMap,fj=new WeakMap,mj=new WeakMap,wp=new WeakMap,P0=new WeakMap,M0=new WeakMap,uf=new WeakMap,L0=new WeakMap,pj=new WeakMap,O0=new WeakMap,jp=new WeakMap,gj=new WeakMap,xj=new WeakMap,Np=new WeakMap,_p=new WeakMap,yj=new WeakMap,hf=new WeakMap,D0=new WeakMap,qu=new WeakSet,xte=function(e){var i,a;if(D(this,uj))return;(a=D(this,eu)).ctx??(a.ctx=_e(i=xn,Eo,sk).call(i,D(this,bp)));const r=D(this,jp),n=D(this,pj);for(const o of e){if(r.length>oPe){Hr("Ignoring additional textDivs for performance reasons."),je(this,uj,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=D(this,Oa);je(this,Oa,document.createElement("span")),D(this,Oa).classList.add("markedContent"),o.id!==null&&D(this,Oa).setAttribute("id",`${o.id}`),l.append(D(this,Oa))}else o.type==="endMarkedContent"&&je(this,Oa,D(this,Oa).parentNode);continue}n.push(o.str),_e(this,qu,yte).call(this,o)}},yte=function(e){var k;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};D(this,jp).push(r);const i=cr.transform(D(this,xj),e.transform);let a=Math.atan2(i[1],i[0]);const o=D(this,L0)[e.fontName];o.vertical&&(a+=Math.PI/2);let l=D(this,hj)&&o.fontSubstitution||o.fontFamily;l=xn.fontFamilyMap.get(l)||l;const u=Math.hypot(i[2],i[3]),h=u*_e(k=xn,Eo,bte).call(k,l,D(this,bp));let f,g;a===0?(f=i[4],g=i[5]-h):(f=i[4]+h*Math.sin(a),g=i[5]-h*Math.cos(a));const y="calc(var(--scale-factor)*",N=r.style;D(this,Oa)===D(this,P0)?(N.left=`${(100*f/D(this,mj)).toFixed(2)}%`,N.top=`${(100*g/D(this,fj)).toFixed(2)}%`):(N.left=`${y}${f.toFixed(2)}px)`,N.top=`${y}${g.toFixed(2)}px)`),N.fontSize=`${y}${(D(xn,hf)*u).toFixed(2)}px)`,N.fontFamily=l,n.fontSize=u,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,D(this,hj)&&(r.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let _=!1;if(e.str.length>1)_=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),O=Math.abs(e.transform[3]);C!==O&&Math.max(C,O)/Math.min(C,O)>1.5&&(_=!0)}if(_&&(n.canvasWidth=o.vertical?e.height:e.width),D(this,gj).set(r,n),D(this,eu).div=r,D(this,eu).properties=n,_e(this,qu,T4).call(this,D(this,eu)),n.hasText&&D(this,Oa).append(r),n.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),D(this,Oa).append(C)}},T4=function(e){var l;const{div:r,properties:n,ctx:i}=e,{style:a}=r;let o="";if(D(xn,hf)>1&&(o=`scale(${1/D(xn,hf)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=a,{canvasWidth:h,fontSize:f}=n;_e(l=xn,Eo,P4).call(l,i,f*D(this,uf),u);const{width:g}=i.measureText(r.textContent);g>0&&(o=`scaleX(${h*D(this,uf)/g}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(a.transform=o)},Eo=new WeakSet,sk=function(e=null){let r=D(this,_p).get(e||(e=""));if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),D(this,_p).set(e,r),D(this,yj).set(r,{size:0,family:""})}return r},P4=function(e,r,n){const i=D(this,yj).get(e);r===i.size&&n===i.family||(e.font=`${r}px ${n}`,i.size=r,i.family=n)},vte=function(){if(D(this,hf)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),je(this,hf,e.getBoundingClientRect().height),e.remove()},bte=function(e,r){const n=D(this,Np).get(e);if(n)return n;const i=_e(this,Eo,sk).call(this,r);i.canvas.width=i.canvas.height=Aa,_e(this,Eo,P4).call(this,i,Aa,e);const a=i.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const f=o/(o+l);return D(this,Np).set(e,f),i.canvas.width=i.canvas.height=0,f}i.strokeStyle="red",i.clearRect(0,0,Aa,Aa),i.strokeText("g",0,0);let u=i.getImageData(0,0,Aa,Aa).data;l=0;for(let f=u.length-1-3;f>=0;f-=4)if(u[f]>0){l=Math.ceil(f/4/Aa);break}i.clearRect(0,0,Aa,Aa),i.strokeText("A",0,Aa),u=i.getImageData(0,0,Aa,Aa).data,o=0;for(let f=0,g=u.length;f<g;f+=4)if(u[f]>0){o=Aa-Math.floor(f/4/Aa);break}i.canvas.width=i.canvas.height=0;const h=o?o/(o+l):lPe;return D(this,Np).set(e,h),h},Te(xn,Eo),Te(xn,Np,new Map),Te(xn,_p,new Map),Te(xn,yj,new WeakMap),Te(xn,hf,null),Te(xn,D0,new Set),xn);class A1{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function i(a){var u;if(!a)return;let o=null;const l=a.name;if(l==="#text")o=a.value;else if(A1.shouldBuildText(l))(u=a==null?void 0:a.attributes)!=null&&u.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&r.push({str:o}),!!a.children)for(const h of a.children)i(h)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const cPe=65536,dPe=100,uPe=5e3,hPe=Xi?_Te:wTe,fPe=Xi?STe:rte,mPe=Xi?NTe:jTe,pPe=Xi?kTe:ate;function gPe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new M4,{docId:r}=e,n=t.url?xPe(t.url):null,i=t.data?yPe(t.data):null,a=t.httpHeaders||null,o=t.withCredentials===!0,l=t.password??null,u=t.range instanceof wte?t.range:null,h=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:cPe;let f=t.worker instanceof l0?t.worker:null;const g=t.verbosity,y=typeof t.docBaseUrl=="string"&&!BE(t.docBaseUrl)?t.docBaseUrl:null,N=typeof t.cMapUrl=="string"?t.cMapUrl:null,_=t.cMapPacked!==!1,k=t.CMapReaderFactory||fPe,C=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,O=t.StandardFontDataFactory||pPe,T=t.stopAtErrors!==!0,M=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,B=t.isEvalSupported!==!1,F=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Xi,V=typeof t.isChrome=="boolean"?t.isChrome:!fa.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),H=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,Z=typeof t.disableFontFace=="boolean"?t.disableFontFace:Xi,re=t.fontExtraProperties===!0,le=t.enableXfa===!0,ce=t.ownerDocument||globalThis.document,he=t.disableRange===!0,fe=t.disableStream===!0,ee=t.disableAutoFetch===!0,xe=t.pdfBug===!0,ie=t.CanvasFactory||hPe,ge=t.FilterFactory||mPe,G=t.enableHWA===!0,ue=u?u.length:t.length??NaN,ke=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Xi&&!Z,ve=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:k===rte&&O===ate&&N&&C&&sw(N,document.baseURI)&&sw(C,document.baseURI);t.canvasFactory&&Sq("`canvasFactory`-instance option, please use `CanvasFactory` instead."),t.filterFactory&&Sq("`filterFactory`-instance option, please use `FilterFactory` instead.");const Se=null;JEe(g);const He={canvasFactory:new ie({ownerDocument:ce,enableHWA:G}),filterFactory:new ge({docId:r,ownerDocument:ce}),cMapReaderFactory:ve?null:new k({baseUrl:N,isCompressed:_}),standardFontDataFactory:ve?null:new O({baseUrl:C})};if(!f){const Ue={verbosity:g,port:vu.workerPort};f=Ue.port?l0.fromPort(Ue):new l0(Ue),e._worker=f}const De={docId:r,apiVersion:"4.8.69",data:i,password:l,disableAutoFetch:ee,rangeChunkSize:h,length:ue,docBaseUrl:y,enableXfa:le,evaluatorOptions:{maxImageSize:M,disableFontFace:Z,ignoreErrors:T,isEvalSupported:B,isOffscreenCanvasSupported:F,isChrome:V,canvasMaxAreaInBytes:H,fontExtraProperties:re,useSystemFonts:ke,cMapUrl:ve?N:null,standardFontDataUrl:ve?C:null}},$e={disableFontFace:Z,fontExtraProperties:re,ownerDocument:ce,pdfBug:xe,styleElement:Se,loadingParams:{disableAutoFetch:ee,enableXfa:le}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ue=f.messageHandler.sendWithPromise("GetDocRequest",De,i?[i.buffer]:null);let Ke;if(u)Ke=new WTe(u,{disableRange:he,disableStream:fe});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let nt;Xi?nt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&sw(n)?Iq:rPe:nt=sw(n)?Iq:KTe,Ke=new nt({url:n,length:ue,httpHeaders:a,withCredentials:o,rangeChunkSize:h,disableRange:he,disableStream:fe})}return Ue.then(nt=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Me=new dw(r,nt,f.port),qe=new jPe(Me,e,Ke,$e,He);e._transport=qe,Me.send("Ready",null)})}).catch(e._capability.reject),e}function xPe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Xi&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function yPe(t){if(Xi&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return IE(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Fq(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var AC;const CC=class CC{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ea(CC,AC)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,r,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};AC=new WeakMap,Te(CC,AC,0);let M4=CC,wte=class{constructor(e,r,n=!1,i=null){this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(const n of this._rangeListeners)n(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){Vs("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class vPe{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Zr(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ff,tu,nl,Vx,nk;class bPe{constructor(e,r,n,i=!1){Te(this,nl);Te(this,ff,null);Te(this,tu,!1);this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new _q:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new jte,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}={}){return new pN({viewBox:this.view,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Zr(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:r,intent:n="display",annotationMode:i=Yh.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:f=null,isEditing:g=!1}){var B,F;(B=this._stats)==null||B.time("Overall");const y=this._transport.getRenderingIntent(n,i,f,g),{renderingIntent:N,cacheKey:_}=y;je(this,tu,!1),_e(this,nl,nk).call(this),l||(l=this._transport.getOptionalContentConfig(N));let k=this._intentStates.get(_);k||(k=Object.create(null),this._intentStates.set(_,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);const C=!!(N&xo.PRINT);k.displayReadyCapability||(k.displayReadyCapability=Promise.withResolvers(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(y));const O=V=>{var H;k.renderTasks.delete(T),(this._maybeCleanupAfterRender||C)&&je(this,tu,!0),_e(this,nl,Vx).call(this,!C),V?(T.capability.reject(V),this._abortOperatorList({intentState:k,reason:V instanceof Error?V:new Error(V)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(H=globalThis.Stats)!=null&&H.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new O4({callback:O,params:{canvasContext:e,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:h});(k.renderTasks||(k.renderTasks=new Set)).add(T);const M=T.task;return Promise.all([k.displayReadyCapability.promise,l]).then(([V,H])=>{var Z;if(this.destroyed){O();return}if((Z=this._stats)==null||Z.time("Rendering"),!(H.renderingIntent&N))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:V,optionalContentConfig:H}),T.operatorListChanged()}).catch(O),M}getOperatorList({intent:e="display",annotationMode:r=Yh.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var h;function a(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,r,n,i,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let u;return l.opListReadCapability||(u=Object.create(null),u.operatorListChanged=a,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(u),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>A1.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,i){function a(){o.read().then(function({value:u,done:h}){if(h){n(l);return}l.lang??(l.lang=u.lang),Object.assign(l.styles,u.styles),l.items.push(...u.items),a()},i)}const o=r.getReader(),l={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),je(this,tu,!1),_e(this,nl,nk).call(this),Promise.all(e)}cleanup(e=!1){je(this,tu,!0);const r=_e(this,nl,Vx).call(this,!1);return e&&r&&this._stats&&(this._stats=new _q),r}_startRenderPage(e,r){var i,a;const n=this._intentStates.get(r);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&_e(this,nl,Vx).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n,modifiedIds:i}){const{map:a,transfer:o}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:a,modifiedIds:i},o).getReader(),h=this._intentStates.get(r);h.streamReader=u;const f=()=>{u.read().then(({value:g,done:y})=>{if(y){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,h),f())},g=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const y of h.renderTasks)y.operatorListChanged();_e(this,nl,Vx).call(this,!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(g);else if(h.opListReadCapability)h.opListReadCapability.reject(g);else throw g}})};f()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof _F){let i=dPe;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new Lg(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ff=new WeakMap,tu=new WeakMap,nl=new WeakSet,Vx=function(e=!1){if(_e(this,nl,nk).call(this),!D(this,tu)||this.destroyed)return!1;if(e)return je(this,ff,setTimeout(()=>{je(this,ff,null),_e(this,nl,Vx).call(this,!1)},uPe)),!1;for(const{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),je(this,tu,!1),!0},nk=function(){D(this,ff)&&(clearTimeout(D(this,ff)),je(this,ff,null))};var ru,EC;class wPe{constructor(){Te(this,ru,new Map);Te(this,EC,Promise.resolve())}postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};D(this,EC).then(()=>{for(const[i]of D(this,ru))i.call(this,n)})}addEventListener(e,r,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){Hr("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,r);i=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}D(this,ru).set(r,i)}removeEventListener(e,r){const n=D(this,ru).get(r);n==null||n(),D(this,ru).delete(r)}terminate(){for(const[,e]of D(this,ru))e==null||e();D(this,ru).clear()}}ru=new WeakMap,EC=new WeakMap;var TC,Sp,kp,R0,ik,I0,ak;const Ys=class Ys{constructor({name:e=null,port:r=null,verbosity:n=QEe()}={}){Te(this,R0);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,r){if((i=D(Ys,kp))!=null&&i.has(r))throw new Error("Cannot use more than one PDFWorker per port.");(D(Ys,kp)||je(Ys,kp,new WeakMap)).set(r,this),this._initializeFromPort(r);return}this._initialize()}get promise(){return Xi?Promise.all([$f.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new dw("main","worker",e),this._messageHandler.on("ready",function(){}),_e(this,R0,ik).call(this)}_initialize(){if(D(Ys,Sp)||D(Ys,I0,ak)){this._setupFakeWorker();return}let{workerSrc:e}=Ys;try{Ys._isSameOrigin(window.location.href,e)||(e=Ys._createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new dw("main","worker",r),i=()=>{a.abort(),n.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;r.addEventListener("error",()=>{this._webWorker||i()},{signal:a.signal}),n.on("test",l=>{if(a.abort(),this.destroyed||!l){i();return}this._messageHandler=n,this._port=r,this._webWorker=r,_e(this,R0,ik).call(this)}),n.on("ready",l=>{if(a.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};o();return}catch{DE("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){D(Ys,Sp)||(Hr("Setting up fake worker."),je(Ys,Sp,!0)),Ys._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const r=new wPe;this._port=r;const n=`fake${ea(Ys,TC)._++}`,i=new dw(n+"_worker",n,r);e.setup(i,r),this._messageHandler=new dw(n,n+"_worker",r),_e(this,R0,ik).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=D(Ys,kp))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const r=(n=D(this,kp))==null?void 0:n.get(e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new Ys(e)}static get workerSrc(){if(vu.workerSrc)return vu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Zr(this,"_setupFakeWorkerGlobal",(async()=>D(this,I0,ak)?D(this,I0,ak):(await import(this.workerSrc)).WorkerMessageHandler)())}};TC=new WeakMap,Sp=new WeakMap,kp=new WeakMap,R0=new WeakSet,ik=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},I0=new WeakSet,ak=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Te(Ys,I0),Te(Ys,TC,0),Te(Ys,Sp,!1),Te(Ys,kp),Xi&&(je(Ys,Sp,!0),vu.workerSrc||(vu.workerSrc="./pdf.worker.mjs")),Ys._isSameOrigin=(e,r)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(r,n);return n.origin===i.origin},Ys._createCDNWrapper=e=>{const r=`await import("${e}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};let l0=Ys;var su,Wc,F0,B0,Vc,Ap,uw;class jPe{constructor(e,r,n,i,a){Te(this,Ap);Te(this,su,new Map);Te(this,Wc,new Map);Te(this,F0,new Map);Te(this,B0,new Map);Te(this,Vc,null);this.messageHandler=e,this.loadingTask=r,this.commonObjs=new jte,this.fontLoader=new vTe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Zr(this,"annotationStorage",new CF)}getRenderingIntent(e,r=Yh.ENABLE,n=null,i=!1,a=!1){let o=xo.DISPLAY,l=b4;switch(e){case"any":o=xo.ANY;break;case"display":break;case"print":o=xo.PRINT;break;default:Hr(`getRenderingIntent - invalid intent: ${e}`)}const u=o&xo.PRINT&&n instanceof Qee?n:this.annotationStorage;switch(r){case Yh.DISABLE:o+=xo.ANNOTATIONS_DISABLE;break;case Yh.ENABLE:break;case Yh.ENABLE_FORMS:o+=xo.ANNOTATIONS_FORMS;break;case Yh.ENABLE_STORAGE:o+=xo.ANNOTATIONS_STORAGE,l=u.serializable;break;default:Hr(`getRenderingIntent - invalid annotationMode: ${r}`)}i&&(o+=xo.IS_EDITING),a&&(o+=xo.OPLIST);const{ids:h,hash:f}=u.modifiedIds,g=[o,l.hash,f];return{renderingIntent:o,cacheKey:g.join("_"),annotationStorageSerializable:l,modifiedIds:h}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=D(this,Vc))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of D(this,Wc).values())e.push(i._destroy());D(this,Wc).clear(),D(this,F0).clear(),D(this,B0).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),D(this,su).clear(),this.filterFactory.destroy(),E4.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Lg("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{Zn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){i.close();return}Zn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async n=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:o}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((l=r.onProgress)==null||l.call(r,this._lastProgress)),this._fullReader.onProgress=u=>{var h;(h=r.onProgress)==null||h.call(r,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:o}}),e.on("GetRangeReader",(n,i)=>{Zn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:o,done:l}){if(l){i.close();return}Zn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{a.cancel(o),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new vPe(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new JR(n.message,n.code);break;case"InvalidPDFException":i=new See(n.message);break;case"MissingPDFException":i=new Mg(n.message);break;case"UnexpectedResponseException":i=new RE(n.message,n.status);break;case"UnknownErrorException":i=new QR(n.message,n.details);break;default:Vs("DocException - expected a valid Error.")}r._capability.reject(i)}),e.on("PasswordRequest",n=>{if(je(this,Vc,Promise.withResolvers()),r.onPassword){const i=a=>{a instanceof Error?D(this,Vc).reject(a):D(this,Vc).resolve({password:a})};try{r.onPassword(i,n.code)}catch(a){D(this,Vc).reject(a)}}else D(this,Vc).reject(new JR(n.message,n.code));return D(this,Vc).promise}),e.on("DataLoaded",n=>{var i;(i=r.onProgress)==null||i.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;D(this,Wc).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,a])=>{var o;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:l,fontExtraProperties:u,pdfBug:h}=this._params;if("error"in a){const N=a.error;Hr(`Error during font loading: ${N}`),this.commonObjs.resolve(n,N);break}const f=h&&((o=globalThis.FontInspector)!=null&&o.enabled)?(N,_)=>globalThis.FontInspector.fontAdded(N,_):null,g=new bTe(a,{disableFontFace:l,inspectFont:f});this.fontLoader.bind(g).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u&&g.data&&(g.data=null),this.commonObjs.resolve(n,g)});break;case"CopyLocalImage":const{imageRef:y}=a;Zn(y,"The imageRef must be defined.");for(const N of D(this,Wc).values())for(const[,_]of N.objs)if((_==null?void 0:_.ref)===y)return _.dataLen?(this.commonObjs.resolve(n,structuredClone(_)),_.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,a,o])=>{var u;if(this.destroyed)return;const l=D(this,Wc).get(i);if(!l.objs.has(n)){if(l._intentStates.size===0){(u=o==null?void 0:o.bitmap)==null||u.close();return}switch(a){case"Image":l.objs.resolve(n,o),(o==null?void 0:o.dataLen)>YEe&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=r.onProgress)==null||i.call(r,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Hr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=D(this,F0).get(r);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&D(this,B0).set(a.refStr,e);const o=new bPe(r,a,this,this._params.pdfBug);return D(this,Wc).set(r,o),o});return D(this,F0).set(r,i),i}getPageIndex(e){return Fq(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return _e(this,Ap,uw).call(this,"GetFieldObjects")}hasJSActions(){return _e(this,Ap,uw).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _e(this,Ap,uw).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _e(this,Ap,uw).call(this,"GetOptionalContentConfig").then(r=>new HTe(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=D(this,su).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,o;return{info:i[0],metadata:i[1]?new $Te(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return D(this,su).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of D(this,Wc).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),D(this,su).clear(),this.filterFactory.destroy(!0),E4.cleanup()}}cachedPageNumber(e){if(!Fq(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return D(this,B0).get(r)??null}}su=new WeakMap,Wc=new WeakMap,F0=new WeakMap,B0=new WeakMap,Vc=new WeakMap,Ap=new WeakSet,uw=function(e,r=null){const n=D(this,su).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,r);return D(this,su).set(e,i),i};const n_=Symbol("INITIAL_DATA");var Bl,vj,L4;class jte{constructor(){Te(this,vj);Te(this,Bl,Object.create(null))}get(e,r=null){if(r){const i=_e(this,vj,L4).call(this,e);return i.promise.then(()=>r(i.data)),null}const n=D(this,Bl)[e];if(!n||n.data===n_)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=D(this,Bl)[e];return!!r&&r.data!==n_}resolve(e,r=null){const n=_e(this,vj,L4).call(this,e);n.data=r,n.resolve()}clear(){var e;for(const r in D(this,Bl)){const{data:n}=D(this,Bl)[r];(e=n==null?void 0:n.bitmap)==null||e.close()}je(this,Bl,Object.create(null))}*[Symbol.iterator](){for(const e in D(this,Bl)){const{data:r}=D(this,Bl)[e];r!==n_&&(yield[e,r])}}}Bl=new WeakMap,vj=new WeakSet,L4=function(e){var r;return(r=D(this,Bl))[e]||(r[e]={...Promise.withResolvers(),data:n_})};var mf;class NPe{constructor(e){Te(this,mf,null);je(this,mf,e),this.onContinue=null}get promise(){return D(this,mf).capability.promise}cancel(e=0){D(this,mf).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=D(this,mf).operatorList;if(!e)return!1;const{annotationCanvasMap:r}=D(this,mf);return e.form||e.canvas&&(r==null?void 0:r.size)>0}}mf=new WeakMap;var pf,Cp;const Hm=class Hm{constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:a,operatorList:o,pageIndex:l,canvasFactory:u,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:g=!1,pageColors:y=null}){Te(this,pf,null);this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=h,this._pdfBug=g,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new NPe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){var l,u;if(this.cancelled)return;if(this._canvas){if(D(Hm,Cp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");D(Hm,Cp).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:a,background:o}=this.params;this.gfx=new o0(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,r=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),D(this,pf)&&(window.cancelAnimationFrame(D(this,pf)),je(this,pf,null)),D(Hm,Cp).delete(this._canvas),this.callback(e||new _F(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?je(this,pf,window.requestAnimationFrame(()=>{je(this,pf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),D(Hm,Cp).delete(this._canvas),this.callback())))}};pf=new WeakMap,Cp=new WeakMap,Te(Hm,Cp,new WeakSet);let O4=Hm;const _Pe="4.8.69",SPe="3634dab10";function Bq(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function _b(t){return Math.max(0,Math.min(255,255*t))}class $q{static CMYK_G([e,r,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_b(e),[e,e,e]}static G_HTML([e]){const r=Bq(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(_b)}static RGB_HTML(e){return`#${e.map(Bq).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,r+i)]}static CMYK_rgb([e,r,n,i]){return[_b(1-Math.min(1,e+i)),_b(1-Math.min(1,n+i)),_b(1-Math.min(1,r+i))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const i=1-e,a=1-r,o=1-n,l=Math.min(i,a,o);return["CMYK",i,a,o,l]}}class kPe{create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${r}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${r}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Vs("Abstract method `_createSVG` called.")}}class LF extends kPe{_createSVG(e){return document.createElementNS(Vd,e)}}class Nte{static setupStorage(e,r,n,i,a){const o=i.getValue(r,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),a==="print")break;e.addEventListener("input",l=>{i.setValue(r,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?e.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",l=>{i.setValue(r,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),a==="print")break;e.addEventListener("input",l=>{i.setValue(r,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of n.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const u=l.target.options,h=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(r,{value:h})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:i,linkService:a}){const{attributes:o}=r,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[u,h]of Object.entries(o))if(h!=null)switch(u){case"class":h.length&&e.setAttribute(u,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!l||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,h)}l&&a.addLinkAttributes(e,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(e,o.dataId,r,n)}static render(e){var g,y;const r=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:a,linkService:n});const l=a!=="richText",u=e.div;if(u.append(o),e.viewport){const N=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=N}l&&u.setAttribute("class","xfaLayer xfaFont");const h=[];if(i.children.length===0){if(i.value){const N=document.createTextNode(i.value);o.append(N),l&&A1.shouldBuildText(i.name)&&h.push(N)}return{textDivs:h}}const f=[[i,-1,o]];for(;f.length>0;){const[N,_,k]=f.at(-1);if(_+1===N.children.length){f.pop();continue}const C=N.children[++f.at(-1)[1]];if(C===null)continue;const{name:O}=C;if(O==="#text"){const M=document.createTextNode(C.value);h.push(M),k.append(M);continue}const T=(g=C==null?void 0:C.attributes)!=null&&g.xmlns?document.createElementNS(C.attributes.xmlns,O):document.createElement(O);if(k.append(T),C.attributes&&this.setAttributes({html:T,element:C,storage:r,intent:a,linkService:n}),((y=C.children)==null?void 0:y.length)>0)f.push([C,-1,T]);else if(C.value){const M=document.createTextNode(C.value);l&&A1.shouldBuildText(O)&&h.push(M),T.append(M)}}for(const N of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))N.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const xN=1e3,APe=9,pg=new WeakSet;function Mu(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class CPe{static create(e){switch(e.data.annotationType){case qn.LINK:return new _te(e);case qn.TEXT:return new EPe(e);case qn.WIDGET:switch(e.data.fieldType){case"Tx":return new TPe(e);case"Btn":return e.data.radioButton?new Ate(e):e.data.checkBox?new MPe(e):new LPe(e);case"Ch":return new OPe(e);case"Sig":return new PPe(e)}return new Og(e);case qn.POPUP:return new R4(e);case qn.FREETEXT:return new Mte(e);case qn.LINE:return new RPe(e);case qn.SQUARE:return new IPe(e);case qn.CIRCLE:return new FPe(e);case qn.POLYLINE:return new Lte(e);case qn.CARET:return new $Pe(e);case qn.INK:return new OF(e);case qn.POLYGON:return new BPe(e);case qn.HIGHLIGHT:return new Ote(e);case qn.UNDERLINE:return new zPe(e);case qn.SQUIGGLY:return new HPe(e);case qn.STRIKEOUT:return new WPe(e);case qn.STAMP:return new Dte(e);case qn.FILEATTACHMENT:return new VPe(e);default:return new kn(e)}}}var Ep,$0,z0,bj,D4;const hB=class hB{constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){Te(this,bj);Te(this,Ep,null);Te(this,$0,!1);Te(this,z0,null);this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,r&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:r,richText:n}){return!!(e!=null&&e.str||r!=null&&r.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return hB._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;D(this,Ep)||je(this,Ep,{rect:this.data.rect.slice(0)});const{rect:r}=e;r&&_e(this,bj,D4).call(this,r),(n=D(this,z0))==null||n.popup.updateEdited(e)}resetEdited(){var e;D(this,Ep)&&(_e(this,bj,D4).call(this,D(this,Ep).rect),(e=D(this,z0))==null||e.popup.resetEdited(),je(this,Ep,null))}_createContainer(e){const{data:r,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",r.id),this instanceof Og||(a.tabIndex=xN);const{style:o}=a;if(o.zIndex=this.parent.zIndex++,r.alternativeText&&(a.title=r.alternativeText),r.noRotate&&a.classList.add("norotate"),!r.rect||this instanceof R4){const{rotation:k}=r;return!r.hasOwnCanvas&&k!==0&&this.setRotation(k,a),a}const{width:l,height:u}=Mu(r.rect);if(!e&&r.borderStyle.width>0){o.borderWidth=`${r.borderStyle.width}px`;const k=r.borderStyle.horizontalCornerRadius,C=r.borderStyle.verticalCornerRadius;if(k>0||C>0){const T=`calc(${k}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;o.borderRadius=T}else if(this instanceof Ate){const T=`calc(${l}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;o.borderRadius=T}switch(r.borderStyle.style){case jb.SOLID:o.borderStyle="solid";break;case jb.DASHED:o.borderStyle="dashed";break;case jb.BEVELED:Hr("Unimplemented border style: beveled");break;case jb.INSET:Hr("Unimplemented border style: inset");break;case jb.UNDERLINE:o.borderBottomStyle="solid";break}const O=r.borderColor||null;O?(je(this,$0,!0),o.borderColor=cr.makeHexColor(O[0]|0,O[1]|0,O[2]|0)):o.borderWidth=0}const h=cr.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:g,pageX:y,pageY:N}=i.rawDims;o.left=`${100*(h[0]-y)/f}%`,o.top=`${100*(h[1]-N)/g}%`;const{rotation:_}=r;return r.hasOwnCanvas||_===0?(o.width=`${100*l/f}%`,o.height=`${100*u/g}%`):this.setRotation(_,a),a}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:a,height:o}=Mu(this.data.rect);let l,u;e%180===0?(l=100*a/n,u=100*o/i):(l=100*o/n,u=100*a/i),r.style.width=`${l}%`,r.style.height=`${u}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,i)=>{const a=i.detail[r],o=a[0],l=a.slice(1);i.target.style[n]=$q[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:$q[`${o}_rgb`](l)})};return Zr(this,"_commonActions",{display:r=>{const{display:n}=r.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const i of Object.keys(r.detail)){const a=e[i]||n[i];a==null||a(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[i,a]of Object.entries(r)){const o=n[i];if(o){const l={detail:{[i]:a},target:e};o(l),delete r[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,i,a]=this.data.rect.map(k=>Math.fround(k));if(e.length===8){const[k,C,O,T]=e.subarray(2,6);if(i===k&&a===C&&r===O&&n===T)return}const{style:o}=this.container;let l;if(D(this,$0)){const{borderColor:k,borderWidth:C}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${k}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const u=i-r,h=a-n,{svgFactory:f}=this,g=f.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const y=f.createElement("defs");g.append(y);const N=f.createElement("clipPath"),_=`clippath_${this.data.id}`;N.setAttribute("id",_),N.setAttribute("clipPathUnits","objectBoundingBox"),y.append(N);for(let k=2,C=e.length;k<C;k+=8){const O=e[k],T=e[k+1],M=e[k+2],B=e[k+3],F=f.createElement("rect"),V=(M-r)/u,H=(a-T)/h,Z=(O-M)/u,re=(T-B)/h;F.setAttribute("x",V),F.setAttribute("y",H),F.setAttribute("width",Z),F.setAttribute("height",re),N.append(F),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${V}" y="${H}" width="${Z}" height="${re}"/>`)}D(this,$0)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(g),this.container.style.clipPath=`url(#${_})`}_createPopup(){const{data:e}=this,r=je(this,z0,new R4({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Vs("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:o,exportValues:l}of i){if(a===-1||o===r)continue;const u=typeof l=="string"?l:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!pg.has(h)){Hr(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:u,domElement:h})}return n}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,o=i.getAttribute("data-element-id");o!==r&&pg.has(i)&&n.push({id:o,exportValue:a,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r})})}};Ep=new WeakMap,$0=new WeakMap,z0=new WeakMap,bj=new WeakSet,D4=function(e){const{container:{style:r},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:l,pageY:u}}}}=this;n==null||n.splice(0,4,...e);const{width:h,height:f}=Mu(e);r.left=`${100*(e[0]-l)/a}%`,r.top=`${100*(o-e[3]+u)/o}%`,i===0?(r.width=`${100*h/a}%`,r.height=`${100*f/o}%`):this.setRotation(i)};let kn=hB;var wo,Lm,Ste,kte;class _te extends kn{constructor(r,n=null){super(r,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});Te(this,wo);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",r.id);let a=!1;return r.url?(n.addLinkAttributes(i,r.url,r.newWindow),a=!0):r.action?(this._bindNamedAction(i,r.action),a=!0):r.attachment?(_e(this,wo,Ste).call(this,i,r.attachment,r.attachmentDest),a=!0):r.setOCGState?(_e(this,wo,kte).call(this,i,r.setOCGState),a=!0):r.dest?(this._bindLink(i,r.dest),a=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,r),a=!0),r.resetForm?(this._bindResetFormAction(i,r.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(r,n){r.href=this.linkService.getDestinationHash(n),r.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&_e(this,wo,Lm).call(this)}_bindNamedAction(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(n),!1),_e(this,wo,Lm).call(this)}_bindJSAction(r,n){r.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const o=i.get(a);o&&(r[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}r.onclick||(r.onclick=()=>!1),_e(this,wo,Lm).call(this)}_bindResetFormAction(r,n){const i=r.onclick;if(i||(r.href=this.linkService.getAnchorUrl("")),_e(this,wo,Lm).call(this),!this._fieldObjects){Hr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(r.onclick=()=>!1);return}r.onclick=()=>{var g;i==null||i();const{fields:a,refs:o,include:l}=n,u=[];if(a.length!==0||o.length!==0){const y=new Set(o);for(const N of a){const _=this._fieldObjects[N]||[];for(const{id:k}of _)y.add(k)}for(const N of Object.values(this._fieldObjects))for(const _ of N)y.has(_.id)===l&&u.push(_)}else for(const y of Object.values(this._fieldObjects))u.push(...y);const h=this.annotationStorage,f=[];for(const y of u){const{id:N}=y;switch(f.push(N),y.type){case"text":{const k=y.defaultValue||"";h.setValue(N,{value:k});break}case"checkbox":case"radiobutton":{const k=y.defaultValue===y.exportValues;h.setValue(N,{value:k});break}case"combobox":case"listbox":{const k=y.defaultValue||"";h.setValue(N,{value:k});break}default:continue}const _=document.querySelector(`[data-element-id="${N}"]`);if(_){if(!pg.has(_)){Hr(`_bindResetFormAction - element not allowed: ${N}`);continue}}else continue;_.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}wo=new WeakSet,Lm=function(){this.container.setAttribute("data-internal-link","")},Ste=function(r,n,i=null){r.href=this.linkService.getAnchorUrl(""),n.description&&(r.title=n.description),r.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,i),!1},_e(this,wo,Lm).call(this)},kte=function(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(n),!1),_e(this,wo,Lm).call(this)};class EPe extends kn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Og extends kn{render(){return this.container}showElementAndHideCanvas(e){var r;this.data.hasOwnCanvas&&(((r=e.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return fa.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,i,a){n.includes("mouse")?e.addEventListener(n,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(n,o=>{var l;if(n==="blur"){if(!r.focused||!o.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}a&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o)}}))})}_setEventListeners(e,r,n,i){var a,o,l;for(const[u,h]of n)(h==="Action"||(a=this.data.actions)!=null&&a[h])&&((h==="Focus"||h==="Blur")&&(r||(r={focused:!1})),this._setEventListener(e,r,u,h,i),h==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,r,"blur","Blur",null):h==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":cr.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||APe,a=e.style;let o;const l=2,u=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(h/(Z3*i))||1,g=h/f;o=Math.min(i,u(g/Z3))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(i,u(h/Z3))}a.fontSize=`calc(${o}px * var(--scale-factor))`,a.color=cr.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class TPe extends Og{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,i){const a=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[r]=n),a.setValue(o.id,{[i]:n})}render(){var i,a;const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const o=e.getValue(r,{value:this.data.fieldValue});let l=o.value||"";const u=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let h=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const f={userValue:l,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=h??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",h??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),pg.add(n),n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=xN,this._setRequired(n,this.data.required),u&&(n.maxLength=u),n.addEventListener("input",y=>{e.setValue(r,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),f.formattedValue=null}),n.addEventListener("resetform",y=>{const N=this.data.defaultFieldValue??"";n.value=f.userValue=N,f.formattedValue=null});let g=y=>{const{formattedValue:N}=f;N!=null&&(y.target.value=N),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",N=>{var k;if(f.focused)return;const{target:_}=N;f.userValue&&(_.value=f.userValue),f.lastCommittedValue=_.value,f.commitKey=1,(k=this.data.actions)!=null&&k.Focus||(f.focused=!0)}),n.addEventListener("updatefromsandbox",N=>{this.showElementAndHideCanvas(N.target);const _={value(k){f.userValue=k.detail.value??"",e.setValue(r,{value:f.userValue.toString()}),k.target.value=f.userValue},formattedValue(k){const{formattedValue:C}=k.detail;f.formattedValue=C,C!=null&&k.target!==document.activeElement&&(k.target.value=C),e.setValue(r,{formattedValue:C})},selRange(k){k.target.setSelectionRange(...k.detail.selRange)},charLimit:k=>{var M;const{charLimit:C}=k.detail,{target:O}=k;if(C===0){O.removeAttribute("maxLength");return}O.setAttribute("maxLength",C);let T=f.userValue;!T||T.length<=C||(T=T.slice(0,C),O.value=f.userValue=T,e.setValue(r,{value:T}),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:O.selectionStart,selEnd:O.selectionEnd}}))}};this._dispatchEventFromSandbox(_,N)}),n.addEventListener("keydown",N=>{var C;f.commitKey=1;let _=-1;if(N.key==="Escape"?_=0:N.key==="Enter"&&!this.data.multiLine?_=2:N.key==="Tab"&&(f.commitKey=3),_===-1)return;const{value:k}=N.target;f.lastCommittedValue!==k&&(f.lastCommittedValue=k,f.userValue=k,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:k,willCommit:!0,commitKey:_,selStart:N.target.selectionStart,selEnd:N.target.selectionEnd}}))});const y=g;g=null,n.addEventListener("blur",N=>{var k,C;if(!f.focused||!N.relatedTarget)return;(k=this.data.actions)!=null&&k.Blur||(f.focused=!1);const{value:_}=N.target;f.userValue=_,f.lastCommittedValue!==_&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:_,willCommit:!0,commitKey:f.commitKey,selStart:N.target.selectionStart,selEnd:N.target.selectionEnd}})),y(N)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",N=>{var F;f.lastCommittedValue=null;const{data:_,target:k}=N,{value:C,selectionStart:O,selectionEnd:T}=k;let M=O,B=T;switch(N.inputType){case"deleteWordBackward":{const V=C.substring(0,O).match(/\w*[^\w]*$/);V&&(M-=V[0].length);break}case"deleteWordForward":{const V=C.substring(O).match(/^[^\w]*\w*/);V&&(B+=V[0].length);break}case"deleteContentBackward":O===T&&(M-=1);break;case"deleteContentForward":O===T&&(B+=1);break}N.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:C,change:_||"",willCommit:!1,selStart:M,selEnd:B}})}),this._setEventListeners(n,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],N=>N.target.value)}if(g&&n.addEventListener("blur",g),this.data.comb){const N=(this.data.rect[2]-this.data.rect[0])/u;n.classList.add("comb"),n.style.letterSpacing=`calc(${N}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class PPe extends Og{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class MPe extends Og{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return pg.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=r.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",r.exportValue),a.tabIndex=xN,a.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const h of this._getElementsByName(l,n)){const f=u&&h.exportValue===r.exportValue;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}e.setValue(n,{value:u})}),a.addEventListener("resetform",o=>{const l=r.defaultFieldValue||"Off";o.target.checked=l===r.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const l={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Ate extends Og{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof i=="string"&&(i=i!==r.buttonValue,e.setValue(n,{value:i})),i)for(const o of this._getElementsByName(r.fieldName,n))e.setValue(o.id,{value:!1});const a=document.createElement("input");if(pg.add(a),a.setAttribute("data-element-id",n),a.disabled=r.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=r.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=xN,a.addEventListener("change",o=>{const{name:l,checked:u}=o.target;for(const h of this._getElementsByName(l,n))e.setValue(h.id,{value:!1});e.setValue(n,{value:u})}),a.addEventListener("resetform",o=>{const l=r.defaultFieldValue;o.target.checked=l!=null&&l===r.buttonValue}),this.enableScripting&&this.hasJSActions){const o=r.buttonValue;a.addEventListener("updatefromsandbox",l=>{const u={value:h=>{const f=o===h.detail.value;for(const g of this._getElementsByName(h.target.name)){const y=f&&g.id===n;g.domElement&&(g.domElement.checked=y),e.setValue(g.id,{value:y})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class LPe extends _te{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class OPe extends Og{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");pg.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=xN;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const g=this.data.defaultFieldValue;for(const y of i.options)y.selected=y.value===g});for(const f of this.data.options){const g=document.createElement("option");g.textContent=f.displayValue,g.value=f.exportValue,n.value.includes(f.exportValue)&&(g.setAttribute("selected",!0),a=!1),i.append(g)}let o=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),o=()=>{f.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const l=f=>{const g=f?"value":"textContent",{options:y,multiple:N}=i;return N?Array.prototype.filter.call(y,_=>_.selected).map(_=>_[g]):y.selectedIndex===-1?null:y[y.selectedIndex][g]};let u=l(!1);const h=f=>{const g=f.target.options;return Array.prototype.map.call(g,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const g={value(y){o==null||o();const N=y.detail.value,_=new Set(Array.isArray(N)?N:[N]);for(const k of i.options)k.selected=_.has(k.value);e.setValue(r,{value:l(!0)}),u=l(!1)},multipleSelection(y){i.multiple=!0},remove(y){const N=i.options,_=y.detail.remove;N[_].selected=!1,i.remove(_),N.length>0&&Array.prototype.findIndex.call(N,C=>C.selected)===-1&&(N[0].selected=!0),e.setValue(r,{value:l(!0),items:h(y)}),u=l(!1)},clear(y){for(;i.length!==0;)i.remove(0);e.setValue(r,{value:null,items:[]}),u=l(!1)},insert(y){const{index:N,displayValue:_,exportValue:k}=y.detail.insert,C=i.children[N],O=document.createElement("option");O.textContent=_,O.value=k,C?C.before(O):i.append(O),e.setValue(r,{value:l(!0),items:h(y)}),u=l(!1)},items(y){const{items:N}=y.detail;for(;i.length!==0;)i.remove(0);for(const _ of N){const{displayValue:k,exportValue:C}=_,O=document.createElement("option");O.textContent=k,O.value=C,i.append(O)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(r,{value:l(!0),items:h(y)}),u=l(!1)},indices(y){const N=new Set(y.detail.indices);for(const _ of y.target.options)_.selected=N.has(_.index);e.setValue(r,{value:l(!0)}),u=l(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(g,f)}),i.addEventListener("input",f=>{var N;const g=l(!0),y=l(!1);e.setValue(r,{value:g}),f.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:u,change:y,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(r,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class R4 extends kn{constructor(e){const{data:r,elements:n}=e;super(e,{isRenderable:kn._hasPopupData(r)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new DPe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",r.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(n=>`${NF}${n}`).join(",")),this.container}}var H0,PC,MC,W0,Tp,pn,nu,V0,wj,jj,U0,iu,$l,au,Nj,ou,_j,Pp,Mp,Es,ok,I4,Cte,Ete,Tte,Pte,lk,ck,F4;class DPe{constructor({container:e,color:r,elements:n,titleObj:i,modificationDate:a,contentsObj:o,richText:l,parent:u,rect:h,parentRect:f,open:g}){Te(this,Es);Te(this,H0,_e(this,Es,Tte).bind(this));Te(this,PC,_e(this,Es,F4).bind(this));Te(this,MC,_e(this,Es,ck).bind(this));Te(this,W0,_e(this,Es,lk).bind(this));Te(this,Tp,null);Te(this,pn,null);Te(this,nu,null);Te(this,V0,null);Te(this,wj,null);Te(this,jj,null);Te(this,U0,null);Te(this,iu,!1);Te(this,$l,null);Te(this,au,null);Te(this,Nj,null);Te(this,ou,null);Te(this,_j,null);Te(this,Pp,null);Te(this,Mp,!1);var y;je(this,pn,e),je(this,_j,i),je(this,nu,o),je(this,ou,l),je(this,jj,u),je(this,Tp,r),je(this,Nj,h),je(this,U0,f),je(this,wj,n),je(this,V0,kF.toDateObject(a)),this.trigger=n.flatMap(N=>N.getElementsToTriggerPopup());for(const N of this.trigger)N.addEventListener("click",D(this,W0)),N.addEventListener("mouseenter",D(this,MC)),N.addEventListener("mouseleave",D(this,PC)),N.classList.add("popupTriggerArea");for(const N of n)(y=N.container)==null||y.addEventListener("keydown",D(this,H0));D(this,pn).hidden=!0,g&&_e(this,Es,lk).call(this)}render(){if(D(this,$l))return;const e=je(this,$l,document.createElement("div"));if(e.className="popup",D(this,Tp)){const a=e.style.outlineColor=cr.makeHexColor(...D(this,Tp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:e.style.backgroundColor=cr.makeHexColor(...D(this,Tp).map(l=>Math.floor(.7*(255-l)+l)))}const r=document.createElement("span");r.className="header";const n=document.createElement("h1");if(r.append(n),{dir:n.dir,str:n.textContent}=D(this,_j),e.append(r),D(this,V0)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:D(this,V0).valueOf()})),r.append(a)}const i=D(this,Es,ok);if(i)Nte.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(D(this,nu));e.append(a)}D(this,pn).append(e)}_formatContents({str:e,dir:r}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=r;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,o=i.length;a<o;++a){const l=i[a];n.append(document.createTextNode(l)),a<o-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:r}){var n;D(this,Pp)||je(this,Pp,{contentsObj:D(this,nu),richText:D(this,ou)}),e&&je(this,au,null),r&&(je(this,ou,_e(this,Es,Ete).call(this,r)),je(this,nu,null)),(n=D(this,$l))==null||n.remove(),je(this,$l,null)}resetEdited(){var e;D(this,Pp)&&({contentsObj:ea(this,nu)._,richText:ea(this,ou)._}=D(this,Pp),je(this,Pp,null),(e=D(this,$l))==null||e.remove(),je(this,$l,null),je(this,au,null))}forceHide(){je(this,Mp,this.isVisible),D(this,Mp)&&(D(this,pn).hidden=!0)}maybeShow(){D(this,Mp)&&(D(this,$l)||_e(this,Es,ck).call(this),je(this,Mp,!1),D(this,pn).hidden=!1)}get isVisible(){return D(this,pn).hidden===!1}}H0=new WeakMap,PC=new WeakMap,MC=new WeakMap,W0=new WeakMap,Tp=new WeakMap,pn=new WeakMap,nu=new WeakMap,V0=new WeakMap,wj=new WeakMap,jj=new WeakMap,U0=new WeakMap,iu=new WeakMap,$l=new WeakMap,au=new WeakMap,Nj=new WeakMap,ou=new WeakMap,_j=new WeakMap,Pp=new WeakMap,Mp=new WeakMap,Es=new WeakSet,ok=function(){const e=D(this,ou),r=D(this,nu);return e!=null&&e.str&&(!(r!=null&&r.str)||r.str===e.str)&&D(this,ou).html||null},I4=function(){var e,r,n;return((n=(r=(e=D(this,Es,ok))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.fontSize)||0},Cte=function(){var e,r,n;return((n=(r=(e=D(this,Es,ok))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.color)||null},Ete=function(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:D(this,Es,Cte),fontSize:D(this,Es,I4)?`calc(${D(this,Es,I4)}px * var(--scale-factor))`:""}};for(const a of e.split(`
`))r.push({name:"span",value:a,attributes:i});return n},Tte=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&D(this,iu))&&_e(this,Es,lk).call(this)},Pte=function(){if(D(this,au)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:i,pageY:a}}}=D(this,jj);let o=!!D(this,U0),l=o?D(this,U0):D(this,Nj);for(const _ of D(this,wj))if(!l||cr.intersect(_.data.rect,l)!==null){l=_.data.rect,o=!0;break}const u=cr.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),f=o?l[2]-l[0]+5:0,g=u[0]+f,y=u[1];je(this,au,[100*(g-i)/r,100*(y-a)/n]);const{style:N}=D(this,pn);N.left=`${D(this,au)[0]}%`,N.top=`${D(this,au)[1]}%`},lk=function(){je(this,iu,!D(this,iu)),D(this,iu)?(_e(this,Es,ck).call(this),D(this,pn).addEventListener("click",D(this,W0)),D(this,pn).addEventListener("keydown",D(this,H0))):(_e(this,Es,F4).call(this),D(this,pn).removeEventListener("click",D(this,W0)),D(this,pn).removeEventListener("keydown",D(this,H0)))},ck=function(){D(this,$l)||this.render(),this.isVisible?D(this,iu)&&D(this,pn).classList.add("focused"):(_e(this,Es,Pte).call(this),D(this,pn).hidden=!1,D(this,pn).style.zIndex=parseInt(D(this,pn).style.zIndex)+1e3)},F4=function(){D(this,pn).classList.remove("focused"),!(D(this,iu)||!this.isVisible)&&(D(this,pn).hidden=!0,D(this,pn).style.zIndex=parseInt(D(this,pn).style.zIndex)-1e3)};class Mte extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Dr.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Sj;class RPe extends kn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Te(this,Sj,null)}render(){this.container.classList.add("lineAnnotation");const r=this.data,{width:n,height:i}=Mu(r.rect),a=this.svgFactory.create(n,i,!0),o=je(this,Sj,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),o.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),o.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),o.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),o.setAttribute("stroke-width",r.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return D(this,Sj)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sj=new WeakMap;var kj;class IPe extends kn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Te(this,kj,null)}render(){this.container.classList.add("squareAnnotation");const r=this.data,{width:n,height:i}=Mu(r.rect),a=this.svgFactory.create(n,i,!0),o=r.borderStyle.width,l=je(this,kj,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",n-o),l.setAttribute("height",i-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return D(this,kj)}addHighlightArea(){this.container.classList.add("highlightArea")}}kj=new WeakMap;var Aj;class FPe extends kn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Te(this,Aj,null)}render(){this.container.classList.add("circleAnnotation");const r=this.data,{width:n,height:i}=Mu(r.rect),a=this.svgFactory.create(n,i,!0),o=r.borderStyle.width,l=je(this,Aj,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",n/2),l.setAttribute("cy",i/2),l.setAttribute("rx",n/2-o/2),l.setAttribute("ry",i/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return D(this,Aj)}addHighlightArea(){this.container.classList.add("highlightArea")}}Aj=new WeakMap;var Cj;class Lte extends kn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Te(this,Cj,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:n,borderStyle:i,popupRef:a}}=this;if(!n)return this.container;const{width:o,height:l}=Mu(r),u=this.svgFactory.create(o,l,!0);let h=[];for(let g=0,y=n.length;g<y;g+=2){const N=n[g]-r[0],_=r[3]-n[g+1];h.push(`${N},${_}`)}h=h.join(" ");const f=je(this,Cj,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",h),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return D(this,Cj)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cj=new WeakMap;class BPe extends Lte{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $Pe extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ej;class OF extends kn{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Te(this,Ej,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Dr.HIGHLIGHT:Dr.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,inkLists:n,borderStyle:i,popupRef:a}}=this,{width:o,height:l}=Mu(r),u=this.svgFactory.create(o,l,!0);for(const h of n){let f=[];for(let y=0,N=h.length;y<N;y+=2){const _=h[y]-r[0],k=r[3]-h[y+1];f.push(`${_},${k}`)}f=f.join(" ");const g=this.svgFactory.createElement(this.svgElementName);D(this,Ej).push(g),g.setAttribute("points",f),g.setAttribute("stroke-width",i.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),u.append(g)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return D(this,Ej)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ej=new WeakMap;class Ote extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Dr.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class zPe extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class HPe extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class WPe extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Dte extends kn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Dr.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Tj,Pj,B4;class VPe extends kn{constructor(r){var i;super(r,{isRenderable:!0});Te(this,Pj);Te(this,Tj,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",_e(this,Pj,B4).bind(this)),je(this,Tj,i);const{isMac:a}=fa.platform;return r.addEventListener("keydown",o=>{o.key==="Enter"&&(a?o.metaKey:o.ctrlKey)&&_e(this,Pj,B4).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),r.append(i),r}getElementsToTriggerPopup(){return D(this,Tj)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tj=new WeakMap,Pj=new WeakSet,B4=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var Mj,Lp,Op,Lj,wg,Rte,$4,OY;let UPe=(OY=class{constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:i,page:a,viewport:o,structTreeLayer:l}){Te(this,wg);Te(this,Mj,null);Te(this,Lp,null);Te(this,Op,new Map);Te(this,Lj,null);this.div=e,je(this,Mj,r),je(this,Lp,n),je(this,Lj,l||null),this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return D(this,Op).size>0}async render(e){var o;const{annotations:r}=e,n=this.div;fg(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new LF,annotationStorage:e.annotationStorage||new CF,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of r){if(l.noHTML)continue;const u=l.annotationType===qn.POPUP;if(u){const g=i.get(l.id);if(!g)continue;a.elements=g}else{const{width:g,height:y}=Mu(l.rect);if(g<=0||y<=0)continue}a.data=l;const h=CPe.create(a);if(!h.isRenderable)continue;if(!u&&l.popupRef){const g=i.get(l.popupRef);g?g.push(h):i.set(l.popupRef,[h])}const f=h.render();l.hidden&&(f.style.visibility="hidden"),await _e(this,wg,Rte).call(this,f,l.id),h._isEditable&&(D(this,Op).set(h.data.id,h),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(h))}_e(this,wg,$4).call(this)}update({viewport:e}){const r=this.div;this.viewport=e,fg(r,{rotation:e.rotation}),_e(this,wg,$4).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(D(this,Op).values())}getEditableAnnotation(e){return D(this,Op).get(e)}},Mj=new WeakMap,Lp=new WeakMap,Op=new WeakMap,Lj=new WeakMap,wg=new WeakSet,Rte=async function(e,r){var o,l;const n=e.firstChild||e,i=n.id=`${NF}${r}`,a=await((o=D(this,Lj))==null?void 0:o.getAriaAttributes(i));if(a)for(const[u,h]of a)n.setAttribute(u,h);this.div.append(e),(l=D(this,Mj))==null||l.moveElementInDOM(this.div,e,n,!1)},$4=function(){if(!D(this,Lp))return;const e=this.div;for(const[r,n]of D(this,Lp)){const i=e.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):i.append(n)}D(this,Lp).clear()},OY);const i_=/\r\n?|\n/g;var zl,uo,Oj,Dp,ho,Fn,Ite,Fte,Bte,dk,Iu,uk,hk,$te,H4,zte;const Bs=class Bs extends Ns{constructor(r){super({...r,name:"freeTextEditor"});Te(this,Fn);Te(this,zl);Te(this,uo,"");Te(this,Oj,`${this.id}-editor`);Te(this,Dp,null);Te(this,ho);je(this,zl,r.color||Bs._defaultColor||Ns._defaultLineColor),je(this,ho,r.fontSize||Bs._defaultFontSize)}static get _keyboardManager(){const r=Bs.prototype,n=o=>o.isEmpty(),i=mg.TRANSLATE_SMALL,a=mg.TRANSLATE_BIG;return Zr(this,"_keyboardManager",new gN([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(r,n){Ns.initialize(r,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,n){switch(r){case Ar.FREETEXT_SIZE:Bs._defaultFontSize=n;break;case Ar.FREETEXT_COLOR:Bs._defaultColor=n;break}}updateParams(r,n){switch(r){case Ar.FREETEXT_SIZE:_e(this,Fn,Ite).call(this,n);break;case Ar.FREETEXT_COLOR:_e(this,Fn,Fte).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ar.FREETEXT_SIZE,Bs._defaultFontSize],[Ar.FREETEXT_COLOR,Bs._defaultColor||Ns._defaultLineColor]]}get propertiesToUpdate(){return[[Ar.FREETEXT_SIZE,D(this,ho)],[Ar.FREETEXT_COLOR,D(this,zl)]]}_translateEmpty(r,n){this._uiManager.translateSelectedEditors(r,n,!0)}getInitialTranslation(){const r=this.parentScale;return[-Bs._internalPadding*r,-(Bs._internalPadding+D(this,ho))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Dr.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),je(this,Dp,new AbortController);const r=this._uiManager.combinedSignal(D(this,Dp));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:r}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:r}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:r}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:r}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:r})}disableEditMode(){var r;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",D(this,Oj)),this._isDraggable=!0,(r=D(this,Dp))==null||r.abort(),je(this,Dp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var r;this.width||(this.enableEditMode(),this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=D(this,uo),n=je(this,uo,_e(this,Fn,Bte).call(this).trimEnd());if(r===n)return;const i=a=>{if(je(this,uo,a),!a){this.remove();return}_e(this,Fn,hk).call(this),this._uiManager.rebuild(this),_e(this,Fn,dk).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(r)},mustExec:!1}),_e(this,Fn,dk).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(r){this.enterInEditMode()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){Bs._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let r,n;this.width&&(r=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",D(this,Oj)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${D(this,ho)}px * var(--scale-factor))`,i.color=D(this,zl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),YA(this,this.div,["dblclick","keydown"]),this.width){const[a,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,h]=this.getInitialTranslation();[u,h]=this.pageTranslationToScreen(u,h);const[f,g]=this.pageDimensions,[y,N]=this.pageTranslation;let _,k;switch(this.rotation){case 0:_=r+(l[0]-y)/f,k=n+this.height-(l[1]-N)/g;break;case 90:_=r+(l[0]-y)/f,k=n-(l[1]-N)/g,[u,h]=[h,-u];break;case 180:_=r-this.width+(l[0]-y)/f,k=n-(l[1]-N)/g,[u,h]=[-u,-h];break;case 270:_=r+(l[0]-y-this.height*g)/f,k=n+(l[1]-N-this.width*f)/g,[u,h]=[-h,u];break}this.setAt(_*a,k*o,u,h)}else this.setAt(r*a,n*o,this.width*a,this.height*o);_e(this,Fn,hk).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var _,k,C;const n=r.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;r.preventDefault();const a=_e(_=Bs,Iu,H4).call(_,n.getData("text")||"").replaceAll(i_,`
`);if(!a)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!a.includes(`
`)){l.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:h}=l,f=[],g=[];if(u.nodeType===Node.TEXT_NODE){const O=u.parentElement;if(g.push(u.nodeValue.slice(h).replaceAll(i_,"")),O!==this.editorDiv){let T=f;for(const M of this.editorDiv.childNodes){if(M===O){T=g;continue}T.push(_e(k=Bs,Iu,uk).call(k,M))}}f.push(u.nodeValue.slice(0,h).replaceAll(i_,""))}else if(u===this.editorDiv){let O=f,T=0;for(const M of this.editorDiv.childNodes)T++===h&&(O=g),O.push(_e(C=Bs,Iu,uk).call(C,M))}je(this,uo,`${f.join(`
`)}${a}${g.join(`
`)}`),_e(this,Fn,hk).call(this);const y=new Range;let N=f.reduce((O,T)=>O+T.length,0);for(const{firstChild:O}of this.editorDiv.childNodes)if(O.nodeType===Node.TEXT_NODE){const T=O.nodeValue.length;if(N<=T){y.setStart(O,N),y.setEnd(O,N);break}N-=T}o.removeAllRanges(),o.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(r,n,i){var l;let a=null;if(r instanceof Mte){const{data:{defaultAppearanceData:{fontSize:u,fontColor:h},rect:f,rotation:g,id:y,popupRef:N},textContent:_,textPosition:k,parent:{page:{pageNumber:C}}}=r;if(!_||_.length===0)return null;a=r={annotationType:Dr.FREETEXT,color:Array.from(h),fontSize:u,value:_.join(`
`),position:k,pageIndex:C-1,rect:f.slice(0),rotation:g,id:y,deleted:!1,popupRef:N}}const o=await super.deserialize(r,n,i);return je(o,ho,r.fontSize),je(o,zl,cr.makeHexColor(...r.color)),je(o,uo,_e(l=Bs,Iu,H4).call(l,r.value)),o.annotationElementId=r.id||null,o._initialData=a,o}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Bs._internalPadding*this.parentScale,i=this.getRect(n,n),a=Ns._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:D(this,zl)),o={annotationType:Dr.FREETEXT,color:a,fontSize:D(this,ho),value:_e(this,Fn,$te).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return r?o:this.annotationElementId&&!_e(this,Fn,zte).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(r){const n=super.renderAnnotationElement(r);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${D(this,ho)}px * var(--scale-factor))`,i.color=D(this,zl),n.replaceChildren();for(const o of D(this,uo).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),n.append(l)}const a=Bs._internalPadding*this.parentScale;return r.updateEdited({rect:this.getRect(a,a),popupContent:D(this,uo)}),n}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};zl=new WeakMap,uo=new WeakMap,Oj=new WeakMap,Dp=new WeakMap,ho=new WeakMap,Fn=new WeakSet,Ite=function(r){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-D(this,ho))*this.parentScale),je(this,ho,a),_e(this,Fn,dk).call(this)},i=D(this,ho);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ar.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Fte=function(r){const n=a=>{je(this,zl,this.editorDiv.style.color=a)},i=D(this,zl);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ar.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Bte=function(){var i;const r=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(r.push(_e(i=Bs,Iu,uk).call(i,a)),n=a);return r.join(`
`)},dk=function(){const[r,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",a.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/r,this.height=i.height/n):(this.width=i.height/r,this.height=i.width/n),this.fixAndSetPosition()},Iu=new WeakSet,uk=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(i_,"")},hk=function(){if(this.editorDiv.replaceChildren(),!!D(this,uo))for(const r of D(this,uo).split(`
`)){const n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}},$te=function(){return D(this,uo).replaceAll(""," ")},H4=function(r){return r.replaceAll(" ","")},zte=function(r){const{value:n,fontSize:i,color:a,pageIndex:o}=this._initialData;return this._hasBeenMoved||r.value!==n||r.fontSize!==i||r.color.some((l,u)=>l!==a[u])||r.pageIndex!==o},Te(Bs,Iu),kr(Bs,"_freeTextDefaultContent",""),kr(Bs,"_internalPadding",0),kr(Bs,"_defaultColor",null),kr(Bs,"_defaultFontSize",10),kr(Bs,"_type","freetext"),kr(Bs,"_editorType",Dr.FREETEXT);let z4=Bs;class Hte{toSVGPath(){Vs("Abstract method `toSVGPath` must be implemented.")}get box(){Vs("Abstract getter `box` must be implemented.")}serialize(e,r){Vs("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Vs("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Vs("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var fo,Hl,q0,X0,Uc,Vr,Rp,Ip,Dj,Rj,Y0,G0,gf,Ij,LC,OC,Jn,hw,Wte,Vte,Ute,qte,Xte,Yte;const Xd=class Xd{constructor({x:e,y:r},n,i,a,o,l=0){Te(this,Jn);Te(this,fo);Te(this,Hl,[]);Te(this,q0);Te(this,X0);Te(this,Uc,[]);Te(this,Vr,new Float64Array(18));Te(this,Rp);Te(this,Ip);Te(this,Dj);Te(this,Rj);Te(this,Y0);Te(this,G0);Te(this,gf,[]);je(this,fo,n),je(this,G0,a*i),je(this,X0,o),D(this,Vr).set([NaN,NaN,NaN,NaN,e,r],6),je(this,q0,l),je(this,Rj,D(Xd,Ij)*i),je(this,Dj,D(Xd,OC)*i),je(this,Y0,i),D(this,gf).push(e,r)}isEmpty(){return isNaN(D(this,Vr)[8])}add({x:e,y:r}){var re;je(this,Rp,e),je(this,Ip,r);const[n,i,a,o]=D(this,fo);let[l,u,h,f]=D(this,Vr).subarray(8,12);const g=e-h,y=r-f,N=Math.hypot(g,y);if(N<D(this,Dj))return!1;const _=N-D(this,Rj),k=_/N,C=k*g,O=k*y;let T=l,M=u;l=h,u=f,h+=C,f+=O,(re=D(this,gf))==null||re.push(e,r);const B=-O/_,F=C/_,V=B*D(this,G0),H=F*D(this,G0);return D(this,Vr).set(D(this,Vr).subarray(2,8),0),D(this,Vr).set([h+V,f+H],4),D(this,Vr).set(D(this,Vr).subarray(14,18),12),D(this,Vr).set([h-V,f-H],16),isNaN(D(this,Vr)[6])?(D(this,Uc).length===0&&(D(this,Vr).set([l+V,u+H],2),D(this,Uc).push(NaN,NaN,NaN,NaN,(l+V-n)/a,(u+H-i)/o),D(this,Vr).set([l-V,u-H],14),D(this,Hl).push(NaN,NaN,NaN,NaN,(l-V-n)/a,(u-H-i)/o)),D(this,Vr).set([T,M,l,u,h,f],6),!this.isEmpty()):(D(this,Vr).set([T,M,l,u,h,f],6),Math.abs(Math.atan2(M-u,T-l)-Math.atan2(O,C))<Math.PI/2?([l,u,h,f]=D(this,Vr).subarray(2,6),D(this,Uc).push(NaN,NaN,NaN,NaN,((l+h)/2-n)/a,((u+f)/2-i)/o),[l,u,T,M]=D(this,Vr).subarray(14,18),D(this,Hl).push(NaN,NaN,NaN,NaN,((T+l)/2-n)/a,((M+u)/2-i)/o),!0):([T,M,l,u,h,f]=D(this,Vr).subarray(0,6),D(this,Uc).push(((T+5*l)/6-n)/a,((M+5*u)/6-i)/o,((5*l+h)/6-n)/a,((5*u+f)/6-i)/o,((l+h)/2-n)/a,((u+f)/2-i)/o),[h,f,l,u,T,M]=D(this,Vr).subarray(12,18),D(this,Hl).push(((T+5*l)/6-n)/a,((M+5*u)/6-i)/o,((5*l+h)/6-n)/a,((5*u+f)/6-i)/o,((l+h)/2-n)/a,((u+f)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=D(this,Uc),r=D(this,Hl);if(isNaN(D(this,Vr)[6])&&!this.isEmpty())return _e(this,Jn,Wte).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);_e(this,Jn,Ute).call(this,n);for(let i=r.length-6;i>=6;i-=6)isNaN(r[i])?n.push(`L${r[i+4]} ${r[i+5]}`):n.push(`C${r[i]} ${r[i+1]} ${r[i+2]} ${r[i+3]} ${r[i+4]} ${r[i+5]}`);return _e(this,Jn,Vte).call(this,n),n.join(" ")}newFreeDrawOutline(e,r,n,i,a,o){return new Gte(e,r,n,i,a,o)}getOutlines(){var g;const e=D(this,Uc),r=D(this,Hl),n=D(this,Vr),[i,a,o,l]=D(this,fo),u=new Float64Array((((g=D(this,gf))==null?void 0:g.length)??0)+2);for(let y=0,N=u.length-2;y<N;y+=2)u[y]=(D(this,gf)[y]-i)/o,u[y+1]=(D(this,gf)[y+1]-a)/l;if(u[u.length-2]=(D(this,Rp)-i)/o,u[u.length-1]=(D(this,Ip)-a)/l,isNaN(n[6])&&!this.isEmpty())return _e(this,Jn,qte).call(this,u);const h=new Float64Array(D(this,Uc).length+24+D(this,Hl).length);let f=e.length;for(let y=0;y<f;y+=2){if(isNaN(e[y])){h[y]=h[y+1]=NaN;continue}h[y]=e[y],h[y+1]=e[y+1]}f=_e(this,Jn,Yte).call(this,h,f);for(let y=r.length-6;y>=6;y-=6)for(let N=0;N<6;N+=2){if(isNaN(r[y+N])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=r[y+N],h[f+1]=r[y+N+1],f+=2}return _e(this,Jn,Xte).call(this,h,f),this.newFreeDrawOutline(h,u,D(this,fo),D(this,Y0),D(this,q0),D(this,X0))}};fo=new WeakMap,Hl=new WeakMap,q0=new WeakMap,X0=new WeakMap,Uc=new WeakMap,Vr=new WeakMap,Rp=new WeakMap,Ip=new WeakMap,Dj=new WeakMap,Rj=new WeakMap,Y0=new WeakMap,G0=new WeakMap,gf=new WeakMap,Ij=new WeakMap,LC=new WeakMap,OC=new WeakMap,Jn=new WeakSet,hw=function(){const e=D(this,Vr).subarray(4,6),r=D(this,Vr).subarray(16,18),[n,i,a,o]=D(this,fo);return[(D(this,Rp)+(e[0]-r[0])/2-n)/a,(D(this,Ip)+(e[1]-r[1])/2-i)/o,(D(this,Rp)+(r[0]-e[0])/2-n)/a,(D(this,Ip)+(r[1]-e[1])/2-i)/o]},Wte=function(){const[e,r,n,i]=D(this,fo),[a,o,l,u]=_e(this,Jn,hw).call(this);return`M${(D(this,Vr)[2]-e)/n} ${(D(this,Vr)[3]-r)/i} L${(D(this,Vr)[4]-e)/n} ${(D(this,Vr)[5]-r)/i} L${a} ${o} L${l} ${u} L${(D(this,Vr)[16]-e)/n} ${(D(this,Vr)[17]-r)/i} L${(D(this,Vr)[14]-e)/n} ${(D(this,Vr)[15]-r)/i} Z`},Vte=function(e){const r=D(this,Hl);e.push(`L${r[4]} ${r[5]} Z`)},Ute=function(e){const[r,n,i,a]=D(this,fo),o=D(this,Vr).subarray(4,6),l=D(this,Vr).subarray(16,18),[u,h,f,g]=_e(this,Jn,hw).call(this);e.push(`L${(o[0]-r)/i} ${(o[1]-n)/a} L${u} ${h} L${f} ${g} L${(l[0]-r)/i} ${(l[1]-n)/a}`)},qte=function(e){const r=D(this,Vr),[n,i,a,o]=D(this,fo),[l,u,h,f]=_e(this,Jn,hw).call(this),g=new Float64Array(36);return g.set([NaN,NaN,NaN,NaN,(r[2]-n)/a,(r[3]-i)/o,NaN,NaN,NaN,NaN,(r[4]-n)/a,(r[5]-i)/o,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(r[16]-n)/a,(r[17]-i)/o,NaN,NaN,NaN,NaN,(r[14]-n)/a,(r[15]-i)/o],0),this.newFreeDrawOutline(g,e,D(this,fo),D(this,Y0),D(this,q0),D(this,X0))},Xte=function(e,r){const n=D(this,Hl);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],r),r+=6},Yte=function(e,r){const n=D(this,Vr).subarray(4,6),i=D(this,Vr).subarray(16,18),[a,o,l,u]=D(this,fo),[h,f,g,y]=_e(this,Jn,hw).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/l,(n[1]-o)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,(i[0]-a)/l,(i[1]-o)/u],r),r+=24},Te(Xd,Ij,8),Te(Xd,LC,2),Te(Xd,OC,D(Xd,Ij)+D(Xd,LC));let ZA=Xd;var Z0,Fp,lu,Fj,mo,Bj,_n,Ha,fw,mw,Zte;class Gte extends Hte{constructor(r,n,i,a,o,l){super();Te(this,Ha);Te(this,Z0);Te(this,Fp,null);Te(this,lu);Te(this,Fj);Te(this,mo);Te(this,Bj);Te(this,_n);je(this,_n,r),je(this,mo,n),je(this,Z0,i),je(this,Bj,a),je(this,lu,o),je(this,Fj,l),_e(this,Ha,Zte).call(this,l);const{x:u,y:h,width:f,height:g}=D(this,Fp);for(let y=0,N=r.length;y<N;y+=2)r[y]=(r[y]-u)/f,r[y+1]=(r[y+1]-h)/g;for(let y=0,N=n.length;y<N;y+=2)n[y]=(n[y]-u)/f,n[y+1]=(n[y+1]-h)/g}toSVGPath(){const r=[`M${D(this,_n)[4]} ${D(this,_n)[5]}`];for(let n=6,i=D(this,_n).length;n<i;n+=6){if(isNaN(D(this,_n)[n])){r.push(`L${D(this,_n)[n+4]} ${D(this,_n)[n+5]}`);continue}r.push(`C${D(this,_n)[n]} ${D(this,_n)[n+1]} ${D(this,_n)[n+2]} ${D(this,_n)[n+3]} ${D(this,_n)[n+4]} ${D(this,_n)[n+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,n,i,a],o){const l=i-r,u=a-n;let h,f;switch(o){case 0:h=_e(this,Ha,fw).call(this,D(this,_n),r,a,l,-u),f=_e(this,Ha,fw).call(this,D(this,mo),r,a,l,-u);break;case 90:h=_e(this,Ha,mw).call(this,D(this,_n),r,n,l,u),f=_e(this,Ha,mw).call(this,D(this,mo),r,n,l,u);break;case 180:h=_e(this,Ha,fw).call(this,D(this,_n),i,n,-l,u),f=_e(this,Ha,fw).call(this,D(this,mo),i,n,-l,u);break;case 270:h=_e(this,Ha,mw).call(this,D(this,_n),i,a,-l,-u),f=_e(this,Ha,mw).call(this,D(this,mo),i,a,-l,-u);break}return{outline:Array.from(h),points:[Array.from(f)]}}get box(){return D(this,Fp)}newOutliner(r,n,i,a,o,l=0){return new ZA(r,n,i,a,o,l)}getNewOutline(r,n){const{x:i,y:a,width:o,height:l}=D(this,Fp),[u,h,f,g]=D(this,Z0),y=o*f,N=l*g,_=i*f+u,k=a*g+h,C=this.newOutliner({x:D(this,mo)[0]*y+_,y:D(this,mo)[1]*N+k},D(this,Z0),D(this,Bj),r,D(this,Fj),n??D(this,lu));for(let O=2;O<D(this,mo).length;O+=2)C.add({x:D(this,mo)[O]*y+_,y:D(this,mo)[O+1]*N+k});return C.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Z0=new WeakMap,Fp=new WeakMap,lu=new WeakMap,Fj=new WeakMap,mo=new WeakMap,Bj=new WeakMap,_n=new WeakMap,Ha=new WeakSet,fw=function(r,n,i,a,o){const l=new Float64Array(r.length);for(let u=0,h=r.length;u<h;u+=2)l[u]=n+r[u]*a,l[u+1]=i+r[u+1]*o;return l},mw=function(r,n,i,a,o){const l=new Float64Array(r.length);for(let u=0,h=r.length;u<h;u+=2)l[u]=n+r[u+1]*a,l[u+1]=i+r[u]*o;return l},Zte=function(r){const n=D(this,_n);let i=n[4],a=n[5],o=i,l=a,u=i,h=a,f=i,g=a;const y=r?Math.max:Math.min;for(let O=6,T=n.length;O<T;O+=6){if(isNaN(n[O]))o=Math.min(o,n[O+4]),l=Math.min(l,n[O+5]),u=Math.max(u,n[O+4]),h=Math.max(h,n[O+5]),g<n[O+5]?(f=n[O+4],g=n[O+5]):g===n[O+5]&&(f=y(f,n[O+4]));else{const M=cr.bezierBoundingBox(i,a,...n.slice(O,O+6));o=Math.min(o,M[0]),l=Math.min(l,M[1]),u=Math.max(u,M[2]),h=Math.max(h,M[3]),g<M[3]?(f=M[2],g=M[3]):g===M[3]&&(f=y(f,M[2]))}i=n[O+4],a=n[O+5]}const N=o-D(this,lu),_=l-D(this,lu),k=u-o+2*D(this,lu),C=h-l+2*D(this,lu);je(this,Fp,{x:N,y:_,width:k,height:C,lastPoint:[f,g]})};var $j,xf,Wl,pa,Kte,fk,Jte,Qte,W4;class zq{constructor(e,r=0,n=0,i=!0){Te(this,pa);Te(this,$j);Te(this,xf,[]);Te(this,Wl,[]);let a=1/0,o=-1/0,l=1/0,u=-1/0;const h=10**-4;for(const{x:C,y:O,width:T,height:M}of e){const B=Math.floor((C-r)/h)*h,F=Math.ceil((C+T+r)/h)*h,V=Math.floor((O-r)/h)*h,H=Math.ceil((O+M+r)/h)*h,Z=[B,V,H,!0],re=[F,V,H,!1];D(this,xf).push(Z,re),a=Math.min(a,B),o=Math.max(o,F),l=Math.min(l,V),u=Math.max(u,H)}const f=o-a+2*n,g=u-l+2*n,y=a-n,N=l-n,_=D(this,xf).at(i?-1:-2),k=[_[0],_[2]];for(const C of D(this,xf)){const[O,T,M]=C;C[0]=(O-y)/f,C[1]=(T-N)/g,C[2]=(M-N)/g}je(this,$j,{x:y,y:N,width:f,height:g,lastPoint:k})}getOutlines(){D(this,xf).sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of D(this,xf))r[3]?(e.push(..._e(this,pa,W4).call(this,r)),_e(this,pa,Jte).call(this,r)):(_e(this,pa,Qte).call(this,r),e.push(..._e(this,pa,W4).call(this,r)));return _e(this,pa,Kte).call(this,e)}}$j=new WeakMap,xf=new WeakMap,Wl=new WeakMap,pa=new WeakSet,Kte=function(e){const r=[],n=new Set;for(const o of e){const[l,u,h]=o;r.push([l,u,o],[l,h,o])}r.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=r.length;o<l;o+=2){const u=r[o][2],h=r[o+1][2];u.push(h),h.push(u),n.add(u),n.add(h)}const i=[];let a;for(;n.size>0;){const o=n.values().next().value;let[l,u,h,f,g]=o;n.delete(o);let y=l,N=u;for(a=[l,h],i.push(a);;){let _;if(n.has(f))_=f;else if(n.has(g))_=g;else break;n.delete(_),[l,u,h,f,g]=_,y!==l&&(a.push(y,N,l,N===u?u:h),y=l),N=N===u?h:u}a.push(y,N)}return new qPe(i,D(this,$j))},fk=function(e){const r=D(this,Wl);let n=0,i=r.length-1;for(;n<=i;){const a=n+i>>1,o=r[a][0];if(o===e)return a;o<e?n=a+1:i=a-1}return i+1},Jte=function([,e,r]){const n=_e(this,pa,fk).call(this,e);D(this,Wl).splice(n,0,[e,r])},Qte=function([,e,r]){const n=_e(this,pa,fk).call(this,e);for(let i=n;i<D(this,Wl).length;i++){const[a,o]=D(this,Wl)[i];if(a!==e)break;if(a===e&&o===r){D(this,Wl).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[a,o]=D(this,Wl)[i];if(a!==e)break;if(a===e&&o===r){D(this,Wl).splice(i,1);return}}},W4=function(e){const[r,n,i]=e,a=[[r,n,i]],o=_e(this,pa,fk).call(this,i);for(let l=0;l<o;l++){const[u,h]=D(this,Wl)[l];for(let f=0,g=a.length;f<g;f++){const[,y,N]=a[f];if(!(h<=y||N<=u)){if(y>=u){if(N>h)a[f][1]=h;else{if(g===1)return[];a.splice(f,1),f--,g--}continue}a[f][2]=u,N>h&&a.push([r,h,N])}}}return a};var zj,K0;class qPe extends Hte{constructor(r,n){super();Te(this,zj);Te(this,K0);je(this,K0,r),je(this,zj,n)}toSVGPath(){const r=[];for(const n of D(this,K0)){let[i,a]=n;r.push(`M${i} ${a}`);for(let o=2;o<n.length;o+=2){const l=n[o],u=n[o+1];l===i?(r.push(`V${u}`),a=u):u===a&&(r.push(`H${l}`),i=l)}r.push("Z")}return r.join(" ")}serialize([r,n,i,a],o){const l=[],u=i-r,h=a-n;for(const f of D(this,K0)){const g=new Array(f.length);for(let y=0;y<f.length;y+=2)g[y]=r+f[y]*u,g[y+1]=a-f[y+1]*h;l.push(g)}return l}get box(){return D(this,zj)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}zj=new WeakMap,K0=new WeakMap;class V4 extends ZA{newFreeDrawOutline(e,r,n,i,a,o){return new XPe(e,r,n,i,a,o)}get classNamesForDrawing(){return["highlight","free"]}}class XPe extends Gte{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,r,n,i,a,o=0){return new V4(e,r,n,i,a,o)}}var Vl,Bp,J0,Yn,Hj,Q0,Wj,Vj,yf,Ul,ey,Uj,Cs,U4,q4,X4,Om,ere,Wh;const Ma=class Ma{constructor({editor:e=null,uiManager:r=null}){Te(this,Cs);Te(this,Vl,null);Te(this,Bp,null);Te(this,J0);Te(this,Yn,null);Te(this,Hj,!1);Te(this,Q0,!1);Te(this,Wj,null);Te(this,Vj);Te(this,yf,null);Te(this,Ul,null);Te(this,ey);var n;e?(je(this,Q0,!1),je(this,ey,Ar.HIGHLIGHT_COLOR),je(this,Wj,e)):(je(this,Q0,!0),je(this,ey,Ar.HIGHLIGHT_DEFAULT_COLOR)),je(this,Ul,(e==null?void 0:e._uiManager)||r),je(this,Vj,D(this,Ul)._eventBus),je(this,J0,(e==null?void 0:e.color)||((n=D(this,Ul))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),D(Ma,Uj)||je(Ma,Uj,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Zr(this,"_keyboardManager",new gN([[["Escape","mac+Escape"],Ma.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ma.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ma.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ma.prototype._moveToPrevious],[["Home","mac+Home"],Ma.prototype._moveToBeginning],[["End","mac+End"],Ma.prototype._moveToEnd]]))}renderButton(){const e=je(this,Vl,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const r=D(this,Ul)._signal;e.addEventListener("click",_e(this,Cs,Om).bind(this),{signal:r}),e.addEventListener("keydown",_e(this,Cs,X4).bind(this),{signal:r});const n=je(this,Bp,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=D(this,J0),e.append(n),e}renderMainDropdown(){const e=je(this,Yn,_e(this,Cs,U4).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===D(this,Vl)){_e(this,Cs,Om).call(this,e);return}const r=e.target.getAttribute("data-color");r&&_e(this,Cs,q4).call(this,r,e)}_moveToNext(e){var r,n;if(!D(this,Cs,Wh)){_e(this,Cs,Om).call(this,e);return}if(e.target===D(this,Vl)){(r=D(this,Yn).firstChild)==null||r.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var r,n;if(e.target===((r=D(this,Yn))==null?void 0:r.firstChild)||e.target===D(this,Vl)){D(this,Cs,Wh)&&this._hideDropdownFromKeyboard();return}D(this,Cs,Wh)||_e(this,Cs,Om).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var r;if(!D(this,Cs,Wh)){_e(this,Cs,Om).call(this,e);return}(r=D(this,Yn).firstChild)==null||r.focus()}_moveToEnd(e){var r;if(!D(this,Cs,Wh)){_e(this,Cs,Om).call(this,e);return}(r=D(this,Yn).lastChild)==null||r.focus()}hideDropdown(){var e,r;(e=D(this,Yn))==null||e.classList.add("hidden"),(r=D(this,yf))==null||r.abort(),je(this,yf,null)}_hideDropdownFromKeyboard(){var e;if(!D(this,Q0)){if(!D(this,Cs,Wh)){(e=D(this,Wj))==null||e.unselect();return}this.hideDropdown(),D(this,Vl).focus({preventScroll:!0,focusVisible:D(this,Hj)})}}updateColor(e){if(D(this,Bp)&&(D(this,Bp).style.backgroundColor=e),!D(this,Yn))return;const r=D(this,Ul).highlightColors.values();for(const n of D(this,Yn).children)n.setAttribute("aria-selected",r.next().value===e)}destroy(){var e,r;(e=D(this,Vl))==null||e.remove(),je(this,Vl,null),je(this,Bp,null),(r=D(this,Yn))==null||r.remove(),je(this,Yn,null)}};Vl=new WeakMap,Bp=new WeakMap,J0=new WeakMap,Yn=new WeakMap,Hj=new WeakMap,Q0=new WeakMap,Wj=new WeakMap,Vj=new WeakMap,yf=new WeakMap,Ul=new WeakMap,ey=new WeakMap,Uj=new WeakMap,Cs=new WeakSet,U4=function(){const e=document.createElement("div"),r=D(this,Ul)._signal;e.addEventListener("contextmenu",fl,{signal:r}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of D(this,Ul).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",D(Ma,Uj)[n]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=i,a.setAttribute("aria-selected",i===D(this,J0)),a.addEventListener("click",_e(this,Cs,q4).bind(this,i),{signal:r}),e.append(a)}return e.addEventListener("keydown",_e(this,Cs,X4).bind(this),{signal:r}),e},q4=function(e,r){r.stopPropagation(),D(this,Vj).dispatch("switchannotationeditorparams",{source:this,type:D(this,ey),value:e})},X4=function(e){Ma._keyboardManager.exec(this,e)},Om=function(e){if(D(this,Cs,Wh)){this.hideDropdown();return}if(je(this,Hj,e.detail===0),D(this,yf)||(je(this,yf,new AbortController),window.addEventListener("pointerdown",_e(this,Cs,ere).bind(this),{signal:D(this,Ul).combinedSignal(D(this,yf))})),D(this,Yn)){D(this,Yn).classList.remove("hidden");return}const r=je(this,Yn,_e(this,Cs,U4).call(this));D(this,Vl).append(r)},ere=function(e){var r;(r=D(this,Yn))!=null&&r.contains(e.target)||this.hideDropdown()},Wh=function(){return D(this,Yn)&&!D(this,Yn).classList.contains("hidden")},Te(Ma,Uj,null);let KA=Ma;var ty,qj,cu,$p,ry,Qo,Xj,Yj,zp,ql,$i,Da,sy,du,Gn,ny,el,Gj,Or,Y4,mk,tre,rre,sre,G4,Dm,il,Ux,nre,pk,pw,ire,are,ore,lre,cre;const os=class os extends Ns{constructor(r){super({...r,name:"highlightEditor"});Te(this,Or);Te(this,ty,null);Te(this,qj,0);Te(this,cu);Te(this,$p,null);Te(this,ry,null);Te(this,Qo,null);Te(this,Xj,null);Te(this,Yj,0);Te(this,zp,null);Te(this,ql,null);Te(this,$i,null);Te(this,Da,!1);Te(this,sy,null);Te(this,du);Te(this,Gn,null);Te(this,ny,"");Te(this,el);Te(this,Gj,"");this.color=r.color||os._defaultColor,je(this,el,r.thickness||os._defaultThickness),je(this,du,r.opacity||os._defaultOpacity),je(this,cu,r.boxes||null),je(this,Gj,r.methodOfCreation||""),je(this,ny,r.text||""),this._isDraggable=!1,r.highlightId>-1?(je(this,Da,!0),_e(this,Or,mk).call(this,r),_e(this,Or,Dm).call(this)):D(this,cu)&&(je(this,ty,r.anchorNode),je(this,qj,r.anchorOffset),je(this,Xj,r.focusNode),je(this,Yj,r.focusOffset),_e(this,Or,Y4).call(this),_e(this,Or,Dm).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const r=os.prototype;return Zr(this,"_keyboardManager",new gN([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:D(this,Da)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:D(this,el),methodOfCreation:D(this,Gj)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,n){var i;Ns.initialize(r,n),os._defaultColor||(os._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(r,n){switch(r){case Ar.HIGHLIGHT_DEFAULT_COLOR:os._defaultColor=n;break;case Ar.HIGHLIGHT_THICKNESS:os._defaultThickness=n;break}}translateInPage(r,n){}get toolbarPosition(){return D(this,sy)}updateParams(r,n){switch(r){case Ar.HIGHLIGHT_COLOR:_e(this,Or,tre).call(this,n);break;case Ar.HIGHLIGHT_THICKNESS:_e(this,Or,rre).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ar.HIGHLIGHT_DEFAULT_COLOR,os._defaultColor],[Ar.HIGHLIGHT_THICKNESS,os._defaultThickness]]}get propertiesToUpdate(){return[[Ar.HIGHLIGHT_COLOR,this.color||os._defaultColor],[Ar.HIGHLIGHT_THICKNESS,D(this,el)||os._defaultThickness],[Ar.HIGHLIGHT_FREE,D(this,Da)]]}async addEditToolbar(){const r=await super.addEditToolbar();return r?(this._uiManager.highlightColors&&(je(this,ry,new KA({editor:this})),r.addColorPicker(D(this,ry))),r):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_e(this,Or,pw).call(this))}getBaseTranslation(){return[0,0]}getRect(r,n){return super.getRect(r,n,_e(this,Or,pw).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){_e(this,Or,G4).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_e(this,Or,Dm).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?_e(this,Or,G4).call(this):r&&(_e(this,Or,Dm).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),n&&this.select()}rotate(r){var a,o,l;const{drawLayer:n}=this.parent;let i;D(this,Da)?(r=(r-this.rotation+360)%360,i=_e(a=os,il,Ux).call(a,D(this,ql).box,r)):i=_e(o=os,il,Ux).call(o,this,r),n.rotate(D(this,$i),r),n.rotate(D(this,Gn),r),n.updateBox(D(this,$i),i),n.updateBox(D(this,Gn),_e(l=os,il,Ux).call(l,D(this,Qo).box,r))}render(){if(this.div)return this.div;const r=super.render();D(this,ny)&&(r.setAttribute("aria-label",D(this,ny)),r.setAttribute("role","mark")),D(this,Da)?r.classList.add("free"):this.div.addEventListener("keydown",_e(this,Or,nre).bind(this),{signal:this._uiManager._signal});const n=je(this,zp,document.createElement("div"));r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=D(this,$p);const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),YA(this,D(this,zp),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){this.isSelected||this.parent.drawLayer.addClass(D(this,Gn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(D(this,Gn),"hovered")}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:_e(this,Or,pk).call(this,!0);break;case 1:case 3:_e(this,Or,pk).call(this,!1);break}}select(){var r,n;super.select(),D(this,Gn)&&((r=this.parent)==null||r.drawLayer.removeClass(D(this,Gn),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(D(this,Gn),"selected"))}unselect(){var r;super.unselect(),D(this,Gn)&&((r=this.parent)==null||r.drawLayer.removeClass(D(this,Gn),"selected"),D(this,Da)||_e(this,Or,pk).call(this,!1))}get _mustFixPosition(){return!D(this,Da)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.show(D(this,$i),r),this.parent.drawLayer.show(D(this,Gn),r))}static startHighlighting(r,n,{target:i,x:a,y:o}){const{x:l,y:u,width:h,height:f}=i.getBoundingClientRect(),g=new AbortController,y=r.combinedSignal(g),N=k=>{k.preventDefault(),k.stopPropagation()},_=k=>{g.abort(),_e(this,il,lre).call(this,r,k)};window.addEventListener("blur",_,{signal:y}),window.addEventListener("pointerup",_,{signal:y}),window.addEventListener("pointerdown",N,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",fl,{signal:y}),i.addEventListener("pointermove",_e(this,il,ore).bind(this,r),{signal:y}),this._freeHighlight=new V4({x:a,y:o},[l,u,h,f],r.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(r,n,i){var k,C,O,T;let a=null;if(r instanceof Ote){const{data:{quadPoints:M,rect:B,rotation:F,id:V,color:H,opacity:Z,popupRef:re},parent:{page:{pageNumber:le}}}=r;a=r={annotationType:Dr.HIGHLIGHT,color:Array.from(H),opacity:Z,quadPoints:M,boxes:null,pageIndex:le-1,rect:B.slice(0),rotation:F,id:V,deleted:!1,popupRef:re}}else if(r instanceof OF){const{data:{inkLists:M,rect:B,rotation:F,id:V,color:H,borderStyle:{rawWidth:Z},popupRef:re},parent:{page:{pageNumber:le}}}=r;a=r={annotationType:Dr.HIGHLIGHT,color:Array.from(H),thickness:Z,inkLists:M,boxes:null,pageIndex:le-1,rect:B.slice(0),rotation:F,id:V,deleted:!1,popupRef:re}}const{color:o,quadPoints:l,inkLists:u,opacity:h}=r,f=await super.deserialize(r,n,i);f.color=cr.makeHexColor(...o),je(f,du,h||1),u&&je(f,el,r.thickness),f.annotationElementId=r.id||null,f._initialData=a;const[g,y]=f.pageDimensions,[N,_]=f.pageTranslation;if(l){const M=je(f,cu,[]);for(let B=0;B<l.length;B+=8)M.push({x:(l[B]-N)/g,y:1-(l[B+1]-_)/y,width:(l[B+2]-l[B])/g,height:(l[B+1]-l[B+5])/y});_e(k=f,Or,Y4).call(k),_e(C=f,Or,Dm).call(C),f.rotate(f.rotation)}else if(u){je(f,Da,!0);const M=u[0],B={x:M[0]-N,y:y-(M[1]-_)},F=new V4(B,[0,0,g,y],1,D(f,el)/2,!0,.001);for(let Z=0,re=M.length;Z<re;Z+=2)B.x=M[Z]-N,B.y=y-(M[Z+1]-_),F.add(B);const{id:V,clipPathId:H}=n.drawLayer.draw(F,f.color,f._defaultOpacity,!0);_e(O=f,Or,mk).call(O,{highlightOutlines:F.getOutlines(),highlightId:V,clipPathId:H}),_e(T=f,Or,Dm).call(T)}return f}serialize(r=!1){if(this.isEmpty()||r)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=Ns._colorManager.convert(this.color),a={annotationType:Dr.HIGHLIGHT,color:i,opacity:D(this,du),thickness:D(this,el),quadPoints:_e(this,Or,ire).call(this),outlines:_e(this,Or,are).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:_e(this,Or,pw).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_e(this,Or,cre).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ty=new WeakMap,qj=new WeakMap,cu=new WeakMap,$p=new WeakMap,ry=new WeakMap,Qo=new WeakMap,Xj=new WeakMap,Yj=new WeakMap,zp=new WeakMap,ql=new WeakMap,$i=new WeakMap,Da=new WeakMap,sy=new WeakMap,du=new WeakMap,Gn=new WeakMap,ny=new WeakMap,el=new WeakMap,Gj=new WeakMap,Or=new WeakSet,Y4=function(){const r=new zq(D(this,cu),.001);je(this,ql,r.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=D(this,ql).box;const n=new zq(D(this,cu),.0025,.001,this._uiManager.direction==="ltr");je(this,Qo,n.getOutlines());const{lastPoint:i}=D(this,Qo).box;je(this,sy,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},mk=function({highlightOutlines:r,highlightId:n,clipPathId:i}){var g,y;if(je(this,ql,r),je(this,Qo,r.getNewOutline(D(this,el)/2+1.5,.0025)),n>=0)je(this,$i,n),je(this,$p,i),this.parent.drawLayer.finalizeLine(n,r),je(this,Gn,this.parent.drawLayer.drawOutline(D(this,Qo)));else if(this.parent){const N=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(D(this,$i),r),this.parent.drawLayer.updateBox(D(this,$i),_e(g=os,il,Ux).call(g,D(this,ql).box,(N-this.rotation+360)%360)),this.parent.drawLayer.updateLine(D(this,Gn),D(this,Qo)),this.parent.drawLayer.updateBox(D(this,Gn),_e(y=os,il,Ux).call(y,D(this,Qo).box,N))}const{x:o,y:l,width:u,height:h}=r.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=h;break;case 90:{const[N,_]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*_/N,this.height=h*N/_;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=h;break;case 270:{const[N,_]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*_/N,this.height=h*N/_;break}}const{lastPoint:f}=D(this,Qo).box;je(this,sy,[(f[0]-o)/u,(f[1]-l)/h])},tre=function(r){const n=(o,l)=>{var u,h,f;this.color=o,(u=this.parent)==null||u.drawLayer.changeColor(D(this,$i),o),(h=D(this,ry))==null||h.updateColor(o),je(this,du,l),(f=this.parent)==null||f.drawLayer.changeOpacity(D(this,$i),l)},i=this.color,a=D(this,du);this.addCommands({cmd:n.bind(this,r,os._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ar.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(r)},!0)},rre=function(r){const n=D(this,el),i=a=>{je(this,el,a),_e(this,Or,sre).call(this,a)};this.addCommands({cmd:i.bind(this,r),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ar.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},sre=function(r){if(!D(this,Da))return;_e(this,Or,mk).call(this,{highlightOutlines:D(this,ql).getNewOutline(r/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},G4=function(){D(this,$i)===null||!this.parent||(this.parent.drawLayer.remove(D(this,$i)),je(this,$i,null),this.parent.drawLayer.remove(D(this,Gn)),je(this,Gn,null))},Dm=function(r=this.parent){D(this,$i)===null&&({id:ea(this,$i)._,clipPathId:ea(this,$p)._}=r.drawLayer.draw(D(this,ql),this.color,D(this,du)),je(this,Gn,r.drawLayer.drawOutline(D(this,Qo))),D(this,zp)&&(D(this,zp).style.clipPath=D(this,$p)))},il=new WeakSet,Ux=function({x:r,y:n,width:i,height:a},o){switch(o){case 90:return{x:1-n-a,y:r,width:a,height:i};case 180:return{x:1-r-i,y:1-n-a,width:i,height:a};case 270:return{x:n,y:1-r-i,width:a,height:i}}return{x:r,y:n,width:i,height:a}},nre=function(r){os._keyboardManager.exec(this,r)},pk=function(r){if(!D(this,ty))return;const n=window.getSelection();r?n.setPosition(D(this,ty),D(this,qj)):n.setPosition(D(this,Xj),D(this,Yj))},pw=function(){return D(this,Da)?this.rotation:0},ire=function(){if(D(this,Da))return null;const[r,n]=this.pageDimensions,[i,a]=this.pageTranslation,o=D(this,cu),l=new Float32Array(o.length*8);let u=0;for(const{x:h,y:f,width:g,height:y}of o){const N=h*r+i,_=(1-f-y)*n+a;l[u]=l[u+4]=N,l[u+1]=l[u+3]=_,l[u+2]=l[u+6]=N+g*r,l[u+5]=l[u+7]=_+y*n,u+=8}return l},are=function(r){return D(this,ql).serialize(r,_e(this,Or,pw).call(this))},ore=function(r,n){this._freeHighlight.add(n)&&r.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},lre=function(r,n){this._freeHighlight.isEmpty()?r.drawLayer.remove(this._freeHighlightId):r.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},cre=function(r){const{color:n}=this._initialData;return r.color.some((i,a)=>i!==n[a])},Te(os,il),kr(os,"_defaultColor",null),kr(os,"_defaultOpacity",1),kr(os,"_defaultThickness",12),kr(os,"_type","highlight"),kr(os,"_editorType",Dr.HIGHLIGHT),kr(os,"_freeHighlightId",-1),kr(os,"_freeHighlight",null),kr(os,"_freeHighlightClipId","");let JA=os;var Hp,Wp,qc,uu,tl,Vp,Up,qp,hu,iy,Xp,Yp,vf,Rt,dre,ure,hre,fre,K4,mre,J4,pre,gre,xre,yre,vre,Rm,Q4,eI,tI,gk,xk,qx,rI,yk,Xu,bre,sI,wre,jre,nI,vk,gw;const rn=class rn extends Ns{constructor(r){super({...r,name:"inkEditor"});Te(this,Rt);Te(this,Hp,0);Te(this,Wp,0);Te(this,qc,null);Te(this,uu,new Path2D);Te(this,tl,!1);Te(this,Vp,null);Te(this,Up,!1);Te(this,qp,!1);Te(this,hu,null);Te(this,iy,null);Te(this,Xp,0);Te(this,Yp,0);Te(this,vf,null);this.color=r.color||null,this.thickness=r.thickness||null,this.opacity=r.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(r,n){Ns.initialize(r,n)}static updateDefaultParams(r,n){switch(r){case Ar.INK_THICKNESS:rn._defaultThickness=n;break;case Ar.INK_COLOR:rn._defaultColor=n;break;case Ar.INK_OPACITY:rn._defaultOpacity=n/100;break}}updateParams(r,n){switch(r){case Ar.INK_THICKNESS:_e(this,Rt,dre).call(this,n);break;case Ar.INK_COLOR:_e(this,Rt,ure).call(this,n);break;case Ar.INK_OPACITY:_e(this,Rt,hre).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ar.INK_THICKNESS,rn._defaultThickness],[Ar.INK_COLOR,rn._defaultColor||Ns._defaultLineColor],[Ar.INK_OPACITY,Math.round(rn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ar.INK_THICKNESS,this.thickness||rn._defaultThickness],[Ar.INK_COLOR,this.color||rn._defaultColor||Ns._defaultLineColor],[Ar.INK_OPACITY,Math.round(100*(this.opacity??rn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_e(this,Rt,gk).call(this),_e(this,Rt,xk).call(this)),this.isAttachedToDOM||(this.parent.add(this),_e(this,Rt,qx).call(this)),_e(this,Rt,gw).call(this)))}remove(){var r;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,D(this,qc)&&(clearTimeout(D(this,qc)),je(this,qc,null)),(r=D(this,hu))==null||r.disconnect(),je(this,hu,null),super.remove())}setParent(r){!this.parent&&r?this._uiManager.removeShouldRescale(this):this.parent&&r===null&&this._uiManager.addShouldRescale(this),super.setParent(r)}onScaleChanging(){const[r,n]=this.parentDimensions,i=this.width*r,a=this.height*n;this.setDimensions(i,a)}enableEditMode(){D(this,tl)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,_e(this,Rt,Q4).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),_e(this,Rt,eI).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){D(this,tl)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),je(this,tl,!0),this.div.classList.add("disabled"),_e(this,Rt,gw).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),this.enableEditMode())}canvasPointerdown(r){r.button!==0||!this.isInEditMode()||D(this,tl)||(this.setInForeground(),r.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_e(this,Rt,mre).call(this,r.offsetX,r.offsetY))}canvasPointermove(r){r.preventDefault(),_e(this,Rt,J4).call(this,r.offsetX,r.offsetY)}canvasPointerup(r){r.preventDefault(),_e(this,Rt,tI).call(this,r)}canvasPointerleave(r){_e(this,Rt,tI).call(this,r)}get isResizable(){return!this.isEmpty()&&D(this,tl)}render(){if(this.div)return this.div;let r,n;this.width&&(r=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,a,o,l]=_e(this,Rt,fre).call(this);if(this.setAt(i,a,0,0),this.setDims(o,l),_e(this,Rt,gk).call(this),this.width){const[u,h]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*h),this.setAt(r*u,n*h,this.width*u,this.height*h),je(this,qp,!0),_e(this,Rt,qx).call(this),this.setDims(this.width*u,this.height*h),_e(this,Rt,Rm).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _e(this,Rt,xk).call(this),this.div}setDimensions(r,n){const i=Math.round(r),a=Math.round(n);if(D(this,Xp)===i&&D(this,Yp)===a)return;je(this,Xp,i),je(this,Yp,a),this.canvas.style.visibility="hidden";const[o,l]=this.parentDimensions;this.width=r/o,this.height=n/l,this.fixAndSetPosition(),D(this,tl)&&_e(this,Rt,rI).call(this,r,n),_e(this,Rt,qx).call(this),_e(this,Rt,Rm).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(r,n,i){var C,O,T;if(r instanceof OF)return null;const a=await super.deserialize(r,n,i);a.thickness=r.thickness,a.color=cr.makeHexColor(...r.color),a.opacity=r.opacity;const[o,l]=a.pageDimensions,u=a.width*o,h=a.height*l,f=a.parentScale,g=r.thickness/2;je(a,tl,!0),je(a,Xp,Math.round(u)),je(a,Yp,Math.round(h));const{paths:y,rect:N,rotation:_}=r;for(let{bezier:M}of y){M=_e(C=rn,Xu,wre).call(C,M,N,_);const B=[];a.paths.push(B);let F=f*(M[0]-g),V=f*(M[1]-g);for(let Z=2,re=M.length;Z<re;Z+=6){const le=f*(M[Z]-g),ce=f*(M[Z+1]-g),he=f*(M[Z+2]-g),fe=f*(M[Z+3]-g),ee=f*(M[Z+4]-g),xe=f*(M[Z+5]-g);B.push([[F,V],[le,ce],[he,fe],[ee,xe]]),F=ee,V=xe}const H=_e(this,Xu,bre).call(this,B);a.bezierPath2D.push(H)}const k=_e(O=a,Rt,nI).call(O);return je(a,Wp,Math.max(Ns.MIN_SIZE,k[2]-k[0])),je(a,Hp,Math.max(Ns.MIN_SIZE,k[3]-k[1])),_e(T=a,Rt,rI).call(T,u,h),a}serialize(){if(this.isEmpty())return null;const r=this.getRect(0,0),n=Ns._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Dr.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:_e(this,Rt,jre).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,r),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Hp=new WeakMap,Wp=new WeakMap,qc=new WeakMap,uu=new WeakMap,tl=new WeakMap,Vp=new WeakMap,Up=new WeakMap,qp=new WeakMap,hu=new WeakMap,iy=new WeakMap,Xp=new WeakMap,Yp=new WeakMap,vf=new WeakMap,Rt=new WeakSet,dre=function(r){const n=a=>{this.thickness=a,_e(this,Rt,gw).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ar.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},ure=function(r){const n=a=>{this.color=a,_e(this,Rt,Rm).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ar.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},hre=function(r){const n=a=>{this.opacity=a,_e(this,Rt,Rm).call(this)};r/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ar.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},fre=function(){const{parentRotation:r,parentDimensions:[n,i]}=this;switch(r){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},K4=function(){const{ctx:r,color:n,opacity:i,thickness:a,parentScale:o,scaleFactor:l}=this;r.lineWidth=a*o/l,r.lineCap="round",r.lineJoin="round",r.miterLimit=10,r.strokeStyle=`${n}${pTe(i)}`},mre=function(r,n){this.canvas.addEventListener("contextmenu",fl,{signal:this._uiManager._signal}),_e(this,Rt,eI).call(this),je(this,Vp,new AbortController);const i=this._uiManager.combinedSignal(D(this,Vp));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,D(this,qp)||(je(this,qp,!0),_e(this,Rt,qx).call(this),this.thickness||(this.thickness=rn._defaultThickness),this.color||(this.color=rn._defaultColor||Ns._defaultLineColor),this.opacity??(this.opacity=rn._defaultOpacity)),this.currentPath.push([r,n]),je(this,Up,!1),_e(this,Rt,K4).call(this),je(this,vf,()=>{_e(this,Rt,xre).call(this),D(this,vf)&&window.requestAnimationFrame(D(this,vf))}),window.requestAnimationFrame(D(this,vf))},J4=function(r,n){const[i,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&r===i&&n===a)return;const o=this.currentPath;let l=D(this,uu);if(o.push([r,n]),je(this,Up,!0),o.length<=2){l.moveTo(...o[0]),l.lineTo(r,n);return}o.length===3&&(je(this,uu,l=new Path2D),l.moveTo(...o[0])),_e(this,Rt,yre).call(this,l,...o.at(-3),...o.at(-2),r,n)},pre=function(){if(this.currentPath.length===0)return;const r=this.currentPath.at(-1);D(this,uu).lineTo(...r)},gre=function(r,n){je(this,vf,null),r=Math.min(Math.max(r,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),_e(this,Rt,J4).call(this,r,n),_e(this,Rt,pre).call(this);let i;if(this.currentPath.length!==1)i=_e(this,Rt,vre).call(this);else{const h=[r,n];i=[[h,h.slice(),h.slice(),h]]}const a=D(this,uu),o=this.currentPath;this.currentPath=[],je(this,uu,new Path2D);const l=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_e(this,Rt,gk).call(this),_e(this,Rt,xk).call(this)),_e(this,Rt,gw).call(this))};this.addCommands({cmd:l,undo:u,mustExec:!0})},xre=function(){if(!D(this,Up))return;je(this,Up,!1);const r=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(l=>l[0]),a=n.map(l=>l[1]);Math.min(...i)-r,Math.max(...i)+r,Math.min(...a)-r,Math.max(...a)+r;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const l of this.bezierPath2D)o.stroke(l);o.stroke(D(this,uu)),o.restore()},yre=function(r,n,i,a,o,l,u){const h=(n+a)/2,f=(i+o)/2,g=(a+l)/2,y=(o+u)/2;r.bezierCurveTo(h+2*(a-h)/3,f+2*(o-f)/3,g+2*(a-g)/3,y+2*(o-y)/3,g,y)},vre=function(){const r=this.currentPath;if(r.length<=2)return[[r[0],r[0],r.at(-1),r.at(-1)]];const n=[];let i,[a,o]=r[0];for(i=1;i<r.length-2;i++){const[N,_]=r[i],[k,C]=r[i+1],O=(N+k)/2,T=(_+C)/2,M=[a+2*(N-a)/3,o+2*(_-o)/3],B=[O+2*(N-O)/3,T+2*(_-T)/3];n.push([[a,o],M,B,[O,T]]),[a,o]=[O,T]}const[l,u]=r[i],[h,f]=r[i+1],g=[a+2*(l-a)/3,o+2*(u-o)/3],y=[h+2*(l-h)/3,f+2*(u-f)/3];return n.push([[a,o],g,y,[h,f]]),n},Rm=function(){if(this.isEmpty()){_e(this,Rt,yk).call(this);return}_e(this,Rt,K4).call(this);const{canvas:r,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),_e(this,Rt,yk).call(this);for(const i of this.bezierPath2D)n.stroke(i)},Q4=function(){if(D(this,iy))return;je(this,iy,new AbortController);const r=this._uiManager.combinedSignal(D(this,iy));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:r})},eI=function(){var r;(r=this.pointerdownAC)==null||r.abort(),this.pointerdownAC=null},tI=function(r){var n;(n=D(this,Vp))==null||n.abort(),je(this,Vp,null),_e(this,Rt,Q4).call(this),D(this,qc)&&clearTimeout(D(this,qc)),je(this,qc,setTimeout(()=>{je(this,qc,null),this.canvas.removeEventListener("contextmenu",fl)},10)),_e(this,Rt,gre).call(this,r.offsetX,r.offsetY),this.addToAnnotationStorage(),this.setInBackground()},gk=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},xk=function(){je(this,hu,new ResizeObserver(r=>{const n=r[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),D(this,hu).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=D(this,hu))==null||r.disconnect(),je(this,hu,null)},{once:!0})},qx=function(){if(!D(this,qp))return;const[r,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*r),this.canvas.height=Math.ceil(this.height*n),_e(this,Rt,yk).call(this)},rI=function(r,n){const i=_e(this,Rt,vk).call(this),a=(r-i)/D(this,Wp),o=(n-i)/D(this,Hp);this.scaleFactor=Math.min(a,o)},yk=function(){const r=_e(this,Rt,vk).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+r,this.translationY*this.scaleFactor+r)},Xu=new WeakSet,bre=function(r){const n=new Path2D;for(let i=0,a=r.length;i<a;i++){const[o,l,u,h]=r[i];i===0&&n.moveTo(...o),n.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}return n},sI=function(r,n,i){const[a,o,l,u]=n;switch(i){case 0:for(let h=0,f=r.length;h<f;h+=2)r[h]+=a,r[h+1]=u-r[h+1];break;case 90:for(let h=0,f=r.length;h<f;h+=2){const g=r[h];r[h]=r[h+1]+a,r[h+1]=g+o}break;case 180:for(let h=0,f=r.length;h<f;h+=2)r[h]=l-r[h],r[h+1]+=o;break;case 270:for(let h=0,f=r.length;h<f;h+=2){const g=r[h];r[h]=l-r[h+1],r[h+1]=u-g}break;default:throw new Error("Invalid rotation")}return r},wre=function(r,n,i){const[a,o,l,u]=n;switch(i){case 0:for(let h=0,f=r.length;h<f;h+=2)r[h]-=a,r[h+1]=u-r[h+1];break;case 90:for(let h=0,f=r.length;h<f;h+=2){const g=r[h];r[h]=r[h+1]-o,r[h+1]=g-a}break;case 180:for(let h=0,f=r.length;h<f;h+=2)r[h]=l-r[h],r[h+1]-=o;break;case 270:for(let h=0,f=r.length;h<f;h+=2){const g=r[h];r[h]=u-r[h+1],r[h+1]=l-g}break;default:throw new Error("Invalid rotation")}return r},jre=function(r,n,i,a){var f,g;const o=[],l=this.thickness/2,u=r*n+l,h=r*i+l;for(const y of this.paths){const N=[],_=[];for(let k=0,C=y.length;k<C;k++){const[O,T,M,B]=y[k];if(O[0]===B[0]&&O[1]===B[1]&&C===1){const fe=r*O[0]+u,ee=r*O[1]+h;N.push(fe,ee),_.push(fe,ee);break}const F=r*O[0]+u,V=r*O[1]+h,H=r*T[0]+u,Z=r*T[1]+h,re=r*M[0]+u,le=r*M[1]+h,ce=r*B[0]+u,he=r*B[1]+h;k===0&&(N.push(F,V),_.push(F,V)),N.push(H,Z,re,le,ce,he),_.push(H,Z),k===C-1&&_.push(ce,he)}o.push({bezier:_e(f=rn,Xu,sI).call(f,N,a,this.rotation),points:_e(g=rn,Xu,sI).call(g,_,a,this.rotation)})}return o},nI=function(){let r=1/0,n=-1/0,i=1/0,a=-1/0;for(const o of this.paths)for(const[l,u,h,f]of o){const g=cr.bezierBoundingBox(...l,...u,...h,...f);r=Math.min(r,g[0]),i=Math.min(i,g[1]),n=Math.max(n,g[2]),a=Math.max(a,g[3])}return[r,i,n,a]},vk=function(){return D(this,tl)?Math.ceil(this.thickness*this.parentScale):0},gw=function(r=!1){if(this.isEmpty())return;if(!D(this,tl)){_e(this,Rt,Rm).call(this);return}const n=_e(this,Rt,nI).call(this),i=_e(this,Rt,vk).call(this);je(this,Wp,Math.max(Ns.MIN_SIZE,n[2]-n[0])),je(this,Hp,Math.max(Ns.MIN_SIZE,n[3]-n[1]));const a=Math.ceil(i+D(this,Wp)*this.scaleFactor),o=Math.ceil(i+D(this,Hp)*this.scaleFactor),[l,u]=this.parentDimensions;this.width=a/l,this.height=o/u,this.setAspectRatio(a,o);const h=this.translationX,f=this.translationY;this.translationX=-n[0],this.translationY=-n[1],_e(this,Rt,qx).call(this),_e(this,Rt,Rm).call(this),je(this,Xp,a),je(this,Yp,o),this.setDims(a,o);const g=r?i/this.scaleFactor/2:0;this.translate(h-this.translationX-g,f-this.translationY-g)},Te(rn,Xu),kr(rn,"_defaultColor",null),kr(rn,"_defaultOpacity",1),kr(rn,"_defaultThickness",1),kr(rn,"_type","ink"),kr(rn,"_editorType",Dr.INK);let Z4=rn;var nn,ji,bf,fu,wf,ay,Xc,mu,Yc,po,oy,Gr,xw,yw,bk,aI,Nre,wk,oI,jk,_re,Sre;const $w=class $w extends Ns{constructor(r){super({...r,name:"stampEditor"});Te(this,Gr);Te(this,nn,null);Te(this,ji,null);Te(this,bf,null);Te(this,fu,null);Te(this,wf,null);Te(this,ay,"");Te(this,Xc,null);Te(this,mu,null);Te(this,Yc,null);Te(this,po,!1);Te(this,oy,!1);je(this,fu,r.bitmapUrl),je(this,wf,r.bitmapFile)}static initialize(r,n){Ns.initialize(r,n)}static get supportedTypes(){return Zr(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Zr(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(r){return this.supportedTypes.includes(r)}static paste(r,n){n.pasteEditor(Dr.STAMP,{bitmapFile:r.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var r;return{type:"stamp",hasAltText:!!((r=this.altTextData)!=null&&r.altText)}}static computeTelemetryFinalData(r){const n=r.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(r=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:o,height:l}=r||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:a,width:o,height:l,channels:a.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const h=u.output;return await this.setGuessedAltText(h),n&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}remove(){var r,n;D(this,ji)&&(je(this,nn,null),this._uiManager.imageManager.deleteId(D(this,ji)),(r=D(this,Xc))==null||r.remove(),je(this,Xc,null),(n=D(this,mu))==null||n.disconnect(),je(this,mu,null),D(this,Yc)&&(clearTimeout(D(this,Yc)),je(this,Yc,null))),super.remove()}rebuild(){if(!this.parent){D(this,ji)&&_e(this,Gr,bk).call(this);return}super.rebuild(),this.div!==null&&(D(this,ji)&&D(this,Xc)===null&&_e(this,Gr,bk).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(D(this,bf)||D(this,nn)||D(this,fu)||D(this,wf)||D(this,ji))}get isResizable(){return!0}render(){if(this.div)return this.div;let r,n;if(this.width&&(r=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),D(this,nn)?_e(this,Gr,aI).call(this):_e(this,Gr,bk).call(this),this.width&&!this.annotationElementId){const[i,a]=this.parentDimensions;this.setAt(r*i,n*a,this.width*i,this.height*a)}return this.div}copyCanvas(r,n,i=!1){var N;r||(r=224);const{width:a,height:o}=D(this,nn),l=new t4;let u=D(this,nn),h=a,f=o,g=null;if(n){if(a>n||o>n){const Z=Math.min(n/a,n/o);h=Math.floor(a*Z),f=Math.floor(o*Z)}g=document.createElement("canvas");const _=g.width=Math.ceil(h*l.sx),k=g.height=Math.ceil(f*l.sy);D(this,po)||(u=_e(this,Gr,wk).call(this,_,k));const C=g.getContext("2d");C.filter=this._uiManager.hcmFilter;let O="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":(N=window.matchMedia)!=null&&N.call(window,"(prefers-color-scheme: dark)").matches&&(O="#8f8f9d",T="#42414d");const M=15,B=M*l.sx,F=M*l.sy,V=new OffscreenCanvas(B*2,F*2),H=V.getContext("2d");H.fillStyle=O,H.fillRect(0,0,B*2,F*2),H.fillStyle=T,H.fillRect(0,0,B,F),H.fillRect(B,F,B,F),C.fillStyle=C.createPattern(V,"repeat"),C.fillRect(0,0,_,k),C.drawImage(u,0,0,u.width,u.height,0,0,_,k)}let y=null;if(i){let _,k;if(l.symmetric&&u.width<r&&u.height<r)_=u.width,k=u.height;else if(u=D(this,nn),a>r||o>r){const T=Math.min(r/a,r/o);_=Math.floor(a*T),k=Math.floor(o*T),D(this,po)||(u=_e(this,Gr,wk).call(this,_,k))}const O=new OffscreenCanvas(_,k).getContext("2d",{willReadFrequently:!0});O.drawImage(u,0,0,u.width,u.height,0,0,_,k),y={width:_,height:k,data:O.getImageData(0,0,_,k).data}}return{canvas:g,width:h,height:f,imageData:y}}getImageForAltText(){return D(this,Xc)}static async deserialize(r,n,i){var k;let a=null;if(r instanceof Dte){const{data:{rect:C,rotation:O,id:T,structParent:M,popupRef:B},container:F,parent:{page:{pageNumber:V}}}=r,H=F.querySelector("canvas"),Z=i.imageManager.getFromCanvas(F.id,H);H.remove();const re=((k=await n._structTree.getAriaAttributes(`${NF}${T}`))==null?void 0:k.get("aria-label"))||"";a=r={annotationType:Dr.STAMP,bitmapId:Z.id,bitmap:Z.bitmap,pageIndex:V-1,rect:C.slice(0),rotation:O,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:re},isSvg:!1,structParent:M,popupRef:B}}const o=await super.deserialize(r,n,i),{rect:l,bitmap:u,bitmapUrl:h,bitmapId:f,isSvg:g,accessibilityData:y}=r;f&&i.imageManager.isValidId(f)?(je(o,ji,f),u&&je(o,nn,u)):je(o,fu,h),je(o,po,g);const[N,_]=o.pageDimensions;return o.width=(l[2]-l[0])/N,o.height=(l[3]-l[1])/_,o.annotationElementId=r.id||null,y&&(o.altTextData=y),o._initialData=a,je(o,oy,!!a),o}serialize(r=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Dr.STAMP,bitmapId:D(this,ji),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:D(this,po),structTreeParentId:this._structTreeParentId};if(r)return i.bitmapUrl=_e(this,Gr,jk).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:a,altText:o}=this.serializeAltText(!1);if(!a&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=_e(this,Gr,Sre).call(this,i);if(u.isSame)return null;u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const l=D(this,po)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(D(this,ji)))n.stamps.set(D(this,ji),{area:l,serialized:i}),i.bitmap=_e(this,Gr,jk).call(this,!1);else if(D(this,po)){const u=n.stamps.get(D(this,ji));l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=_e(this,Gr,jk).call(this,!1))}return i}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}};nn=new WeakMap,ji=new WeakMap,bf=new WeakMap,fu=new WeakMap,wf=new WeakMap,ay=new WeakMap,Xc=new WeakMap,mu=new WeakMap,Yc=new WeakMap,po=new WeakMap,oy=new WeakMap,Gr=new WeakSet,xw=function(r,n=!1){if(!r){this.remove();return}je(this,nn,r.bitmap),n||(je(this,ji,r.id),je(this,po,r.isSvg)),r.file&&je(this,ay,r.file.name),_e(this,Gr,aI).call(this)},yw=function(){if(je(this,bf,null),this._uiManager.enableWaiting(!1),!!D(this,Xc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&D(this,nn)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&D(this,nn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},bk=function(){if(D(this,ji)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(D(this,ji)).then(i=>_e(this,Gr,xw).call(this,i,!0)).finally(()=>_e(this,Gr,yw).call(this));return}if(D(this,fu)){const i=D(this,fu);je(this,fu,null),this._uiManager.enableWaiting(!0),je(this,bf,this._uiManager.imageManager.getFromUrl(i).then(a=>_e(this,Gr,xw).call(this,a)).finally(()=>_e(this,Gr,yw).call(this)));return}if(D(this,wf)){const i=D(this,wf);je(this,wf,null),this._uiManager.enableWaiting(!0),je(this,bf,this._uiManager.imageManager.getFromFile(i).then(a=>_e(this,Gr,xw).call(this,a)).finally(()=>_e(this,Gr,yw).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=$w.supportedTypesStr;const n=this._uiManager._signal;je(this,bf,new Promise(i=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(r.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_e(this,Gr,xw).call(this,a)}i()},{signal:n}),r.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>_e(this,Gr,yw).call(this))),r.click()},aI=function(){const{div:r}=this;let{width:n,height:i}=D(this,nn);const[a,o]=this.pageDimensions,l=.75;if(this.width)n=this.width*a,i=this.height*o;else if(n>l*a||i>l*o){const g=Math.min(l*a/n,l*o/i);n*=g,i*=g}const[u,h]=this.parentDimensions;this.setDims(n*u/a,i*h/o),this._uiManager.enableWaiting(!1);const f=je(this,Xc,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(r.hidden=!1),_e(this,Gr,oI).call(this,n,i),_e(this,Gr,_re).call(this),D(this,oy)||(this.parent.addUndoableEditor(this),je(this,oy,!0)),this._reportTelemetry({action:"inserted_image"}),D(this,ay)&&f.setAttribute("aria-label",D(this,ay))},Nre=function(r,n){var l;const[i,a]=this.parentDimensions;this.width=r/i,this.height=n/a,(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,D(this,Yc)!==null&&clearTimeout(D(this,Yc)),je(this,Yc,setTimeout(()=>{je(this,Yc,null),_e(this,Gr,oI).call(this,r,n)},200))},wk=function(r,n){const{width:i,height:a}=D(this,nn);let o=i,l=a,u=D(this,nn);for(;o>2*r||l>2*n;){const h=o,f=l;o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*n&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const g=new OffscreenCanvas(o,l);g.getContext("2d").drawImage(u,0,0,h,f,0,0,o,l),u=g.transferToImageBitmap()}return u},oI=function(r,n){const i=new t4,a=Math.ceil(r*i.sx),o=Math.ceil(n*i.sy),l=D(this,Xc);if(!l||l.width===a&&l.height===o)return;l.width=a,l.height=o;const u=D(this,po)?D(this,nn):_e(this,Gr,wk).call(this,a,o),h=l.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(u,0,0,u.width,u.height,0,0,a,o)},jk=function(r){if(r){if(D(this,po)){const a=this._uiManager.imageManager.getSvgUrl(D(this,ji));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=D(this,nn),n.getContext("2d").drawImage(D(this,nn),0,0),n.toDataURL()}if(D(this,po)){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*Bf.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Bf.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(a,o);return l.getContext("2d").drawImage(D(this,nn),0,0,D(this,nn).width,D(this,nn).height,0,0,a,o),l.transferToImageBitmap()}return structuredClone(D(this,nn))},_re=function(){this._uiManager._signal&&(je(this,mu,new ResizeObserver(r=>{const n=r[0].contentRect;n.width&&n.height&&_e(this,Gr,Nre).call(this,n.width,n.height)})),D(this,mu).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var r;(r=D(this,mu))==null||r.disconnect(),je(this,mu,null)},{once:!0}))},Sre=function(r){var h;const{rect:n,pageIndex:i,accessibilityData:{altText:a}}=this._initialData,o=r.rect.every((f,g)=>Math.abs(f-n[g])<1),l=r.pageIndex===i,u=(((h=r.accessibilityData)==null?void 0:h.alt)||"")===a;return{isSame:o&&l&&u,isSameAltText:u}},kr($w,"_type","stamp"),kr($w,"_editorType",Dr.STAMP);let iI=$w;var Gp,ly,Gc,jf,pu,go,Nf,cy,dy,zi,gu,hr,_f,Ai,kre,cI,dI,uI,Nk;const Ml=class Ml{constructor({uiManager:e,pageIndex:r,div:n,structTreeLayer:i,accessibilityManager:a,annotationLayer:o,drawLayer:l,textLayer:u,viewport:h,l10n:f}){Te(this,Ai);Te(this,Gp);Te(this,ly,!1);Te(this,Gc,null);Te(this,jf,null);Te(this,pu,null);Te(this,go,new Map);Te(this,Nf,!1);Te(this,cy,!1);Te(this,dy,!1);Te(this,zi,null);Te(this,gu,null);Te(this,hr);const g=[...D(Ml,_f).values()];if(!Ml._initialized){Ml._initialized=!0;for(const y of g)y.initialize(f,e)}e.registerEditorTypes(g),je(this,hr,e),this.pageIndex=r,this.div=n,je(this,Gp,a),je(this,Gc,o),this.viewport=h,je(this,zi,u),this.drawLayer=l,this._structTree=i,D(this,hr).addLayer(this)}get isEmpty(){return D(this,go).size===0}get isInvisible(){return this.isEmpty&&D(this,hr).getMode()===Dr.NONE}updateToolbar(e){D(this,hr).updateToolbar(e)}updateMode(e=D(this,hr).getMode()){switch(_e(this,Ai,Nk).call(this),e){case Dr.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Dr.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Dr.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;for(const n of D(Ml,_f).values())r.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var r;return e===((r=D(this,zi))==null?void 0:r.div)}addInkEditorIfNeeded(e){if(D(this,hr).getMode()!==Dr.INK)return;if(!e){for(const n of D(this,go).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){D(this,hr).setEditingState(e)}addCommands(e){D(this,hr).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var r;(r=D(this,Gc))==null||r.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of D(this,go).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(D(this,hr).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!D(this,Gc))return;const r=D(this,Gc).getEditableAnnotations();for(const n of r){if(n.hide(),D(this,hr).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;je(this,dy,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,r=new Map;for(const a of D(this,go).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else r.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}if(D(this,Gc)){const a=D(this,Gc).getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(D(this,hr).isDeletedAnnotationElement(l))continue;let u=r.get(l);if(u){u.resetAnnotationElement(o),u.show(!1),o.show();continue}u=e.get(l),u&&(D(this,hr).addChangedExistingAnnotation(u),u.renderAnnotationElement(o)&&u.show(!1)),o.show()}}_e(this,Ai,Nk).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of D(Ml,_f).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),je(this,dy,!1)}getEditableAnnotation(e){var r;return((r=D(this,Gc))==null?void 0:r.getEditableAnnotation(e))||null}setActiveEditor(e){D(this,hr).getActive()!==e&&D(this,hr).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=D(this,zi))!=null&&e.div&&!D(this,gu)){je(this,gu,new AbortController);const r=D(this,hr).combinedSignal(D(this,gu));D(this,zi).div.addEventListener("pointerdown",_e(this,Ai,kre).bind(this),{signal:r}),D(this,zi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=D(this,zi))!=null&&e.div&&D(this,gu)&&(D(this,gu).abort(),je(this,gu,null),D(this,zi).div.classList.remove("highlighting"))}enableClick(){if(D(this,jf))return;je(this,jf,new AbortController);const e=D(this,hr).combinedSignal(D(this,jf));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=D(this,jf))==null||e.abort(),je(this,jf,null)}attach(e){D(this,go).set(e.id,e);const{annotationElementId:r}=e;r&&D(this,hr).isDeletedAnnotationElement(r)&&D(this,hr).removeDeletedAnnotationElement(e)}detach(e){var r;D(this,go).delete(e.id),(r=D(this,Gp))==null||r.removePointerInTextLayer(e.contentDiv),!D(this,dy)&&e.annotationElementId&&D(this,hr).addDeletedAnnotationElement(e)}remove(e){this.detach(e),D(this,hr).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,D(this,cy)||this.addInkEditorIfNeeded(!1)}changeParent(e){var r;e.parent!==this&&(e.parent&&e.annotationElementId&&(D(this,hr).addDeletedAnnotationElement(e.annotationElementId),Ns.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(r=e.parent)==null||r.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),D(this,hr).addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),D(this,hr).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!D(this,pu)&&(e._focusEventsAllowed=!1,je(this,pu,setTimeout(()=>{je(this,pu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:D(this,hr)._signal}),r.focus())},0))),e._structTreeParentId=(n=D(this,Gp))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getNextId(){return D(this,hr).getId()}combinedSignal(e){return D(this,hr).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=D(this,Ai,cI))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,r){D(this,hr).updateToolbar(e),D(this,hr).updateMode(e);const{offsetX:n,offsetY:i}=_e(this,Ai,uI).call(this),a=this.getNextId(),o=_e(this,Ai,dI).call(this,{parent:this,id:a,x:n,y:i,uiManager:D(this,hr),isCentered:!0,...r});o&&this.add(o)}async deserialize(e){var r;return await((r=D(Ml,_f).get(e.annotationType??e.annotationEditorType))==null?void 0:r.deserialize(e,this,D(this,hr)))||null}createAndAddNewEditor(e,r,n={}){const i=this.getNextId(),a=_e(this,Ai,dI).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:D(this,hr),isCentered:r,...n});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(_e(this,Ai,uI).call(this),!0)}setSelected(e){D(this,hr).setSelected(e)}toggleSelected(e){D(this,hr).toggleSelected(e)}unselect(e){D(this,hr).unselect(e)}pointerup(e){const{isMac:r}=fa.platform;if(!(e.button!==0||e.ctrlKey&&r)&&e.target===this.div&&D(this,Nf)){if(je(this,Nf,!1),!D(this,ly)){je(this,ly,!0);return}if(D(this,hr).getMode()===Dr.STAMP){D(this,hr).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(D(this,hr).getMode()===Dr.HIGHLIGHT&&this.enableTextSelection(),D(this,Nf)){je(this,Nf,!1);return}const{isMac:r}=fa.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;je(this,Nf,!0);const n=D(this,hr).getActive();je(this,ly,!n||n.isEmpty())}findNewParent(e,r,n){const i=D(this,hr).findParent(r,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,r;((e=D(this,hr).getActive())==null?void 0:e.parent)===this&&(D(this,hr).commitOrRemove(),D(this,hr).setActiveEditor(null)),D(this,pu)&&(clearTimeout(D(this,pu)),je(this,pu,null));for(const n of D(this,go).values())(r=D(this,Gp))==null||r.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,D(this,go).clear(),D(this,hr).removeLayer(this)}render({viewport:e}){this.viewport=e,fg(this.div,e);for(const r of D(this,hr).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){D(this,hr).commitOrRemove(),_e(this,Ai,Nk).call(this);const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,fg(this.div,{rotation:n}),r!==n)for(const i of D(this,go).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return D(this,hr).viewParameters.realScale}};Gp=new WeakMap,ly=new WeakMap,Gc=new WeakMap,jf=new WeakMap,pu=new WeakMap,go=new WeakMap,Nf=new WeakMap,cy=new WeakMap,dy=new WeakMap,zi=new WeakMap,gu=new WeakMap,hr=new WeakMap,_f=new WeakMap,Ai=new WeakSet,kre=function(e){D(this,hr).unselectAll();const{target:r}=e;if(r===D(this,zi).div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&D(this,zi).div.contains(r)){const{isMac:n}=fa.platform;if(e.button!==0||e.ctrlKey&&n)return;D(this,hr).showAllEditors("highlight",!0,!0),D(this,zi).div.classList.add("free"),this.toggleDrawing(),JA.startHighlighting(this,D(this,hr).direction==="ltr",{target:D(this,zi).div,x:e.x,y:e.y}),D(this,zi).div.addEventListener("pointerup",()=>{D(this,zi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:D(this,hr)._signal}),e.preventDefault()}},cI=function(){return D(Ml,_f).get(D(this,hr).getMode())},dI=function(e){const r=D(this,Ai,cI);return r?new r.prototype.constructor(e):null},uI=function(){const{x:e,y:r,width:n,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),o=Math.max(0,r),l=Math.min(window.innerWidth,e+n),u=Math.min(window.innerHeight,r+i),h=(a+l)/2-e,f=(o+u)/2-r,[g,y]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:g,offsetY:y}},Nk=function(){je(this,cy,!0);for(const e of D(this,go).values())e.isEmpty()&&e.remove();je(this,cy,!1)},kr(Ml,"_initialized",!1),Te(Ml,_f,new Map([z4,Z4,iI,JA].map(e=>[e._editorType,e])));let lI=Ml;var Zc,Zj,Ln,xu,Kj,fI,jg,mI,Are;const vi=class vi{constructor({pageIndex:e}){Te(this,jg);Te(this,Zc,null);Te(this,Zj,0);Te(this,Ln,new Map);Te(this,xu,new Map);this.pageIndex=e}setParent(e){if(!D(this,Zc)){je(this,Zc,e);return}if(D(this,Zc)!==e){if(D(this,Ln).size>0)for(const r of D(this,Ln).values())r.remove(),e.append(r);je(this,Zc,e)}}static get _svgFactory(){return Zr(this,"_svgFactory",new LF)}draw(e,r,n,i=!1){const a=ea(this,Zj)._++,o=_e(this,jg,mI).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const l=vi._svgFactory.createElement("defs");o.append(l);const u=vi._svgFactory.createElement("path");l.append(u);const h=`path_p${this.pageIndex}_${a}`;u.setAttribute("id",h),u.setAttribute("d",e.toSVGPath()),i&&D(this,xu).set(a,u);const f=_e(this,jg,Are).call(this,l,h),g=vi._svgFactory.createElement("use");return o.append(g),o.setAttribute("fill",r),o.setAttribute("fill-opacity",n),g.setAttribute("href",`#${h}`),D(this,Ln).set(a,o),{id:a,clipPathId:`url(#${f})`}}drawOutline(e){const r=ea(this,Zj)._++,n=_e(this,jg,mI).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const i=vi._svgFactory.createElement("defs");n.append(i);const a=vi._svgFactory.createElement("path");i.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(e.mustRemoveSelfIntersections){const f=vi._svgFactory.createElement("mask");i.append(f),l=`mask_p${this.pageIndex}_${r}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const g=vi._svgFactory.createElement("rect");f.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const y=vi._svgFactory.createElement("use");f.append(y),y.setAttribute("href",`#${o}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const u=vi._svgFactory.createElement("use");n.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const h=u.cloneNode();return n.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),D(this,Ln).set(r,n),r}finalizeLine(e,r){const n=D(this,xu).get(e);D(this,xu).delete(e),this.updateBox(e,r.box),n.setAttribute("d",r.toSVGPath())}updateLine(e,r){D(this,Ln).get(e).firstChild.firstChild.setAttribute("d",r.toSVGPath())}updatePath(e,r){D(this,xu).get(e).setAttribute("d",r.toSVGPath())}updateBox(e,r){var n;_e(n=vi,Kj,fI).call(n,D(this,Ln).get(e),r)}show(e,r){D(this,Ln).get(e).classList.toggle("hidden",!r)}rotate(e,r){D(this,Ln).get(e).setAttribute("data-main-rotation",r)}changeColor(e,r){D(this,Ln).get(e).setAttribute("fill",r)}changeOpacity(e,r){D(this,Ln).get(e).setAttribute("fill-opacity",r)}addClass(e,r){D(this,Ln).get(e).classList.add(r)}removeClass(e,r){D(this,Ln).get(e).classList.remove(r)}getSVGRoot(e){return D(this,Ln).get(e)}remove(e){D(this,xu).delete(e),D(this,Zc)!==null&&(D(this,Ln).get(e).remove(),D(this,Ln).delete(e))}destroy(){je(this,Zc,null);for(const e of D(this,Ln).values())e.remove();D(this,Ln).clear(),D(this,xu).clear()}};Zc=new WeakMap,Zj=new WeakMap,Ln=new WeakMap,xu=new WeakMap,Kj=new WeakSet,fI=function(e,{x:r=0,y:n=0,width:i=1,height:a=1}={}){const{style:o}=e;o.top=`${100*n}%`,o.left=`${100*r}%`,o.width=`${100*i}%`,o.height=`${100*a}%`},jg=new WeakSet,mI=function(e){var n;const r=vi._svgFactory.create(1,1,!0);return D(this,Zc).append(r),r.setAttribute("aria-hidden",!0),_e(n=vi,Kj,fI).call(n,r,e),r},Are=function(e,r){const n=vi._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${r}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=vi._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${r}`),a.classList.add("clip"),i},Te(vi,Kj);let hI=vi;var YPe=Tr.AbortException,GPe=Tr.AnnotationEditorLayer,ZPe=Tr.AnnotationEditorParamsType,KPe=Tr.AnnotationEditorType,JPe=Tr.AnnotationEditorUIManager,Cre=Tr.AnnotationLayer,Ere=Tr.AnnotationMode,QPe=Tr.ColorPicker,eMe=Tr.DOMSVGFactory,tMe=Tr.DrawLayer,rMe=Tr.FeatureTest,DF=Tr.GlobalWorkerOptions,sMe=Tr.ImageKind,nMe=Tr.InvalidPDFException,iMe=Tr.MissingPDFException,aMe=Tr.OPS,oMe=Tr.OutputScale,lMe=Tr.PDFDataRangeTransport,cMe=Tr.PDFDateString,dMe=Tr.PDFWorker,uMe=Tr.PasswordResponses,hMe=Tr.PermissionFlag,fMe=Tr.PixelsPerInch,mMe=Tr.RenderingCancelledException,Tre=Tr.TextLayer,pMe=Tr.UnexpectedResponseException,gMe=Tr.Util,xMe=Tr.VerbosityLevel,yMe=Tr.XfaLayer,vMe=Tr.build,bMe=Tr.createValidAbsoluteUrl,wMe=Tr.fetchData,Pre=Tr.getDocument,jMe=Tr.getFilenameFromUrl,NMe=Tr.getPdfFilenameFromUrl,_Me=Tr.getXfaPageViewport,SMe=Tr.isDataScheme,kMe=Tr.isPdfFile,AMe=Tr.noContextMenu,CMe=Tr.normalizeUnicode,EMe=Tr.setLayerDimensions,TMe=Tr.shadow,Mre=Tr.version;const PMe=Object.freeze(Object.defineProperty({__proto__:null,AbortException:YPe,AnnotationEditorLayer:GPe,AnnotationEditorParamsType:ZPe,AnnotationEditorType:KPe,AnnotationEditorUIManager:JPe,AnnotationLayer:Cre,AnnotationMode:Ere,ColorPicker:QPe,DOMSVGFactory:eMe,DrawLayer:tMe,FeatureTest:rMe,GlobalWorkerOptions:DF,ImageKind:sMe,InvalidPDFException:nMe,MissingPDFException:iMe,OPS:aMe,OutputScale:oMe,PDFDataRangeTransport:lMe,PDFDateString:cMe,PDFWorker:dMe,PasswordResponses:uMe,PermissionFlag:hMe,PixelsPerInch:fMe,RenderingCancelledException:mMe,TextLayer:Tre,UnexpectedResponseException:pMe,Util:gMe,VerbosityLevel:xMe,XfaLayer:yMe,build:vMe,createValidAbsoluteUrl:bMe,fetchData:wMe,getDocument:Pre,getFilenameFromUrl:jMe,getPdfFilenameFromUrl:NMe,getXfaPageViewport:_Me,isDataScheme:SMe,isPdfFile:kMe,noContextMenu:AMe,normalizeUnicode:CMe,setLayerDimensions:EMe,shadow:TMe,version:Mre},Symbol.toStringTag,{value:"Module"}));var ii=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},MMe=["onCopy","onCut","onPaste"],LMe=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],OMe=["onFocus","onBlur"],DMe=["onInput","onInvalid","onReset","onSubmit"],RMe=["onLoad","onError"],IMe=["onKeyDown","onKeyPress","onKeyUp"],FMe=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],BMe=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],$Me=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],zMe=["onSelect"],HMe=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],WMe=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],VMe=["onScroll"],UMe=["onWheel"],qMe=["onAnimationStart","onAnimationEnd","onAnimationIteration"],XMe=["onTransitionEnd"],YMe=["onToggle"],GMe=["onChange"],ZMe=ii(ii(ii(ii(ii(ii(ii(ii(ii(ii(ii(ii(ii(ii(ii(ii(ii(ii([],MMe,!0),LMe,!0),OMe,!0),DMe,!0),RMe,!0),IMe,!0),FMe,!0),BMe,!0),$Me,!0),zMe,!0),HMe,!0),WMe,!0),VMe,!0),UMe,!0),qMe,!0),XMe,!0),GMe,!0),YMe,!0);function Lre(t,e){var r={};return ZMe.forEach(function(n){var i=t[n];i&&(e?r[n]=function(a){return i(a,e(n))}:r[n]=i)}),r}function yN(t){var e=!1,r=new Promise(function(n,i){t.then(function(a){return!e&&n(a)}).catch(function(a){return!e&&i(a)})});return{promise:r,cancel:function(){e=!0}}}var rO,Hq;function KMe(){if(Hq)return rO;Hq=1;var t=function(){};return rO=t,rO}var JMe=KMe();const qi=Ur(JMe);var Wq=Object.prototype.hasOwnProperty;function Vq(t,e,r){for(r of t.keys())if(c0(r,e))return r}function c0(t,e){var r,n,i;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&c0(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(i=n,i&&typeof i=="object"&&(i=Vq(e,i),!i)||!e.has(i))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(i=n[0],i&&typeof i=="object"&&(i=Vq(e,i),!i)||!c0(n[1],e.get(i)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(Wq.call(t,r)&&++n&&!Wq.call(e,r)||!(r in e)||!c0(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}const Ore=Y.createContext(null);function d0({children:t,type:e}){return s.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const QMe="noopener noreferrer nofollow";class eLe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Qr(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Qr(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(r=>{Qr(this.pdfDocument),Qr(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(r):Array.isArray(e)?r(e):e.then(r)}).then(r=>{Qr(Array.isArray(r));const n=r[0];new Promise(i=>{Qr(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{i(a)}).catch(()=>{Qr(!1)}):typeof n=="number"?i(n):Qr(!1)}).then(i=>{const a=i+1;Qr(this.pdfViewer),Qr(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:r,pageIndex:i,pageNumber:a})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const r=e-1;Qr(this.pdfViewer),Qr(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:r,pageNumber:e})}addLinkAttributes(e,r,n){e.href=r,e.rel=this.externalLinkRel||QMe,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Uq={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},zE=typeof window<"u",Dre=zE&&window.location.protocol==="file:";function tLe(t){return typeof t<"u"}function Nm(t){return tLe(t)&&t!==null}function rLe(t){return typeof t=="string"}function sLe(t){return t instanceof ArrayBuffer}function nLe(t){return Qr(zE),t instanceof Blob}function pI(t){return rLe(t)&&/^data:/.test(t)}function qq(t){Qr(pI(t));const[e="",r=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(r):unescape(r)}function iLe(){return zE&&window.devicePixelRatio||1}const Rre="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Xq(){qi(!Dre,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Rre}`)}function aLe(){qi(!Dre,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Rre}`)}function gg(t){t!=null&&t.cancel&&t.cancel()}function gI(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function oLe(t){return t.name==="RenderingCancelledException"}function lLe(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return r(new Error("Error while reading a file."));e(n.result)},n.onerror=i=>{if(!i.target)return r(new Error("Error while reading a file."));const{error:a}=i.target;if(!a)return r(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return r(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return r(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return r(new Error("Error while reading a file: Aborted."));default:return r(new Error("Error while reading a file."))}},n.readAsArrayBuffer(t)})}function cLe(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function Vy(){return Y.useReducer(cLe,{value:void 0,error:void 0})}var dLe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{h(n.next(f))}catch(g){o(g)}}function u(f){try{h(n.throw(f))}catch(g){o(g)}}function h(f){f.done?a(f.value):i(f.value).then(l,u)}h((n=n.apply(t,e||[])).next())})},Yq=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const{PDFDataRangeTransport:uLe}=PMe,hLe=(t,e)=>{switch(e){case Uq.NEED_PASSWORD:{const r=prompt("Enter the password to open this PDF file.");t(r);break}case Uq.INCORRECT_PASSWORD:{const r=prompt("Invalid password. Please try again.");t(r);break}}};function Gq(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const fLe=Y.forwardRef(function(e,r){var{children:n,className:i,error:a="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:l,file:u,inputRef:h,imageResourcesPath:f,loading:g="Loading PDF",noData:y="No PDF file specified.",onItemClick:N,onLoadError:_,onLoadProgress:k,onLoadSuccess:C,onPassword:O=hLe,onSourceError:T,onSourceSuccess:M,options:B,renderMode:F,rotate:V}=e,H=Yq(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Z,re]=Vy(),{value:le,error:ce}=Z,[he,fe]=Vy(),{value:ee,error:xe}=he,ie=Y.useRef(new eLe),ge=Y.useRef([]),G=Y.useRef(void 0),ue=Y.useRef(void 0);u&&u!==G.current&&Gq(u)&&(qi(!c0(u,G.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),G.current=u),B&&B!==ue.current&&(qi(!c0(B,ue.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ue.current=B);const ke=Y.useRef({scrollPageIntoView:Xe=>{const{dest:dt,pageNumber:Tt,pageIndex:Ct=Tt-1}=Xe;if(N){N({dest:dt,pageIndex:Ct,pageNumber:Tt});return}const or=ge.current[Ct];if(or){or.scrollIntoView();return}qi(!1,`An internal link leading to page ${Tt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});Y.useImperativeHandle(r,()=>({linkService:ie,pages:ge,viewer:ke}),[]);function ve(){M&&M()}function Se(){ce&&(qi(!1,ce.toString()),T&&T(ce))}function He(){re({type:"RESET"})}Y.useEffect(He,[u,re]);const De=Y.useCallback(()=>dLe(this,void 0,void 0,function*(){if(!u)return null;if(typeof u=="string")return pI(u)?{data:qq(u)}:(Xq(),{url:u});if(u instanceof uLe)return{range:u};if(sLe(u))return{data:u};if(zE&&nLe(u))return{data:yield lLe(u)};if(Qr(typeof u=="object"),Qr(Gq(u)),"url"in u&&typeof u.url=="string"){if(pI(u.url)){const{url:Xe}=u,dt=Yq(u,["url"]),Tt=qq(Xe);return Object.assign({data:Tt},dt)}Xq()}return u}),[u]);Y.useEffect(()=>{const Xe=yN(De());return Xe.promise.then(dt=>{re({type:"RESOLVE",value:dt})}).catch(dt=>{re({type:"REJECT",error:dt})}),()=>{gg(Xe)}},[De,re]),Y.useEffect(()=>{if(!(typeof le>"u")){if(le===!1){Se();return}ve()}},[le]);function $e(){ee&&(C&&C(ee),ge.current=new Array(ee.numPages),ie.current.setDocument(ee))}function Ue(){xe&&(qi(!1,xe.toString()),_&&_(xe))}Y.useEffect(function(){fe({type:"RESET"})},[fe,le]),Y.useEffect(function(){if(!le)return;const dt=B?Object.assign(Object.assign({},le),B):le,Tt=Pre(dt);k&&(Tt.onProgress=k),O&&(Tt.onPassword=O);const Ct=Tt,or=Ct.promise.then(Cr=>{fe({type:"RESOLVE",value:Cr})}).catch(Cr=>{Ct.destroyed||fe({type:"REJECT",error:Cr})});return()=>{or.finally(()=>Ct.destroy())}},[B,fe,le]),Y.useEffect(()=>{if(!(typeof ee>"u")){if(ee===!1){Ue();return}$e()}},[ee]),Y.useEffect(function(){ie.current.setViewer(ke.current),ie.current.setExternalLinkRel(o),ie.current.setExternalLinkTarget(l)},[o,l]);const Ke=Y.useCallback((Xe,dt)=>{ge.current[Xe]=dt},[]),nt=Y.useCallback(Xe=>{delete ge.current[Xe]},[]),Me=Y.useMemo(()=>({imageResourcesPath:f,linkService:ie.current,onItemClick:N,pdf:ee,registerPage:Ke,renderMode:F,rotate:V,unregisterPage:nt}),[f,N,ee,Ke,F,V,nt]),qe=Y.useMemo(()=>Lre(H,()=>ee),[H,ee]);function ht(){return s.jsx(Ore.Provider,{value:Me,children:n})}function ye(){return u?ee==null?s.jsx(d0,{type:"loading",children:typeof g=="function"?g():g}):ee===!1?s.jsx(d0,{type:"error",children:typeof a=="function"?a():a}):ht():s.jsx(d0,{type:"no-data",children:typeof y=="function"?y():y})}return s.jsx("div",Object.assign({className:vr("react-pdf__Document",i),ref:h,style:{"--scale-factor":"1"}},qe,{children:ye()}))});function Ire(){return Y.useContext(Ore)}function Fre(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.filter(Boolean);if(r.length<=1){var n=r[0];return n||null}return function(a){r.forEach(function(o){typeof o=="function"?o(a):o&&(o.current=a)})}}const Bre=Y.createContext(null),$re={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},mLe=/^H(\d+)$/;function pLe(t){return t in $re}function HE(t){return"children"in t}function zre(t){return HE(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function gLe(t){const e={};if(HE(t)){const{role:r}=t,n=r.match(mLe);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(pLe(r)){const i=$re[r];i&&(e.role=i)}}return e}function Hre(t){const e={};if(HE(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),zre(t)){const[r]=t.children;if(r){const n=Hre(r);return Object.assign(Object.assign({},e),n)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function xLe(t){return t?Object.assign(Object.assign({},gLe(t)),Hre(t)):null}function Wre({className:t,node:e}){const r=Y.useMemo(()=>xLe(e),[e]),n=Y.useMemo(()=>!HE(e)||zre(e)?null:e.children.map((i,a)=>s.jsx(Wre,{node:i},a)),[e]);return s.jsx("span",Object.assign({className:t},r,{children:n}))}function WE(){return Y.useContext(Bre)}function yLe(){const t=WE();Qr(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:r}=t,[n,i]=Vy(),{value:a,error:o}=n,{customTextRenderer:l,page:u}=t;function h(){a&&r&&r(a)}function f(){o&&(qi(!1,o.toString()),e&&e(o))}return Y.useEffect(function(){i({type:"RESET"})},[i,u]),Y.useEffect(function(){if(l||!u)return;const y=yN(u.getStructTree()),N=y;return y.promise.then(_=>{i({type:"RESOLVE",value:_})}).catch(_=>{i({type:"REJECT",error:_})}),()=>gg(N)},[l,u,i]),Y.useEffect(()=>{if(a!==void 0){if(a===!1){f();return}h()}},[a]),a?s.jsx(Wre,{className:"react-pdf__Page__structTree structTree",node:a}):null}const Zq=Ere;function vLe(t){const e=WE();Qr(e);const r=Object.assign(Object.assign({},e),t),{_className:n,canvasBackground:i,devicePixelRatio:a=iLe(),onRenderError:o,onRenderSuccess:l,page:u,renderForms:h,renderTextLayer:f,rotate:g,scale:y}=r,{canvasRef:N}=t;Qr(u);const _=Y.useRef(null);function k(){u&&l&&l(gI(u,y))}function C(B){oLe(B)||(qi(!1,B.toString()),o&&o(B))}const O=Y.useMemo(()=>u.getViewport({scale:y*a,rotation:g}),[a,u,g,y]),T=Y.useMemo(()=>u.getViewport({scale:y,rotation:g}),[u,g,y]);Y.useEffect(function(){if(!u)return;u.cleanup();const{current:F}=_;if(!F)return;F.width=O.width,F.height=O.height,F.style.width=`${Math.floor(T.width)}px`,F.style.height=`${Math.floor(T.height)}px`,F.style.visibility="hidden";const V={annotationMode:h?Zq.ENABLE_FORMS:Zq.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:O};i&&(V.background=i);const H=u.render(V),Z=H;return H.promise.then(()=>{F.style.visibility="",k()}).catch(C),()=>gg(Z)},[i,u,h,O,T]);const M=Y.useCallback(()=>{const{current:B}=_;B&&(B.width=0,B.height=0)},[]);return Y.useEffect(()=>M,[M]),s.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:Fre(N,_),style:{display:"block",userSelect:"none"},children:f?s.jsx(yLe,{}):null})}function bLe(t){return"str"in t}function wLe(){const t=WE();Qr(t);const{customTextRenderer:e,onGetTextError:r,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:o,pageIndex:l,pageNumber:u,rotate:h,scale:f}=t;Qr(o);const[g,y]=Vy(),{value:N,error:_}=g,k=Y.useRef(null);qi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){N&&n&&n(N)}function O(){_&&(qi(!1,_.toString()),r&&r(_))}Y.useEffect(function(){y({type:"RESET"})},[o,y]),Y.useEffect(function(){if(!o)return;const Z=yN(o.getTextContent()),re=Z;return Z.promise.then(le=>{y({type:"RESOLVE",value:le})}).catch(le=>{y({type:"REJECT",error:le})}),()=>gg(re)},[o,y]),Y.useEffect(()=>{if(N!==void 0){if(N===!1){O();return}C()}},[N]);const T=Y.useCallback(()=>{a&&a()},[a]),M=Y.useCallback(H=>{qi(!1,H.toString()),i&&i(H)},[i]);function B(){const H=k.current;H&&H.classList.add("selecting")}function F(){const H=k.current;H&&H.classList.remove("selecting")}const V=Y.useMemo(()=>o.getViewport({scale:f,rotation:h}),[o,h,f]);return Y.useLayoutEffect(function(){if(!o||!N)return;const{current:Z}=k;if(!Z)return;Z.innerHTML="";const re=o.streamTextContent({includeMarkedContent:!0}),le={container:Z,textContentSource:re,viewport:V},ce=new Tre(le),he=ce;return ce.render().then(()=>{const fe=document.createElement("div");fe.className="endOfContent",Z.append(fe);const ee=Z.querySelectorAll('[role="presentation"]');if(e){let xe=0;N.items.forEach((ie,ge)=>{if(!bLe(ie))return;const G=ee[xe];if(!G)return;const ue=e(Object.assign({pageIndex:l,pageNumber:u,itemIndex:ge},ie));G.innerHTML=ue,xe+=ie.str&&ie.hasEOL?2:1})}T()}).catch(M),()=>gg(he)},[e,M,T,o,l,u,N,V]),s.jsx("div",{className:vr("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:B,ref:k})}function jLe(){const t=Ire(),e=WE();Qr(e);const r=Object.assign(Object.assign({},t),e),{imageResourcesPath:n,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:u,page:h,pdf:f,renderForms:g,rotate:y,scale:N=1}=r;Qr(f),Qr(h),Qr(i);const[_,k]=Vy(),{value:C,error:O}=_,T=Y.useRef(null);qi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){C&&o&&o(C)}function B(){O&&(qi(!1,O.toString()),a&&a(O))}Y.useEffect(function(){k({type:"RESET"})},[k,h]),Y.useEffect(function(){if(!h)return;const re=yN(h.getAnnotations()),le=re;return re.promise.then(ce=>{k({type:"RESOLVE",value:ce})}).catch(ce=>{k({type:"REJECT",error:ce})}),()=>{gg(le)}},[k,h]),Y.useEffect(()=>{if(C!==void 0){if(C===!1){B();return}M()}},[C]);function F(){u&&u()}function V(Z){qi(!1,`${Z}`),l&&l(Z)}const H=Y.useMemo(()=>h.getViewport({scale:N,rotation:y}),[h,y,N]);return Y.useEffect(function(){if(!f||!h||!i||!C)return;const{current:re}=T;if(!re)return;const le=H.clone({dontFlip:!0}),ce={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:re,l10n:null,page:h,structTreeLayer:null,viewport:le},he={annotations:C,annotationStorage:f.annotationStorage,div:re,imageResourcesPath:n,linkService:i,page:h,renderForms:g,viewport:le};re.innerHTML="";try{new Cre(ce).render(he),F()}catch(fe){V(fe)}return()=>{}},[C,n,i,h,f,g,H]),s.jsx("div",{className:vr("react-pdf__Page__annotations","annotationLayer"),ref:T})}var NLe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Kq=1;function _Le(t){const e=Ire(),r=Object.assign(Object.assign({},e),t),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:o,children:l,className:u,customRenderer:h,customTextRenderer:f,devicePixelRatio:g,error:y="Failed to load the page.",height:N,inputRef:_,loading:k="Loading page",noData:C="No page specified.",onGetAnnotationsError:O,onGetAnnotationsSuccess:T,onGetStructTreeError:M,onGetStructTreeSuccess:B,onGetTextError:F,onGetTextSuccess:V,onLoadError:H,onLoadSuccess:Z,onRenderAnnotationLayerError:re,onRenderAnnotationLayerSuccess:le,onRenderError:ce,onRenderSuccess:he,onRenderTextLayerError:fe,onRenderTextLayerSuccess:ee,pageIndex:xe,pageNumber:ie,pdf:ge,registerPage:G,renderAnnotationLayer:ue=!0,renderForms:ke=!1,renderMode:ve="canvas",renderTextLayer:Se=!0,rotate:He,scale:De=Kq,unregisterPage:$e,width:Ue}=r,Ke=NLe(r,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[nt,Me]=Vy(),{value:qe,error:ht}=nt,ye=Y.useRef(null);Qr(ge);const Xe=Nm(ie)?ie-1:xe??null,dt=ie??(Nm(xe)?xe+1:null),Tt=He??(qe?qe.rotate:null),Ct=Y.useMemo(()=>{if(!qe)return null;let rr=1;const lr=De??Kq;if(Ue||N){const Er=qe.getViewport({scale:1,rotation:Tt});Ue?rr=Ue/Er.width:N&&(rr=N/Er.height)}return lr*rr},[N,qe,Tt,De,Ue]);Y.useEffect(function(){return()=>{Nm(Xe)&&i&&$e&&$e(Xe)}},[i,ge,Xe,$e]);function or(){if(Z){if(!qe||!Ct)return;Z(gI(qe,Ct))}if(i&&G){if(!Nm(Xe)||!ye.current)return;G(Xe,ye.current)}}function Cr(){ht&&(qi(!1,ht.toString()),H&&H(ht))}Y.useEffect(function(){Me({type:"RESET"})},[Me,ge,Xe]),Y.useEffect(function(){if(!ge||!dt)return;const lr=yN(ge.getPage(dt)),Er=lr;return lr.promise.then(_s=>{Me({type:"RESOLVE",value:_s})}).catch(_s=>{Me({type:"REJECT",error:_s})}),()=>gg(Er)},[Me,ge,dt]),Y.useEffect(()=>{if(qe!==void 0){if(qe===!1){Cr();return}or()}},[qe,Ct]);const cs=Y.useMemo(()=>qe&&Nm(Xe)&&dt&&Nm(Tt)&&Nm(Ct)?{_className:n,canvasBackground:a,customTextRenderer:f,devicePixelRatio:g,onGetAnnotationsError:O,onGetAnnotationsSuccess:T,onGetStructTreeError:M,onGetStructTreeSuccess:B,onGetTextError:F,onGetTextSuccess:V,onRenderAnnotationLayerError:re,onRenderAnnotationLayerSuccess:le,onRenderError:ce,onRenderSuccess:he,onRenderTextLayerError:fe,onRenderTextLayerSuccess:ee,page:qe,pageIndex:Xe,pageNumber:dt,renderForms:ke,renderTextLayer:Se,rotate:Tt,scale:Ct}:null,[n,a,f,g,O,T,M,B,F,V,re,le,ce,he,fe,ee,qe,Xe,dt,ke,Se,Tt,Ct]),Ie=Y.useMemo(()=>Lre(Ke,()=>qe&&(Ct?gI(qe,Ct):void 0)),[Ke,qe,Ct]),Ge=`${Xe}@${Ct}/${Tt}`;function it(){switch(ve){case"custom":return Qr(h),s.jsx(h,{},`${Ge}_custom`);case"none":return null;case"canvas":default:return s.jsx(vLe,{canvasRef:o},`${Ge}_canvas`)}}function kt(){return Se?s.jsx(wLe,{},`${Ge}_text`):null}function jt(){return ue?s.jsx(jLe,{},`${Ge}_annotations`):null}function bt(){return s.jsxs(Bre.Provider,{value:cs,children:[it(),kt(),jt(),l]})}function Ot(){return dt?ge===null||qe===void 0||qe===null?s.jsx(d0,{type:"loading",children:typeof k=="function"?k():k}):ge===!1||qe===!1?s.jsx(d0,{type:"error",children:typeof y=="function"?y():y}):bt():s.jsx(d0,{type:"no-data",children:typeof C=="function"?C():C})}return s.jsx("div",Object.assign({className:vr(n,u),"data-page-number":dt,ref:Fre(_,ye),style:{"--scale-factor":`${Ct}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ie,{children:Ot()}))}aLe();DF.workerSrc="pdf.worker.mjs";DF.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Mre}/pdf.worker.min.js`;const Uy=({file:t,className:e="",documentUrl:r,documentType:n})=>{const[i,a]=Y.useState(null),[o,l]=Y.useState(1),[u,h]=Y.useState(1),[f,g]=Y.useState(!0),[y,N]=Y.useState(null),_=({numPages:B})=>{a(B),g(!1)},k=B=>{console.error("Error loading PDF:",B),N(B),g(!1)},C=()=>{l(B=>Math.max(B-1,1))},O=()=>{l(B=>Math.min(B+1,i||1))},T=()=>{h(B=>Math.min(B+.2,2))},M=()=>{h(B=>Math.max(B-.2,.6))};return s.jsxs("div",{className:`flex flex-col ${e}`,children:[s.jsxs("div",{className:"bg-gray-100 p-2 rounded-t-lg flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:C,disabled:o<=1,className:`p-1 rounded ${o<=1?"text-gray-400":"text-gray-700 hover:bg-gray-200"}`,title:"Previous page",children:s.jsx("i",{className:"fas fa-chevron-left"})}),s.jsxs("span",{className:"text-sm",children:["Page ",o," of ",i||"?"]}),s.jsx("button",{onClick:O,disabled:o>=(i||1),className:`p-1 rounded ${o>=(i||1)?"text-gray-400":"text-gray-700 hover:bg-gray-200"}`,title:"Next page",children:s.jsx("i",{className:"fas fa-chevron-right"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:M,disabled:u<=.6,className:`p-1 rounded ${u<=.6?"text-gray-400":"text-gray-700 hover:bg-gray-200"}`,title:"Zoom out",children:s.jsx("i",{className:"fas fa-search-minus"})}),s.jsxs("span",{className:"text-sm",children:[Math.round(u*100),"%"]}),s.jsx("button",{onClick:T,disabled:u>=2,className:`p-1 rounded ${u>=2?"text-gray-400":"text-gray-700 hover:bg-gray-200"}`,title:"Zoom in",children:s.jsx("i",{className:"fas fa-search-plus"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto bg-gray-200 flex justify-center p-4",children:[f&&s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),y&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[s.jsx("div",{className:"text-red-500 text-4xl mb-2",children:s.jsx("i",{className:"fas fa-exclamation-circle"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Error loading document"}),s.jsx("p",{className:"text-sm text-gray-600 max-w-md",children:"There was a problem loading this document. Please try again or contact support if the issue persists."})]}),s.jsx(fLe,{file:t,onLoadSuccess:_,onLoadError:k,loading:"",children:s.jsx(_Le,{pageNumber:o,scale:u,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})})]})]})},Jq={rate_confirmation:"https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/web/compressed.tracemonkey-pldi-09.pdf",bol:"https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/test/pdfs/basicapi.pdf",pod:"https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/test/pdfs/annotation-line.pdf",invoice:"https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/test/pdfs/issue6637.pdf",other:"https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/test/pdfs/rotation.pdf"},SLe=t=>Jq[t]||Jq.other,qy=t=>{const r={1:"rate_confirmation",2:"rate_confirmation",3:"rate_confirmation",4:"rate_confirmation",5:"rate_confirmation",6:"bol",7:"bol",8:"bol",9:"pod",10:"pod",11:"pod"}[t]||"other";return SLe(r)},kLe=()=>{const[t,e]=Y.useState(null),[r,n]=Y.useState(""),[i,a]=Y.useState("all"),[o,l]=Y.useState(!1),[u,h]=Y.useState(!1),[f,g]=Y.useState(""),[y,N]=Y.useState(null),[_,k]=Y.useState(!1),[C,O]=Y.useState(!1),T={rate_confirmations:[{id:"1",name:"BL-1001_Rate_Conf.pdf",type:"rate_confirmation",date:"5/21/2025",size:"156 KB",previewUrl:"/sample-docs/rate_con.png",isImage:!0},{id:"2",name:"BL-1002_Rate_Conf.pdf",type:"rate_confirmation",date:"5/20/2025",size:"145 KB",previewUrl:"/sample-docs/rate_con.png",isImage:!0},{id:"3",name:"BL-1003_Rate_Conf.pdf",type:"rate_confirmation",date:"5/19/2025",size:"162 KB",previewUrl:"/sample-docs/rate_con.png",isImage:!0},{id:"4",name:"BL-1004_Rate_Conf.pdf",type:"rate_confirmation",date:"5/18/2025",size:"154 KB",previewUrl:"/sample-docs/rate_con.png",isImage:!0},{id:"5",name:"BL-1005_Rate_Conf.pdf",type:"rate_confirmation",date:"5/17/2025",size:"149 KB",previewUrl:"/sample-docs/rate_con.png",isImage:!0}],bills_of_lading:[{id:"6",name:"BL-1001_BOL.pdf",type:"bol",date:"5/22/2025",size:"210 KB",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0},{id:"7",name:"BL-1002_BOL.pdf",type:"bol",date:"5/21/2025",size:"195 KB",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0},{id:"8",name:"BL-1003_BOL.pdf",type:"bol",date:"5/20/2025",size:"220 KB",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0}],proofs_of_delivery:[{id:"9",name:"BL-1001_POD.pdf",type:"pod",date:"5/23/2025",size:"176 KB",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0},{id:"10",name:"BL-1002_POD.pdf",type:"pod",date:"5/22/2025",size:"185 KB",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0},{id:"11",name:"BL-1003_POD.pdf",type:"pod",date:"5/21/2025",size:"190 KB",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0}],other_documents:[{id:"12",name:"Lumper_Receipt_001.png",type:"other",date:"5/24/2025",size:"234 KB",previewUrl:"/src/assets/lumper_receipt.png",isImage:!0},{id:"13",name:"Lumper_Receipt_002.png",type:"other",date:"5/23/2025",size:"221 KB",previewUrl:"/src/assets/lumper_receipt.png",isImage:!0},{id:"14",name:"Lumper_Receipt_003.png",type:"other",date:"5/22/2025",size:"245 KB",previewUrl:"/src/assets/lumper_receipt.png",isImage:!0}]},M=G=>{e(G)},B=G=>{e(G),O(!0)},F=async G=>{k(!0);try{await Ps.downloadDocument(G.id)}catch(ue){console.error("Error downloading document:",ue)}finally{k(!1)}},V=G=>{N(G),h(!0)},H=async G=>{if(confirm(`Are you sure you want to delete ${G.name}?`)){k(!0);try{await At(`Document ${G.name} deleted successfully`);const ue=G.type==="rate_confirmation"?"rate_confirmations":G.type==="bol"?"bills_of_lading":G.type==="pod"?"proofs_of_delivery":"other_documents",ve=[...T[ue]].filter(Se=>Se.id!==G.id);T[ue]=ve,(t==null?void 0:t.id)===G.id&&e(null)}catch(ue){console.error("Error deleting document:",ue)}finally{k(!1)}}},Z=async()=>{k(!0);try{await At("Document uploaded successfully"),l(!1)}catch(G){console.error("Error uploading document:",G)}finally{k(!1)}},re=async()=>{if(!(!y||!f.trim())){k(!0);try{await At(`Document shared with ${f}`),h(!1),g("")}catch(G){console.error("Error sharing document:",G)}finally{k(!1)}}},le=async G=>{k(!0);try{await At(`Printing ${G.name}`)}catch(ue){console.error("Error printing document:",ue)}finally{k(!1)}},ce=async()=>{k(!0);try{await At("Viewing recently uploaded documents"),a("all")}catch(G){console.error("Error fetching recently uploaded documents:",G)}finally{k(!1)}},he=async()=>{k(!0);try{await At("Viewing starred documents"),a("all")}catch(G){console.error("Error fetching starred documents:",G)}finally{k(!1)}},fe=async()=>{k(!0);try{await At("Viewing documents shared with you"),a("all")}catch(G){console.error("Error fetching shared documents:",G)}finally{k(!1)}},ee=()=>Object.values(T).flat().filter(ue=>{const ke=ue.name.toLowerCase().includes(r.toLowerCase()),ve=i==="all"||ue.type===i;return ke&&ve}),xe=G=>({rate_confirmation:"Rate Confirmation",bol:"Bill of Lading",pod:"Proof of Delivery",invoice:"Invoice",other:"Other"})[G]||G,ie=G=>({rate_confirmation:"fa-file-contract",bol:"fa-file-invoice",pod:"fa-clipboard-check",invoice:"fa-file-invoice-dollar",other:"fa-file"})[G]||"fa-file",ge=G=>({rate_confirmation:"blue",bol:"green",pod:"purple",invoice:"orange",other:"gray"})[G]||"gray";return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Documents"}),s.jsx("p",{className:"text-gray-600",children:"Manage and organize your transportation documents"})]}),s.jsx("div",{children:s.jsxs("button",{className:"btn btn-primary flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>l(!0),disabled:_,children:[s.jsx("i",{className:"fas fa-cloud-upload-alt mr-2"}),"Upload Document"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"document-search",className:"sr-only",children:"Search documents"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-search text-gray-400"})}),s.jsx("input",{type:"text",id:"document-search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search documents",value:r,onChange:G=>n(G.target.value)})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Document Types"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="all"?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}`,onClick:()=>a("all"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-folder text-blue-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"All Documents"}),s.jsx("span",{className:"ml-auto bg-gray-100 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:Object.values(T).flat().length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="rate_confirmation"?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}`,onClick:()=>a("rate_confirmation"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-contract text-blue-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Rate Confirmations"}),s.jsx("span",{className:"ml-auto bg-blue-100 text-blue-700 rounded-full px-2 py-0.5 text-xs font-medium",children:T.rate_confirmations.length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="bol"?"bg-green-50 text-green-700":"hover:bg-gray-50"}`,onClick:()=>a("bol"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-invoice text-green-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Bills of Lading"}),s.jsx("span",{className:"ml-auto bg-green-100 text-green-700 rounded-full px-2 py-0.5 text-xs font-medium",children:T.bills_of_lading.length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="pod"?"bg-purple-50 text-purple-700":"hover:bg-gray-50"}`,onClick:()=>a("pod"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-clipboard-check text-purple-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Proof of Delivery"}),s.jsx("span",{className:"ml-auto bg-purple-100 text-purple-700 rounded-full px-2 py-0.5 text-xs font-medium",children:T.proofs_of_delivery.length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="other"?"bg-gray-100 text-gray-700":"hover:bg-gray-50"}`,onClick:()=>a("other"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file text-gray-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Other Documents"}),s.jsx("span",{className:"ml-auto bg-gray-100 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:T.other_documents.length})]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Quick Access"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 flex items-center",onClick:ce,disabled:_,children:[s.jsx("i",{className:"fas fa-clock text-gray-400 mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Recently Uploaded"})]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 flex items-center",onClick:he,disabled:_,children:[s.jsx("i",{className:"fas fa-star text-gray-400 mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Starred Documents"})]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 flex items-center",onClick:fe,disabled:_,children:[s.jsx("i",{className:"fas fa-share-alt text-gray-400 mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Shared with Me"})]})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 text-blue-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-lightbulb"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Storage usage"}),s.jsx("p",{className:"text-sm text-blue-600 mb-2",children:"4.2 GB of 10 GB used"}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"42%"}})})]})]})})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsxs(st,{className:"shadow-sm mb-6",children:[s.jsx("div",{className:"mb-4 pb-4 border-b border-gray-100",children:s.jsxs("h3",{className:"text-lg font-medium",children:[ee().length," Document",ee().length!==1?"s":"",i!=="all"&&`  ${xe(i)}`,r&&`  "${r}"`]})}),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Name"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee().map(G=>{const ue=(t==null?void 0:t.id)===G.id,ke=ge(G.type),ve=ie(G.type);return s.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${ue?"bg-blue-50":""}`,onClick:()=>M(G),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-lg bg-${ke}-100 flex items-center justify-center text-${ke}-600`,children:s.jsx("i",{className:`fas ${ve}`})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[G.name.split("_")[0],"  ",G.type==="bol"?"Bill of Lading":G.type==="pod"?"Proof of Delivery":"Rate Confirmation"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${ke}-100 text-${ke}-800`,children:xe(G.type)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.size}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{className:"p-1 rounded-full text-blue-600 hover:bg-blue-100",onClick:Se=>{Se.stopPropagation(),B(G)},children:s.jsx("i",{className:"fas fa-eye"})}),s.jsx("button",{className:"p-1 rounded-full text-gray-600 hover:bg-gray-100",onClick:Se=>{Se.stopPropagation(),F(G)},children:s.jsx("i",{className:"fas fa-download"})}),s.jsx("button",{className:"p-1 rounded-full text-gray-600 hover:bg-gray-100",onClick:Se=>{Se.stopPropagation(),V(G)},children:s.jsx("i",{className:"fas fa-share"})}),s.jsx("button",{className:"p-1 rounded-full text-red-600 hover:bg-red-100",onClick:Se=>{Se.stopPropagation(),H(G)},children:s.jsx("i",{className:"fas fa-trash-alt"})})]})})]},G.id)})})]})})})]}),s.jsxs(st,{className:"shadow-sm",children:[s.jsx("div",{className:"mb-4 pb-4 border-b border-gray-100",children:s.jsx("h3",{className:"text-lg font-medium",children:"Document Preview"})}),t?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg bg-${ge(t.type)}-100 flex items-center justify-center text-${ge(t.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${ie(t.type)}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[xe(t.type),"  Uploaded on ",t.date]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm btn-outline-primary flex items-center px-3 py-1 border border-blue-500 text-blue-500 rounded-md hover:bg-blue-50 transition-colors",onClick:()=>F(t),disabled:_,children:[s.jsx("i",{className:"fas fa-download mr-1"}),s.jsx("span",{children:"Download"})]}),s.jsxs("button",{className:"btn btn-sm btn-outline-secondary flex items-center px-3 py-1 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>le(t),disabled:_,children:[s.jsx("i",{className:"fas fa-print mr-1"}),s.jsx("span",{children:"Print"})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",style:{height:"400px"},children:[s.jsx(Uy,{file:qy(t.id),className:"h-full"}),s.jsx("div",{className:"absolute bottom-4 right-4",children:s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md",onClick:()=>B(t),children:"View Full Document"})})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Related Documents"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center cursor-pointer hover:bg-gray-100",onClick:()=>{const G=T.bills_of_lading.find(ue=>ue.name.includes(t.name.split("_")[0]));G&&M(G)},children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-100 flex items-center justify-center text-green-600 mr-3",children:s.jsx("i",{className:"fas fa-file-invoice"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"BL-1001_BOL.pdf"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Bill of Lading"})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:s.jsx("i",{className:"fas fa-eye"})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center cursor-pointer hover:bg-gray-100",onClick:()=>{const G=T.proofs_of_delivery.find(ue=>ue.name.includes(t.name.split("_")[0]));G&&M(G)},children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 mr-3",children:s.jsx("i",{className:"fas fa-clipboard-check"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"BL-1001_POD.pdf"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Proof of Delivery"})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:s.jsx("i",{className:"fas fa-eye"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Document History"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-cloud-upload-alt"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Document uploaded"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 21, 2025 at 2:34 PM"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Viewed by John Doe"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 22, 2025 at 10:15 AM"})]})]})]})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-gray-600",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-4 mb-4",children:s.jsx("i",{className:"fas fa-file-alt text-3xl text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No document selected"}),s.jsx("p",{className:"max-w-sm",children:"Click on a document in the list above to preview it here."})]})]})]})]}),s.jsx(xr,{isOpen:o,onClose:()=>l(!1),title:"Upload Document",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>l(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:Z,disabled:_,children:_?"Uploading...":"Upload Document"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Document Type"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{value:"rate_confirmation",children:"Rate Confirmation"}),s.jsx("option",{value:"bol",children:"Bill of Lading"}),s.jsx("option",{value:"pod",children:"Proof of Delivery"}),s.jsx("option",{value:"invoice",children:"Invoice"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Load"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{value:"",children:"Select a load"}),s.jsx("option",{value:"BL-1001",children:"BL-1001"}),s.jsx("option",{value:"BL-1002",children:"BL-1002"}),s.jsx("option",{value:"BL-1003",children:"BL-1003"}),s.jsx("option",{value:"BL-1004",children:"BL-1004"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF, PNG, JPG up to 10MB"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),s.jsx("textarea",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",rows:3,placeholder:"Add a description to help identify this document"})]})]})}),s.jsx(xr,{isOpen:u,onClose:()=>h(!1),title:"Share Document",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>h(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:re,disabled:_||!f.trim(),children:_?"Sharing...":"Share Document"})]}),children:y&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg bg-${ge(y.type)}-100 flex items-center justify-center text-${ge(y.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${ie(y.type)}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:y.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[xe(y.type),"  ",y.size]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"Enter email address",value:f,onChange:G=>g(G.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),s.jsx("textarea",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",rows:3,placeholder:"Add a message to the recipient"})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-info-circle"})}),s.jsx("div",{className:"text-sm text-blue-800",children:s.jsx("p",{children:"The recipient will receive an email with a link to view or download this document."})})]})})]})}),s.jsx(xr,{isOpen:C,onClose:()=>O(!1),title:(t==null?void 0:t.name)||"Document Viewer",size:"xl",footer:s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsx("div",{children:s.jsxs("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>{t&&F(t)},disabled:_,children:[s.jsx("i",{className:"fas fa-download mr-1.5"}),"Download"]})}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>O(!1),children:"Close"})]}),children:t&&s.jsx("div",{className:"h-[70vh] bg-gray-100 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex h-full",children:[s.jsx("div",{className:"flex-1",children:t.isImage&&t.previewUrl?s.jsx("div",{className:"h-full flex items-center justify-center p-4",children:s.jsx("img",{src:t.previewUrl,alt:t.name,className:"max-w-full max-h-full object-contain"})}):s.jsx(Uy,{file:qy(t.id),className:"h-full"})}),s.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-4 overflow-y-auto",children:[s.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg bg-${ge(t.type)}-100 flex items-center justify-center text-${ge(t.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${ie(t.type)}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),s.jsx("p",{className:"text-sm text-gray-500",children:xe(t.type)})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Document Details"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Load ID"}),s.jsx("p",{className:"text-sm font-medium",children:t.name.split("_")[0]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),s.jsx("p",{className:"text-sm font-medium",children:t.date})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Size"}),s.jsx("p",{className:"text-sm font-medium",children:t.size})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:()=>le(t),children:[s.jsx("i",{className:"fas fa-print mr-2"}),"Print Document"]}),s.jsxs("button",{className:"w-full flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:()=>{O(!1),V(t)},children:[s.jsx("i",{className:"fas fa-share-alt mr-2"}),"Share Document"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Document History"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-cloud-upload-alt"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Document uploaded"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 21, 2025 at 2:34 PM"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Viewed by John Doe"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 22, 2025 at 10:15 AM"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-download"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Downloaded by Sarah Johnson"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 22, 2025 at 3:45 PM"})]})]})]})]})]})]})})})]})},ALe=()=>{Bn();const[t,e]=Y.useState("revenue"),[r,n]=Y.useState("last30days"),[i,a]=Y.useState(!1),[o,l]=Y.useState(!1),[u,h]=Y.useState([]),[f,g]=Y.useState({start:"",end:""}),[y,N]=Y.useState(!1),[_,k]=Y.useState("overview"),[C,O]=Y.useState(""),[T,M]=Y.useState([{id:"1",name:"Q1 2025 Revenue Analysis",type:"revenue",dateRange:"Jan 1 - Mar 31, 2025",metrics:["revenue","profit","margin"],createdAt:"2025-04-05 09:30 AM",fileSize:"2.4 MB",status:"completed"},{id:"2",name:"March Commission Report",type:"commission",dateRange:"Mar 1 - Mar 31, 2025",metrics:["commission","salesRep","loadCount"],createdAt:"2025-04-01 02:15 PM",fileSize:"1.8 MB",status:"completed"}]),B=[{id:"1",name:"Revenue Analysis",description:"Track revenue trends and growth metrics",type:"revenue",icon:"fa-dollar-sign",color:"green",isPopular:!0},{id:"2",name:"Margin Report",description:"Analyze profit margins across loads and lanes",type:"margin",icon:"fa-chart-line",color:"blue",isPopular:!0},{id:"3",name:"Customer Performance",description:"Evaluate customer relationships and revenue",type:"customer",icon:"fa-users",color:"purple"},{id:"4",name:"Carrier Analytics",description:"Monitor carrier performance and ratings",type:"carrier",icon:"fa-truck",color:"indigo"},{id:"5",name:"Lane Analysis",description:"Identify most profitable lanes and routes",type:"lane",icon:"fa-route",color:"yellow",isPopular:!0},{id:"6",name:"Commission Report",description:"Sales team commissions and performance",type:"commission",icon:"fa-percentage",color:"pink"},{id:"7",name:"Profitability Dashboard",description:"Comprehensive P&L analysis",type:"profitability",icon:"fa-chart-pie",color:"red"},{id:"8",name:"Operational Metrics",description:"Load counts, on-time delivery, and efficiency",type:"operational",icon:"fa-tachometer-alt",color:"orange"}],F=[{month:"Jan",revenue:245e3,profit:48e3,loads:142},{month:"Feb",revenue:298e3,profit:59600,loads:168},{month:"Mar",revenue:312e3,profit:65520,loads:185},{month:"Apr",revenue:285e3,profit:57e3,loads:164},{month:"May",revenue:342e3,profit:71820,loads:192},{month:"Jun",revenue:378e3,profit:83160,loads:208}],V=[{lane:"Chicago-Atlanta",margin:22,revenue:125e3},{lane:"Dallas-Phoenix",margin:18,revenue:98e3},{lane:"Miami-New York",margin:25,revenue:156e3},{lane:"Seattle-Denver",margin:20,revenue:87e3},{lane:"LA-Chicago",margin:23,revenue:142e3}],H=[{name:"Enterprise",value:45,count:12},{name:"Mid-Market",value:30,count:28},{name:"Small Business",value:25,count:45}],Z=[{metric:"On-Time Delivery",A:95,B:88,fullMark:100},{metric:"Communication",A:92,B:85,fullMark:100},{metric:"Documentation",A:88,B:90,fullMark:100},{metric:"Rate Competitiveness",A:85,B:92,fullMark:100},{metric:"Overall Rating",A:94,B:89,fullMark:100}],re=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],le=[{id:"revenue",label:"Total Revenue",category:"Financial"},{id:"profit",label:"Gross Profit",category:"Financial"},{id:"margin",label:"Profit Margin %",category:"Financial"},{id:"loads",label:"Load Count",category:"Operational"},{id:"miles",label:"Total Miles",category:"Operational"},{id:"rpm",label:"Revenue per Mile",category:"Financial"},{id:"otd",label:"On-Time Delivery %",category:"Performance"},{id:"claims",label:"Claims Ratio",category:"Performance"},{id:"dso",label:"Days Sales Outstanding",category:"Financial"},{id:"utilization",label:"Fleet Utilization %",category:"Operational"}],ce=()=>{if(!C.trim()){lt.error("Please enter a report name");return}N(!0),lt.loading("Generating report..."),setTimeout(()=>{const G={id:Date.now().toString(),name:C,type:t,dateRange:he(r),metrics:u,createdAt:new Date().toLocaleString(),fileSize:`${(Math.random()*3+.5).toFixed(1)} MB`,status:"completed"};M([G,...T]),N(!1),lt.dismiss(),lt.success("Report generated successfully!"),a(!1),O(""),h([]),k("generated")},3e3)},he=G=>{const ue=new Date;switch(G){case"last7days":return`${new Date(ue.getTime()-7*24*60*60*1e3).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"last30days":return`${new Date(ue.getTime()-30*24*60*60*1e3).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"thisMonth":return`${new Date(ue.getFullYear(),ue.getMonth(),1).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"lastMonth":return`${new Date(ue.getFullYear(),ue.getMonth()-1,1).toLocaleDateString()} - ${new Date(ue.getFullYear(),ue.getMonth(),0).toLocaleDateString()}`;case"thisQuarter":const Se=Math.floor(ue.getMonth()/3)*3;return`${new Date(ue.getFullYear(),Se,1).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"thisYear":return`Jan 1, ${ue.getFullYear()} - ${ue.toLocaleDateString()}`;default:return"Custom Range"}},fe=()=>{lt.success("Report scheduled successfully"),l(!1)},ee=(G,ue)=>{var ve;const ke=ue?(ve=T.find(Se=>Se.id===ue))==null?void 0:ve.name:"report";lt.success(`Exporting ${ke} as ${G.toUpperCase()}...`),setTimeout(()=>{lt.success("Report exported successfully!");const Se=document.createElement("a");Se.href="#",Se.download=`${ke}.${G}`,Se.click()},2e3)},xe=G=>{M(T.filter(ue=>ue.id!==G)),lt.success("Report deleted successfully")},ie=()=>s.jsx(xr,{isOpen:i,onClose:()=>a(!1),children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create Custom Report"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Name"}),s.jsx("input",{type:"text",placeholder:"e.g., Q2 Revenue Analysis",value:C,onChange:G=>O(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),s.jsxs("select",{value:r,onChange:G=>n(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"last7days",children:"Last 7 Days"}),s.jsx("option",{value:"last30days",children:"Last 30 Days"}),s.jsx("option",{value:"thisMonth",children:"This Month"}),s.jsx("option",{value:"lastMonth",children:"Last Month"}),s.jsx("option",{value:"thisQuarter",children:"This Quarter"}),s.jsx("option",{value:"thisYear",children:"This Year"}),s.jsx("option",{value:"custom",children:"Custom Range"})]})]}),r==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),s.jsx("input",{type:"date",value:f.start,onChange:G=>g({...f,start:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:f.end,onChange:G=>g({...f,end:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Metrics"}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-4",children:Object.entries(le.reduce((G,ue)=>(G[ue.category]||(G[ue.category]=[]),G[ue.category].push(ue),G),{})).map(([G,ue])=>s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:G}),ue.map(ke=>s.jsxs("label",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("input",{type:"checkbox",checked:u.includes(ke.id),onChange:ve=>{ve.target.checked?h([...u,ke.id]):h(u.filter(Se=>Se!==ke.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:ke.label})]},ke.id))]},G))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group By"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"none",children:"No Grouping"}),s.jsx("option",{value:"customer",children:"Customer"}),s.jsx("option",{value:"carrier",children:"Carrier"}),s.jsx("option",{value:"lane",children:"Lane"}),s.jsx("option",{value:"salesRep",children:"Sales Rep"}),s.jsx("option",{value:"equipment",children:"Equipment Type"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Format"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("button",{className:"px-4 py-3 border-2 border-blue-500 bg-blue-50 rounded-lg text-blue-700 font-medium hover:bg-blue-100 transition-colors",children:[s.jsx("i",{className:"fas fa-table mb-2 text-2xl block"}),"Table View"]}),s.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("i",{className:"fas fa-chart-bar mb-2 text-2xl block"}),"Chart View"]}),s.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("i",{className:"fas fa-th mb-2 text-2xl block"}),"Dashboard"]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ce,disabled:y||u.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:y?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-magic mr-2"}),"Generate Report"]})})]})]})}),ge=()=>s.jsx(xr,{isOpen:o,onClose:()=>l(!1),children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Schedule Report"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Template"}),s.jsx("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:B.map(G=>s.jsx("option",{value:G.id,children:G.name},G.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Send To"}),s.jsx("input",{type:"email",placeholder:"email@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate multiple emails with commas"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),s.jsx("input",{type:"time",defaultValue:"09:00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Format"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm",children:"PDF"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm",children:"Excel"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm",children:"CSV"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[s.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:fe,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Schedule Report"})]})]})});return s.jsxs("div",{className:"space-y-6 fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Generate insights and track your brokerage performance"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[s.jsx("i",{className:"fas fa-clock mr-2"}),"Schedule"]}),s.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx("i",{className:"fas fa-plus mr-2"}),"Create Report"]})]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>k("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview Dashboard"}),s.jsx("button",{onClick:()=>k("detailed"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="detailed"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Detailed Reports"}),s.jsx("button",{onClick:()=>k("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Report Templates"}),s.jsx("button",{onClick:()=>k("generated"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="generated"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Generated Reports"})]})}),_==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(st,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Revenue"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"$1.85M"}),s.jsxs("p",{className:"text-blue-100 text-sm mt-2 flex items-center",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),"18.2% vs last month"]})]}),s.jsx("div",{className:"bg-blue-400 bg-opacity-30 rounded-lg p-3",children:s.jsx("i",{className:"fas fa-dollar-sign text-2xl"})})]})})}),s.jsx(st,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Profit Margin"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"21.3%"}),s.jsxs("p",{className:"text-green-100 text-sm mt-2 flex items-center",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),"2.1% improvement"]})]}),s.jsx("div",{className:"bg-green-400 bg-opacity-30 rounded-lg p-3",children:s.jsx("i",{className:"fas fa-chart-line text-2xl"})})]})})}),s.jsx(st,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Active Loads"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"342"}),s.jsxs("p",{className:"text-purple-100 text-sm mt-2 flex items-center",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),"56 more than last week"]})]}),s.jsx("div",{className:"bg-purple-400 bg-opacity-30 rounded-lg p-3",children:s.jsx("i",{className:"fas fa-truck text-2xl"})})]})})}),s.jsx(st,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"On-Time Delivery"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"94.2%"}),s.jsxs("p",{className:"text-orange-100 text-sm mt-2 flex items-center",children:[s.jsx("i",{className:"fas fa-minus mr-1"}),"0.8% from target"]})]}),s.jsx("div",{className:"bg-orange-400 bg-opacity-30 rounded-lg p-3",children:s.jsx("i",{className:"fas fa-clock text-2xl"})})]})})})]}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Revenue & Profit Trend"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md",children:"6M"}),s.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:"1Y"}),s.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:"ALL"})]})]}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(kE,{data:F,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorProfit",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),s.jsx(sd,{strokeDasharray:"3 3"}),s.jsx(Ua,{dataKey:"month"}),s.jsx(Si,{}),s.jsx(cn,{}),s.jsx(Ao,{}),s.jsx(qa,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorRevenue)"}),s.jsx(qa,{type:"monotone",dataKey:"profit",stroke:"#10B981",fillOpacity:1,fill:"url(#colorProfit)"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Top Lanes by Margin"}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(_E,{data:V,layout:"horizontal",children:[s.jsx(sd,{strokeDasharray:"3 3"}),s.jsx(Ua,{type:"number"}),s.jsx(Si,{dataKey:"lane",type:"category",width:100}),s.jsx(cn,{}),s.jsx(ac,{dataKey:"margin",fill:"#3B82F6",children:V.map((G,ue)=>s.jsx(Df,{fill:re[ue%re.length]},`cell-${ue}`))})]})})]})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Customer Distribution"}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(SE,{children:[s.jsx(pl,{data:H,cx:"50%",cy:"50%",labelLine:!1,label:G=>`${G.name}: ${G.value}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:H.map((G,ue)=>s.jsx(Df,{fill:re[ue%re.length]},`cell-${ue}`))}),s.jsx(cn,{})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:H.map((G,ue)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:re[ue]}}),s.jsx("span",{className:"text-sm text-gray-600",children:G.name})]}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[G.count," customers"]})]},G.name))})]})})]}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Carrier Performance Comparison"}),s.jsx(Fa,{width:"100%",height:400,children:s.jsxs(xSe,{data:Z,children:[s.jsx(lJ,{}),s.jsx(bv,{dataKey:"metric"}),s.jsx(vv,{angle:90,domain:[0,100]}),s.jsx(ky,{name:"Top Carrier",dataKey:"A",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6}),s.jsx(ky,{name:"Average Carrier",dataKey:"B",stroke:"#10B981",fill:"#10B981",fillOpacity:.6}),s.jsx(Ao,{}),s.jsx(cn,{})]})})]})})]}),_==="detailed"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Reports"}),s.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:[{name:"Q2 Revenue Analysis",type:"Revenue",date:"Jun 28, 2025",size:"2.4 MB"},{name:"May Commission Report",type:"Commission",date:"Jun 1, 2025",size:"1.8 MB"},{name:"Weekly Operational Metrics",type:"Operational",date:"Jun 26, 2025",size:"3.1 MB"},{name:"Customer Performance Review",type:"Customer",date:"Jun 15, 2025",size:"2.2 MB"}].map((G,ue)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-lg p-3 mr-4",children:s.jsx("i",{className:"fas fa-file-alt text-xl"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:G.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[G.type,"  ",G.date,"  ",G.size]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>ee("pdf"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("i",{className:"fas fa-download"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("i",{className:"fas fa-share"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("i",{className:"fas fa-ellipsis-v"})})]})]},ue))})]})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Scheduled Reports"}),s.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Add Schedule"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequency"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipients"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Run"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Daily Revenue Summary",frequency:"Daily",recipients:"team@company.com",nextRun:"Tomorrow 9:00 AM",status:"active"},{name:"Weekly Performance Report",frequency:"Weekly",recipients:"management@company.com",nextRun:"Monday 8:00 AM",status:"active"},{name:"Monthly P&L Statement",frequency:"Monthly",recipients:"cfo@company.com",nextRun:"Jul 1, 2025",status:"paused"}].map((G,ue)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:G.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.frequency}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.recipients}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.nextRun}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${G.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:G.status})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},ue))})]})})]})})]}),_==="templates"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(G=>s.jsx(st,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:`bg-${G.color}-100 text-${G.color}-600 rounded-lg p-3`,children:s.jsx("i",{className:`fas ${G.icon} text-2xl`})}),G.isPopular&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"Popular"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:G.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:G.description}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("button",{onClick:()=>{e(G.type),O(G.name+" - "+new Date().toLocaleDateString()),h(["revenue","profit","margin"]),a(!0)},className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Use Template"}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx("i",{className:"fas fa-ellipsis-h"})})]})]})},G.id))}),_==="generated"&&s.jsx("div",{children:T.length===0?s.jsxs(st,{className:"p-8 text-center",children:[s.jsx("i",{className:"fas fa-file-alt text-gray-300 text-5xl mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reports Generated"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first custom report to see it here"}),s.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md",children:"Create Report"})]}):s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Range"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(G=>{var ue;return s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[G.metrics.length," metrics included"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:((ue=B.find(ke=>ke.type===G.type))==null?void 0:ue.name)||G.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.dateRange}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.createdAt}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.fileSize}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${G.status==="completed"?"bg-green-100 text-green-800":G.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:G.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>lt.success("Opening report preview..."),className:"text-blue-600 hover:text-blue-900",title:"View",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsx("button",{onClick:()=>ee("pdf",G.id),className:"text-gray-600 hover:text-gray-900",title:"Download PDF",children:s.jsx("i",{className:"fas fa-file-pdf"})}),s.jsx("button",{onClick:()=>ee("excel",G.id),className:"text-green-600 hover:text-green-900",title:"Download Excel",children:s.jsx("i",{className:"fas fa-file-excel"})}),s.jsx("button",{onClick:()=>xe(G.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:s.jsx("i",{className:"fas fa-trash"})})]})})]},G.id)})})]})})})}),s.jsx(ie,{}),s.jsx(ge,{})]})},CLe=[{id:"CUST001",name:"ABC Manufacturing",contact:"John Smith",email:"john.smith@abcmfg.com",phone:"+1 (555) 123-4567",address:"123 Industrial Way, Chicago, IL 60601",status:"Active",totalLoads:142,totalRevenue:385e3,creditLimit:1e5,creditUsed:45e3,paymentTerms:"30",lastLoadDate:"2025-01-24",rating:5},{id:"CUST002",name:"XYZ Distribution",contact:"Sarah Johnson",email:"sarah@xyzdist.com",phone:"+1 (555) 234-5678",address:"456 Commerce Blvd, Dallas, TX 75201",status:"Active",totalLoads:98,totalRevenue:312e3,creditLimit:75e3,creditUsed:62e3,paymentTerms:"45",lastLoadDate:"2025-01-23",rating:4},{id:"CUST003",name:"Global Logistics Inc",contact:"Mike Davis",email:"mdavis@globallogistics.com",phone:"+1 (555) 345-6789",address:"789 Shipping Lane, Atlanta, GA 30301",status:"Active",totalLoads:87,totalRevenue:298e3,creditLimit:5e4,creditUsed:18e3,paymentTerms:"30",lastLoadDate:"2025-01-22",rating:5},{id:"CUST004",name:"Prime Shipping Co",contact:"Emily Chen",email:"echen@primeshipping.com",phone:"+1 (555) 456-7890",address:"321 Port Drive, Los Angeles, CA 90001",status:"Pending",totalLoads:92,totalRevenue:275e3,creditLimit:8e4,creditUsed:5e3,paymentTerms:"15",lastLoadDate:"2025-01-20",rating:4},{id:"CUST005",name:"Fast Freight Ltd",contact:"Robert Wilson",email:"rwilson@fastfreight.com",phone:"+1 (555) 567-8901",address:"654 Express Way, Phoenix, AZ 85001",status:"Inactive",totalLoads:76,totalRevenue:243e3,creditLimit:6e4,creditUsed:0,paymentTerms:"60",lastLoadDate:"2024-12-15",rating:3}],ELe=()=>{const[t,e]=Y.useState([]),[r,n]=Y.useState(!1),i=async()=>{n(!0);try{await new Promise(u=>setTimeout(u,1e3)),e(CLe)}catch(u){console.error("Failed to fetch customers:",u),on.error("Failed to load customers")}finally{n(!1)}},a=async u=>{try{await new Promise(f=>setTimeout(f,500));const h={id:`CUST${String(t.length+1).padStart(3,"0")}`,name:u.name,contact:u.contact,email:u.email,phone:u.phone,address:u.address,status:"Pending",totalLoads:0,totalRevenue:0,creditLimit:parseInt(u.creditLimit)||5e4,creditUsed:0,paymentTerms:u.paymentTerms,lastLoadDate:"",rating:0};return e([...t,h]),h}catch(h){throw console.error("Failed to add customer:",h),h}},o=async(u,h)=>{try{await new Promise(f=>setTimeout(f,500)),e(t.map(f=>f.id===u?{...f,...h}:f))}catch(f){throw console.error("Failed to update customer:",f),f}},l=async u=>{try{await new Promise(h=>setTimeout(h,500)),e(t.filter(h=>h.id!==u))}catch(h){throw console.error("Failed to delete customer:",h),h}};return Y.useEffect(()=>{i()},[]),{customers:t,loading:r,addCustomer:a,updateCustomer:o,deleteCustomer:l,refreshCustomers:i}},TLe=()=>{const{customers:t,loading:e,addCustomer:r,deleteCustomer:n}=ELe(),[i,a]=Y.useState(""),[o,l]=Y.useState("all"),[u,h]=Y.useState(!1),[f,g]=Y.useState(null),[y,N]=Y.useState("grid"),[_,k]=Y.useState({name:"",contact:"",email:"",phone:"",address:"",creditLimit:"",paymentTerms:"30"}),C=t.filter(B=>{const F=B.name.toLowerCase().includes(i.toLowerCase())||B.contact.toLowerCase().includes(i.toLowerCase())||B.email.toLowerCase().includes(i.toLowerCase()),V=o==="all"||B.status===o;return F&&V}),O=async()=>{try{await r(_),h(!1),k({name:"",contact:"",email:"",phone:"",address:"",creditLimit:"",paymentTerms:"30"}),on.success("Customer added successfully!")}catch{on.error("Failed to add customer")}},T=async B=>{if(window.confirm("Are you sure you want to delete this customer?"))try{await n(B),on.success("Customer deleted successfully")}catch{on.error("Failed to delete customer")}},M=B=>{switch(B){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-gray-100 text-gray-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),s.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Customer"]})]}),s.jsx(st,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 flex-1",children:[s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:"Search customers...",value:i,onChange:B=>a(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:B=>l(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Pending",children:"Pending"})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>N("grid"),className:`p-2 rounded-lg transition-colors ${y==="grid"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Grid View",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),s.jsx("button",{onClick:()=>N("list"),className:`p-2 rounded-lg transition-colors ${y==="list"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"List View",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})})}),y==="grid"?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:C.map(B=>s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.name}),s.jsx("p",{className:"text-sm text-gray-500",children:B.contact})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M(B.status)}`,children:B.status})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),B.email]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),B.phone]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),B.address]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total Loads"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:B.totalLoads})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total Revenue"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",B.totalRevenue.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Credit Limit"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",B.creditLimit.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Credit Used"}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",B.creditUsed.toLocaleString()]}),s.jsxs("span",{className:`ml-2 text-xs ${B.creditUsed/B.creditLimit>.8?"text-red-600":"text-gray-500"}`,children:["(",Math.round(B.creditUsed/B.creditLimit*100),"%)"]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"Rating:"}),s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((F,V)=>s.jsx("svg",{className:`w-4 h-4 ${V<B.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},V))})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>g(B),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),s.jsx("button",{onClick:()=>T(B.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete"})]})]})]})},B.id))}):s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loads"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(B=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name}),s.jsx("div",{className:"text-sm text-gray-500",children:B.contact})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:B.email}),s.jsx("div",{className:"text-sm text-gray-500",children:B.phone})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M(B.status)}`,children:B.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:B.totalLoads}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",B.totalRevenue.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["$",B.creditUsed.toLocaleString()," / $",B.creditLimit.toLocaleString()]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:s.jsx("div",{className:`h-2 rounded-full ${B.creditUsed/B.creditLimit>.8?"bg-red-600":"bg-green-600"}`,style:{width:`${Math.min(B.creditUsed/B.creditLimit*100,100)}%`}})})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((F,V)=>s.jsx("svg",{className:`w-4 h-4 ${V<B.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},V))})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[s.jsx("button",{onClick:()=>g(B),className:"text-blue-600 hover:text-blue-800 font-medium mr-3",children:"Edit"}),s.jsx("button",{onClick:()=>T(B.id),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]},B.id))})]})})}),s.jsx(xr,{isOpen:u||!!f,onClose:()=>{h(!1),g(null),k({name:"",contact:"",email:"",phone:"",address:"",creditLimit:"",paymentTerms:"30"})},title:f?"Edit Customer":"Add New Customer",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),s.jsx("input",{type:"text",value:_.name,onChange:B=>k({..._,name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter company name"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),s.jsx("input",{type:"text",value:_.contact,onChange:B=>k({..._,contact:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:_.phone,onChange:B=>k({..._,phone:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:_.email,onChange:B=>k({..._,email:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"contact@company.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),s.jsx("textarea",{value:_.address,onChange:B=>k({..._,address:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:2,placeholder:"Enter full address"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Limit"}),s.jsx("input",{type:"number",value:_.creditLimit,onChange:B=>k({..._,creditLimit:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"50000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Terms (days)"}),s.jsxs("select",{value:_.paymentTerms,onChange:B=>k({..._,paymentTerms:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"0",children:"Due on Receipt"}),s.jsx("option",{value:"15",children:"Net 15"}),s.jsx("option",{value:"30",children:"Net 30"}),s.jsx("option",{value:"45",children:"Net 45"}),s.jsx("option",{value:"60",children:"Net 60"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>{h(!1),g(null)},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[f?"Update":"Add"," Customer"]})]})]})})]})},PLe=[{id:"CAR001",name:"Swift Transportation",mc:"123456",dot:"1234567",contact:"John Williams",email:"dispatch@swift.com",phone:"+1 (555) 111-2222",address:"2200 S 75th Ave, Phoenix, AZ 85043",status:"Active",equipment:["Dry Van","Reefer"],lanes:[{origin:"Chicago, IL",destination:"New York, NY"},{origin:"Los Angeles, CA",destination:"Dallas, TX"},{origin:"Atlanta, GA",destination:"Miami, FL"}],rating:4.8,totalLoads:156,onTimePercentage:94,insurance:{liability:1e6,cargo:25e4,expiresAt:"2025-12-31"},lastLoadDate:"2025-01-24"},{id:"CAR002",name:"J.B. Hunt",mc:"234567",dot:"2345678",contact:"Sarah Miller",email:"carrier.services@jbhunt.com",phone:"+1 (555) 222-3333",address:"615 JB Hunt Dr, Lowell, AR 72745",status:"Active",equipment:["Dry Van","Flatbed","Reefer"],lanes:[{origin:"Dallas, TX",destination:"Houston, TX"},{origin:"Phoenix, AZ",destination:"Las Vegas, NV"}],rating:4.7,totalLoads:142,onTimePercentage:92,insurance:{liability:1e6,cargo:3e5,expiresAt:"2025-11-30"},lastLoadDate:"2025-01-23"},{id:"CAR003",name:"Knight Transportation",mc:"345678",dot:"3456789",contact:"Mike Johnson",email:"dispatch@knighttrans.com",phone:"+1 (555) 333-4444",address:"20002 N 19th Ave, Phoenix, AZ 85027",status:"Active",equipment:["Dry Van","Reefer","Tanker"],lanes:[{origin:"Seattle, WA",destination:"Portland, OR"},{origin:"San Francisco, CA",destination:"Los Angeles, CA"},{origin:"Denver, CO",destination:"Salt Lake City, UT"},{origin:"Chicago, IL",destination:"Detroit, MI"}],rating:4.9,totalLoads:128,onTimePercentage:96,insurance:{liability:2e6,cargo:5e5,expiresAt:"2025-10-15"},lastLoadDate:"2025-01-22"},{id:"CAR004",name:"Schneider National",mc:"456789",dot:"4567890",contact:"Lisa Brown",email:"carrier@schneider.com",phone:"+1 (555) 444-5555",address:"3101 S Packerland Dr, Green Bay, WI 54313",status:"Pending",equipment:["Dry Van","Flatbed"],lanes:[{origin:"Milwaukee, WI",destination:"Chicago, IL"},{origin:"Minneapolis, MN",destination:"Des Moines, IA"}],rating:4.6,totalLoads:115,onTimePercentage:91,insurance:{liability:1e6,cargo:25e4,expiresAt:"2025-09-30"},lastLoadDate:"2025-01-20"},{id:"CAR005",name:"Werner Enterprises",mc:"567890",dot:"5678901",contact:"David Wilson",email:"dispatch@werner.com",phone:"+1 (555) 555-6666",address:"14507 Frontier Rd, Omaha, NE 68138",status:"Inactive",equipment:["Dry Van","Reefer","Flatbed"],lanes:[{origin:"Omaha, NE",destination:"Kansas City, MO"}],rating:4.5,totalLoads:98,onTimePercentage:89,insurance:{liability:1e6,cargo:2e5,expiresAt:"2025-08-31"},lastLoadDate:"2024-12-15"}],MLe=()=>{const[t,e]=Y.useState([]),[r,n]=Y.useState(!1),i=async()=>{n(!0);try{await new Promise(h=>setTimeout(h,1e3)),e(PLe)}catch(h){console.error("Failed to fetch carriers:",h),on.error("Failed to load carriers")}finally{n(!1)}},a=async h=>{try{await new Promise(g=>setTimeout(g,500));const f={id:`CAR${String(t.length+1).padStart(3,"0")}`,name:h.name,mc:h.mc,dot:h.dot,contact:h.contact,email:h.email,phone:h.phone,address:h.address||"",status:"Pending",equipment:h.equipment,lanes:[],rating:0,totalLoads:0,onTimePercentage:0,insurance:{liability:0,cargo:0,expiresAt:""},lastLoadDate:""};return e([...t,f]),f}catch(f){throw console.error("Failed to add carrier:",f),f}},o=async(h,f)=>{try{await new Promise(g=>setTimeout(g,500)),e(t.map(g=>g.id===h?{...g,...f}:g))}catch(g){throw console.error("Failed to update carrier:",g),g}},l=async h=>{try{await new Promise(f=>setTimeout(f,500)),e(t.filter(f=>f.id!==h))}catch(f){throw console.error("Failed to delete carrier:",f),f}},u=async h=>{try{await new Promise(f=>setTimeout(f,2e3)),e(t.map(f=>f.id===h?{...f,status:"Active"}:f)),on.success("Carrier verified successfully!")}catch(f){throw console.error("Failed to verify carrier:",f),f}};return Y.useEffect(()=>{i()},[]),{carriers:t,loading:r,addCarrier:a,updateCarrier:o,deleteCarrier:l,verifyCarrier:u,refreshCarriers:i}},LLe=()=>{const{carriers:t,loading:e,addCarrier:r,verifyCarrier:n}=MLe(),[i,a]=Y.useState(""),[o,l]=Y.useState("all"),[u,h]=Y.useState("all"),[f,g]=Y.useState(!1),[y,N]=Y.useState(null),[_,k]=Y.useState("list"),[C,O]=Y.useState(!1),[T,M]=Y.useState(!1),[B,F]=Y.useState(""),[V,H]=Y.useState({name:"",mc:"",dot:"",contact:"",email:"",phone:"",address:"",equipment:[]}),Z=["Dry Van","Reefer","Flatbed","Step Deck","RGN","Tanker","Box Truck"],re=t.filter(ie=>{const ge=ie.name.toLowerCase().includes(i.toLowerCase())||ie.mc.includes(i)||ie.dot.includes(i),G=o==="all"||ie.status===o,ue=u==="all"||ie.equipment.includes(u);return ge&&G&&ue}),le=async()=>{try{await r(V),g(!1),H({name:"",mc:"",dot:"",contact:"",email:"",phone:"",address:"",equipment:[]}),on.success("Carrier added successfully!")}catch{on.error("Failed to add carrier")}},ce=async ie=>{try{on.loading("Verifying carrier credentials...",{duration:2e3}),await n(ie),setTimeout(()=>{on.success("Carrier verified successfully! Status updated to Active.")},2e3)}catch{on.error("Failed to verify carrier")}},he=ie=>{N(ie),O(!0)},fe=ie=>{N(ie),F(`Dear ${ie.contact},

We would like to invite ${ie.name} to join our preferred carrier network. We have loads available that match your equipment and lanes.

Please let us know if you're interested in discussing partnership opportunities.

Best regards`),M(!0)},ee=()=>{on.success(`Invitation sent to ${y==null?void 0:y.name}!`),M(!1),F("")},xe=ie=>{switch(ie){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-gray-100 text-gray-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Carriers"}),s.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Carrier"]})]}),s.jsx(st,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 flex-1",children:[s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:"Search carriers...",value:i,onChange:ie=>a(ie.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:ie=>l(ie.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Inactive",children:"Inactive"}),s.jsx("option",{value:"Pending",children:"Pending"}),s.jsx("option",{value:"Suspended",children:"Suspended"})]})}),s.jsx("div",{children:s.jsxs("select",{value:u,onChange:ie=>h(ie.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Equipment"}),Z.map(ie=>s.jsx("option",{value:ie,children:ie},ie))]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>k("list"),className:`p-2 rounded-lg transition-colors ${_==="list"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"List View",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),s.jsx("button",{onClick:()=>k("grid"),className:`p-2 rounded-lg transition-colors ${_==="grid"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Grid View",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]})]})})}),_==="list"?s.jsx("div",{className:"grid grid-cols-1 gap-6",children:re.map(ie=>s.jsx(st,{children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ie.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["MC: ",ie.mc,"  DOT: ",ie.dot]})]}),s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${xe(ie.status)}`,children:ie.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Contact"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:ie.contact}),s.jsx("p",{className:"text-sm text-gray-600",children:ie.phone}),s.jsx("p",{className:"text-sm text-gray-600",children:ie.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Equipment"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ie.equipment.map(ge=>s.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:ge},ge))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Insurance"}),s.jsxs("p",{className:"text-sm text-gray-900",children:["Liability: $",ie.insurance.liability.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-gray-900",children:["Cargo: $",ie.insurance.cargo.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Expires: ",ie.insurance.expiresAt]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4",children:[s.jsx("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-200 cursor-pointer",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 group-hover:shadow-md",children:[s.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:ie.totalLoads}),s.jsx("p",{className:"text-xs text-gray-600 font-medium mt-1",children:"Total Loads"})]})}),s.jsx("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-200 cursor-pointer",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 group-hover:shadow-md",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("p",{className:`text-3xl font-bold ${ie.onTimePercentage>=95?"text-green-600":ie.onTimePercentage>=85?"text-yellow-600":"text-red-600"}`,children:[ie.onTimePercentage,"%"]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-2",children:s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${ie.onTimePercentage>=95?"bg-green-500":ie.onTimePercentage>=85?"bg-yellow-500":"bg-red-500"}`,style:{width:`${ie.onTimePercentage}%`}})})]}),s.jsx("p",{className:"text-xs text-gray-600 font-medium mt-1",children:"On-Time"})]})}),s.jsx("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-200 cursor-pointer",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 group-hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("p",{className:"text-3xl font-bold text-gray-800 mr-1",children:ie.rating}),s.jsx("div",{className:"flex",children:[...Array(5)].map((ge,G)=>s.jsx("svg",{className:`w-4 h-4 ${G<Math.floor(ie.rating)?"text-yellow-400":"text-gray-300"} transform group-hover:scale-110 transition-transform`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},G))})]}),s.jsx("p",{className:"text-xs text-gray-600 font-medium mt-1",children:"Rating"})]})}),s.jsx("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-200 cursor-pointer",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 group-hover:shadow-md",children:[s.jsx("p",{className:`text-sm font-bold ${ie.lastLoadDate&&ie.lastLoadDate!=="Never"?"text-indigo-600":"text-gray-400"}`,children:ie.lastLoadDate||"Never"}),s.jsx("p",{className:"text-xs text-gray-600 font-medium mt-1",children:"Last Load"}),ie.lastLoadDate&&ie.lastLoadDate!=="Never"&&s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Active"})})]})})]}),ie.lanes.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preferred Lanes"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[ie.lanes.slice(0,3).map((ge,G)=>s.jsxs("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full",children:[ge.origin,"  ",ge.destination]},G)),ie.lanes.length>3&&s.jsxs("span",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-500 rounded-full",children:["+",ie.lanes.length-3," more"]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[ie.status==="Pending"&&s.jsx("button",{onClick:()=>ce(ie.id),className:"px-3 py-1 text-sm text-green-600 hover:text-green-800 font-medium",children:"Verify Carrier"}),s.jsxs("button",{onClick:()=>he(ie),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors flex items-center",children:[s.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Details"]}),s.jsxs("button",{onClick:()=>fe(ie),className:"px-4 py-2 text-sm bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium transition-colors flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Send Invitation"]})]})]})})})},ie.id))}):s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carrier"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Equipment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loads"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"On-Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:re.map(ie=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["MC: ",ie.mc,"  DOT: ",ie.dot]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-900",children:ie.contact}),s.jsx("div",{className:"text-sm text-gray-500",children:ie.phone}),s.jsx("div",{className:"text-sm text-gray-500",children:ie.email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${xe(ie.status)}`,children:ie.status})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[ie.equipment.slice(0,2).map(ge=>s.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:ge},ge)),ie.equipment.length>2&&s.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:["+",ie.equipment.length-2]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ie.totalLoads}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("span",{className:"text-sm text-gray-900",children:[ie.onTimePercentage,"%"]}),s.jsx("div",{className:"ml-2 w-16 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full bg-green-600",style:{width:`${ie.onTimePercentage}%`}})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 mr-1",children:ie.rating}),s.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[ie.status==="Pending"&&s.jsx("button",{onClick:()=>ce(ie.id),className:"text-green-600 hover:text-green-800 font-medium mr-3",children:"Verify"}),s.jsx("button",{onClick:()=>he(ie),className:"text-blue-600 hover:text-blue-800 font-medium mr-3",children:"Details"}),s.jsx("button",{onClick:()=>fe(ie),className:"text-gray-600 hover:text-gray-800 font-medium",children:"Invite"})]})]},ie.id))})]})})}),s.jsx(xr,{isOpen:f,onClose:()=>{g(!1),H({name:"",mc:"",dot:"",contact:"",email:"",phone:"",address:"",equipment:[]})},title:"Add New Carrier",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Carrier Name"}),s.jsx("input",{type:"text",value:V.name,onChange:ie=>H({...V,name:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter carrier name"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MC Number"}),s.jsx("input",{type:"text",value:V.mc,onChange:ie=>H({...V,mc:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"123456"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DOT Number"}),s.jsx("input",{type:"text",value:V.dot,onChange:ie=>H({...V,dot:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"1234567"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),s.jsx("input",{type:"text",value:V.contact,onChange:ie=>H({...V,contact:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:V.email,onChange:ie=>H({...V,email:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"contact@carrier.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:V.phone,onChange:ie=>H({...V,phone:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipment Types"}),s.jsx("div",{className:"space-y-2",children:Z.map(ie=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",value:ie,checked:V.equipment.includes(ie),onChange:ge=>{ge.target.checked?H({...V,equipment:[...V.equipment,ie]}):H({...V,equipment:V.equipment.filter(G=>G!==ie)})},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:ie})]},ie))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:le,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add Carrier"})]})]})}),s.jsx(xr,{isOpen:C,onClose:()=>{O(!1),N(null)},title:"Carrier Details",children:y&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:y.name}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"MC Number:"}),s.jsx("span",{className:"ml-2 font-medium",children:y.mc})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"DOT Number:"}),s.jsx("span",{className:"ml-2 font-medium",children:y.dot})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Status:"}),s.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${xe(y.status)}`,children:y.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Rating:"}),s.jsxs("div",{className:"inline-flex items-center ml-2",children:[s.jsx("span",{className:"font-medium mr-1",children:y.rating}),s.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Contact Person:"})," ",s.jsx("span",{className:"font-medium",children:y.contact})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Email:"})," ",s.jsx("span",{className:"font-medium",children:y.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Phone:"})," ",s.jsx("span",{className:"font-medium",children:y.phone})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Address:"})," ",s.jsx("span",{className:"font-medium",children:y.address})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Performance Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:y.totalLoads}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Loads"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[y.onTimePercentage,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"On-Time Delivery"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Insurance Information"}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Liability:"})," ",s.jsxs("span",{className:"font-medium",children:["$",y.insurance.liability.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Cargo:"})," ",s.jsxs("span",{className:"font-medium",children:["$",y.insurance.cargo.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Expires:"})," ",s.jsx("span",{className:"font-medium",children:y.insurance.expiresAt})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Equipment Types"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:y.equipment.map(ie=>s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:ie},ie))})]}),y.lanes.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Preferred Lanes"}),s.jsx("div",{className:"space-y-1",children:y.lanes.map((ie,ge)=>s.jsxs("div",{className:"text-sm text-gray-600",children:[ie.origin,"  ",ie.destination]},ge))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Close"}),s.jsx("button",{onClick:()=>{fe(y),O(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Send Invitation"})]})]})}),s.jsx(xr,{isOpen:T,onClose:()=>{M(!1),F("")},title:"Send Carrier Invitation",children:y&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Sending invitation to:"}),s.jsx("p",{className:"font-semibold",children:y.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[y.contact," - ",y.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invitation Message"}),s.jsx("textarea",{value:B,onChange:ie=>F(ie.target.value),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your invitation message..."})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("svg",{className:"w-4 h-4 inline mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"This invitation will be sent via email and the carrier will receive a link to join your network."]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>{M(!1),F("")},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:ee,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send Invitation"]})]})]})})]})};function Vre(t,e){const r=Y.useRef(e);Y.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}const OLe=1;function DLe(t){return Object.freeze({__version:OLe,map:t})}function Ure(t,e){return Object.freeze({...t,...e})}const qre=Y.createContext(null),Xre=qre.Provider;function VE(){const t=Y.useContext(qre);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Yre(t){function e(r,n){const{instance:i,context:a}=t(r).current;return Y.useImperativeHandle(n,()=>i),r.children==null?null:Oe.createElement(Xre,{value:a},r.children)}return Y.forwardRef(e)}function RLe(t){function e(r,n){const[i,a]=Y.useState(!1),{instance:o}=t(r,a).current;Y.useImperativeHandle(n,()=>o),Y.useEffect(function(){i&&o.update()},[o,i,r.children]);const l=o._contentNode;return l?zI.createPortal(r.children,l):null}return Y.forwardRef(e)}function ILe(t){function e(r,n){const{instance:i}=t(r).current;return Y.useImperativeHandle(n,()=>i),null}return Y.forwardRef(e)}function RF(t,e){const r=Y.useRef();Y.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function UE(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}function FLe(t,e){return function(n,i){const a=VE(),o=t(UE(n,a),a);return Vre(a.map,n.attribution),RF(o.current,n.eventHandlers),e(o.current,a,n,i),o}}var vw={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var BLe=vw.exports,Qq;function $Le(){return Qq||(Qq=1,function(t,e){(function(r,n){n(e)})(BLe,function(r){var n="1.9.4";function i(x){var A,$,K,de;for($=1,K=arguments.length;$<K;$++){de=arguments[$];for(A in de)x[A]=de[A]}return x}var a=Object.create||function(){function x(){}return function(A){return x.prototype=A,new x}}();function o(x,A){var $=Array.prototype.slice;if(x.bind)return x.bind.apply(x,$.call(arguments,1));var K=$.call(arguments,2);return function(){return x.apply(A,K.length?K.concat($.call(arguments)):arguments)}}var l=0;function u(x){return"_leaflet_id"in x||(x._leaflet_id=++l),x._leaflet_id}function h(x,A,$){var K,de,Ae,Be;return Be=function(){K=!1,de&&(Ae.apply($,de),de=!1)},Ae=function(){K?de=arguments:(x.apply($,arguments),setTimeout(Be,A),K=!0)},Ae}function f(x,A,$){var K=A[1],de=A[0],Ae=K-de;return x===K&&$?x:((x-de)%Ae+Ae)%Ae+de}function g(){return!1}function y(x,A){if(A===!1)return x;var $=Math.pow(10,A===void 0?6:A);return Math.round(x*$)/$}function N(x){return x.trim?x.trim():x.replace(/^\s+|\s+$/g,"")}function _(x){return N(x).split(/\s+/)}function k(x,A){Object.prototype.hasOwnProperty.call(x,"options")||(x.options=x.options?a(x.options):{});for(var $ in A)x.options[$]=A[$];return x.options}function C(x,A,$){var K=[];for(var de in x)K.push(encodeURIComponent($?de.toUpperCase():de)+"="+encodeURIComponent(x[de]));return(!A||A.indexOf("?")===-1?"?":"&")+K.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function T(x,A){return x.replace(O,function($,K){var de=A[K];if(de===void 0)throw new Error("No value provided for variable "+$);return typeof de=="function"&&(de=de(A)),de})}var M=Array.isArray||function(x){return Object.prototype.toString.call(x)==="[object Array]"};function B(x,A){for(var $=0;$<x.length;$++)if(x[$]===A)return $;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(x){return window["webkit"+x]||window["moz"+x]||window["ms"+x]}var H=0;function Z(x){var A=+new Date,$=Math.max(0,16-(A-H));return H=A+$,window.setTimeout(x,$)}var re=window.requestAnimationFrame||V("RequestAnimationFrame")||Z,le=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(x){window.clearTimeout(x)};function ce(x,A,$){if($&&re===Z)x.call(A);else return re.call(window,o(x,A))}function he(x){x&&le.call(window,x)}var fe={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:u,throttle:h,wrapNum:f,falseFn:g,formatNum:y,trim:N,splitWords:_,setOptions:k,getParamString:C,template:T,isArray:M,indexOf:B,emptyImageUrl:F,requestFn:re,cancelFn:le,requestAnimFrame:ce,cancelAnimFrame:he};function ee(){}ee.extend=function(x){var A=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},$=A.__super__=this.prototype,K=a($);K.constructor=A,A.prototype=K;for(var de in this)Object.prototype.hasOwnProperty.call(this,de)&&de!=="prototype"&&de!=="__super__"&&(A[de]=this[de]);return x.statics&&i(A,x.statics),x.includes&&(xe(x.includes),i.apply(null,[K].concat(x.includes))),i(K,x),delete K.statics,delete K.includes,K.options&&(K.options=$.options?a($.options):{},i(K.options,x.options)),K._initHooks=[],K.callInitHooks=function(){if(!this._initHooksCalled){$.callInitHooks&&$.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ae=0,Be=K._initHooks.length;Ae<Be;Ae++)K._initHooks[Ae].call(this)}},A},ee.include=function(x){var A=this.prototype.options;return i(this.prototype,x),x.options&&(this.prototype.options=A,this.mergeOptions(x.options)),this},ee.mergeOptions=function(x){return i(this.prototype.options,x),this},ee.addInitHook=function(x){var A=Array.prototype.slice.call(arguments,1),$=typeof x=="function"?x:function(){this[x].apply(this,A)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push($),this};function xe(x){if(!(typeof L>"u"||!L||!L.Mixin)){x=M(x)?x:[x];for(var A=0;A<x.length;A++)x[A]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ie={on:function(x,A,$){if(typeof x=="object")for(var K in x)this._on(K,x[K],A);else{x=_(x);for(var de=0,Ae=x.length;de<Ae;de++)this._on(x[de],A,$)}return this},off:function(x,A,$){if(!arguments.length)delete this._events;else if(typeof x=="object")for(var K in x)this._off(K,x[K],A);else{x=_(x);for(var de=arguments.length===1,Ae=0,Be=x.length;Ae<Be;Ae++)de?this._off(x[Ae]):this._off(x[Ae],A,$)}return this},_on:function(x,A,$,K){if(typeof A!="function"){console.warn("wrong listener type: "+typeof A);return}if(this._listens(x,A,$)===!1){$===this&&($=void 0);var de={fn:A,ctx:$};K&&(de.once=!0),this._events=this._events||{},this._events[x]=this._events[x]||[],this._events[x].push(de)}},_off:function(x,A,$){var K,de,Ae;if(this._events&&(K=this._events[x],!!K)){if(arguments.length===1){if(this._firingCount)for(de=0,Ae=K.length;de<Ae;de++)K[de].fn=g;delete this._events[x];return}if(typeof A!="function"){console.warn("wrong listener type: "+typeof A);return}var Be=this._listens(x,A,$);if(Be!==!1){var Qe=K[Be];this._firingCount&&(Qe.fn=g,this._events[x]=K=K.slice()),K.splice(Be,1)}}},fire:function(x,A,$){if(!this.listens(x,$))return this;var K=i({},A,{type:x,target:this,sourceTarget:A&&A.sourceTarget||this});if(this._events){var de=this._events[x];if(de){this._firingCount=this._firingCount+1||1;for(var Ae=0,Be=de.length;Ae<Be;Ae++){var Qe=de[Ae],ot=Qe.fn;Qe.once&&this.off(x,ot,Qe.ctx),ot.call(Qe.ctx||this,K)}this._firingCount--}}return $&&this._propagateEvent(K),this},listens:function(x,A,$,K){typeof x!="string"&&console.warn('"string" type argument expected');var de=A;typeof A!="function"&&(K=!!A,de=void 0,$=void 0);var Ae=this._events&&this._events[x];if(Ae&&Ae.length&&this._listens(x,de,$)!==!1)return!0;if(K){for(var Be in this._eventParents)if(this._eventParents[Be].listens(x,A,$,K))return!0}return!1},_listens:function(x,A,$){if(!this._events)return!1;var K=this._events[x]||[];if(!A)return!!K.length;$===this&&($=void 0);for(var de=0,Ae=K.length;de<Ae;de++)if(K[de].fn===A&&K[de].ctx===$)return de;return!1},once:function(x,A,$){if(typeof x=="object")for(var K in x)this._on(K,x[K],A,!0);else{x=_(x);for(var de=0,Ae=x.length;de<Ae;de++)this._on(x[de],A,$,!0)}return this},addEventParent:function(x){return this._eventParents=this._eventParents||{},this._eventParents[u(x)]=x,this},removeEventParent:function(x){return this._eventParents&&delete this._eventParents[u(x)],this},_propagateEvent:function(x){for(var A in this._eventParents)this._eventParents[A].fire(x.type,i({layer:x.target,propagatedFrom:x.target},x),!0)}};ie.addEventListener=ie.on,ie.removeEventListener=ie.clearAllEventListeners=ie.off,ie.addOneTimeEventListener=ie.once,ie.fireEvent=ie.fire,ie.hasEventListeners=ie.listens;var ge=ee.extend(ie);function G(x,A,$){this.x=$?Math.round(x):x,this.y=$?Math.round(A):A}var ue=Math.trunc||function(x){return x>0?Math.floor(x):Math.ceil(x)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(x){return this.clone()._add(ke(x))},_add:function(x){return this.x+=x.x,this.y+=x.y,this},subtract:function(x){return this.clone()._subtract(ke(x))},_subtract:function(x){return this.x-=x.x,this.y-=x.y,this},divideBy:function(x){return this.clone()._divideBy(x)},_divideBy:function(x){return this.x/=x,this.y/=x,this},multiplyBy:function(x){return this.clone()._multiplyBy(x)},_multiplyBy:function(x){return this.x*=x,this.y*=x,this},scaleBy:function(x){return new G(this.x*x.x,this.y*x.y)},unscaleBy:function(x){return new G(this.x/x.x,this.y/x.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(x){x=ke(x);var A=x.x-this.x,$=x.y-this.y;return Math.sqrt(A*A+$*$)},equals:function(x){return x=ke(x),x.x===this.x&&x.y===this.y},contains:function(x){return x=ke(x),Math.abs(x.x)<=Math.abs(this.x)&&Math.abs(x.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function ke(x,A,$){return x instanceof G?x:M(x)?new G(x[0],x[1]):x==null?x:typeof x=="object"&&"x"in x&&"y"in x?new G(x.x,x.y):new G(x,A,$)}function ve(x,A){if(x)for(var $=A?[x,A]:x,K=0,de=$.length;K<de;K++)this.extend($[K])}ve.prototype={extend:function(x){var A,$;if(!x)return this;if(x instanceof G||typeof x[0]=="number"||"x"in x)A=$=ke(x);else if(x=Se(x),A=x.min,$=x.max,!A||!$)return this;return!this.min&&!this.max?(this.min=A.clone(),this.max=$.clone()):(this.min.x=Math.min(A.x,this.min.x),this.max.x=Math.max($.x,this.max.x),this.min.y=Math.min(A.y,this.min.y),this.max.y=Math.max($.y,this.max.y)),this},getCenter:function(x){return ke((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,x)},getBottomLeft:function(){return ke(this.min.x,this.max.y)},getTopRight:function(){return ke(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(x){var A,$;return typeof x[0]=="number"||x instanceof G?x=ke(x):x=Se(x),x instanceof ve?(A=x.min,$=x.max):A=$=x,A.x>=this.min.x&&$.x<=this.max.x&&A.y>=this.min.y&&$.y<=this.max.y},intersects:function(x){x=Se(x);var A=this.min,$=this.max,K=x.min,de=x.max,Ae=de.x>=A.x&&K.x<=$.x,Be=de.y>=A.y&&K.y<=$.y;return Ae&&Be},overlaps:function(x){x=Se(x);var A=this.min,$=this.max,K=x.min,de=x.max,Ae=de.x>A.x&&K.x<$.x,Be=de.y>A.y&&K.y<$.y;return Ae&&Be},isValid:function(){return!!(this.min&&this.max)},pad:function(x){var A=this.min,$=this.max,K=Math.abs(A.x-$.x)*x,de=Math.abs(A.y-$.y)*x;return Se(ke(A.x-K,A.y-de),ke($.x+K,$.y+de))},equals:function(x){return x?(x=Se(x),this.min.equals(x.getTopLeft())&&this.max.equals(x.getBottomRight())):!1}};function Se(x,A){return!x||x instanceof ve?x:new ve(x,A)}function He(x,A){if(x)for(var $=A?[x,A]:x,K=0,de=$.length;K<de;K++)this.extend($[K])}He.prototype={extend:function(x){var A=this._southWest,$=this._northEast,K,de;if(x instanceof $e)K=x,de=x;else if(x instanceof He){if(K=x._southWest,de=x._northEast,!K||!de)return this}else return x?this.extend(Ue(x)||De(x)):this;return!A&&!$?(this._southWest=new $e(K.lat,K.lng),this._northEast=new $e(de.lat,de.lng)):(A.lat=Math.min(K.lat,A.lat),A.lng=Math.min(K.lng,A.lng),$.lat=Math.max(de.lat,$.lat),$.lng=Math.max(de.lng,$.lng)),this},pad:function(x){var A=this._southWest,$=this._northEast,K=Math.abs(A.lat-$.lat)*x,de=Math.abs(A.lng-$.lng)*x;return new He(new $e(A.lat-K,A.lng-de),new $e($.lat+K,$.lng+de))},getCenter:function(){return new $e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new $e(this.getNorth(),this.getWest())},getSouthEast:function(){return new $e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(x){typeof x[0]=="number"||x instanceof $e||"lat"in x?x=Ue(x):x=De(x);var A=this._southWest,$=this._northEast,K,de;return x instanceof He?(K=x.getSouthWest(),de=x.getNorthEast()):K=de=x,K.lat>=A.lat&&de.lat<=$.lat&&K.lng>=A.lng&&de.lng<=$.lng},intersects:function(x){x=De(x);var A=this._southWest,$=this._northEast,K=x.getSouthWest(),de=x.getNorthEast(),Ae=de.lat>=A.lat&&K.lat<=$.lat,Be=de.lng>=A.lng&&K.lng<=$.lng;return Ae&&Be},overlaps:function(x){x=De(x);var A=this._southWest,$=this._northEast,K=x.getSouthWest(),de=x.getNorthEast(),Ae=de.lat>A.lat&&K.lat<$.lat,Be=de.lng>A.lng&&K.lng<$.lng;return Ae&&Be},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(x,A){return x?(x=De(x),this._southWest.equals(x.getSouthWest(),A)&&this._northEast.equals(x.getNorthEast(),A)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function De(x,A){return x instanceof He?x:new He(x,A)}function $e(x,A,$){if(isNaN(x)||isNaN(A))throw new Error("Invalid LatLng object: ("+x+", "+A+")");this.lat=+x,this.lng=+A,$!==void 0&&(this.alt=+$)}$e.prototype={equals:function(x,A){if(!x)return!1;x=Ue(x);var $=Math.max(Math.abs(this.lat-x.lat),Math.abs(this.lng-x.lng));return $<=(A===void 0?1e-9:A)},toString:function(x){return"LatLng("+y(this.lat,x)+", "+y(this.lng,x)+")"},distanceTo:function(x){return nt.distance(this,Ue(x))},wrap:function(){return nt.wrapLatLng(this)},toBounds:function(x){var A=180*x/40075017,$=A/Math.cos(Math.PI/180*this.lat);return De([this.lat-A,this.lng-$],[this.lat+A,this.lng+$])},clone:function(){return new $e(this.lat,this.lng,this.alt)}};function Ue(x,A,$){return x instanceof $e?x:M(x)&&typeof x[0]!="object"?x.length===3?new $e(x[0],x[1],x[2]):x.length===2?new $e(x[0],x[1]):null:x==null?x:typeof x=="object"&&"lat"in x?new $e(x.lat,"lng"in x?x.lng:x.lon,x.alt):A===void 0?null:new $e(x,A,$)}var Ke={latLngToPoint:function(x,A){var $=this.projection.project(x),K=this.scale(A);return this.transformation._transform($,K)},pointToLatLng:function(x,A){var $=this.scale(A),K=this.transformation.untransform(x,$);return this.projection.unproject(K)},project:function(x){return this.projection.project(x)},unproject:function(x){return this.projection.unproject(x)},scale:function(x){return 256*Math.pow(2,x)},zoom:function(x){return Math.log(x/256)/Math.LN2},getProjectedBounds:function(x){if(this.infinite)return null;var A=this.projection.bounds,$=this.scale(x),K=this.transformation.transform(A.min,$),de=this.transformation.transform(A.max,$);return new ve(K,de)},infinite:!1,wrapLatLng:function(x){var A=this.wrapLng?f(x.lng,this.wrapLng,!0):x.lng,$=this.wrapLat?f(x.lat,this.wrapLat,!0):x.lat,K=x.alt;return new $e($,A,K)},wrapLatLngBounds:function(x){var A=x.getCenter(),$=this.wrapLatLng(A),K=A.lat-$.lat,de=A.lng-$.lng;if(K===0&&de===0)return x;var Ae=x.getSouthWest(),Be=x.getNorthEast(),Qe=new $e(Ae.lat-K,Ae.lng-de),ot=new $e(Be.lat-K,Be.lng-de);return new He(Qe,ot)}},nt=i({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(x,A){var $=Math.PI/180,K=x.lat*$,de=A.lat*$,Ae=Math.sin((A.lat-x.lat)*$/2),Be=Math.sin((A.lng-x.lng)*$/2),Qe=Ae*Ae+Math.cos(K)*Math.cos(de)*Be*Be,ot=2*Math.atan2(Math.sqrt(Qe),Math.sqrt(1-Qe));return this.R*ot}}),Me=6378137,qe={R:Me,MAX_LATITUDE:85.0511287798,project:function(x){var A=Math.PI/180,$=this.MAX_LATITUDE,K=Math.max(Math.min($,x.lat),-$),de=Math.sin(K*A);return new G(this.R*x.lng*A,this.R*Math.log((1+de)/(1-de))/2)},unproject:function(x){var A=180/Math.PI;return new $e((2*Math.atan(Math.exp(x.y/this.R))-Math.PI/2)*A,x.x*A/this.R)},bounds:function(){var x=Me*Math.PI;return new ve([-x,-x],[x,x])}()};function ht(x,A,$,K){if(M(x)){this._a=x[0],this._b=x[1],this._c=x[2],this._d=x[3];return}this._a=x,this._b=A,this._c=$,this._d=K}ht.prototype={transform:function(x,A){return this._transform(x.clone(),A)},_transform:function(x,A){return A=A||1,x.x=A*(this._a*x.x+this._b),x.y=A*(this._c*x.y+this._d),x},untransform:function(x,A){return A=A||1,new G((x.x/A-this._b)/this._a,(x.y/A-this._d)/this._c)}};function ye(x,A,$,K){return new ht(x,A,$,K)}var Xe=i({},nt,{code:"EPSG:3857",projection:qe,transformation:function(){var x=.5/(Math.PI*qe.R);return ye(x,.5,-x,.5)}()}),dt=i({},Xe,{code:"EPSG:900913"});function Tt(x){return document.createElementNS("http://www.w3.org/2000/svg",x)}function Ct(x,A){var $="",K,de,Ae,Be,Qe,ot;for(K=0,Ae=x.length;K<Ae;K++){for(Qe=x[K],de=0,Be=Qe.length;de<Be;de++)ot=Qe[de],$+=(de?"L":"M")+ot.x+" "+ot.y;$+=A?ut.svg?"z":"x":""}return $||"M0 0"}var or=document.documentElement.style,Cr="ActiveXObject"in window,cs=Cr&&!document.addEventListener,Ie="msLaunchUri"in navigator&&!("documentMode"in document),Ge=xt("webkit"),it=xt("android"),kt=xt("android 2")||xt("android 3"),jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),bt=it&&xt("Google")&&jt<537&&!("AudioNode"in window),Ot=!!window.opera,rr=!Ie&&xt("chrome"),lr=xt("gecko")&&!Ge&&!Ot&&!Cr,Er=!rr&&xt("safari"),_s=xt("phantom"),Ee="OTransition"in or,yt=navigator.platform.indexOf("Win")===0,zt=Cr&&"transition"in or,ts="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kt,An="MozPerspective"in or,qs=!window.L_DISABLE_3D&&(zt||ts||An)&&!Ee&&!_s,Ts=typeof orientation<"u"||xt("mobile"),pi=Ts&&Ge,xa=Ts&&ts,ei=!window.PointerEvent&&window.MSPointerEvent,ti=!!(window.PointerEvent||ei),zn="ontouchstart"in window||!!window.TouchEvent,xl=!window.L_NO_TOUCH&&(zn||ti),Mo=Ts&&Ot,yl=Ts&&lr,Lo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ga=function(){var x=!1;try{var A=Object.defineProperty({},"passive",{get:function(){x=!0}});window.addEventListener("testPassiveEventSupport",g,A),window.removeEventListener("testPassiveEventSupport",g,A)}catch{}return x}(),ya=function(){return!!document.createElement("canvas").getContext}(),Oo=!!(document.createElementNS&&Tt("svg").createSVGRect),Za=!!Oo&&function(){var x=document.createElement("div");return x.innerHTML="<svg/>",(x.firstChild&&x.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),We=!Oo&&function(){try{var x=document.createElement("div");x.innerHTML='<v:shape adj="1"/>';var A=x.firstChild;return A.style.behavior="url(#default#VML)",A&&typeof A.adj=="object"}catch{return!1}}(),Ze=navigator.platform.indexOf("Mac")===0,at=navigator.platform.indexOf("Linux")===0;function xt(x){return navigator.userAgent.toLowerCase().indexOf(x)>=0}var ut={ie:Cr,ielt9:cs,edge:Ie,webkit:Ge,android:it,android23:kt,androidStock:bt,opera:Ot,chrome:rr,gecko:lr,safari:Er,phantom:_s,opera12:Ee,win:yt,ie3d:zt,webkit3d:ts,gecko3d:An,any3d:qs,mobile:Ts,mobileWebkit:pi,mobileWebkit3d:xa,msPointer:ei,pointer:ti,touch:xl,touchNative:zn,mobileOpera:Mo,mobileGecko:yl,retina:Lo,passiveEvents:Ga,canvas:ya,svg:Oo,vml:We,inlineSvg:Za,mac:Ze,linux:at},Ht=ut.msPointer?"MSPointerDown":"pointerdown",sr=ut.msPointer?"MSPointerMove":"pointermove",Wt=ut.msPointer?"MSPointerUp":"pointerup",Xt=ut.msPointer?"MSPointerCancel":"pointercancel",Ft={touchstart:Ht,touchmove:sr,touchend:Wt,touchcancel:Xt},$t={touchstart:v,touchmove:m,touchend:m,touchcancel:m},dr={},Sr=!1;function Os(x,A,$){return A==="touchstart"&&d(),$t[A]?($=$t[A].bind(this,$),x.addEventListener(Ft[A],$,!1),$):(console.warn("wrong event specified:",A),g)}function qr(x,A,$){if(!Ft[A]){console.warn("wrong event specified:",A);return}x.removeEventListener(Ft[A],$,!1)}function Ir(x){dr[x.pointerId]=x}function me(x){dr[x.pointerId]&&(dr[x.pointerId]=x)}function c(x){delete dr[x.pointerId]}function d(){Sr||(document.addEventListener(Ht,Ir,!0),document.addEventListener(sr,me,!0),document.addEventListener(Wt,c,!0),document.addEventListener(Xt,c,!0),Sr=!0)}function m(x,A){if(A.pointerType!==(A.MSPOINTER_TYPE_MOUSE||"mouse")){A.touches=[];for(var $ in dr)A.touches.push(dr[$]);A.changedTouches=[A],x(A)}}function v(x,A){A.MSPOINTER_TYPE_TOUCH&&A.pointerType===A.MSPOINTER_TYPE_TOUCH&&Qs(A),m(x,A)}function w(x){var A={},$,K;for(K in x)$=x[K],A[K]=$&&$.bind?$.bind(x):$;return x=A,A.type="dblclick",A.detail=2,A.isTrusted=!1,A._simulated=!0,A}var j=200;function S(x,A){x.addEventListener("dblclick",A);var $=0,K;function de(Ae){if(Ae.detail!==1){K=Ae.detail;return}if(!(Ae.pointerType==="mouse"||Ae.sourceCapabilities&&!Ae.sourceCapabilities.firesTouchEvents)){var Be=gd(Ae);if(!(Be.some(function(ot){return ot instanceof HTMLLabelElement&&ot.attributes.for})&&!Be.some(function(ot){return ot instanceof HTMLInputElement||ot instanceof HTMLSelectElement}))){var Qe=Date.now();Qe-$<=j?(K++,K===2&&A(w(Ae))):K=1,$=Qe}}}return x.addEventListener("click",de),{dblclick:A,simDblclick:de}}function P(x,A){x.removeEventListener("dblclick",A.dblclick),x.removeEventListener("click",A.simDblclick)}var I=Fe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),z=Fe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),U=z==="webkitTransition"||z==="OTransition"?z+"End":"transitionend";function X(x){return typeof x=="string"?document.getElementById(x):x}function Q(x,A){var $=x.style[A]||x.currentStyle&&x.currentStyle[A];if((!$||$==="auto")&&document.defaultView){var K=document.defaultView.getComputedStyle(x,null);$=K?K[A]:null}return $==="auto"?null:$}function te(x,A,$){var K=document.createElement(x);return K.className=A||"",$&&$.appendChild(K),K}function ae(x){var A=x.parentNode;A&&A.removeChild(x)}function pe(x){for(;x.firstChild;)x.removeChild(x.firstChild)}function we(x){var A=x.parentNode;A&&A.lastChild!==x&&A.appendChild(x)}function Ce(x){var A=x.parentNode;A&&A.firstChild!==x&&A.insertBefore(x,A.firstChild)}function R(x,A){if(x.classList!==void 0)return x.classList.contains(A);var $=Pe(x);return $.length>0&&new RegExp("(^|\\s)"+A+"(\\s|$)").test($)}function q(x,A){if(x.classList!==void 0)for(var $=_(A),K=0,de=$.length;K<de;K++)x.classList.add($[K]);else if(!R(x,A)){var Ae=Pe(x);be(x,(Ae?Ae+" ":"")+A)}}function se(x,A){x.classList!==void 0?x.classList.remove(A):be(x,N((" "+Pe(x)+" ").replace(" "+A+" "," ")))}function be(x,A){x.className.baseVal===void 0?x.className=A:x.className.baseVal=A}function Pe(x){return x.correspondingElement&&(x=x.correspondingElement),x.className.baseVal===void 0?x.className:x.className.baseVal}function Le(x,A){"opacity"in x.style?x.style.opacity=A:"filter"in x.style&&ze(x,A)}function ze(x,A){var $=!1,K="DXImageTransform.Microsoft.Alpha";try{$=x.filters.item(K)}catch{if(A===1)return}A=Math.round(A*100),$?($.Enabled=A!==100,$.Opacity=A):x.style.filter+=" progid:"+K+"(opacity="+A+")"}function Fe(x){for(var A=document.documentElement.style,$=0;$<x.length;$++)if(x[$]in A)return x[$];return!1}function tt(x,A,$){var K=A||new G(0,0);x.style[I]=(ut.ie3d?"translate("+K.x+"px,"+K.y+"px)":"translate3d("+K.x+"px,"+K.y+"px,0)")+($?" scale("+$+")":"")}function ft(x,A){x._leaflet_pos=A,ut.any3d?tt(x,A):(x.style.left=A.x+"px",x.style.top=A.y+"px")}function mt(x){return x._leaflet_pos||new G(0,0)}var vt,Dt,ur;if("onselectstart"in document)vt=function(){Kt(window,"selectstart",Qs)},Dt=function(){Ss(window,"selectstart",Qs)};else{var wr=Fe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vt=function(){if(wr){var x=document.documentElement.style;ur=x[wr],x[wr]="none"}},Dt=function(){wr&&(document.documentElement.style[wr]=ur,ur=void 0)}}function zr(){Kt(window,"dragstart",Qs)}function ds(){Ss(window,"dragstart",Qs)}var Jr,us;function Cn(x){for(;x.tabIndex===-1;)x=x.parentNode;x.style&&(wn(),Jr=x,us=x.style.outlineStyle,x.style.outlineStyle="none",Kt(window,"keydown",wn))}function wn(){Jr&&(Jr.style.outlineStyle=us,Jr=void 0,us=void 0,Ss(window,"keydown",wn))}function Yi(x){do x=x.parentNode;while((!x.offsetWidth||!x.offsetHeight)&&x!==document.body);return x}function Ci(x){var A=x.getBoundingClientRect();return{x:A.width/x.offsetWidth||1,y:A.height/x.offsetHeight||1,boundingClientRect:A}}var hn={__proto__:null,TRANSFORM:I,TRANSITION:z,TRANSITION_END:U,get:X,getStyle:Q,create:te,remove:ae,empty:pe,toFront:we,toBack:Ce,hasClass:R,addClass:q,removeClass:se,setClass:be,getClass:Pe,setOpacity:Le,testProp:Fe,setTransform:tt,setPosition:ft,getPosition:mt,get disableTextSelection(){return vt},get enableTextSelection(){return Dt},disableImageDrag:zr,enableImageDrag:ds,preventOutline:Cn,restoreOutline:wn,getSizedParentNode:Yi,getScale:Ci};function Kt(x,A,$,K){if(A&&typeof A=="object")for(var de in A)Sv(x,de,A[de],$);else{A=_(A);for(var Ae=0,Be=A.length;Ae<Be;Ae++)Sv(x,A[Ae],$,K)}return this}var fn="_leaflet_events";function Ss(x,A,$,K){if(arguments.length===1)_v(x),delete x[fn];else if(A&&typeof A=="object")for(var de in A)Rg(x,de,A[de],$);else if(A=_(A),arguments.length===2)_v(x,function(Qe){return B(A,Qe)!==-1});else for(var Ae=0,Be=A.length;Ae<Be;Ae++)Rg(x,A[Ae],$,K);return this}function _v(x,A){for(var $ in x[fn]){var K=$.split(/\d/)[0];(!A||A(K))&&Rg(x,K,null,null,$)}}var pd={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Sv(x,A,$,K){var de=A+u($)+(K?"_"+u(K):"");if(x[fn]&&x[fn][de])return this;var Ae=function(Qe){return $.call(K||x,Qe||window.event)},Be=Ae;!ut.touchNative&&ut.pointer&&A.indexOf("touch")===0?Ae=Os(x,A,Ae):ut.touch&&A==="dblclick"?Ae=S(x,Ae):"addEventListener"in x?A==="touchstart"||A==="touchmove"||A==="wheel"||A==="mousewheel"?x.addEventListener(pd[A]||A,Ae,ut.passiveEvents?{passive:!1}:!1):A==="mouseenter"||A==="mouseleave"?(Ae=function(Qe){Qe=Qe||window.event,rm(x,Qe)&&Be(Qe)},x.addEventListener(pd[A],Ae,!1)):x.addEventListener(A,Be,!1):x.attachEvent("on"+A,Ae),x[fn]=x[fn]||{},x[fn][de]=Ae}function Rg(x,A,$,K,de){de=de||A+u($)+(K?"_"+u(K):"");var Ae=x[fn]&&x[fn][de];if(!Ae)return this;!ut.touchNative&&ut.pointer&&A.indexOf("touch")===0?qr(x,A,Ae):ut.touch&&A==="dblclick"?P(x,Ae):"removeEventListener"in x?x.removeEventListener(pd[A]||A,Ae,!1):x.detachEvent("on"+A,Ae),x[fn][de]=null}function Do(x){return x.stopPropagation?x.stopPropagation():x.originalEvent?x.originalEvent._stopped=!0:x.cancelBubble=!0,this}function Ig(x){return Sv(x,"wheel",Do),this}function em(x){return Kt(x,"mousedown touchstart dblclick contextmenu",Do),x._leaflet_disable_click=!0,this}function Qs(x){return x.preventDefault?x.preventDefault():x.returnValue=!1,this}function Ka(x){return Qs(x),Do(x),this}function gd(x){if(x.composedPath)return x.composedPath();for(var A=[],$=x.target;$;)A.push($),$=$.parentNode;return A}function tm(x,A){if(!A)return new G(x.clientX,x.clientY);var $=Ci(A),K=$.boundingClientRect;return new G((x.clientX-K.left)/$.x-A.clientLeft,(x.clientY-K.top)/$.y-A.clientTop)}var dT=ut.linux&&ut.chrome?window.devicePixelRatio:ut.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function AN(x){return ut.edge?x.wheelDeltaY/2:x.deltaY&&x.deltaMode===0?-x.deltaY/dT:x.deltaY&&x.deltaMode===1?-x.deltaY*20:x.deltaY&&x.deltaMode===2?-x.deltaY*60:x.deltaX||x.deltaZ?0:x.wheelDelta?(x.wheelDeltaY||x.wheelDelta)/2:x.detail&&Math.abs(x.detail)<32765?-x.detail*20:x.detail?x.detail/-32765*60:0}function rm(x,A){var $=A.relatedTarget;if(!$)return!0;try{for(;$&&$!==x;)$=$.parentNode}catch{return!1}return $!==x}var Fg={__proto__:null,on:Kt,off:Ss,stopPropagation:Do,disableScrollPropagation:Ig,disableClickPropagation:em,preventDefault:Qs,stop:Ka,getPropagationPath:gd,getMousePosition:tm,getWheelDelta:AN,isExternalTarget:rm,addListener:Kt,removeListener:Ss},Bg=ge.extend({run:function(x,A,$,K){this.stop(),this._el=x,this._inProgress=!0,this._duration=$||.25,this._easeOutPower=1/Math.max(K||.5,.2),this._startPos=mt(x),this._offset=A.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ce(this._animate,this),this._step()},_step:function(x){var A=+new Date-this._startTime,$=this._duration*1e3;A<$?this._runFrame(this._easeOut(A/$),x):(this._runFrame(1),this._complete())},_runFrame:function(x,A){var $=this._startPos.add(this._offset.multiplyBy(x));A&&$._round(),ft(this._el,$),this.fire("step")},_complete:function(){he(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(x){return 1-Math.pow(1-x,this._easeOutPower)}}),Xr=ge.extend({options:{crs:Xe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(x,A){A=k(this,A),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(x),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),A.maxBounds&&this.setMaxBounds(A.maxBounds),A.zoom!==void 0&&(this._zoom=this._limitZoom(A.zoom)),A.center&&A.zoom!==void 0&&this.setView(Ue(A.center),A.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=z&&ut.any3d&&!ut.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Kt(this._proxy,U,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(x,A,$){if(A=A===void 0?this._zoom:this._limitZoom(A),x=this._limitCenter(Ue(x),A,this.options.maxBounds),$=$||{},this._stop(),this._loaded&&!$.reset&&$!==!0){$.animate!==void 0&&($.zoom=i({animate:$.animate},$.zoom),$.pan=i({animate:$.animate,duration:$.duration},$.pan));var K=this._zoom!==A?this._tryAnimatedZoom&&this._tryAnimatedZoom(x,A,$.zoom):this._tryAnimatedPan(x,$.pan);if(K)return clearTimeout(this._sizeTimer),this}return this._resetView(x,A,$.pan&&$.pan.noMoveStart),this},setZoom:function(x,A){return this._loaded?this.setView(this.getCenter(),x,{zoom:A}):(this._zoom=x,this)},zoomIn:function(x,A){return x=x||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+x,A)},zoomOut:function(x,A){return x=x||(ut.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-x,A)},setZoomAround:function(x,A,$){var K=this.getZoomScale(A),de=this.getSize().divideBy(2),Ae=x instanceof G?x:this.latLngToContainerPoint(x),Be=Ae.subtract(de).multiplyBy(1-1/K),Qe=this.containerPointToLatLng(de.add(Be));return this.setView(Qe,A,{zoom:$})},_getBoundsCenterZoom:function(x,A){A=A||{},x=x.getBounds?x.getBounds():De(x);var $=ke(A.paddingTopLeft||A.padding||[0,0]),K=ke(A.paddingBottomRight||A.padding||[0,0]),de=this.getBoundsZoom(x,!1,$.add(K));if(de=typeof A.maxZoom=="number"?Math.min(A.maxZoom,de):de,de===1/0)return{center:x.getCenter(),zoom:de};var Ae=K.subtract($).divideBy(2),Be=this.project(x.getSouthWest(),de),Qe=this.project(x.getNorthEast(),de),ot=this.unproject(Be.add(Qe).divideBy(2).add(Ae),de);return{center:ot,zoom:de}},fitBounds:function(x,A){if(x=De(x),!x.isValid())throw new Error("Bounds are not valid.");var $=this._getBoundsCenterZoom(x,A);return this.setView($.center,$.zoom,A)},fitWorld:function(x){return this.fitBounds([[-90,-180],[90,180]],x)},panTo:function(x,A){return this.setView(x,this._zoom,{pan:A})},panBy:function(x,A){if(x=ke(x).round(),A=A||{},!x.x&&!x.y)return this.fire("moveend");if(A.animate!==!0&&!this.getSize().contains(x))return this._resetView(this.unproject(this.project(this.getCenter()).add(x)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),A.noMoveStart||this.fire("movestart"),A.animate!==!1){q(this._mapPane,"leaflet-pan-anim");var $=this._getMapPanePos().subtract(x).round();this._panAnim.run(this._mapPane,$,A.duration||.25,A.easeLinearity)}else this._rawPanBy(x),this.fire("move").fire("moveend");return this},flyTo:function(x,A,$){if($=$||{},$.animate===!1||!ut.any3d)return this.setView(x,A,$);this._stop();var K=this.project(this.getCenter()),de=this.project(x),Ae=this.getSize(),Be=this._zoom;x=Ue(x),A=A===void 0?Be:A;var Qe=Math.max(Ae.x,Ae.y),ot=Qe*this.getZoomScale(Be,A),wt=de.distanceTo(K)||1,Bt=1.42,mr=Bt*Bt;function Mr(hs){var ph=hs?-1:1,_T=hs?ot:Qe,ST=ot*ot-Qe*Qe+ph*mr*mr*wt*wt,Nd=2*_T*mr*wt,_d=ST/Nd,Sd=Math.sqrt(_d*_d+1)-_d,Qg=Sd<1e-9?-18:Math.log(Sd);return Qg}function Hn(hs){return(Math.exp(hs)-Math.exp(-hs))/2}function En(hs){return(Math.exp(hs)+Math.exp(-hs))/2}function Ki(hs){return Hn(hs)/En(hs)}var Ti=Mr(0);function fh(hs){return Qe*(En(Ti)/En(Ti+Bt*hs))}function qv(hs){return Qe*(En(Ti)*Ki(Ti+Bt*hs)-Hn(Ti))/mr}function xc(hs){return 1-Math.pow(1-hs,1.5)}var YN=Date.now(),jd=(Mr(1)-Ti)/Bt,Bo=$.duration?1e3*$.duration:1e3*jd*.8;function mh(){var hs=(Date.now()-YN)/Bo,ph=xc(hs)*jd;hs<=1?(this._flyToFrame=ce(mh,this),this._move(this.unproject(K.add(de.subtract(K).multiplyBy(qv(ph)/wt)),Be),this.getScaleZoom(Qe/fh(ph),Be),{flyTo:!0})):this._move(x,A)._moveEnd(!0)}return this._moveStart(!0,$.noMoveStart),mh.call(this),this},flyToBounds:function(x,A){var $=this._getBoundsCenterZoom(x,A);return this.flyTo($.center,$.zoom,A)},setMaxBounds:function(x){return x=De(x),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),x.isValid()?(this.options.maxBounds=x,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(x){var A=this.options.minZoom;return this.options.minZoom=x,this._loaded&&A!==x&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(x):this},setMaxZoom:function(x){var A=this.options.maxZoom;return this.options.maxZoom=x,this._loaded&&A!==x&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(x):this},panInsideBounds:function(x,A){this._enforcingBounds=!0;var $=this.getCenter(),K=this._limitCenter($,this._zoom,De(x));return $.equals(K)||this.panTo(K,A),this._enforcingBounds=!1,this},panInside:function(x,A){A=A||{};var $=ke(A.paddingTopLeft||A.padding||[0,0]),K=ke(A.paddingBottomRight||A.padding||[0,0]),de=this.project(this.getCenter()),Ae=this.project(x),Be=this.getPixelBounds(),Qe=Se([Be.min.add($),Be.max.subtract(K)]),ot=Qe.getSize();if(!Qe.contains(Ae)){this._enforcingBounds=!0;var wt=Ae.subtract(Qe.getCenter()),Bt=Qe.extend(Ae).getSize().subtract(ot);de.x+=wt.x<0?-Bt.x:Bt.x,de.y+=wt.y<0?-Bt.y:Bt.y,this.panTo(this.unproject(de),A),this._enforcingBounds=!1}return this},invalidateSize:function(x){if(!this._loaded)return this;x=i({animate:!1,pan:!0},x===!0?{animate:!0}:x);var A=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var $=this.getSize(),K=A.divideBy(2).round(),de=$.divideBy(2).round(),Ae=K.subtract(de);return!Ae.x&&!Ae.y?this:(x.animate&&x.pan?this.panBy(Ae):(x.pan&&this._rawPanBy(Ae),this.fire("move"),x.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:A,newSize:$}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(x){if(x=this._locateOptions=i({timeout:1e4,watch:!1},x),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var A=o(this._handleGeolocationResponse,this),$=o(this._handleGeolocationError,this);return x.watch?this._locationWatchId=navigator.geolocation.watchPosition(A,$,x):navigator.geolocation.getCurrentPosition(A,$,x),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(x){if(this._container._leaflet_id){var A=x.code,$=x.message||(A===1?"permission denied":A===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:A,message:"Geolocation error: "+$+"."})}},_handleGeolocationResponse:function(x){if(this._container._leaflet_id){var A=x.coords.latitude,$=x.coords.longitude,K=new $e(A,$),de=K.toBounds(x.coords.accuracy*2),Ae=this._locateOptions;if(Ae.setView){var Be=this.getBoundsZoom(de);this.setView(K,Ae.maxZoom?Math.min(Be,Ae.maxZoom):Be)}var Qe={latlng:K,bounds:de,timestamp:x.timestamp};for(var ot in x.coords)typeof x.coords[ot]=="number"&&(Qe[ot]=x.coords[ot]);this.fire("locationfound",Qe)}},addHandler:function(x,A){if(!A)return this;var $=this[x]=new A(this);return this._handlers.push($),this.options[x]&&$.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(he(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var x;for(x in this._layers)this._layers[x].remove();for(x in this._panes)ae(this._panes[x]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(x,A){var $="leaflet-pane"+(x?" leaflet-"+x.replace("Pane","")+"-pane":""),K=te("div",$,A||this._mapPane);return x&&(this._panes[x]=K),K},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var x=this.getPixelBounds(),A=this.unproject(x.getBottomLeft()),$=this.unproject(x.getTopRight());return new He(A,$)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(x,A,$){x=De(x),$=ke($||[0,0]);var K=this.getZoom()||0,de=this.getMinZoom(),Ae=this.getMaxZoom(),Be=x.getNorthWest(),Qe=x.getSouthEast(),ot=this.getSize().subtract($),wt=Se(this.project(Qe,K),this.project(Be,K)).getSize(),Bt=ut.any3d?this.options.zoomSnap:1,mr=ot.x/wt.x,Mr=ot.y/wt.y,Hn=A?Math.max(mr,Mr):Math.min(mr,Mr);return K=this.getScaleZoom(Hn,K),Bt&&(K=Math.round(K/(Bt/100))*(Bt/100),K=A?Math.ceil(K/Bt)*Bt:Math.floor(K/Bt)*Bt),Math.max(de,Math.min(Ae,K))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(x,A){var $=this._getTopLeftPoint(x,A);return new ve($,$.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(x){return this.options.crs.getProjectedBounds(x===void 0?this.getZoom():x)},getPane:function(x){return typeof x=="string"?this._panes[x]:x},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(x,A){var $=this.options.crs;return A=A===void 0?this._zoom:A,$.scale(x)/$.scale(A)},getScaleZoom:function(x,A){var $=this.options.crs;A=A===void 0?this._zoom:A;var K=$.zoom(x*$.scale(A));return isNaN(K)?1/0:K},project:function(x,A){return A=A===void 0?this._zoom:A,this.options.crs.latLngToPoint(Ue(x),A)},unproject:function(x,A){return A=A===void 0?this._zoom:A,this.options.crs.pointToLatLng(ke(x),A)},layerPointToLatLng:function(x){var A=ke(x).add(this.getPixelOrigin());return this.unproject(A)},latLngToLayerPoint:function(x){var A=this.project(Ue(x))._round();return A._subtract(this.getPixelOrigin())},wrapLatLng:function(x){return this.options.crs.wrapLatLng(Ue(x))},wrapLatLngBounds:function(x){return this.options.crs.wrapLatLngBounds(De(x))},distance:function(x,A){return this.options.crs.distance(Ue(x),Ue(A))},containerPointToLayerPoint:function(x){return ke(x).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(x){return ke(x).add(this._getMapPanePos())},containerPointToLatLng:function(x){var A=this.containerPointToLayerPoint(ke(x));return this.layerPointToLatLng(A)},latLngToContainerPoint:function(x){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ue(x)))},mouseEventToContainerPoint:function(x){return tm(x,this._container)},mouseEventToLayerPoint:function(x){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(x))},mouseEventToLatLng:function(x){return this.layerPointToLatLng(this.mouseEventToLayerPoint(x))},_initContainer:function(x){var A=this._container=X(x);if(A){if(A._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Kt(A,"scroll",this._onScroll,this),this._containerId=u(A)},_initLayout:function(){var x=this._container;this._fadeAnimated=this.options.fadeAnimation&&ut.any3d,q(x,"leaflet-container"+(ut.touch?" leaflet-touch":"")+(ut.retina?" leaflet-retina":"")+(ut.ielt9?" leaflet-oldie":"")+(ut.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var A=Q(x,"position");A!=="absolute"&&A!=="relative"&&A!=="fixed"&&A!=="sticky"&&(x.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var x=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ft(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(q(x.markerPane,"leaflet-zoom-hide"),q(x.shadowPane,"leaflet-zoom-hide"))},_resetView:function(x,A,$){ft(this._mapPane,new G(0,0));var K=!this._loaded;this._loaded=!0,A=this._limitZoom(A),this.fire("viewprereset");var de=this._zoom!==A;this._moveStart(de,$)._move(x,A)._moveEnd(de),this.fire("viewreset"),K&&this.fire("load")},_moveStart:function(x,A){return x&&this.fire("zoomstart"),A||this.fire("movestart"),this},_move:function(x,A,$,K){A===void 0&&(A=this._zoom);var de=this._zoom!==A;return this._zoom=A,this._lastCenter=x,this._pixelOrigin=this._getNewPixelOrigin(x),K?$&&$.pinch&&this.fire("zoom",$):((de||$&&$.pinch)&&this.fire("zoom",$),this.fire("move",$)),this},_moveEnd:function(x){return x&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return he(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(x){ft(this._mapPane,this._getMapPanePos().subtract(x))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(x){this._targets={},this._targets[u(this._container)]=this;var A=x?Ss:Kt;A(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&A(window,"resize",this._onResize,this),ut.any3d&&this.options.transform3DLimit&&(x?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){he(this._resizeRequest),this._resizeRequest=ce(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var x=this._getMapPanePos();Math.max(Math.abs(x.x),Math.abs(x.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(x,A){for(var $=[],K,de=A==="mouseout"||A==="mouseover",Ae=x.target||x.srcElement,Be=!1;Ae;){if(K=this._targets[u(Ae)],K&&(A==="click"||A==="preclick")&&this._draggableMoved(K)){Be=!0;break}if(K&&K.listens(A,!0)&&(de&&!rm(Ae,x)||($.push(K),de))||Ae===this._container)break;Ae=Ae.parentNode}return!$.length&&!Be&&!de&&this.listens(A,!0)&&($=[this]),$},_isClickDisabled:function(x){for(;x&&x!==this._container;){if(x._leaflet_disable_click)return!0;x=x.parentNode}},_handleDOMEvent:function(x){var A=x.target||x.srcElement;if(!(!this._loaded||A._leaflet_disable_events||x.type==="click"&&this._isClickDisabled(A))){var $=x.type;$==="mousedown"&&Cn(A),this._fireDOMEvent(x,$)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(x,A,$){if(x.type==="click"){var K=i({},x);K.type="preclick",this._fireDOMEvent(K,K.type,$)}var de=this._findEventTargets(x,A);if($){for(var Ae=[],Be=0;Be<$.length;Be++)$[Be].listens(A,!0)&&Ae.push($[Be]);de=Ae.concat(de)}if(de.length){A==="contextmenu"&&Qs(x);var Qe=de[0],ot={originalEvent:x};if(x.type!=="keypress"&&x.type!=="keydown"&&x.type!=="keyup"){var wt=Qe.getLatLng&&(!Qe._radius||Qe._radius<=10);ot.containerPoint=wt?this.latLngToContainerPoint(Qe.getLatLng()):this.mouseEventToContainerPoint(x),ot.layerPoint=this.containerPointToLayerPoint(ot.containerPoint),ot.latlng=wt?Qe.getLatLng():this.layerPointToLatLng(ot.layerPoint)}for(Be=0;Be<de.length;Be++)if(de[Be].fire(A,ot,!0),ot.originalEvent._stopped||de[Be].options.bubblingMouseEvents===!1&&B(this._mouseEvents,A)!==-1)return}},_draggableMoved:function(x){return x=x.dragging&&x.dragging.enabled()?x:this,x.dragging&&x.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var x=0,A=this._handlers.length;x<A;x++)this._handlers[x].disable()},whenReady:function(x,A){return this._loaded?x.call(A||this,{target:this}):this.on("load",x,A),this},_getMapPanePos:function(){return mt(this._mapPane)||new G(0,0)},_moved:function(){var x=this._getMapPanePos();return x&&!x.equals([0,0])},_getTopLeftPoint:function(x,A){var $=x&&A!==void 0?this._getNewPixelOrigin(x,A):this.getPixelOrigin();return $.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(x,A){var $=this.getSize()._divideBy(2);return this.project(x,A)._subtract($)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(x,A,$){var K=this._getNewPixelOrigin($,A);return this.project(x,A)._subtract(K)},_latLngBoundsToNewLayerBounds:function(x,A,$){var K=this._getNewPixelOrigin($,A);return Se([this.project(x.getSouthWest(),A)._subtract(K),this.project(x.getNorthWest(),A)._subtract(K),this.project(x.getSouthEast(),A)._subtract(K),this.project(x.getNorthEast(),A)._subtract(K)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(x){return this.latLngToLayerPoint(x).subtract(this._getCenterLayerPoint())},_limitCenter:function(x,A,$){if(!$)return x;var K=this.project(x,A),de=this.getSize().divideBy(2),Ae=new ve(K.subtract(de),K.add(de)),Be=this._getBoundsOffset(Ae,$,A);return Math.abs(Be.x)<=1&&Math.abs(Be.y)<=1?x:this.unproject(K.add(Be),A)},_limitOffset:function(x,A){if(!A)return x;var $=this.getPixelBounds(),K=new ve($.min.add(x),$.max.add(x));return x.add(this._getBoundsOffset(K,A))},_getBoundsOffset:function(x,A,$){var K=Se(this.project(A.getNorthEast(),$),this.project(A.getSouthWest(),$)),de=K.min.subtract(x.min),Ae=K.max.subtract(x.max),Be=this._rebound(de.x,-Ae.x),Qe=this._rebound(de.y,-Ae.y);return new G(Be,Qe)},_rebound:function(x,A){return x+A>0?Math.round(x-A)/2:Math.max(0,Math.ceil(x))-Math.max(0,Math.floor(A))},_limitZoom:function(x){var A=this.getMinZoom(),$=this.getMaxZoom(),K=ut.any3d?this.options.zoomSnap:1;return K&&(x=Math.round(x/K)*K),Math.max(A,Math.min($,x))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(x,A){var $=this._getCenterOffset(x)._trunc();return(A&&A.animate)!==!0&&!this.getSize().contains($)?!1:(this.panBy($,A),!0)},_createAnimProxy:function(){var x=this._proxy=te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(x),this.on("zoomanim",function(A){var $=I,K=this._proxy.style[$];tt(this._proxy,this.project(A.center,A.zoom),this.getZoomScale(A.zoom,1)),K===this._proxy.style[$]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var x=this.getCenter(),A=this.getZoom();tt(this._proxy,this.project(x,A),this.getZoomScale(A,1))},_catchTransitionEnd:function(x){this._animatingZoom&&x.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(x,A,$){if(this._animatingZoom)return!0;if($=$||{},!this._zoomAnimated||$.animate===!1||this._nothingToAnimate()||Math.abs(A-this._zoom)>this.options.zoomAnimationThreshold)return!1;var K=this.getZoomScale(A),de=this._getCenterOffset(x)._divideBy(1-1/K);return $.animate!==!0&&!this.getSize().contains(de)?!1:(ce(function(){this._moveStart(!0,$.noMoveStart||!1)._animateZoom(x,A,!0)},this),!0)},_animateZoom:function(x,A,$,K){this._mapPane&&($&&(this._animatingZoom=!0,this._animateToCenter=x,this._animateToZoom=A,q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:x,zoom:A,noUpdate:K}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function dc(x,A){return new Xr(x,A)}var Gi=ee.extend({options:{position:"topright"},initialize:function(x){k(this,x)},getPosition:function(){return this.options.position},setPosition:function(x){var A=this._map;return A&&A.removeControl(this),this.options.position=x,A&&A.addControl(this),this},getContainer:function(){return this._container},addTo:function(x){this.remove(),this._map=x;var A=this._container=this.onAdd(x),$=this.getPosition(),K=x._controlCorners[$];return q(A,"leaflet-control"),$.indexOf("bottom")!==-1?K.insertBefore(A,K.firstChild):K.appendChild(A),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(x){this._map&&x&&x.screenX>0&&x.screenY>0&&this._map.getContainer().focus()}}),uc=function(x){return new Gi(x)};Xr.include({addControl:function(x){return x.addTo(this),this},removeControl:function(x){return x.remove(),this},_initControlPos:function(){var x=this._controlCorners={},A="leaflet-",$=this._controlContainer=te("div",A+"control-container",this._container);function K(de,Ae){var Be=A+de+" "+A+Ae;x[de+Ae]=te("div",Be,$)}K("top","left"),K("top","right"),K("bottom","left"),K("bottom","right")},_clearControlPos:function(){for(var x in this._controlCorners)ae(this._controlCorners[x]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kv=Gi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(x,A,$,K){return $<K?-1:K<$?1:0}},initialize:function(x,A,$){k(this,$),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var K in x)this._addLayer(x[K],K);for(K in A)this._addLayer(A[K],K,!0)},onAdd:function(x){this._initLayout(),this._update(),this._map=x,x.on("zoomend",this._checkDisabledLayers,this);for(var A=0;A<this._layers.length;A++)this._layers[A].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(x){return Gi.prototype.addTo.call(this,x),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var x=0;x<this._layers.length;x++)this._layers[x].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(x,A){return this._addLayer(x,A),this._map?this._update():this},addOverlay:function(x,A){return this._addLayer(x,A,!0),this._map?this._update():this},removeLayer:function(x){x.off("add remove",this._onLayerChange,this);var A=this._getLayer(u(x));return A&&this._layers.splice(this._layers.indexOf(A),1),this._map?this._update():this},expand:function(){q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var x=this._map.getSize().y-(this._container.offsetTop+50);return x<this._section.clientHeight?(q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=x+"px"):se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var x="leaflet-control-layers",A=this._container=te("div",x),$=this.options.collapsed;A.setAttribute("aria-haspopup",!0),em(A),Ig(A);var K=this._section=te("section",x+"-list");$&&(this._map.on("click",this.collapse,this),Kt(A,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var de=this._layersLink=te("a",x+"-toggle",A);de.href="#",de.title="Layers",de.setAttribute("role","button"),Kt(de,{keydown:function(Ae){Ae.keyCode===13&&this._expandSafely()},click:function(Ae){Qs(Ae),this._expandSafely()}},this),$||this.expand(),this._baseLayersList=te("div",x+"-base",K),this._separator=te("div",x+"-separator",K),this._overlaysList=te("div",x+"-overlays",K),A.appendChild(K)},_getLayer:function(x){for(var A=0;A<this._layers.length;A++)if(this._layers[A]&&u(this._layers[A].layer)===x)return this._layers[A]},_addLayer:function(x,A,$){this._map&&x.on("add remove",this._onLayerChange,this),this._layers.push({layer:x,name:A,overlay:$}),this.options.sortLayers&&this._layers.sort(o(function(K,de){return this.options.sortFunction(K.layer,de.layer,K.name,de.name)},this)),this.options.autoZIndex&&x.setZIndex&&(this._lastZIndex++,x.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pe(this._baseLayersList),pe(this._overlaysList),this._layerControlInputs=[];var x,A,$,K,de=0;for($=0;$<this._layers.length;$++)K=this._layers[$],this._addItem(K),A=A||K.overlay,x=x||!K.overlay,de+=K.overlay?0:1;return this.options.hideSingleBase&&(x=x&&de>1,this._baseLayersList.style.display=x?"":"none"),this._separator.style.display=A&&x?"":"none",this},_onLayerChange:function(x){this._handlingClick||this._update();var A=this._getLayer(u(x.target)),$=A.overlay?x.type==="add"?"overlayadd":"overlayremove":x.type==="add"?"baselayerchange":null;$&&this._map.fire($,A)},_createRadioElement:function(x,A){var $='<input type="radio" class="leaflet-control-layers-selector" name="'+x+'"'+(A?' checked="checked"':"")+"/>",K=document.createElement("div");return K.innerHTML=$,K.firstChild},_addItem:function(x){var A=document.createElement("label"),$=this._map.hasLayer(x.layer),K;x.overlay?(K=document.createElement("input"),K.type="checkbox",K.className="leaflet-control-layers-selector",K.defaultChecked=$):K=this._createRadioElement("leaflet-base-layers_"+u(this),$),this._layerControlInputs.push(K),K.layerId=u(x.layer),Kt(K,"click",this._onInputClick,this);var de=document.createElement("span");de.innerHTML=" "+x.name;var Ae=document.createElement("span");A.appendChild(Ae),Ae.appendChild(K),Ae.appendChild(de);var Be=x.overlay?this._overlaysList:this._baseLayersList;return Be.appendChild(A),this._checkDisabledLayers(),A},_onInputClick:function(){if(!this._preventClick){var x=this._layerControlInputs,A,$,K=[],de=[];this._handlingClick=!0;for(var Ae=x.length-1;Ae>=0;Ae--)A=x[Ae],$=this._getLayer(A.layerId).layer,A.checked?K.push($):A.checked||de.push($);for(Ae=0;Ae<de.length;Ae++)this._map.hasLayer(de[Ae])&&this._map.removeLayer(de[Ae]);for(Ae=0;Ae<K.length;Ae++)this._map.hasLayer(K[Ae])||this._map.addLayer(K[Ae]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var x=this._layerControlInputs,A,$,K=this._map.getZoom(),de=x.length-1;de>=0;de--)A=x[de],$=this._getLayer(A.layerId).layer,A.disabled=$.options.minZoom!==void 0&&K<$.options.minZoom||$.options.maxZoom!==void 0&&K>$.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var x=this._section;this._preventClick=!0,Kt(x,"click",Qs),this.expand();var A=this;setTimeout(function(){Ss(x,"click",Qs),A._preventClick=!1})}}),$g=function(x,A,$){return new kv(x,A,$)},th=Gi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(x){var A="leaflet-control-zoom",$=te("div",A+" leaflet-bar"),K=this.options;return this._zoomInButton=this._createButton(K.zoomInText,K.zoomInTitle,A+"-in",$,this._zoomIn),this._zoomOutButton=this._createButton(K.zoomOutText,K.zoomOutTitle,A+"-out",$,this._zoomOut),this._updateDisabled(),x.on("zoomend zoomlevelschange",this._updateDisabled,this),$},onRemove:function(x){x.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(x){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(x.shiftKey?3:1))},_zoomOut:function(x){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(x.shiftKey?3:1))},_createButton:function(x,A,$,K,de){var Ae=te("a",$,K);return Ae.innerHTML=x,Ae.href="#",Ae.title=A,Ae.setAttribute("role","button"),Ae.setAttribute("aria-label",A),em(Ae),Kt(Ae,"click",Ka),Kt(Ae,"click",de,this),Kt(Ae,"click",this._refocusOnMap,this),Ae},_updateDisabled:function(){var x=this._map,A="leaflet-disabled";se(this._zoomInButton,A),se(this._zoomOutButton,A),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||x._zoom===x.getMinZoom())&&(q(this._zoomOutButton,A),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||x._zoom===x.getMaxZoom())&&(q(this._zoomInButton,A),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xr.mergeOptions({zoomControl:!0}),Xr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new th,this.addControl(this.zoomControl))});var CN=function(x){return new th(x)},Ei=Gi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(x){var A="leaflet-control-scale",$=te("div",A),K=this.options;return this._addScales(K,A+"-line",$),x.on(K.updateWhenIdle?"moveend":"move",this._update,this),x.whenReady(this._update,this),$},onRemove:function(x){x.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(x,A,$){x.metric&&(this._mScale=te("div",A,$)),x.imperial&&(this._iScale=te("div",A,$))},_update:function(){var x=this._map,A=x.getSize().y/2,$=x.distance(x.containerPointToLatLng([0,A]),x.containerPointToLatLng([this.options.maxWidth,A]));this._updateScales($)},_updateScales:function(x){this.options.metric&&x&&this._updateMetric(x),this.options.imperial&&x&&this._updateImperial(x)},_updateMetric:function(x){var A=this._getRoundNum(x),$=A<1e3?A+" m":A/1e3+" km";this._updateScale(this._mScale,$,A/x)},_updateImperial:function(x){var A=x*3.2808399,$,K,de;A>5280?($=A/5280,K=this._getRoundNum($),this._updateScale(this._iScale,K+" mi",K/$)):(de=this._getRoundNum(A),this._updateScale(this._iScale,de+" ft",de/A))},_updateScale:function(x,A,$){x.style.width=Math.round(this.options.maxWidth*$)+"px",x.innerHTML=A},_getRoundNum:function(x){var A=Math.pow(10,(Math.floor(x)+"").length-1),$=x/A;return $=$>=10?10:$>=5?5:$>=3?3:$>=2?2:1,A*$}}),rh=function(x){return new Ei(x)},Av='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xd=Gi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ut.inlineSvg?Av+" ":"")+"Leaflet</a>"},initialize:function(x){k(this,x),this._attributions={}},onAdd:function(x){x.attributionControl=this,this._container=te("div","leaflet-control-attribution"),em(this._container);for(var A in x._layers)x._layers[A].getAttribution&&this.addAttribution(x._layers[A].getAttribution());return this._update(),x.on("layeradd",this._addAttribution,this),this._container},onRemove:function(x){x.off("layeradd",this._addAttribution,this)},_addAttribution:function(x){x.layer.getAttribution&&(this.addAttribution(x.layer.getAttribution()),x.layer.once("remove",function(){this.removeAttribution(x.layer.getAttribution())},this))},setPrefix:function(x){return this.options.prefix=x,this._update(),this},addAttribution:function(x){return x?(this._attributions[x]||(this._attributions[x]=0),this._attributions[x]++,this._update(),this):this},removeAttribution:function(x){return x?(this._attributions[x]&&(this._attributions[x]--,this._update()),this):this},_update:function(){if(this._map){var x=[];for(var A in this._attributions)this._attributions[A]&&x.push(A);var $=[];this.options.prefix&&$.push(this.options.prefix),x.length&&$.push(x.join(", ")),this._container.innerHTML=$.join(' <span aria-hidden="true">|</span> ')}}});Xr.mergeOptions({attributionControl:!0}),Xr.addInitHook(function(){this.options.attributionControl&&new xd().addTo(this)});var uT=function(x){return new xd(x)};Gi.Layers=kv,Gi.Zoom=th,Gi.Scale=Ei,Gi.Attribution=xd,uc.layers=$g,uc.zoom=CN,uc.scale=rh,uc.attribution=uT;var va=ee.extend({initialize:function(x){this._map=x},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});va.addTo=function(x,A){return x.addHandler(A,this),this};var Cv={Events:ie},sh=ut.touch?"touchstart mousedown":"mousedown",Ja=ge.extend({options:{clickTolerance:3},initialize:function(x,A,$,K){k(this,K),this._element=x,this._dragStartTarget=A||x,this._preventOutline=$},enable:function(){this._enabled||(Kt(this._dragStartTarget,sh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ja._dragging===this&&this.finishDrag(!0),Ss(this._dragStartTarget,sh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(x){if(this._enabled&&(this._moved=!1,!R(this._element,"leaflet-zoom-anim"))){if(x.touches&&x.touches.length!==1){Ja._dragging===this&&this.finishDrag();return}if(!(Ja._dragging||x.shiftKey||x.which!==1&&x.button!==1&&!x.touches)&&(Ja._dragging=this,this._preventOutline&&Cn(this._element),zr(),vt(),!this._moving)){this.fire("down");var A=x.touches?x.touches[0]:x,$=Yi(this._element);this._startPoint=new G(A.clientX,A.clientY),this._startPos=mt(this._element),this._parentScale=Ci($);var K=x.type==="mousedown";Kt(document,K?"mousemove":"touchmove",this._onMove,this),Kt(document,K?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(x){if(this._enabled){if(x.touches&&x.touches.length>1){this._moved=!0;return}var A=x.touches&&x.touches.length===1?x.touches[0]:x,$=new G(A.clientX,A.clientY)._subtract(this._startPoint);!$.x&&!$.y||Math.abs($.x)+Math.abs($.y)<this.options.clickTolerance||($.x/=this._parentScale.x,$.y/=this._parentScale.y,Qs(x),this._moved||(this.fire("dragstart"),this._moved=!0,q(document.body,"leaflet-dragging"),this._lastTarget=x.target||x.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add($),this._moving=!0,this._lastEvent=x,this._updatePosition())}},_updatePosition:function(){var x={originalEvent:this._lastEvent};this.fire("predrag",x),ft(this._element,this._newPos),this.fire("drag",x)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(x){se(document.body,"leaflet-dragging"),this._lastTarget&&(se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ss(document,"mousemove touchmove",this._onMove,this),Ss(document,"mouseup touchend touchcancel",this._onUp,this),ds(),Dt();var A=this._moved&&this._moving;this._moving=!1,Ja._dragging=!1,A&&this.fire("dragend",{noInertia:x,distance:this._newPos.distanceTo(this._startPos)})}});function Ev(x,A,$){var K,de=[1,4,2,8],Ae,Be,Qe,ot,wt,Bt,mr,Mr;for(Ae=0,Bt=x.length;Ae<Bt;Ae++)x[Ae]._code=yd(x[Ae],A);for(Qe=0;Qe<4;Qe++){for(mr=de[Qe],K=[],Ae=0,Bt=x.length,Be=Bt-1;Ae<Bt;Be=Ae++)ot=x[Ae],wt=x[Be],ot._code&mr?wt._code&mr||(Mr=Hg(wt,ot,mr,A,$),Mr._code=yd(Mr,A),K.push(Mr)):(wt._code&mr&&(Mr=Hg(wt,ot,mr,A,$),Mr._code=yd(Mr,A),K.push(Mr)),K.push(ot));x=K}return x}function EN(x,A){var $,K,de,Ae,Be,Qe,ot,wt,Bt;if(!x||x.length===0)throw new Error("latlngs not passed");ba(x)||(console.warn("latlngs are not flat! Only the first ring will be used"),x=x[0]);var mr=Ue([0,0]),Mr=De(x),Hn=Mr.getNorthWest().distanceTo(Mr.getSouthWest())*Mr.getNorthEast().distanceTo(Mr.getNorthWest());Hn<1700&&(mr=Tv(x));var En=x.length,Ki=[];for($=0;$<En;$++){var Ti=Ue(x[$]);Ki.push(A.project(Ue([Ti.lat-mr.lat,Ti.lng-mr.lng])))}for(Qe=ot=wt=0,$=0,K=En-1;$<En;K=$++)de=Ki[$],Ae=Ki[K],Be=de.y*Ae.x-Ae.y*de.x,ot+=(de.x+Ae.x)*Be,wt+=(de.y+Ae.y)*Be,Qe+=Be*3;Qe===0?Bt=Ki[0]:Bt=[ot/Qe,wt/Qe];var fh=A.unproject(ke(Bt));return Ue([fh.lat+mr.lat,fh.lng+mr.lng])}function Tv(x){for(var A=0,$=0,K=0,de=0;de<x.length;de++){var Ae=Ue(x[de]);A+=Ae.lat,$+=Ae.lng,K++}return Ue([A/K,$/K])}var hT={__proto__:null,clipPolygon:Ev,polygonCenter:EN,centroid:Tv};function zg(x,A){if(!A||!x.length)return x.slice();var $=A*A;return x=pT(x,$),x=mT(x,$),x}function TN(x,A,$){return Math.sqrt(vd(x,A,$,!0))}function fT(x,A,$){return vd(x,A,$)}function mT(x,A){var $=x.length,K=typeof Uint8Array<"u"?Uint8Array:Array,de=new K($);de[0]=de[$-1]=1,Pv(x,de,A,0,$-1);var Ae,Be=[];for(Ae=0;Ae<$;Ae++)de[Ae]&&Be.push(x[Ae]);return Be}function Pv(x,A,$,K,de){var Ae=0,Be,Qe,ot;for(Qe=K+1;Qe<=de-1;Qe++)ot=vd(x[Qe],x[K],x[de],!0),ot>Ae&&(Be=Qe,Ae=ot);Ae>$&&(A[Be]=1,Pv(x,A,$,K,Be),Pv(x,A,$,Be,de))}function pT(x,A){for(var $=[x[0]],K=1,de=0,Ae=x.length;K<Ae;K++)gT(x[K],x[de])>A&&($.push(x[K]),de=K);return de<Ae-1&&$.push(x[Ae-1]),$}var Mv;function PN(x,A,$,K,de){var Ae=K?Mv:yd(x,$),Be=yd(A,$),Qe,ot,wt;for(Mv=Be;;){if(!(Ae|Be))return[x,A];if(Ae&Be)return!1;Qe=Ae||Be,ot=Hg(x,A,Qe,$,de),wt=yd(ot,$),Qe===Ae?(x=ot,Ae=wt):(A=ot,Be=wt)}}function Hg(x,A,$,K,de){var Ae=A.x-x.x,Be=A.y-x.y,Qe=K.min,ot=K.max,wt,Bt;return $&8?(wt=x.x+Ae*(ot.y-x.y)/Be,Bt=ot.y):$&4?(wt=x.x+Ae*(Qe.y-x.y)/Be,Bt=Qe.y):$&2?(wt=ot.x,Bt=x.y+Be*(ot.x-x.x)/Ae):$&1&&(wt=Qe.x,Bt=x.y+Be*(Qe.x-x.x)/Ae),new G(wt,Bt,de)}function yd(x,A){var $=0;return x.x<A.min.x?$|=1:x.x>A.max.x&&($|=2),x.y<A.min.y?$|=4:x.y>A.max.y&&($|=8),$}function gT(x,A){var $=A.x-x.x,K=A.y-x.y;return $*$+K*K}function vd(x,A,$,K){var de=A.x,Ae=A.y,Be=$.x-de,Qe=$.y-Ae,ot=Be*Be+Qe*Qe,wt;return ot>0&&(wt=((x.x-de)*Be+(x.y-Ae)*Qe)/ot,wt>1?(de=$.x,Ae=$.y):wt>0&&(de+=Be*wt,Ae+=Qe*wt)),Be=x.x-de,Qe=x.y-Ae,K?Be*Be+Qe*Qe:new G(de,Ae)}function ba(x){return!M(x[0])||typeof x[0][0]!="object"&&typeof x[0][0]<"u"}function MN(x){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ba(x)}function LN(x,A){var $,K,de,Ae,Be,Qe,ot,wt;if(!x||x.length===0)throw new Error("latlngs not passed");ba(x)||(console.warn("latlngs are not flat! Only the first ring will be used"),x=x[0]);var Bt=Ue([0,0]),mr=De(x),Mr=mr.getNorthWest().distanceTo(mr.getSouthWest())*mr.getNorthEast().distanceTo(mr.getNorthWest());Mr<1700&&(Bt=Tv(x));var Hn=x.length,En=[];for($=0;$<Hn;$++){var Ki=Ue(x[$]);En.push(A.project(Ue([Ki.lat-Bt.lat,Ki.lng-Bt.lng])))}for($=0,K=0;$<Hn-1;$++)K+=En[$].distanceTo(En[$+1])/2;if(K===0)wt=En[0];else for($=0,Ae=0;$<Hn-1;$++)if(Be=En[$],Qe=En[$+1],de=Be.distanceTo(Qe),Ae+=de,Ae>K){ot=(Ae-K)/de,wt=[Qe.x-ot*(Qe.x-Be.x),Qe.y-ot*(Qe.y-Be.y)];break}var Ti=A.unproject(ke(wt));return Ue([Ti.lat+Bt.lat,Ti.lng+Bt.lng])}var ON={__proto__:null,simplify:zg,pointToSegmentDistance:TN,closestPointOnSegment:fT,clipSegment:PN,_getEdgeIntersection:Hg,_getBitCode:yd,_sqClosestPointOnSegment:vd,isFlat:ba,_flat:MN,polylineCenter:LN},Lv={project:function(x){return new G(x.lng,x.lat)},unproject:function(x){return new $e(x.y,x.x)},bounds:new ve([-180,-90],[180,90])},Ov={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ve([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(x){var A=Math.PI/180,$=this.R,K=x.lat*A,de=this.R_MINOR/$,Ae=Math.sqrt(1-de*de),Be=Ae*Math.sin(K),Qe=Math.tan(Math.PI/4-K/2)/Math.pow((1-Be)/(1+Be),Ae/2);return K=-$*Math.log(Math.max(Qe,1e-10)),new G(x.lng*A*$,K)},unproject:function(x){for(var A=180/Math.PI,$=this.R,K=this.R_MINOR/$,de=Math.sqrt(1-K*K),Ae=Math.exp(-x.y/$),Be=Math.PI/2-2*Math.atan(Ae),Qe=0,ot=.1,wt;Qe<15&&Math.abs(ot)>1e-7;Qe++)wt=de*Math.sin(Be),wt=Math.pow((1-wt)/(1+wt),de/2),ot=Math.PI/2-2*Math.atan(Ae*wt)-Be,Be+=ot;return new $e(Be*A,x.x*A/$)}},xT={__proto__:null,LonLat:Lv,Mercator:Ov,SphericalMercator:qe},yT=i({},nt,{code:"EPSG:3395",projection:Ov,transformation:function(){var x=.5/(Math.PI*Ov.R);return ye(x,.5,-x,.5)}()}),DN=i({},nt,{code:"EPSG:4326",projection:Lv,transformation:ye(1/180,1,-1/180,.5)}),vT=i({},Ke,{projection:Lv,transformation:ye(1,0,-1,0),scale:function(x){return Math.pow(2,x)},zoom:function(x){return Math.log(x)/Math.LN2},distance:function(x,A){var $=A.lng-x.lng,K=A.lat-x.lat;return Math.sqrt($*$+K*K)},infinite:!0});Ke.Earth=nt,Ke.EPSG3395=yT,Ke.EPSG3857=Xe,Ke.EPSG900913=dt,Ke.EPSG4326=DN,Ke.Simple=vT;var Qa=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(x){return x.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(x){return x&&x.removeLayer(this),this},getPane:function(x){return this._map.getPane(x?this.options[x]||x:this.options.pane)},addInteractiveTarget:function(x){return this._map._targets[u(x)]=this,this},removeInteractiveTarget:function(x){return delete this._map._targets[u(x)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(x){var A=x.target;if(A.hasLayer(this)){if(this._map=A,this._zoomAnimated=A._zoomAnimated,this.getEvents){var $=this.getEvents();A.on($,this),this.once("remove",function(){A.off($,this)},this)}this.onAdd(A),this.fire("add"),A.fire("layeradd",{layer:this})}}});Xr.include({addLayer:function(x){if(!x._layerAdd)throw new Error("The provided object is not a Layer.");var A=u(x);return this._layers[A]?this:(this._layers[A]=x,x._mapToAdd=this,x.beforeAdd&&x.beforeAdd(this),this.whenReady(x._layerAdd,x),this)},removeLayer:function(x){var A=u(x);return this._layers[A]?(this._loaded&&x.onRemove(this),delete this._layers[A],this._loaded&&(this.fire("layerremove",{layer:x}),x.fire("remove")),x._map=x._mapToAdd=null,this):this},hasLayer:function(x){return u(x)in this._layers},eachLayer:function(x,A){for(var $ in this._layers)x.call(A,this._layers[$]);return this},_addLayers:function(x){x=x?M(x)?x:[x]:[];for(var A=0,$=x.length;A<$;A++)this.addLayer(x[A])},_addZoomLimit:function(x){(!isNaN(x.options.maxZoom)||!isNaN(x.options.minZoom))&&(this._zoomBoundLayers[u(x)]=x,this._updateZoomLevels())},_removeZoomLimit:function(x){var A=u(x);this._zoomBoundLayers[A]&&(delete this._zoomBoundLayers[A],this._updateZoomLevels())},_updateZoomLevels:function(){var x=1/0,A=-1/0,$=this._getZoomSpan();for(var K in this._zoomBoundLayers){var de=this._zoomBoundLayers[K].options;x=de.minZoom===void 0?x:Math.min(x,de.minZoom),A=de.maxZoom===void 0?A:Math.max(A,de.maxZoom)}this._layersMaxZoom=A===-1/0?void 0:A,this._layersMinZoom=x===1/0?void 0:x,$!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hc=Qa.extend({initialize:function(x,A){k(this,A),this._layers={};var $,K;if(x)for($=0,K=x.length;$<K;$++)this.addLayer(x[$])},addLayer:function(x){var A=this.getLayerId(x);return this._layers[A]=x,this._map&&this._map.addLayer(x),this},removeLayer:function(x){var A=x in this._layers?x:this.getLayerId(x);return this._map&&this._layers[A]&&this._map.removeLayer(this._layers[A]),delete this._layers[A],this},hasLayer:function(x){var A=typeof x=="number"?x:this.getLayerId(x);return A in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(x){var A=Array.prototype.slice.call(arguments,1),$,K;for($ in this._layers)K=this._layers[$],K[x]&&K[x].apply(K,A);return this},onAdd:function(x){this.eachLayer(x.addLayer,x)},onRemove:function(x){this.eachLayer(x.removeLayer,x)},eachLayer:function(x,A){for(var $ in this._layers)x.call(A,this._layers[$]);return this},getLayer:function(x){return this._layers[x]},getLayers:function(){var x=[];return this.eachLayer(x.push,x),x},setZIndex:function(x){return this.invoke("setZIndex",x)},getLayerId:function(x){return u(x)}}),sm=function(x,A){return new hc(x,A)},vl=hc.extend({addLayer:function(x){return this.hasLayer(x)?this:(x.addEventParent(this),hc.prototype.addLayer.call(this,x),this.fire("layeradd",{layer:x}))},removeLayer:function(x){return this.hasLayer(x)?(x in this._layers&&(x=this._layers[x]),x.removeEventParent(this),hc.prototype.removeLayer.call(this,x),this.fire("layerremove",{layer:x})):this},setStyle:function(x){return this.invoke("setStyle",x)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var x=new He;for(var A in this._layers){var $=this._layers[A];x.extend($.getBounds?$.getBounds():$.getLatLng())}return x}}),RN=function(x,A){return new vl(x,A)},bd=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(x){k(this,x)},createIcon:function(x){return this._createIcon("icon",x)},createShadow:function(x){return this._createIcon("shadow",x)},_createIcon:function(x,A){var $=this._getIconUrl(x);if(!$){if(x==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var K=this._createImg($,A&&A.tagName==="IMG"?A:null);return this._setIconStyles(K,x),(this.options.crossOrigin||this.options.crossOrigin==="")&&(K.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),K},_setIconStyles:function(x,A){var $=this.options,K=$[A+"Size"];typeof K=="number"&&(K=[K,K]);var de=ke(K),Ae=ke(A==="shadow"&&$.shadowAnchor||$.iconAnchor||de&&de.divideBy(2,!0));x.className="leaflet-marker-"+A+" "+($.className||""),Ae&&(x.style.marginLeft=-Ae.x+"px",x.style.marginTop=-Ae.y+"px"),de&&(x.style.width=de.x+"px",x.style.height=de.y+"px")},_createImg:function(x,A){return A=A||document.createElement("img"),A.src=x,A},_getIconUrl:function(x){return ut.retina&&this.options[x+"RetinaUrl"]||this.options[x+"Url"]}});function IN(x){return new bd(x)}var nh=bd.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(x){return typeof nh.imagePath!="string"&&(nh.imagePath=this._detectIconPath()),(this.options.imagePath||nh.imagePath)+bd.prototype._getIconUrl.call(this,x)},_stripUrl:function(x){var A=function($,K,de){var Ae=K.exec($);return Ae&&Ae[de]};return x=A(x,/^url\((['"])?(.+)\1\)$/,2),x&&A(x,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var x=te("div","leaflet-default-icon-path",document.body),A=Q(x,"background-image")||Q(x,"backgroundImage");if(document.body.removeChild(x),A=this._stripUrl(A),A)return A;var $=document.querySelector('link[href$="leaflet.css"]');return $?$.href.substring(0,$.href.length-11-1):""}}),Dv=va.extend({initialize:function(x){this._marker=x},addHooks:function(){var x=this._marker._icon;this._draggable||(this._draggable=new Ja(x,x,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),q(x,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(x){var A=this._marker,$=A._map,K=this._marker.options.autoPanSpeed,de=this._marker.options.autoPanPadding,Ae=mt(A._icon),Be=$.getPixelBounds(),Qe=$.getPixelOrigin(),ot=Se(Be.min._subtract(Qe).add(de),Be.max._subtract(Qe).subtract(de));if(!ot.contains(Ae)){var wt=ke((Math.max(ot.max.x,Ae.x)-ot.max.x)/(Be.max.x-ot.max.x)-(Math.min(ot.min.x,Ae.x)-ot.min.x)/(Be.min.x-ot.min.x),(Math.max(ot.max.y,Ae.y)-ot.max.y)/(Be.max.y-ot.max.y)-(Math.min(ot.min.y,Ae.y)-ot.min.y)/(Be.min.y-ot.min.y)).multiplyBy(K);$.panBy(wt,{animate:!1}),this._draggable._newPos._add(wt),this._draggable._startPos._add(wt),ft(A._icon,this._draggable._newPos),this._onDrag(x),this._panRequest=ce(this._adjustPan.bind(this,x))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(x){this._marker.options.autoPan&&(he(this._panRequest),this._panRequest=ce(this._adjustPan.bind(this,x)))},_onDrag:function(x){var A=this._marker,$=A._shadow,K=mt(A._icon),de=A._map.layerPointToLatLng(K);$&&ft($,K),A._latlng=de,x.latlng=de,x.oldLatLng=this._oldLatLng,A.fire("move",x).fire("drag",x)},_onDragEnd:function(x){he(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",x)}}),bl=Qa.extend({options:{icon:new nh,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(x,A){k(this,A),this._latlng=Ue(x)},onAdd:function(x){this._zoomAnimated=this._zoomAnimated&&x.options.markerZoomAnimation,this._zoomAnimated&&x.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(x){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&x.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(x){var A=this._latlng;return this._latlng=Ue(x),this.update(),this.fire("move",{oldLatLng:A,latlng:this._latlng})},setZIndexOffset:function(x){return this.options.zIndexOffset=x,this.update()},getIcon:function(){return this.options.icon},setIcon:function(x){return this.options.icon=x,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var x=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(x)}return this},_initIcon:function(){var x=this.options,A="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),$=x.icon.createIcon(this._icon),K=!1;$!==this._icon&&(this._icon&&this._removeIcon(),K=!0,x.title&&($.title=x.title),$.tagName==="IMG"&&($.alt=x.alt||"")),q($,A),x.keyboard&&($.tabIndex="0",$.setAttribute("role","button")),this._icon=$,x.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt($,"focus",this._panOnFocus,this);var de=x.icon.createShadow(this._shadow),Ae=!1;de!==this._shadow&&(this._removeShadow(),Ae=!0),de&&(q(de,A),de.alt=""),this._shadow=de,x.opacity<1&&this._updateOpacity(),K&&this.getPane().appendChild(this._icon),this._initInteraction(),de&&Ae&&this.getPane(x.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ss(this._icon,"focus",this._panOnFocus,this),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(x){this._icon&&ft(this._icon,x),this._shadow&&ft(this._shadow,x),this._zIndex=x.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(x){this._icon&&(this._icon.style.zIndex=this._zIndex+x)},_animateZoom:function(x){var A=this._map._latLngToNewLayerPoint(this._latlng,x.zoom,x.center).round();this._setPos(A)},_initInteraction:function(){if(this.options.interactive&&(q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Dv)){var x=this.options.draggable;this.dragging&&(x=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Dv(this),x&&this.dragging.enable()}},setOpacity:function(x){return this.options.opacity=x,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var x=this.options.opacity;this._icon&&Le(this._icon,x),this._shadow&&Le(this._shadow,x)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var x=this._map;if(x){var A=this.options.icon.options,$=A.iconSize?ke(A.iconSize):ke(0,0),K=A.iconAnchor?ke(A.iconAnchor):ke(0,0);x.panInside(this._latlng,{paddingTopLeft:K,paddingBottomRight:$.subtract(K)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bT(x,A){return new bl(x,A)}var fc=Qa.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(x){this._renderer=x.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(x){return k(this,x),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&x&&Object.prototype.hasOwnProperty.call(x,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Wg=fc.extend({options:{fill:!0,radius:10},initialize:function(x,A){k(this,A),this._latlng=Ue(x),this._radius=this.options.radius},setLatLng:function(x){var A=this._latlng;return this._latlng=Ue(x),this.redraw(),this.fire("move",{oldLatLng:A,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(x){return this.options.radius=this._radius=x,this.redraw()},getRadius:function(){return this._radius},setStyle:function(x){var A=x&&x.radius||this._radius;return fc.prototype.setStyle.call(this,x),this.setRadius(A),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var x=this._radius,A=this._radiusY||x,$=this._clickTolerance(),K=[x+$,A+$];this._pxBounds=new ve(this._point.subtract(K),this._point.add(K))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(x){return x.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function FN(x,A){return new Wg(x,A)}var Vg=Wg.extend({initialize:function(x,A,$){if(typeof A=="number"&&(A=i({},$,{radius:A})),k(this,A),this._latlng=Ue(x),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(x){return this._mRadius=x,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var x=[this._radius,this._radiusY||this._radius];return new He(this._map.layerPointToLatLng(this._point.subtract(x)),this._map.layerPointToLatLng(this._point.add(x)))},setStyle:fc.prototype.setStyle,_project:function(){var x=this._latlng.lng,A=this._latlng.lat,$=this._map,K=$.options.crs;if(K.distance===nt.distance){var de=Math.PI/180,Ae=this._mRadius/nt.R/de,Be=$.project([A+Ae,x]),Qe=$.project([A-Ae,x]),ot=Be.add(Qe).divideBy(2),wt=$.unproject(ot).lat,Bt=Math.acos((Math.cos(Ae*de)-Math.sin(A*de)*Math.sin(wt*de))/(Math.cos(A*de)*Math.cos(wt*de)))/de;(isNaN(Bt)||Bt===0)&&(Bt=Ae/Math.cos(Math.PI/180*A)),this._point=ot.subtract($.getPixelOrigin()),this._radius=isNaN(Bt)?0:ot.x-$.project([wt,x-Bt]).x,this._radiusY=ot.y-Be.y}else{var mr=K.unproject(K.project(this._latlng).subtract([this._mRadius,0]));this._point=$.latLngToLayerPoint(this._latlng),this._radius=this._point.x-$.latLngToLayerPoint(mr).x}this._updateBounds()}});function nm(x,A,$){return new Vg(x,A,$)}var Zi=fc.extend({options:{smoothFactor:1,noClip:!1},initialize:function(x,A){k(this,A),this._setLatLngs(x)},getLatLngs:function(){return this._latlngs},setLatLngs:function(x){return this._setLatLngs(x),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(x){for(var A=1/0,$=null,K=vd,de,Ae,Be=0,Qe=this._parts.length;Be<Qe;Be++)for(var ot=this._parts[Be],wt=1,Bt=ot.length;wt<Bt;wt++){de=ot[wt-1],Ae=ot[wt];var mr=K(x,de,Ae,!0);mr<A&&(A=mr,$=K(x,de,Ae))}return $&&($.distance=Math.sqrt(A)),$},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return LN(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(x,A){return A=A||this._defaultShape(),x=Ue(x),A.push(x),this._bounds.extend(x),this.redraw()},_setLatLngs:function(x){this._bounds=new He,this._latlngs=this._convertLatLngs(x)},_defaultShape:function(){return ba(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(x){for(var A=[],$=ba(x),K=0,de=x.length;K<de;K++)$?(A[K]=Ue(x[K]),this._bounds.extend(A[K])):A[K]=this._convertLatLngs(x[K]);return A},_project:function(){var x=new ve;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,x),this._bounds.isValid()&&x.isValid()&&(this._rawPxBounds=x,this._updateBounds())},_updateBounds:function(){var x=this._clickTolerance(),A=new G(x,x);this._rawPxBounds&&(this._pxBounds=new ve([this._rawPxBounds.min.subtract(A),this._rawPxBounds.max.add(A)]))},_projectLatlngs:function(x,A,$){var K=x[0]instanceof $e,de=x.length,Ae,Be;if(K){for(Be=[],Ae=0;Ae<de;Ae++)Be[Ae]=this._map.latLngToLayerPoint(x[Ae]),$.extend(Be[Ae]);A.push(Be)}else for(Ae=0;Ae<de;Ae++)this._projectLatlngs(x[Ae],A,$)},_clipPoints:function(){var x=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(x))){if(this.options.noClip){this._parts=this._rings;return}var A=this._parts,$,K,de,Ae,Be,Qe,ot;for($=0,de=0,Ae=this._rings.length;$<Ae;$++)for(ot=this._rings[$],K=0,Be=ot.length;K<Be-1;K++)Qe=PN(ot[K],ot[K+1],x,K,!0),Qe&&(A[de]=A[de]||[],A[de].push(Qe[0]),(Qe[1]!==ot[K+1]||K===Be-2)&&(A[de].push(Qe[1]),de++))}},_simplifyPoints:function(){for(var x=this._parts,A=this.options.smoothFactor,$=0,K=x.length;$<K;$++)x[$]=zg(x[$],A)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(x,A){var $,K,de,Ae,Be,Qe,ot=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(x))return!1;for($=0,Ae=this._parts.length;$<Ae;$++)for(Qe=this._parts[$],K=0,Be=Qe.length,de=Be-1;K<Be;de=K++)if(!(!A&&K===0)&&TN(x,Qe[de],Qe[K])<=ot)return!0;return!1}});function wT(x,A){return new Zi(x,A)}Zi._flat=MN;var wl=Zi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return EN(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(x){var A=Zi.prototype._convertLatLngs.call(this,x),$=A.length;return $>=2&&A[0]instanceof $e&&A[0].equals(A[$-1])&&A.pop(),A},_setLatLngs:function(x){Zi.prototype._setLatLngs.call(this,x),ba(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ba(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var x=this._renderer._bounds,A=this.options.weight,$=new G(A,A);if(x=new ve(x.min.subtract($),x.max.add($)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(x))){if(this.options.noClip){this._parts=this._rings;return}for(var K=0,de=this._rings.length,Ae;K<de;K++)Ae=Ev(this._rings[K],x,!0),Ae.length&&this._parts.push(Ae)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(x){var A=!1,$,K,de,Ae,Be,Qe,ot,wt;if(!this._pxBounds||!this._pxBounds.contains(x))return!1;for(Ae=0,ot=this._parts.length;Ae<ot;Ae++)for($=this._parts[Ae],Be=0,wt=$.length,Qe=wt-1;Be<wt;Qe=Be++)K=$[Be],de=$[Qe],K.y>x.y!=de.y>x.y&&x.x<(de.x-K.x)*(x.y-K.y)/(de.y-K.y)+K.x&&(A=!A);return A||Zi.prototype._containsPoint.call(this,x,!0)}});function jT(x,A){return new wl(x,A)}var Ro=vl.extend({initialize:function(x,A){k(this,A),this._layers={},x&&this.addData(x)},addData:function(x){var A=M(x)?x:x.features,$,K,de;if(A){for($=0,K=A.length;$<K;$++)de=A[$],(de.geometries||de.geometry||de.features||de.coordinates)&&this.addData(de);return this}var Ae=this.options;if(Ae.filter&&!Ae.filter(x))return this;var Be=ih(x,Ae);return Be?(Be.feature=Gg(x),Be.defaultOptions=Be.options,this.resetStyle(Be),Ae.onEachFeature&&Ae.onEachFeature(x,Be),this.addLayer(Be)):this},resetStyle:function(x){return x===void 0?this.eachLayer(this.resetStyle,this):(x.options=i({},x.defaultOptions),this._setLayerStyle(x,this.options.style),this)},setStyle:function(x){return this.eachLayer(function(A){this._setLayerStyle(A,x)},this)},_setLayerStyle:function(x,A){x.setStyle&&(typeof A=="function"&&(A=A(x.feature)),x.setStyle(A))}});function ih(x,A){var $=x.type==="Feature"?x.geometry:x,K=$?$.coordinates:null,de=[],Ae=A&&A.pointToLayer,Be=A&&A.coordsToLatLng||qg,Qe,ot,wt,Bt;if(!K&&!$)return null;switch($.type){case"Point":return Qe=Be(K),Ug(Ae,x,Qe,A);case"MultiPoint":for(wt=0,Bt=K.length;wt<Bt;wt++)Qe=Be(K[wt]),de.push(Ug(Ae,x,Qe,A));return new vl(de);case"LineString":case"MultiLineString":return ot=im(K,$.type==="LineString"?0:1,Be),new Zi(ot,A);case"Polygon":case"MultiPolygon":return ot=im(K,$.type==="Polygon"?1:2,Be),new wl(ot,A);case"GeometryCollection":for(wt=0,Bt=$.geometries.length;wt<Bt;wt++){var mr=ih({geometry:$.geometries[wt],type:"Feature",properties:x.properties},A);mr&&de.push(mr)}return new vl(de);case"FeatureCollection":for(wt=0,Bt=$.features.length;wt<Bt;wt++){var Mr=ih($.features[wt],A);Mr&&de.push(Mr)}return new vl(de);default:throw new Error("Invalid GeoJSON object.")}}function Ug(x,A,$,K){return x?x(A,$):new bl($,K&&K.markersInheritOptions&&K)}function qg(x){return new $e(x[1],x[0],x[2])}function im(x,A,$){for(var K=[],de=0,Ae=x.length,Be;de<Ae;de++)Be=A?im(x[de],A-1,$):($||qg)(x[de]),K.push(Be);return K}function Xg(x,A){return x=Ue(x),x.alt!==void 0?[y(x.lng,A),y(x.lat,A),y(x.alt,A)]:[y(x.lng,A),y(x.lat,A)]}function Yg(x,A,$,K){for(var de=[],Ae=0,Be=x.length;Ae<Be;Ae++)de.push(A?Yg(x[Ae],ba(x[Ae])?0:A-1,$,K):Xg(x[Ae],K));return!A&&$&&de.length>0&&de.push(de[0].slice()),de}function ah(x,A){return x.feature?i({},x.feature,{geometry:A}):Gg(A)}function Gg(x){return x.type==="Feature"||x.type==="FeatureCollection"?x:{type:"Feature",properties:{},geometry:x}}var Rv={toGeoJSON:function(x){return ah(this,{type:"Point",coordinates:Xg(this.getLatLng(),x)})}};bl.include(Rv),Vg.include(Rv),Wg.include(Rv),Zi.include({toGeoJSON:function(x){var A=!ba(this._latlngs),$=Yg(this._latlngs,A?1:0,!1,x);return ah(this,{type:(A?"Multi":"")+"LineString",coordinates:$})}}),wl.include({toGeoJSON:function(x){var A=!ba(this._latlngs),$=A&&!ba(this._latlngs[0]),K=Yg(this._latlngs,$?2:A?1:0,!0,x);return A||(K=[K]),ah(this,{type:($?"Multi":"")+"Polygon",coordinates:K})}}),hc.include({toMultiPoint:function(x){var A=[];return this.eachLayer(function($){A.push($.toGeoJSON(x).geometry.coordinates)}),ah(this,{type:"MultiPoint",coordinates:A})},toGeoJSON:function(x){var A=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(A==="MultiPoint")return this.toMultiPoint(x);var $=A==="GeometryCollection",K=[];return this.eachLayer(function(de){if(de.toGeoJSON){var Ae=de.toGeoJSON(x);if($)K.push(Ae.geometry);else{var Be=Gg(Ae);Be.type==="FeatureCollection"?K.push.apply(K,Be.features):K.push(Be)}}}),$?ah(this,{geometries:K,type:"GeometryCollection"}):{type:"FeatureCollection",features:K}}});function BN(x,A){return new Ro(x,A)}var eo=BN,mc=Qa.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(x,A,$){this._url=x,this._bounds=De(A),k(this,$)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(x){return this.options.opacity=x,this._image&&this._updateOpacity(),this},setStyle:function(x){return x.opacity&&this.setOpacity(x.opacity),this},bringToFront:function(){return this._map&&we(this._image),this},bringToBack:function(){return this._map&&Ce(this._image),this},setUrl:function(x){return this._url=x,this._image&&(this._image.src=x),this},setBounds:function(x){return this._bounds=De(x),this._map&&this._reset(),this},getEvents:function(){var x={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(x.zoomanim=this._animateZoom),x},setZIndex:function(x){return this.options.zIndex=x,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var x=this._url.tagName==="IMG",A=this._image=x?this._url:te("img");if(q(A,"leaflet-image-layer"),this._zoomAnimated&&q(A,"leaflet-zoom-animated"),this.options.className&&q(A,this.options.className),A.onselectstart=g,A.onmousemove=g,A.onload=o(this.fire,this,"load"),A.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),x){this._url=A.src;return}A.src=this._url,A.alt=this.options.alt},_animateZoom:function(x){var A=this._map.getZoomScale(x.zoom),$=this._map._latLngBoundsToNewLayerBounds(this._bounds,x.zoom,x.center).min;tt(this._image,$,A)},_reset:function(){var x=this._image,A=new ve(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),$=A.getSize();ft(x,A.min),x.style.width=$.x+"px",x.style.height=$.y+"px"},_updateOpacity:function(){Le(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var x=this.options.errorOverlayUrl;x&&this._url!==x&&(this._url=x,this._image.src=x)},getCenter:function(){return this._bounds.getCenter()}}),$N=function(x,A,$){return new mc(x,A,$)},Iv=mc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var x=this._url.tagName==="VIDEO",A=this._image=x?this._url:te("video");if(q(A,"leaflet-image-layer"),this._zoomAnimated&&q(A,"leaflet-zoom-animated"),this.options.className&&q(A,this.options.className),A.onselectstart=g,A.onmousemove=g,A.onloadeddata=o(this.fire,this,"load"),x){for(var $=A.getElementsByTagName("source"),K=[],de=0;de<$.length;de++)K.push($[de].src);this._url=$.length>0?K:[A.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(A.style,"objectFit")&&(A.style.objectFit="fill"),A.autoplay=!!this.options.autoplay,A.loop=!!this.options.loop,A.muted=!!this.options.muted,A.playsInline=!!this.options.playsInline;for(var Ae=0;Ae<this._url.length;Ae++){var Be=te("source");Be.src=this._url[Ae],A.appendChild(Be)}}});function zN(x,A,$){return new Iv(x,A,$)}var Fv=mc.extend({_initImage:function(){var x=this._image=this._url;q(x,"leaflet-image-layer"),this._zoomAnimated&&q(x,"leaflet-zoom-animated"),this.options.className&&q(x,this.options.className),x.onselectstart=g,x.onmousemove=g}});function Bv(x,A,$){return new Fv(x,A,$)}var Io=Qa.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(x,A){x&&(x instanceof $e||M(x))?(this._latlng=Ue(x),k(this,A)):(k(this,x),this._source=A),this.options.content&&(this._content=this.options.content)},openOn:function(x){return x=arguments.length?x:this._source._map,x.hasLayer(this)||x.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(x){return this._map?this.close():(arguments.length?this._source=x:x=this._source,this._prepareOpen(),this.openOn(x._map)),this},onAdd:function(x){this._zoomAnimated=x._zoomAnimated,this._container||this._initLayout(),x._fadeAnimated&&Le(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),x._fadeAnimated&&Le(this._container,1),this.bringToFront(),this.options.interactive&&(q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(x){x._fadeAnimated?(Le(this._container,0),this._removeTimeout=setTimeout(o(ae,void 0,this._container),200)):ae(this._container),this.options.interactive&&(se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(x){return this._latlng=Ue(x),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(x){return this._content=x,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var x={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(x.zoomanim=this._animateZoom),x},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&we(this._container),this},bringToBack:function(){return this._map&&Ce(this._container),this},_prepareOpen:function(x){var A=this._source;if(!A._map)return!1;if(A instanceof vl){A=null;var $=this._source._layers;for(var K in $)if($[K]._map){A=$[K];break}if(!A)return!1;this._source=A}if(!x)if(A.getCenter)x=A.getCenter();else if(A.getLatLng)x=A.getLatLng();else if(A.getBounds)x=A.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(x),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var x=this._contentNode,A=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof A=="string")x.innerHTML=A;else{for(;x.hasChildNodes();)x.removeChild(x.firstChild);x.appendChild(A)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var x=this._map.latLngToLayerPoint(this._latlng),A=ke(this.options.offset),$=this._getAnchor();this._zoomAnimated?ft(this._container,x.add($)):A=A.add(x).add($);var K=this._containerBottom=-A.y,de=this._containerLeft=-Math.round(this._containerWidth/2)+A.x;this._container.style.bottom=K+"px",this._container.style.left=de+"px"}},_getAnchor:function(){return[0,0]}});Xr.include({_initOverlay:function(x,A,$,K){var de=A;return de instanceof x||(de=new x(K).setContent(A)),$&&de.setLatLng($),de}}),Qa.include({_initOverlay:function(x,A,$,K){var de=$;return de instanceof x?(k(de,K),de._source=this):(de=A&&!K?A:new x(K,this),de.setContent($)),de}});var Zg=Io.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(x){return x=arguments.length?x:this._source._map,!x.hasLayer(this)&&x._popup&&x._popup.options.autoClose&&x.removeLayer(x._popup),x._popup=this,Io.prototype.openOn.call(this,x)},onAdd:function(x){Io.prototype.onAdd.call(this,x),x.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fc||this._source.on("preclick",Do))},onRemove:function(x){Io.prototype.onRemove.call(this,x),x.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fc||this._source.off("preclick",Do))},getEvents:function(){var x=Io.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(x.preclick=this.close),this.options.keepInView&&(x.moveend=this._adjustPan),x},_initLayout:function(){var x="leaflet-popup",A=this._container=te("div",x+" "+(this.options.className||"")+" leaflet-zoom-animated"),$=this._wrapper=te("div",x+"-content-wrapper",A);if(this._contentNode=te("div",x+"-content",$),em(A),Ig(this._contentNode),Kt(A,"contextmenu",Do),this._tipContainer=te("div",x+"-tip-container",A),this._tip=te("div",x+"-tip",this._tipContainer),this.options.closeButton){var K=this._closeButton=te("a",x+"-close-button",A);K.setAttribute("role","button"),K.setAttribute("aria-label","Close popup"),K.href="#close",K.innerHTML='<span aria-hidden="true">&#215;</span>',Kt(K,"click",function(de){Qs(de),this.close()},this)}},_updateLayout:function(){var x=this._contentNode,A=x.style;A.width="",A.whiteSpace="nowrap";var $=x.offsetWidth;$=Math.min($,this.options.maxWidth),$=Math.max($,this.options.minWidth),A.width=$+1+"px",A.whiteSpace="",A.height="";var K=x.offsetHeight,de=this.options.maxHeight,Ae="leaflet-popup-scrolled";de&&K>de?(A.height=de+"px",q(x,Ae)):se(x,Ae),this._containerWidth=this._container.offsetWidth},_animateZoom:function(x){var A=this._map._latLngToNewLayerPoint(this._latlng,x.zoom,x.center),$=this._getAnchor();ft(this._container,A.add($))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var x=this._map,A=parseInt(Q(this._container,"marginBottom"),10)||0,$=this._container.offsetHeight+A,K=this._containerWidth,de=new G(this._containerLeft,-$-this._containerBottom);de._add(mt(this._container));var Ae=x.layerPointToContainerPoint(de),Be=ke(this.options.autoPanPadding),Qe=ke(this.options.autoPanPaddingTopLeft||Be),ot=ke(this.options.autoPanPaddingBottomRight||Be),wt=x.getSize(),Bt=0,mr=0;Ae.x+K+ot.x>wt.x&&(Bt=Ae.x+K-wt.x+ot.x),Ae.x-Bt-Qe.x<0&&(Bt=Ae.x-Qe.x),Ae.y+$+ot.y>wt.y&&(mr=Ae.y+$-wt.y+ot.y),Ae.y-mr-Qe.y<0&&(mr=Ae.y-Qe.y),(Bt||mr)&&(this.options.keepInView&&(this._autopanning=!0),x.fire("autopanstart").panBy([Bt,mr]))}},_getAnchor:function(){return ke(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),oh=function(x,A){return new Zg(x,A)};Xr.mergeOptions({closePopupOnClick:!0}),Xr.include({openPopup:function(x,A,$){return this._initOverlay(Zg,x,A,$).openOn(this),this},closePopup:function(x){return x=arguments.length?x:this._popup,x&&x.close(),this}}),Qa.include({bindPopup:function(x,A){return this._popup=this._initOverlay(Zg,this._popup,x,A),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(x){return this._popup&&(this instanceof vl||(this._popup._source=this),this._popup._prepareOpen(x||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(x){return this._popup&&this._popup.setContent(x),this},getPopup:function(){return this._popup},_openPopup:function(x){if(!(!this._popup||!this._map)){Ka(x);var A=x.layer||x.target;if(this._popup._source===A&&!(A instanceof fc)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(x.latlng);return}this._popup._source=A,this.openPopup(x.latlng)}},_movePopup:function(x){this._popup.setLatLng(x.latlng)},_onKeyPress:function(x){x.originalEvent.keyCode===13&&this._openPopup(x)}});var lh=Io.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(x){Io.prototype.onAdd.call(this,x),this.setOpacity(this.options.opacity),x.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(x){Io.prototype.onRemove.call(this,x),x.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var x=Io.prototype.getEvents.call(this);return this.options.permanent||(x.preclick=this.close),x},_initLayout:function(){var x="leaflet-tooltip",A=x+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=te("div",A),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(x){var A,$,K=this._map,de=this._container,Ae=K.latLngToContainerPoint(K.getCenter()),Be=K.layerPointToContainerPoint(x),Qe=this.options.direction,ot=de.offsetWidth,wt=de.offsetHeight,Bt=ke(this.options.offset),mr=this._getAnchor();Qe==="top"?(A=ot/2,$=wt):Qe==="bottom"?(A=ot/2,$=0):Qe==="center"?(A=ot/2,$=wt/2):Qe==="right"?(A=0,$=wt/2):Qe==="left"?(A=ot,$=wt/2):Be.x<Ae.x?(Qe="right",A=0,$=wt/2):(Qe="left",A=ot+(Bt.x+mr.x)*2,$=wt/2),x=x.subtract(ke(A,$,!0)).add(Bt).add(mr),se(de,"leaflet-tooltip-right"),se(de,"leaflet-tooltip-left"),se(de,"leaflet-tooltip-top"),se(de,"leaflet-tooltip-bottom"),q(de,"leaflet-tooltip-"+Qe),ft(de,x)},_updatePosition:function(){var x=this._map.latLngToLayerPoint(this._latlng);this._setPosition(x)},setOpacity:function(x){this.options.opacity=x,this._container&&Le(this._container,x)},_animateZoom:function(x){var A=this._map._latLngToNewLayerPoint(this._latlng,x.zoom,x.center);this._setPosition(A)},_getAnchor:function(){return ke(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),am=function(x,A){return new lh(x,A)};Xr.include({openTooltip:function(x,A,$){return this._initOverlay(lh,x,A,$).openOn(this),this},closeTooltip:function(x){return x.close(),this}}),Qa.include({bindTooltip:function(x,A){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lh,this._tooltip,x,A),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(x){if(!(!x&&this._tooltipHandlersAdded)){var A=x?"off":"on",$={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?$.add=this._openTooltip:($.mouseover=this._openTooltip,$.mouseout=this.closeTooltip,$.click=this._openTooltip,this._map?this._addFocusListeners():$.add=this._addFocusListeners),this._tooltip.options.sticky&&($.mousemove=this._moveTooltip),this[A]($),this._tooltipHandlersAdded=!x}},openTooltip:function(x){return this._tooltip&&(this instanceof vl||(this._tooltip._source=this),this._tooltip._prepareOpen(x)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(x){return this._tooltip&&this._tooltip.setContent(x),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(x){var A=typeof x.getElement=="function"&&x.getElement();A&&(Kt(A,"focus",function(){this._tooltip._source=x,this.openTooltip()},this),Kt(A,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(x){var A=typeof x.getElement=="function"&&x.getElement();A&&A.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(x){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var A=this;this._map.once("moveend",function(){A._openOnceFlag=!1,A._openTooltip(x)});return}this._tooltip._source=x.layer||x.target,this.openTooltip(this._tooltip.options.sticky?x.latlng:void 0)}},_moveTooltip:function(x){var A=x.latlng,$,K;this._tooltip.options.sticky&&x.originalEvent&&($=this._map.mouseEventToContainerPoint(x.originalEvent),K=this._map.containerPointToLayerPoint($),A=this._map.layerPointToLatLng(K)),this._tooltip.setLatLng(A)}});var Kg=bd.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(x){var A=x&&x.tagName==="DIV"?x:document.createElement("div"),$=this.options;if($.html instanceof Element?(pe(A),A.appendChild($.html)):A.innerHTML=$.html!==!1?$.html:"",$.bgPos){var K=ke($.bgPos);A.style.backgroundPosition=-K.x+"px "+-K.y+"px"}return this._setIconStyles(A,"icon"),A},createShadow:function(){return null}});function HN(x){return new Kg(x)}bd.Default=nh;var pc=Qa.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ut.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(x){k(this,x)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(x){x._addZoomLimit(this)},onRemove:function(x){this._removeAllTiles(),ae(this._container),x._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(we(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ce(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(x){return this.options.opacity=x,this._updateOpacity(),this},setZIndex:function(x){return this.options.zIndex=x,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var x=this._clampZoom(this._map.getZoom());x!==this._tileZoom&&(this._tileZoom=x,this._updateLevels()),this._update()}return this},getEvents:function(){var x={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),x.move=this._onMove),this._zoomAnimated&&(x.zoomanim=this._animateZoom),x},createTile:function(){return document.createElement("div")},getTileSize:function(){var x=this.options.tileSize;return x instanceof G?x:new G(x,x)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(x){for(var A=this.getPane().children,$=-x(-1/0,1/0),K=0,de=A.length,Ae;K<de;K++)Ae=A[K].style.zIndex,A[K]!==this._container&&Ae&&($=x($,+Ae));isFinite($)&&(this.options.zIndex=$+x(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ut.ielt9){Le(this._container,this.options.opacity);var x=+new Date,A=!1,$=!1;for(var K in this._tiles){var de=this._tiles[K];if(!(!de.current||!de.loaded)){var Ae=Math.min(1,(x-de.loaded)/200);Le(de.el,Ae),Ae<1?A=!0:(de.active?$=!0:this._onOpaqueTile(de),de.active=!0)}}$&&!this._noPrune&&this._pruneTiles(),A&&(he(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var x=this._tileZoom,A=this.options.maxZoom;if(x!==void 0){for(var $ in this._levels)$=Number($),this._levels[$].el.children.length||$===x?(this._levels[$].el.style.zIndex=A-Math.abs(x-$),this._onUpdateLevel($)):(ae(this._levels[$].el),this._removeTilesAtZoom($),this._onRemoveLevel($),delete this._levels[$]);var K=this._levels[x],de=this._map;return K||(K=this._levels[x]={},K.el=te("div","leaflet-tile-container leaflet-zoom-animated",this._container),K.el.style.zIndex=A,K.origin=de.project(de.unproject(de.getPixelOrigin()),x).round(),K.zoom=x,this._setZoomTransform(K,de.getCenter(),de.getZoom()),g(K.el.offsetWidth),this._onCreateLevel(K)),this._level=K,K}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var x,A,$=this._map.getZoom();if($>this.options.maxZoom||$<this.options.minZoom){this._removeAllTiles();return}for(x in this._tiles)A=this._tiles[x],A.retain=A.current;for(x in this._tiles)if(A=this._tiles[x],A.current&&!A.active){var K=A.coords;this._retainParent(K.x,K.y,K.z,K.z-5)||this._retainChildren(K.x,K.y,K.z,K.z+2)}for(x in this._tiles)this._tiles[x].retain||this._removeTile(x)}},_removeTilesAtZoom:function(x){for(var A in this._tiles)this._tiles[A].coords.z===x&&this._removeTile(A)},_removeAllTiles:function(){for(var x in this._tiles)this._removeTile(x)},_invalidateAll:function(){for(var x in this._levels)ae(this._levels[x].el),this._onRemoveLevel(Number(x)),delete this._levels[x];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(x,A,$,K){var de=Math.floor(x/2),Ae=Math.floor(A/2),Be=$-1,Qe=new G(+de,+Ae);Qe.z=+Be;var ot=this._tileCoordsToKey(Qe),wt=this._tiles[ot];return wt&&wt.active?(wt.retain=!0,!0):(wt&&wt.loaded&&(wt.retain=!0),Be>K?this._retainParent(de,Ae,Be,K):!1)},_retainChildren:function(x,A,$,K){for(var de=2*x;de<2*x+2;de++)for(var Ae=2*A;Ae<2*A+2;Ae++){var Be=new G(de,Ae);Be.z=$+1;var Qe=this._tileCoordsToKey(Be),ot=this._tiles[Qe];if(ot&&ot.active){ot.retain=!0;continue}else ot&&ot.loaded&&(ot.retain=!0);$+1<K&&this._retainChildren(de,Ae,$+1,K)}},_resetView:function(x){var A=x&&(x.pinch||x.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),A,A)},_animateZoom:function(x){this._setView(x.center,x.zoom,!0,x.noUpdate)},_clampZoom:function(x){var A=this.options;return A.minNativeZoom!==void 0&&x<A.minNativeZoom?A.minNativeZoom:A.maxNativeZoom!==void 0&&A.maxNativeZoom<x?A.maxNativeZoom:x},_setView:function(x,A,$,K){var de=Math.round(A);this.options.maxZoom!==void 0&&de>this.options.maxZoom||this.options.minZoom!==void 0&&de<this.options.minZoom?de=void 0:de=this._clampZoom(de);var Ae=this.options.updateWhenZooming&&de!==this._tileZoom;(!K||Ae)&&(this._tileZoom=de,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),de!==void 0&&this._update(x),$||this._pruneTiles(),this._noPrune=!!$),this._setZoomTransforms(x,A)},_setZoomTransforms:function(x,A){for(var $ in this._levels)this._setZoomTransform(this._levels[$],x,A)},_setZoomTransform:function(x,A,$){var K=this._map.getZoomScale($,x.zoom),de=x.origin.multiplyBy(K).subtract(this._map._getNewPixelOrigin(A,$)).round();ut.any3d?tt(x.el,de,K):ft(x.el,de)},_resetGrid:function(){var x=this._map,A=x.options.crs,$=this._tileSize=this.getTileSize(),K=this._tileZoom,de=this._map.getPixelWorldBounds(this._tileZoom);de&&(this._globalTileRange=this._pxBoundsToTileRange(de)),this._wrapX=A.wrapLng&&!this.options.noWrap&&[Math.floor(x.project([0,A.wrapLng[0]],K).x/$.x),Math.ceil(x.project([0,A.wrapLng[1]],K).x/$.y)],this._wrapY=A.wrapLat&&!this.options.noWrap&&[Math.floor(x.project([A.wrapLat[0],0],K).y/$.x),Math.ceil(x.project([A.wrapLat[1],0],K).y/$.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(x){var A=this._map,$=A._animatingZoom?Math.max(A._animateToZoom,A.getZoom()):A.getZoom(),K=A.getZoomScale($,this._tileZoom),de=A.project(x,this._tileZoom).floor(),Ae=A.getSize().divideBy(K*2);return new ve(de.subtract(Ae),de.add(Ae))},_update:function(x){var A=this._map;if(A){var $=this._clampZoom(A.getZoom());if(x===void 0&&(x=A.getCenter()),this._tileZoom!==void 0){var K=this._getTiledPixelBounds(x),de=this._pxBoundsToTileRange(K),Ae=de.getCenter(),Be=[],Qe=this.options.keepBuffer,ot=new ve(de.getBottomLeft().subtract([Qe,-Qe]),de.getTopRight().add([Qe,-Qe]));if(!(isFinite(de.min.x)&&isFinite(de.min.y)&&isFinite(de.max.x)&&isFinite(de.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var wt in this._tiles){var Bt=this._tiles[wt].coords;(Bt.z!==this._tileZoom||!ot.contains(new G(Bt.x,Bt.y)))&&(this._tiles[wt].current=!1)}if(Math.abs($-this._tileZoom)>1){this._setView(x,$);return}for(var mr=de.min.y;mr<=de.max.y;mr++)for(var Mr=de.min.x;Mr<=de.max.x;Mr++){var Hn=new G(Mr,mr);if(Hn.z=this._tileZoom,!!this._isValidTile(Hn)){var En=this._tiles[this._tileCoordsToKey(Hn)];En?En.current=!0:Be.push(Hn)}}if(Be.sort(function(Ti,fh){return Ti.distanceTo(Ae)-fh.distanceTo(Ae)}),Be.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ki=document.createDocumentFragment();for(Mr=0;Mr<Be.length;Mr++)this._addTile(Be[Mr],Ki);this._level.el.appendChild(Ki)}}}},_isValidTile:function(x){var A=this._map.options.crs;if(!A.infinite){var $=this._globalTileRange;if(!A.wrapLng&&(x.x<$.min.x||x.x>$.max.x)||!A.wrapLat&&(x.y<$.min.y||x.y>$.max.y))return!1}if(!this.options.bounds)return!0;var K=this._tileCoordsToBounds(x);return De(this.options.bounds).overlaps(K)},_keyToBounds:function(x){return this._tileCoordsToBounds(this._keyToTileCoords(x))},_tileCoordsToNwSe:function(x){var A=this._map,$=this.getTileSize(),K=x.scaleBy($),de=K.add($),Ae=A.unproject(K,x.z),Be=A.unproject(de,x.z);return[Ae,Be]},_tileCoordsToBounds:function(x){var A=this._tileCoordsToNwSe(x),$=new He(A[0],A[1]);return this.options.noWrap||($=this._map.wrapLatLngBounds($)),$},_tileCoordsToKey:function(x){return x.x+":"+x.y+":"+x.z},_keyToTileCoords:function(x){var A=x.split(":"),$=new G(+A[0],+A[1]);return $.z=+A[2],$},_removeTile:function(x){var A=this._tiles[x];A&&(ae(A.el),delete this._tiles[x],this.fire("tileunload",{tile:A.el,coords:this._keyToTileCoords(x)}))},_initTile:function(x){q(x,"leaflet-tile");var A=this.getTileSize();x.style.width=A.x+"px",x.style.height=A.y+"px",x.onselectstart=g,x.onmousemove=g,ut.ielt9&&this.options.opacity<1&&Le(x,this.options.opacity)},_addTile:function(x,A){var $=this._getTilePos(x),K=this._tileCoordsToKey(x),de=this.createTile(this._wrapCoords(x),o(this._tileReady,this,x));this._initTile(de),this.createTile.length<2&&ce(o(this._tileReady,this,x,null,de)),ft(de,$),this._tiles[K]={el:de,coords:x,current:!0},A.appendChild(de),this.fire("tileloadstart",{tile:de,coords:x})},_tileReady:function(x,A,$){A&&this.fire("tileerror",{error:A,tile:$,coords:x});var K=this._tileCoordsToKey(x);$=this._tiles[K],$&&($.loaded=+new Date,this._map._fadeAnimated?(Le($.el,0),he(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this)):($.active=!0,this._pruneTiles()),A||(q($.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:$.el,coords:x})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ut.ielt9||!this._map._fadeAnimated?ce(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(x){return x.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(x){var A=new G(this._wrapX?f(x.x,this._wrapX):x.x,this._wrapY?f(x.y,this._wrapY):x.y);return A.z=x.z,A},_pxBoundsToTileRange:function(x){var A=this.getTileSize();return new ve(x.min.unscaleBy(A).floor(),x.max.unscaleBy(A).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var x in this._tiles)if(!this._tiles[x].loaded)return!1;return!0}});function ch(x){return new pc(x)}var gc=pc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(x,A){this._url=x,A=k(this,A),A.detectRetina&&ut.retina&&A.maxZoom>0?(A.tileSize=Math.floor(A.tileSize/2),A.zoomReverse?(A.zoomOffset--,A.minZoom=Math.min(A.maxZoom,A.minZoom+1)):(A.zoomOffset++,A.maxZoom=Math.max(A.minZoom,A.maxZoom-1)),A.minZoom=Math.max(0,A.minZoom)):A.zoomReverse?A.minZoom=Math.min(A.maxZoom,A.minZoom):A.maxZoom=Math.max(A.minZoom,A.maxZoom),typeof A.subdomains=="string"&&(A.subdomains=A.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(x,A){return this._url===x&&A===void 0&&(A=!0),this._url=x,A||this.redraw(),this},createTile:function(x,A){var $=document.createElement("img");return Kt($,"load",o(this._tileOnLoad,this,A,$)),Kt($,"error",o(this._tileOnError,this,A,$)),(this.options.crossOrigin||this.options.crossOrigin==="")&&($.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&($.referrerPolicy=this.options.referrerPolicy),$.alt="",$.src=this.getTileUrl(x),$},getTileUrl:function(x){var A={r:ut.retina?"@2x":"",s:this._getSubdomain(x),x:x.x,y:x.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var $=this._globalTileRange.max.y-x.y;this.options.tms&&(A.y=$),A["-y"]=$}return T(this._url,i(A,this.options))},_tileOnLoad:function(x,A){ut.ielt9?setTimeout(o(x,this,null,A),0):x(null,A)},_tileOnError:function(x,A,$){var K=this.options.errorTileUrl;K&&A.getAttribute("src")!==K&&(A.src=K),x($,A)},_onTileRemove:function(x){x.tile.onload=null},_getZoomForUrl:function(){var x=this._tileZoom,A=this.options.maxZoom,$=this.options.zoomReverse,K=this.options.zoomOffset;return $&&(x=A-x),x+K},_getSubdomain:function(x){var A=Math.abs(x.x+x.y)%this.options.subdomains.length;return this.options.subdomains[A]},_abortLoading:function(){var x,A;for(x in this._tiles)if(this._tiles[x].coords.z!==this._tileZoom&&(A=this._tiles[x].el,A.onload=g,A.onerror=g,!A.complete)){A.src=F;var $=this._tiles[x].coords;ae(A),delete this._tiles[x],this.fire("tileabort",{tile:A,coords:$})}},_removeTile:function(x){var A=this._tiles[x];if(A)return A.el.setAttribute("src",F),pc.prototype._removeTile.call(this,x)},_tileReady:function(x,A,$){if(!(!this._map||$&&$.getAttribute("src")===F))return pc.prototype._tileReady.call(this,x,A,$)}});function $v(x,A){return new gc(x,A)}var om=gc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(x,A){this._url=x;var $=i({},this.defaultWmsParams);for(var K in A)K in this.options||($[K]=A[K]);A=k(this,A);var de=A.detectRetina&&ut.retina?2:1,Ae=this.getTileSize();$.width=Ae.x*de,$.height=Ae.y*de,this.wmsParams=$},onAdd:function(x){this._crs=this.options.crs||x.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var A=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[A]=this._crs.code,gc.prototype.onAdd.call(this,x)},getTileUrl:function(x){var A=this._tileCoordsToNwSe(x),$=this._crs,K=Se($.project(A[0]),$.project(A[1])),de=K.min,Ae=K.max,Be=(this._wmsVersion>=1.3&&this._crs===DN?[de.y,de.x,Ae.y,Ae.x]:[de.x,de.y,Ae.x,Ae.y]).join(","),Qe=gc.prototype.getTileUrl.call(this,x);return Qe+C(this.wmsParams,Qe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Be},setParams:function(x,A){return i(this.wmsParams,x),A||this.redraw(),this}});function WN(x,A){return new om(x,A)}gc.WMS=om,$v.wms=WN;var Fo=Qa.extend({options:{padding:.1},initialize:function(x){k(this,x),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var x={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(x.zoomanim=this._onAnimZoom),x},_onAnimZoom:function(x){this._updateTransform(x.center,x.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(x,A){var $=this._map.getZoomScale(A,this._zoom),K=this._map.getSize().multiplyBy(.5+this.options.padding),de=this._map.project(this._center,A),Ae=K.multiplyBy(-$).add(de).subtract(this._map._getNewPixelOrigin(x,A));ut.any3d?tt(this._container,Ae,$):ft(this._container,Ae)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var x in this._layers)this._layers[x]._reset()},_onZoomEnd:function(){for(var x in this._layers)this._layers[x]._project()},_updatePaths:function(){for(var x in this._layers)this._layers[x]._update()},_update:function(){var x=this.options.padding,A=this._map.getSize(),$=this._map.containerPointToLayerPoint(A.multiplyBy(-x)).round();this._bounds=new ve($,$.add(A.multiplyBy(1+x*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zv=Fo.extend({options:{tolerance:0},getEvents:function(){var x=Fo.prototype.getEvents.call(this);return x.viewprereset=this._onViewPreReset,x},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var x=this._container=document.createElement("canvas");Kt(x,"mousemove",this._onMouseMove,this),Kt(x,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Kt(x,"mouseout",this._handleMouseOut,this),x._leaflet_disable_events=!0,this._ctx=x.getContext("2d")},_destroyContainer:function(){he(this._redrawRequest),delete this._ctx,ae(this._container),Ss(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var x;this._redrawBounds=null;for(var A in this._layers)x=this._layers[A],x._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fo.prototype._update.call(this);var x=this._bounds,A=this._container,$=x.getSize(),K=ut.retina?2:1;ft(A,x.min),A.width=K*$.x,A.height=K*$.y,A.style.width=$.x+"px",A.style.height=$.y+"px",ut.retina&&this._ctx.scale(2,2),this._ctx.translate(-x.min.x,-x.min.y),this.fire("update")}},_reset:function(){Fo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(x){this._updateDashArray(x),this._layers[u(x)]=x;var A=x._order={layer:x,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=A),this._drawLast=A,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(x){this._requestRedraw(x)},_removePath:function(x){var A=x._order,$=A.next,K=A.prev;$?$.prev=K:this._drawLast=K,K?K.next=$:this._drawFirst=$,delete x._order,delete this._layers[u(x)],this._requestRedraw(x)},_updatePath:function(x){this._extendRedrawBounds(x),x._project(),x._update(),this._requestRedraw(x)},_updateStyle:function(x){this._updateDashArray(x),this._requestRedraw(x)},_updateDashArray:function(x){if(typeof x.options.dashArray=="string"){var A=x.options.dashArray.split(/[, ]+/),$=[],K,de;for(de=0;de<A.length;de++){if(K=Number(A[de]),isNaN(K))return;$.push(K)}x.options._dashArray=$}else x.options._dashArray=x.options.dashArray},_requestRedraw:function(x){this._map&&(this._extendRedrawBounds(x),this._redrawRequest=this._redrawRequest||ce(this._redraw,this))},_extendRedrawBounds:function(x){if(x._pxBounds){var A=(x.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ve,this._redrawBounds.extend(x._pxBounds.min.subtract([A,A])),this._redrawBounds.extend(x._pxBounds.max.add([A,A]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var x=this._redrawBounds;if(x){var A=x.getSize();this._ctx.clearRect(x.min.x,x.min.y,A.x,A.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var x,A=this._redrawBounds;if(this._ctx.save(),A){var $=A.getSize();this._ctx.beginPath(),this._ctx.rect(A.min.x,A.min.y,$.x,$.y),this._ctx.clip()}this._drawing=!0;for(var K=this._drawFirst;K;K=K.next)x=K.layer,(!A||x._pxBounds&&x._pxBounds.intersects(A))&&x._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(x,A){if(this._drawing){var $,K,de,Ae,Be=x._parts,Qe=Be.length,ot=this._ctx;if(Qe){for(ot.beginPath(),$=0;$<Qe;$++){for(K=0,de=Be[$].length;K<de;K++)Ae=Be[$][K],ot[K?"lineTo":"moveTo"](Ae.x,Ae.y);A&&ot.closePath()}this._fillStroke(ot,x)}}},_updateCircle:function(x){if(!(!this._drawing||x._empty())){var A=x._point,$=this._ctx,K=Math.max(Math.round(x._radius),1),de=(Math.max(Math.round(x._radiusY),1)||K)/K;de!==1&&($.save(),$.scale(1,de)),$.beginPath(),$.arc(A.x,A.y/de,K,0,Math.PI*2,!1),de!==1&&$.restore(),this._fillStroke($,x)}},_fillStroke:function(x,A){var $=A.options;$.fill&&(x.globalAlpha=$.fillOpacity,x.fillStyle=$.fillColor||$.color,x.fill($.fillRule||"evenodd")),$.stroke&&$.weight!==0&&(x.setLineDash&&x.setLineDash(A.options&&A.options._dashArray||[]),x.globalAlpha=$.opacity,x.lineWidth=$.weight,x.strokeStyle=$.color,x.lineCap=$.lineCap,x.lineJoin=$.lineJoin,x.stroke())},_onClick:function(x){for(var A=this._map.mouseEventToLayerPoint(x),$,K,de=this._drawFirst;de;de=de.next)$=de.layer,$.options.interactive&&$._containsPoint(A)&&(!(x.type==="click"||x.type==="preclick")||!this._map._draggableMoved($))&&(K=$);this._fireEvent(K?[K]:!1,x)},_onMouseMove:function(x){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var A=this._map.mouseEventToLayerPoint(x);this._handleMouseHover(x,A)}},_handleMouseOut:function(x){var A=this._hoveredLayer;A&&(se(this._container,"leaflet-interactive"),this._fireEvent([A],x,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(x,A){if(!this._mouseHoverThrottled){for(var $,K,de=this._drawFirst;de;de=de.next)$=de.layer,$.options.interactive&&$._containsPoint(A)&&(K=$);K!==this._hoveredLayer&&(this._handleMouseOut(x),K&&(q(this._container,"leaflet-interactive"),this._fireEvent([K],x,"mouseover"),this._hoveredLayer=K)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,x),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(x,A,$){this._map._fireDOMEvent(A,$||A.type,x)},_bringToFront:function(x){var A=x._order;if(A){var $=A.next,K=A.prev;if($)$.prev=K;else return;K?K.next=$:$&&(this._drawFirst=$),A.prev=this._drawLast,this._drawLast.next=A,A.next=null,this._drawLast=A,this._requestRedraw(x)}},_bringToBack:function(x){var A=x._order;if(A){var $=A.next,K=A.prev;if(K)K.next=$;else return;$?$.prev=K:K&&(this._drawLast=K),A.prev=null,A.next=this._drawFirst,this._drawFirst.prev=A,this._drawFirst=A,this._requestRedraw(x)}}});function Hv(x){return ut.canvas?new zv(x):null}var dh=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(x){return document.createElement("<lvml:"+x+' class="lvml">')}}catch{}return function(x){return document.createElement("<"+x+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),VN={_initContainer:function(){this._container=te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fo.prototype._update.call(this),this.fire("update"))},_initPath:function(x){var A=x._container=dh("shape");q(A,"leaflet-vml-shape "+(this.options.className||"")),A.coordsize="1 1",x._path=dh("path"),A.appendChild(x._path),this._updateStyle(x),this._layers[u(x)]=x},_addPath:function(x){var A=x._container;this._container.appendChild(A),x.options.interactive&&x.addInteractiveTarget(A)},_removePath:function(x){var A=x._container;ae(A),x.removeInteractiveTarget(A),delete this._layers[u(x)]},_updateStyle:function(x){var A=x._stroke,$=x._fill,K=x.options,de=x._container;de.stroked=!!K.stroke,de.filled=!!K.fill,K.stroke?(A||(A=x._stroke=dh("stroke")),de.appendChild(A),A.weight=K.weight+"px",A.color=K.color,A.opacity=K.opacity,K.dashArray?A.dashStyle=M(K.dashArray)?K.dashArray.join(" "):K.dashArray.replace(/( *, *)/g," "):A.dashStyle="",A.endcap=K.lineCap.replace("butt","flat"),A.joinstyle=K.lineJoin):A&&(de.removeChild(A),x._stroke=null),K.fill?($||($=x._fill=dh("fill")),de.appendChild($),$.color=K.fillColor||K.color,$.opacity=K.fillOpacity):$&&(de.removeChild($),x._fill=null)},_updateCircle:function(x){var A=x._point.round(),$=Math.round(x._radius),K=Math.round(x._radiusY||$);this._setPath(x,x._empty()?"M0 0":"AL "+A.x+","+A.y+" "+$+","+K+" 0,"+65535*360)},_setPath:function(x,A){x._path.v=A},_bringToFront:function(x){we(x._container)},_bringToBack:function(x){Ce(x._container)}},to=ut.vml?dh:Tt,wd=Fo.extend({_initContainer:function(){this._container=to("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=to("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Ss(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fo.prototype._update.call(this);var x=this._bounds,A=x.getSize(),$=this._container;(!this._svgSize||!this._svgSize.equals(A))&&(this._svgSize=A,$.setAttribute("width",A.x),$.setAttribute("height",A.y)),ft($,x.min),$.setAttribute("viewBox",[x.min.x,x.min.y,A.x,A.y].join(" ")),this.fire("update")}},_initPath:function(x){var A=x._path=to("path");x.options.className&&q(A,x.options.className),x.options.interactive&&q(A,"leaflet-interactive"),this._updateStyle(x),this._layers[u(x)]=x},_addPath:function(x){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(x._path),x.addInteractiveTarget(x._path)},_removePath:function(x){ae(x._path),x.removeInteractiveTarget(x._path),delete this._layers[u(x)]},_updatePath:function(x){x._project(),x._update()},_updateStyle:function(x){var A=x._path,$=x.options;A&&($.stroke?(A.setAttribute("stroke",$.color),A.setAttribute("stroke-opacity",$.opacity),A.setAttribute("stroke-width",$.weight),A.setAttribute("stroke-linecap",$.lineCap),A.setAttribute("stroke-linejoin",$.lineJoin),$.dashArray?A.setAttribute("stroke-dasharray",$.dashArray):A.removeAttribute("stroke-dasharray"),$.dashOffset?A.setAttribute("stroke-dashoffset",$.dashOffset):A.removeAttribute("stroke-dashoffset")):A.setAttribute("stroke","none"),$.fill?(A.setAttribute("fill",$.fillColor||$.color),A.setAttribute("fill-opacity",$.fillOpacity),A.setAttribute("fill-rule",$.fillRule||"evenodd")):A.setAttribute("fill","none"))},_updatePoly:function(x,A){this._setPath(x,Ct(x._parts,A))},_updateCircle:function(x){var A=x._point,$=Math.max(Math.round(x._radius),1),K=Math.max(Math.round(x._radiusY),1)||$,de="a"+$+","+K+" 0 1,0 ",Ae=x._empty()?"M0 0":"M"+(A.x-$)+","+A.y+de+$*2+",0 "+de+-$*2+",0 ";this._setPath(x,Ae)},_setPath:function(x,A){x._path.setAttribute("d",A)},_bringToFront:function(x){we(x._path)},_bringToBack:function(x){Ce(x._path)}});ut.vml&&wd.include(VN);function Jg(x){return ut.svg||ut.vml?new wd(x):null}Xr.include({getRenderer:function(x){var A=x.options.renderer||this._getPaneRenderer(x.options.pane)||this.options.renderer||this._renderer;return A||(A=this._renderer=this._createRenderer()),this.hasLayer(A)||this.addLayer(A),A},_getPaneRenderer:function(x){if(x==="overlayPane"||x===void 0)return!1;var A=this._paneRenderers[x];return A===void 0&&(A=this._createRenderer({pane:x}),this._paneRenderers[x]=A),A},_createRenderer:function(x){return this.options.preferCanvas&&Hv(x)||Jg(x)}});var UN=wl.extend({initialize:function(x,A){wl.prototype.initialize.call(this,this._boundsToLatLngs(x),A)},setBounds:function(x){return this.setLatLngs(this._boundsToLatLngs(x))},_boundsToLatLngs:function(x){return x=De(x),[x.getSouthWest(),x.getNorthWest(),x.getNorthEast(),x.getSouthEast()]}});function NT(x,A){return new UN(x,A)}wd.create=to,wd.pointsToPath=Ct,Ro.geometryToLayer=ih,Ro.coordsToLatLng=qg,Ro.coordsToLatLngs=im,Ro.latLngToCoords=Xg,Ro.latLngsToCoords=Yg,Ro.getFeature=ah,Ro.asFeature=Gg,Xr.mergeOptions({boxZoom:!0});var uh=va.extend({initialize:function(x){this._map=x,this._container=x._container,this._pane=x._panes.overlayPane,this._resetStateTimeout=0,x.on("unload",this._destroy,this)},addHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ss(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(x){if(!x.shiftKey||x.which!==1&&x.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vt(),zr(),this._startPoint=this._map.mouseEventToContainerPoint(x),Kt(document,{contextmenu:Ka,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(x){this._moved||(this._moved=!0,this._box=te("div","leaflet-zoom-box",this._container),q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(x);var A=new ve(this._point,this._startPoint),$=A.getSize();ft(this._box,A.min),this._box.style.width=$.x+"px",this._box.style.height=$.y+"px"},_finish:function(){this._moved&&(ae(this._box),se(this._container,"leaflet-crosshair")),Dt(),ds(),Ss(document,{contextmenu:Ka,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(x){if(!(x.which!==1&&x.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var A=new He(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(A).fire("boxzoomend",{boxZoomBounds:A})}},_onKeyDown:function(x){x.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xr.addInitHook("addHandler","boxZoom",uh),Xr.mergeOptions({doubleClickZoom:!0});var qN=va.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(x){var A=this._map,$=A.getZoom(),K=A.options.zoomDelta,de=x.originalEvent.shiftKey?$-K:$+K;A.options.doubleClickZoom==="center"?A.setZoom(de):A.setZoomAround(x.containerPoint,de)}});Xr.addInitHook("addHandler","doubleClickZoom",qN),Xr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wv=va.extend({addHooks:function(){if(!this._draggable){var x=this._map;this._draggable=new Ja(x._mapPane,x._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),x.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),x.on("zoomend",this._onZoomEnd,this),x.whenReady(this._onZoomEnd,this))}q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){se(this._map._container,"leaflet-grab"),se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var x=this._map;if(x._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var A=De(this._map.options.maxBounds);this._offsetLimit=Se(this._map.latLngToContainerPoint(A.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(A.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;x.fire("movestart").fire("dragstart"),x.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(x){if(this._map.options.inertia){var A=this._lastTime=+new Date,$=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push($),this._times.push(A),this._prunePositions(A)}this._map.fire("move",x).fire("drag",x)},_prunePositions:function(x){for(;this._positions.length>1&&x-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var x=this._map.getSize().divideBy(2),A=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=A.subtract(x).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(x,A){return x-(x-A)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var x=this._draggable._newPos.subtract(this._draggable._startPos),A=this._offsetLimit;x.x<A.min.x&&(x.x=this._viscousLimit(x.x,A.min.x)),x.y<A.min.y&&(x.y=this._viscousLimit(x.y,A.min.y)),x.x>A.max.x&&(x.x=this._viscousLimit(x.x,A.max.x)),x.y>A.max.y&&(x.y=this._viscousLimit(x.y,A.max.y)),this._draggable._newPos=this._draggable._startPos.add(x)}},_onPreDragWrap:function(){var x=this._worldWidth,A=Math.round(x/2),$=this._initialWorldOffset,K=this._draggable._newPos.x,de=(K-A+$)%x+A-$,Ae=(K+A+$)%x-A-$,Be=Math.abs(de+$)<Math.abs(Ae+$)?de:Ae;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Be},_onDragEnd:function(x){var A=this._map,$=A.options,K=!$.inertia||x.noInertia||this._times.length<2;if(A.fire("dragend",x),K)A.fire("moveend");else{this._prunePositions(+new Date);var de=this._lastPos.subtract(this._positions[0]),Ae=(this._lastTime-this._times[0])/1e3,Be=$.easeLinearity,Qe=de.multiplyBy(Be/Ae),ot=Qe.distanceTo([0,0]),wt=Math.min($.inertiaMaxSpeed,ot),Bt=Qe.multiplyBy(wt/ot),mr=wt/($.inertiaDeceleration*Be),Mr=Bt.multiplyBy(-mr/2).round();!Mr.x&&!Mr.y?A.fire("moveend"):(Mr=A._limitOffset(Mr,A.options.maxBounds),ce(function(){A.panBy(Mr,{duration:mr,easeLinearity:Be,noMoveStart:!0,animate:!0})}))}}});Xr.addInitHook("addHandler","dragging",Wv),Xr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vv=va.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(x){this._map=x,this._setPanDelta(x.options.keyboardPanDelta),this._setZoomDelta(x.options.zoomDelta)},addHooks:function(){var x=this._map._container;x.tabIndex<=0&&(x.tabIndex="0"),Kt(x,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ss(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var x=document.body,A=document.documentElement,$=x.scrollTop||A.scrollTop,K=x.scrollLeft||A.scrollLeft;this._map._container.focus(),window.scrollTo(K,$)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(x){var A=this._panKeys={},$=this.keyCodes,K,de;for(K=0,de=$.left.length;K<de;K++)A[$.left[K]]=[-1*x,0];for(K=0,de=$.right.length;K<de;K++)A[$.right[K]]=[x,0];for(K=0,de=$.down.length;K<de;K++)A[$.down[K]]=[0,x];for(K=0,de=$.up.length;K<de;K++)A[$.up[K]]=[0,-1*x]},_setZoomDelta:function(x){var A=this._zoomKeys={},$=this.keyCodes,K,de;for(K=0,de=$.zoomIn.length;K<de;K++)A[$.zoomIn[K]]=x;for(K=0,de=$.zoomOut.length;K<de;K++)A[$.zoomOut[K]]=-x},_addHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ss(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(x){if(!(x.altKey||x.ctrlKey||x.metaKey)){var A=x.keyCode,$=this._map,K;if(A in this._panKeys){if(!$._panAnim||!$._panAnim._inProgress)if(K=this._panKeys[A],x.shiftKey&&(K=ke(K).multiplyBy(3)),$.options.maxBounds&&(K=$._limitOffset(ke(K),$.options.maxBounds)),$.options.worldCopyJump){var de=$.wrapLatLng($.unproject($.project($.getCenter()).add(K)));$.panTo(de)}else $.panBy(K)}else if(A in this._zoomKeys)$.setZoom($.getZoom()+(x.shiftKey?3:1)*this._zoomKeys[A]);else if(A===27&&$._popup&&$._popup.options.closeOnEscapeKey)$.closePopup();else return;Ka(x)}}});Xr.addInitHook("addHandler","keyboard",Vv),Xr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ks=va.extend({addHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ss(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(x){var A=AN(x),$=this._map.options.wheelDebounceTime;this._delta+=A,this._lastMousePos=this._map.mouseEventToContainerPoint(x),this._startTime||(this._startTime=+new Date);var K=Math.max($-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),K),Ka(x)},_performZoom:function(){var x=this._map,A=x.getZoom(),$=this._map.options.zoomSnap||0;x._stop();var K=this._delta/(this._map.options.wheelPxPerZoomLevel*4),de=4*Math.log(2/(1+Math.exp(-Math.abs(K))))/Math.LN2,Ae=$?Math.ceil(de/$)*$:de,Be=x._limitZoom(A+(this._delta>0?Ae:-Ae))-A;this._delta=0,this._startTime=null,Be&&(x.options.scrollWheelZoom==="center"?x.setZoom(A+Be):x.setZoomAround(this._lastMousePos,A+Be))}});Xr.addInitHook("addHandler","scrollWheelZoom",ks);var Uv=600;Xr.mergeOptions({tapHold:ut.touchNative&&ut.safari&&ut.mobile,tapTolerance:15});var lm=va.extend({addHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ss(this._map._container,"touchstart",this._onDown,this)},_onDown:function(x){if(clearTimeout(this._holdTimeout),x.touches.length===1){var A=x.touches[0];this._startPos=this._newPos=new G(A.clientX,A.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Kt(document,"touchend",Qs),Kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",A))},this),Uv),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function x(){Ss(document,"touchend",Qs),Ss(document,"touchend touchcancel",x)},_cancel:function(){clearTimeout(this._holdTimeout),Ss(document,"touchend touchcancel contextmenu",this._cancel,this),Ss(document,"touchmove",this._onMove,this)},_onMove:function(x){var A=x.touches[0];this._newPos=new G(A.clientX,A.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(x,A){var $=new MouseEvent(x,{bubbles:!0,cancelable:!0,view:window,screenX:A.screenX,screenY:A.screenY,clientX:A.clientX,clientY:A.clientY});$._simulated=!0,A.target.dispatchEvent($)}});Xr.addInitHook("addHandler","tapHold",lm),Xr.mergeOptions({touchZoom:ut.touch,bounceAtZoomLimits:!0});var hh=va.extend({addHooks:function(){q(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){se(this._map._container,"leaflet-touch-zoom"),Ss(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(x){var A=this._map;if(!(!x.touches||x.touches.length!==2||A._animatingZoom||this._zooming)){var $=A.mouseEventToContainerPoint(x.touches[0]),K=A.mouseEventToContainerPoint(x.touches[1]);this._centerPoint=A.getSize()._divideBy(2),this._startLatLng=A.containerPointToLatLng(this._centerPoint),A.options.touchZoom!=="center"&&(this._pinchStartLatLng=A.containerPointToLatLng($.add(K)._divideBy(2))),this._startDist=$.distanceTo(K),this._startZoom=A.getZoom(),this._moved=!1,this._zooming=!0,A._stop(),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),Qs(x)}},_onTouchMove:function(x){if(!(!x.touches||x.touches.length!==2||!this._zooming)){var A=this._map,$=A.mouseEventToContainerPoint(x.touches[0]),K=A.mouseEventToContainerPoint(x.touches[1]),de=$.distanceTo(K)/this._startDist;if(this._zoom=A.getScaleZoom(de,this._startZoom),!A.options.bounceAtZoomLimits&&(this._zoom<A.getMinZoom()&&de<1||this._zoom>A.getMaxZoom()&&de>1)&&(this._zoom=A._limitZoom(this._zoom)),A.options.touchZoom==="center"){if(this._center=this._startLatLng,de===1)return}else{var Ae=$._add(K)._divideBy(2)._subtract(this._centerPoint);if(de===1&&Ae.x===0&&Ae.y===0)return;this._center=A.unproject(A.project(this._pinchStartLatLng,this._zoom).subtract(Ae),this._zoom)}this._moved||(A._moveStart(!0,!1),this._moved=!0),he(this._animRequest);var Be=o(A._move,A,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ce(Be,this,!0),Qs(x)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,he(this._animRequest),Ss(document,"touchmove",this._onTouchMove,this),Ss(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xr.addInitHook("addHandler","touchZoom",hh),Xr.BoxZoom=uh,Xr.DoubleClickZoom=qN,Xr.Drag=Wv,Xr.Keyboard=Vv,Xr.ScrollWheelZoom=ks,Xr.TapHold=lm,Xr.TouchZoom=hh,r.Bounds=ve,r.Browser=ut,r.CRS=Ke,r.Canvas=zv,r.Circle=Vg,r.CircleMarker=Wg,r.Class=ee,r.Control=Gi,r.DivIcon=Kg,r.DivOverlay=Io,r.DomEvent=Fg,r.DomUtil=hn,r.Draggable=Ja,r.Evented=ge,r.FeatureGroup=vl,r.GeoJSON=Ro,r.GridLayer=pc,r.Handler=va,r.Icon=bd,r.ImageOverlay=mc,r.LatLng=$e,r.LatLngBounds=He,r.Layer=Qa,r.LayerGroup=hc,r.LineUtil=ON,r.Map=Xr,r.Marker=bl,r.Mixin=Cv,r.Path=fc,r.Point=G,r.PolyUtil=hT,r.Polygon=wl,r.Polyline=Zi,r.Popup=Zg,r.PosAnimation=Bg,r.Projection=xT,r.Rectangle=UN,r.Renderer=Fo,r.SVG=wd,r.SVGOverlay=Fv,r.TileLayer=gc,r.Tooltip=lh,r.Transformation=ht,r.Util=fe,r.VideoOverlay=Iv,r.bind=o,r.bounds=Se,r.canvas=Hv,r.circle=nm,r.circleMarker=FN,r.control=uc,r.divIcon=HN,r.extend=i,r.featureGroup=RN,r.geoJSON=BN,r.geoJson=eo,r.gridLayer=ch,r.icon=IN,r.imageOverlay=$N,r.latLng=Ue,r.latLngBounds=De,r.layerGroup=sm,r.map=dc,r.marker=bT,r.point=ke,r.polygon=jT,r.polyline=wT,r.popup=oh,r.rectangle=NT,r.setOptions=k,r.stamp=u,r.svg=Jg,r.svgOverlay=Bv,r.tileLayer=$v,r.tooltip=am,r.transformation=ye,r.version=n,r.videoOverlay=zN;var XN=window.L;r.noConflict=function(){return window.L=XN,this},window.L=r})}(vw,vw.exports)),vw.exports}var Nv=$Le();const ki=Ur(Nv);function qE(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function XE(t,e){return e==null?function(n,i){const a=Y.useRef();return a.current||(a.current=t(n,i)),a}:function(n,i){const a=Y.useRef();a.current||(a.current=t(n,i));const o=Y.useRef(n),{instance:l}=a.current;return Y.useEffect(function(){o.current!==n&&(e(l,n,o.current),o.current=n)},[l,n,i]),a}}function Gre(t,e){Y.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Zre(t){return function(r){const n=VE(),i=t(UE(r,n),n);return Vre(n.map,r.attribution),RF(i.current,r.eventHandlers),Gre(i.current,n),i}}function zLe(t,e){const r=Y.useRef();Y.useEffect(function(){if(e.pathOptions!==r.current){const i=e.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,e])}function HLe(t){return function(r){const n=VE(),i=t(UE(r,n),n);return RF(i.current,r.eventHandlers),Gre(i.current,n),zLe(i.current,r),i}}function WLe(t,e){const r=XE(t,e),n=Zre(r);return Yre(n)}function VLe(t,e){const r=XE(t),n=FLe(r,e);return RLe(n)}function ULe(t,e){const r=XE(t,e),n=HLe(r);return Yre(n)}function qLe(t,e){const r=XE(t,e),n=Zre(r);return ILe(n)}function XLe(t,e,r){const{opacity:n,zIndex:i}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function IF(){return VE().map}function xI(){return xI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xI.apply(this,arguments)}function YLe({bounds:t,boundsOptions:e,center:r,children:n,className:i,id:a,placeholder:o,style:l,whenReady:u,zoom:h,...f},g){const[y]=Y.useState({className:i,id:a,style:l}),[N,_]=Y.useState(null);Y.useImperativeHandle(g,()=>(N==null?void 0:N.map)??null,[N]);const k=Y.useCallback(O=>{if(O!==null&&N===null){const T=new Nv.Map(O,f);r!=null&&h!=null?T.setView(r,h):t!=null&&T.fitBounds(t,e),u!=null&&T.whenReady(u),_(DLe(T))}},[]);Y.useEffect(()=>()=>{N==null||N.map.remove()},[N]);const C=N?Oe.createElement(Xre,{value:N},n):o??null;return Oe.createElement("div",xI({},y,{ref:k}),C)}const FF=Y.forwardRef(YLe),Lu=WLe(function({position:e,...r},n){const i=new Nv.Marker(e,r);return qE(i,Ure(n,{overlayContainer:i}))},function(e,r,n){r.position!==n.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),Xy=ULe(function({positions:e,...r},n){const i=new Nv.Polyline(e,r);return qE(i,Ure(n,{overlayContainer:i}))},function(e,r,n){r.positions!==n.positions&&e.setLatLngs(r.positions)}),Ou=VLe(function(e,r){const n=new Nv.Popup(e,r.overlayContainer);return qE(n,r)},function(e,r,{position:n},i){Y.useEffect(function(){const{instance:o}=e;function l(h){h.popup===o&&(o.update(),i(!0))}function u(h){h.popup===o&&i(!1)}return r.map.on({popupopen:l,popupclose:u}),r.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){var f;r.map.off({popupopen:l,popupclose:u}),(f=r.overlayContainer)==null||f.unbindPopup(),r.map.removeLayer(o)}},[e,r,i,n])}),BF=qLe(function({url:e,...r},n){const i=new Nv.TileLayer(e,UE(r,n));return qE(i,n)},function(e,r,n){XLe(e,r,n);const{url:i}=r;i!=null&&i!==n.url&&e.setUrl(i)}),$F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",zF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",GLe=ki.icon({iconUrl:$F,shadowUrl:zF,iconSize:[25,41],iconAnchor:[12,41]});ki.Marker.prototype.options.icon=GLe;const ZLe=()=>{const[t,e]=Y.useState("1"),r=Y.useRef(null),n=[{id:"1",loadId:"LD1003",origin:"Miami, FL",destination:"Atlanta, GA",driver:"Robert Johnson",status:"en_route",equipment:"Reefer",eta:"May 24, 2025 - 14:30",distance:685,distanceTraveled:425,currentLocation:"Macon, GA",coordinates:{origin:{lat:25.7617,lng:-80.1918},current:{lat:32.8407,lng:-83.6324},destination:{lat:33.749,lng:-84.388}}},{id:"2",loadId:"LD1006",origin:"San Francisco, CA",destination:"Los Angeles, CA",driver:"David Brown",status:"delayed",equipment:"Dry Van",eta:"May 25, 2025 - 10:15",distance:382,distanceTraveled:150,currentLocation:"Bakersfield, CA",coordinates:{origin:{lat:37.7749,lng:-122.4194},current:{lat:35.3733,lng:-119.0187},destination:{lat:34.0522,lng:-118.2437}}},{id:"3",loadId:"LD1007",origin:"Denver, CO",destination:"Phoenix, AZ",driver:"John Smith",status:"arriving_soon",equipment:"Flatbed",eta:"May 23, 2025 - 16:45",distance:865,distanceTraveled:820,currentLocation:"Flagstaff, AZ",coordinates:{origin:{lat:39.7392,lng:-104.9903},current:{lat:35.1983,lng:-111.6513},destination:{lat:33.4484,lng:-112.074}}},{id:"4",loadId:"LD1002",origin:"Dallas, TX",destination:"Houston, TX",driver:"Maria Garcia",status:"en_route",equipment:"Dry Van",eta:"May 23, 2025 - 18:30",distance:240,distanceTraveled:90,currentLocation:"Corsicana, TX",coordinates:{origin:{lat:32.7767,lng:-96.797},current:{lat:32.0954,lng:-96.4688},destination:{lat:29.7604,lng:-95.3698}}},{id:"5",loadId:"LD1008",origin:"Chicago, IL",destination:"Detroit, MI",driver:"William Davis",status:"en_route",equipment:"Reefer",eta:"May 24, 2025 - 09:00",distance:280,distanceTraveled:195,currentLocation:"Kalamazoo, MI",coordinates:{origin:{lat:41.8781,lng:-87.6298},current:{lat:42.2917,lng:-85.5872},destination:{lat:42.3314,lng:-83.0458}}},{id:"6",loadId:"LD1009",origin:"Seattle, WA",destination:"Portland, OR",driver:"Linda Martinez",status:"arriving_soon",equipment:"Flatbed",eta:"May 23, 2025 - 15:00",distance:173,distanceTraveled:165,currentLocation:"Olympia, WA",coordinates:{origin:{lat:47.6062,lng:-122.3321},current:{lat:47.0379,lng:-122.9007},destination:{lat:45.5152,lng:-122.6784}}}],i=[{id:"1",time:"10:45 AM",loadId:"LD1003",type:"location_update",message:"Truck arrived in Macon, GA"},{id:"2",time:"09:30 AM",loadId:"LD1006",type:"delay_alert",message:"Truck delayed due to traffic on I-5. ETA pushed by 45 min."},{id:"3",time:"08:15 AM",loadId:"LD1007",type:"status_change",message:"Shipment entering final delivery zone. Arriving soon."},{id:"4",time:"Yesterday",loadId:"LD1002",type:"weather_alert",message:"Heavy rain expected along route. Driver notified."}],a={1:[{id:"1",title:"Departed Origin",timestamp:"May 22, 2025 - 08:15",location:"Miami, FL",status:"completed"},{id:"2",title:"Rest Stop",timestamp:"May 22, 2025 - 15:30",location:"Jacksonville, FL",status:"completed"},{id:"3",title:"Current Location",timestamp:"May 23, 2025 - 10:45",location:"Macon, GA",status:"current"},{id:"4",title:"Expected Arrival",timestamp:"May 24, 2025 - 14:30",location:"Atlanta, GA",status:"upcoming"}],2:[{id:"1",title:"Departed Origin",timestamp:"May 22, 2025 - 09:30",location:"San Francisco, CA",status:"completed"},{id:"2",title:"Rest Stop",timestamp:"May 22, 2025 - 16:45",location:"San Jose, CA",status:"completed"},{id:"3",title:"Delay Reported",timestamp:"May 23, 2025 - 09:15",location:"Bakersfield, CA",status:"current"},{id:"4",title:"Expected Arrival",timestamp:"May 25, 2025 - 10:15",location:"Los Angeles, CA",status:"upcoming"}],3:[{id:"1",title:"Departed Origin",timestamp:"May 21, 2025 - 07:30",location:"Denver, CO",status:"completed"},{id:"2",title:"Rest Stop",timestamp:"May 21, 2025 - 18:15",location:"Albuquerque, NM",status:"completed"},{id:"3",title:"Current Location",timestamp:"May 23, 2025 - 08:30",location:"Flagstaff, AZ",status:"current"},{id:"4",title:"Expected Arrival",timestamp:"May 23, 2025 - 16:45",location:"Phoenix, AZ",status:"upcoming"}],4:[{id:"1",title:"Departed Origin",timestamp:"May 23, 2025 - 10:00",location:"Dallas, TX",status:"completed"},{id:"2",title:"Current Location",timestamp:"May 23, 2025 - 11:45",location:"Corsicana, TX",status:"current"},{id:"3",title:"Expected Arrival",timestamp:"May 23, 2025 - 18:30",location:"Houston, TX",status:"upcoming"}],5:[{id:"1",title:"Departed Origin",timestamp:"May 23, 2025 - 06:00",location:"Chicago, IL",status:"completed"},{id:"2",title:"Current Location",timestamp:"May 23, 2025 - 12:00",location:"Kalamazoo, MI",status:"current"},{id:"3",title:"Expected Arrival",timestamp:"May 24, 2025 - 09:00",location:"Detroit, MI",status:"upcoming"}],6:[{id:"1",title:"Departed Origin",timestamp:"May 23, 2025 - 08:00",location:"Seattle, WA",status:"completed"},{id:"2",title:"Current Location",timestamp:"May 23, 2025 - 12:30",location:"Olympia, WA",status:"current"},{id:"3",title:"Expected Arrival",timestamp:"May 23, 2025 - 15:00",location:"Portland, OR",status:"upcoming"}]},o=n.find(_=>_.id===t)||n[0],l=a[t]||a[1],u=_=>{switch(_){case"en_route":return"bg-blue-100 text-blue-800";case"delayed":return"bg-red-100 text-red-800";case"arriving_soon":return"bg-green-100 text-green-800";case"delivered":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},h=_=>{switch(_){case"location_update":return"bg-blue-100 text-blue-800";case"delay_alert":return"bg-red-100 text-red-800";case"status_change":return"bg-green-100 text-green-800";case"weather_alert":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},f=_=>{switch(_){case"en_route":return"En Route";case"delayed":return"Delayed";case"arriving_soon":return"Arriving Soon";case"delivered":return"Delivered";default:return _}},g=_=>{switch(_){case"location_update":return"Location Update";case"delay_alert":return"Delay Alert";case"status_change":return"Status Change";case"weather_alert":return"Weather Alert";default:return _}},y=({shipments:_})=>{const k=IF();return Y.useEffect(()=>{if(_.length>0){const C=ki.latLngBounds([]);_.forEach(O=>{C.extend([O.coordinates.origin.lat,O.coordinates.origin.lng]),C.extend([O.coordinates.current.lat,O.coordinates.current.lng]),C.extend([O.coordinates.destination.lat,O.coordinates.destination.lng])}),k.fitBounds(C,{padding:[50,50]})}},[k,_]),null},N=_=>{switch(_){case"en_route":return"blue";case"delayed":return"red";case"arriving_soon":return"green";case"delivered":return"purple";default:return"gray"}};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tracking"}),s.jsx("p",{className:"text-gray-600",children:"Monitor real-time location of your shipments"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-outline-primary flex items-center",children:[s.jsx("i",{className:"fas fa-sync-alt mr-2"}),"Refresh Data"]}),s.jsxs("button",{className:"btn btn-outline-secondary flex items-center",children:[s.jsx("i",{className:"fas fa-bell mr-2"}),"Notifications"]})]})]}),s.jsx(st,{className:"mb-8 shadow-md overflow-hidden",children:s.jsxs("div",{className:"relative h-96 w-full",children:[s.jsxs(FF,{center:[39.8283,-98.5795],zoom:4,style:{height:"100%",width:"100%",zIndex:0},children:[s.jsx(BF,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(y,{shipments:n}),n.map(_=>{const k=N(_.status),C=_.id===t,O=ki.divIcon({className:`bg-gray-100 rounded-full border-2 border-${k}-500 shadow-md flex items-center justify-center`,iconSize:[24,24],iconAnchor:[12,12],html:`<div class="flex items-center justify-center w-full h-full">
                  <div class="w-2 h-2 bg-${k}-500 rounded-full"></div>
                </div>`}),T=ki.divIcon({className:`bg-gray-100 rounded-full border-2 border-${k}-500 shadow-md flex items-center justify-center`,iconSize:[24,24],iconAnchor:[12,12],html:`<div class="flex items-center justify-center w-full h-full">
                  <div class="w-3 h-3 bg-${k}-500 rounded-full"></div>
                </div>`}),M=ki.divIcon({className:`bg-${k}-500 rounded-full border-2 border-white shadow-md flex items-center justify-center`,iconSize:[C?32:24,C?32:24],iconAnchor:[C?16:12,C?16:12],html:`<div class="flex items-center justify-center w-full h-full text-white">
                  <i class="fas fa-truck-moving text-xs"></i>
                </div>`});return s.jsxs(Oe.Fragment,{children:[s.jsx(Lu,{position:[_.coordinates.origin.lat,_.coordinates.origin.lng],icon:O,eventHandlers:{click:()=>e(_.id)},children:s.jsx(Ou,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:_.origin}),s.jsx("div",{className:"text-xs text-gray-500",children:"Origin"})]})})}),s.jsx(Lu,{position:[_.coordinates.current.lat,_.coordinates.current.lng],icon:M,eventHandlers:{click:()=>e(_.id)},children:s.jsx(Ou,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:_.loadId}),s.jsx("div",{className:"text-sm",children:_.currentLocation}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Driver: ",_.driver]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",f(_.status)]})]})})}),s.jsx(Lu,{position:[_.coordinates.destination.lat,_.coordinates.destination.lng],icon:T,eventHandlers:{click:()=>e(_.id)},children:s.jsx(Ou,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:_.destination}),s.jsx("div",{className:"text-xs text-gray-500",children:"Destination"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["ETA: ",_.eta]})]})})}),s.jsx(Xy,{positions:[[_.coordinates.origin.lat,_.coordinates.origin.lng],[_.coordinates.current.lat,_.coordinates.current.lng]],color:k,weight:C?4:3,opacity:C?.8:.5}),s.jsx(Xy,{positions:[[_.coordinates.current.lat,_.coordinates.current.lng],[_.coordinates.destination.lat,_.coordinates.destination.lng]],color:k,weight:C?4:3,opacity:C?.5:.3,dashArray:"5, 10"})]},_.id)})]}),s.jsx("div",{className:"absolute top-4 right-4 bg-white shadow-md rounded-lg p-2 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 mr-1"}),s.jsx("span",{children:"En Route"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500 mr-1"}),s.jsx("span",{children:"Delayed"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 mr-1"}),s.jsx("span",{children:"Arriving"})]})]})}),s.jsx("div",{className:"absolute bottom-4 left-4 bg-white shadow-md rounded-lg p-2 z-10",children:s.jsx("div",{className:"text-xs text-gray-500",children:"Last Updated: 12:45 PM - May 23, 2025"})}),s.jsxs("div",{className:"absolute top-4 left-4 z-10 flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm bg-white shadow-md hover:bg-gray-50 flex items-center",children:[s.jsx("i",{className:"fas fa-truck mr-1"}),"Show All"]}),s.jsxs("button",{className:"btn btn-sm bg-white shadow-md hover:bg-gray-50 flex items-center",children:[s.jsx("i",{className:"fas fa-layer-group mr-1"}),"Layers"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-truck-moving mr-2 text-blue-600"}),"Active Shipments (",n.length,")"]}),s.jsx("div",{ref:r,className:"space-y-3 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"},children:n.map(_=>{const k=_.id===t,C=Math.round(_.distanceTraveled/_.distance*100);return s.jsx("div",{className:`bg-white rounded-xl shadow-sm border overflow-hidden transition-all duration-300 cursor-pointer
                    ${k?"border-blue-300 ring-2 ring-blue-300 transform scale-[1.02] shadow-md":"border-gray-200 hover:border-blue-200 hover:shadow"}`,onClick:()=>e(_.id),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:[_.loadId,": ",_.origin,"  ",_.destination]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 
                        ${u(_.status)}`,children:f(_.status)})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-user mr-1 text-gray-400"}),s.jsxs("span",{children:["Driver: ",_.driver]})]})}),s.jsxs("div",{className:"mt-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[s.jsx("span",{children:_.currentLocation}),s.jsxs("span",{children:[C,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:`h-1.5 rounded-full ${_.status==="delayed"?"bg-red-500":_.status==="arriving_soon"?"bg-green-500":"bg-blue-500"}`,style:{width:`${C}%`}})})]})]})},_.id)})})]}),s.jsxs("div",{className:"lg:col-span-8",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-boxes mr-2 text-blue-600"}),"Shipment Details"]}),s.jsx(st,{className:"shadow-sm",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Load Information"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Load ID"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.loadId})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Status"}),s.jsx("div",{children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(o.status)}`,children:f(o.status)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Origin"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.origin})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.destination})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Driver"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.driver})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Equipment"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.equipment})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Delivery Information"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"ETA"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.eta})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Current Location"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.currentLocation})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Distance"}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[o.distance," miles"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Distance Traveled"}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[o.distanceTraveled," miles"]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[s.jsx("span",{children:"Delivery Progress"}),s.jsxs("span",{children:[Math.round(o.distanceTraveled/o.distance*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full ${o.status==="delayed"?"bg-red-500":o.status==="arriving_soon"?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.round(o.distanceTraveled/o.distance*100)}%`}})})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Shipment Timeline"}),s.jsx("div",{className:"relative pl-8 border-l-2 border-gray-200 space-y-6 py-2",children:l.map(_=>s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute -left-10 w-5 h-5 rounded-full flex items-center justify-center ${_.status==="completed"?"bg-green-500":_.status==="current"?"bg-blue-500":"bg-gray-300"}`,children:_.status==="completed"?s.jsx("i",{className:"fas fa-check text-white text-xs"}):_.status==="current"?s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}):s.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-50"})}),s.jsx("div",{className:`mb-1 font-medium ${_.status==="current"?"text-blue-600":"text-gray-900"}`,children:_.title}),s.jsx("div",{className:"text-sm text-gray-500",children:_.timestamp}),s.jsx("div",{className:"text-sm text-gray-600",children:_.location})]},_.id))}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm btn-outline-primary flex items-center",children:[s.jsx("i",{className:"fas fa-comment mr-1"}),"Contact Driver"]}),s.jsxs("button",{className:"btn btn-sm btn-outline-secondary flex items-center",children:[s.jsx("i",{className:"fas fa-file-download mr-1"}),"Download Details"]})]})})]})]})})})]})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-bell mr-2 text-blue-600"}),"Recent Notifications"]}),s.jsxs(st,{className:"shadow-sm",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(_=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.time}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:_.loadId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h(_.type)}`,children:g(_.type)})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:_.message}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{className:"btn-sm btn-outline-primary",onClick:()=>{const k=n.find(C=>C.loadId===_.loadId);k&&e(k.id)},children:"View"})})]},_.id))})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:["Showing ",s.jsx("span",{className:"font-medium",children:"4"})," of ",s.jsx("span",{className:"font-medium",children:"12"})," notifications"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"View All"}),s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Mark All as Read"})]})]})})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg mt-8 p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 text-blue-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-mobile-alt"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Get real-time updates on the go"}),s.jsx("p",{className:"text-sm text-blue-600 mb-2 md:mb-0",children:"Download our mobile app to track your shipments from anywhere."})]})]}),s.jsxs("div",{className:"mt-3 md:mt-0 flex flex-shrink-0 space-x-2",children:[s.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-blue-300 shadow-sm text-sm font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:[s.jsx("i",{className:"fab fa-apple mr-2"}),"App Store"]}),s.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-blue-300 shadow-sm text-sm font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:[s.jsx("i",{className:"fab fa-google-play mr-2"}),"Google Play"]})]})]})})]})},KLe=()=>{const[t,e]=Y.useState("week"),[r,n]=Y.useState(null),[i,a]=Y.useState(!1),[o,l]=Y.useState("revenue"),u={totalLoads:247,totalRevenue:485e3,avgMargin:18.5,onTimeDelivery:94.2,customerComplaints:3,carrierIssues:5},h=[{name:"Sarah Johnson",loadsBooked:45,revenue:98500,avgMargin:19.2,customerSatisfaction:4.8,activeLoads:12},{name:"Mike Chen",loadsBooked:38,revenue:87200,avgMargin:18.7,customerSatisfaction:4.6,activeLoads:10},{name:"Emily Davis",loadsBooked:52,revenue:112300,avgMargin:17.9,customerSatisfaction:4.9,activeLoads:15},{name:"James Wilson",loadsBooked:41,revenue:91e3,avgMargin:18.1,customerSatisfaction:4.5,activeLoads:11},{name:"Lisa Thompson",loadsBooked:36,revenue:78400,avgMargin:19.5,customerSatisfaction:4.7,activeLoads:9},{name:"David Martinez",loadsBooked:35,revenue:77600,avgMargin:17.8,customerSatisfaction:4.4,activeLoads:8}],f=[{day:"Mon",loads:42,revenue:85e3},{day:"Tue",loads:38,revenue:78e3},{day:"Wed",loads:45,revenue:92e3},{day:"Thu",loads:51,revenue:105e3},{day:"Fri",loads:48,revenue:98e3},{day:"Sat",loads:15,revenue:18e3},{day:"Sun",loads:8,revenue:9e3}],g=[{name:"TX-CA",value:25,revenue:125e3},{name:"IL-FL",value:18,revenue:95e3},{name:"CA-WA",value:15,revenue:78e3},{name:"NY-GA",value:12,revenue:65e3},{name:"Other",value:30,revenue:122e3}],y=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],N=[{id:1,type:"warning",message:"Load BL-1245 delayed - weather conditions",broker:"Sarah Johnson",time:"10 min ago"},{id:2,type:"error",message:"Carrier cancelled on Load BL-1248",broker:"Mike Chen",time:"25 min ago"},{id:3,type:"info",message:"New high-value customer inquiry",broker:"Emily Davis",time:"1 hour ago"},{id:4,type:"warning",message:"Load BL-1242 - driver requesting detention pay",broker:"James Wilson",time:"2 hours ago"}],_=[{month:"Jan",revenue:38e4,target:4e5,margin:17.5},{month:"Feb",revenue:42e4,target:42e4,margin:18.2},{month:"Mar",revenue:465e3,target:45e4,margin:18.8},{month:"Apr",revenue:485e3,target:48e4,margin:18.5},{month:"May",revenue:512e3,target:5e5,margin:19.1}],k=[{broker:"Sarah Johnson",monthlyTarget:85e3,currentProgress:92,loadsTarget:40,loadsProgress:45},{broker:"Mike Chen",monthlyTarget:8e4,currentProgress:88,loadsTarget:35,loadsProgress:38},{broker:"Emily Davis",monthlyTarget:95e3,currentProgress:105,loadsTarget:45,loadsProgress:52},{broker:"James Wilson",monthlyTarget:82e3,currentProgress:96,loadsTarget:38,loadsProgress:41},{broker:"Lisa Thompson",monthlyTarget:75e3,currentProgress:85,loadsTarget:32,loadsProgress:36},{broker:"David Martinez",monthlyTarget:72e3,currentProgress:94,loadsTarget:30,loadsProgress:35}],C=M=>{switch(M){case"error":return"fa-exclamation-circle text-red-500";case"warning":return"fa-exclamation-triangle text-yellow-500";case"info":return"fa-info-circle text-blue-500";default:return"fa-info-circle text-gray-500"}},O=()=>{lt.success("Exporting team performance data..."),setTimeout(()=>{lt.success("Performance report downloaded successfully")},1500)},T=()=>{a(!0)};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Broker Team Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Monitor and manage your brokerage team performance"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>e("day"),className:`px-3 py-1 rounded-md text-sm ${t==="day"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Today"}),s.jsx("button",{onClick:()=>e("week"),className:`px-3 py-1 rounded-md text-sm ${t==="week"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"This Week"}),s.jsx("button",{onClick:()=>e("month"),className:`px-3 py-1 rounded-md text-sm ${t==="month"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"This Month"}),s.jsxs("button",{onClick:T,className:"px-3 py-1 rounded-md text-sm bg-purple-600 text-white hover:bg-purple-700",children:[s.jsx("i",{className:"fas fa-bullseye mr-1"}),"Set Targets"]}),s.jsxs("button",{onClick:O,className:"px-3 py-1 rounded-md text-sm bg-green-600 text-white hover:bg-green-700",children:[s.jsx("i",{className:"fas fa-download mr-1"}),"Export Data"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-6",children:[s.jsx(st,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Loads"}),s.jsx("p",{className:"text-2xl font-bold",children:u.totalLoads}),s.jsxs("p",{className:"text-xs text-green-600",children:["+12% vs last ",t]})]}),s.jsx("div",{className:"text-blue-500",children:s.jsx("i",{className:"fas fa-truck text-2xl"})})]})})}),s.jsx(st,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Revenue"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",(u.totalRevenue/1e3).toFixed(0),"K"]}),s.jsxs("p",{className:"text-xs text-green-600",children:["+8% vs last ",t]})]}),s.jsx("div",{className:"text-green-500",children:s.jsx("i",{className:"fas fa-dollar-sign text-2xl"})})]})})}),s.jsx(st,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Avg Margin"}),s.jsxs("p",{className:"text-2xl font-bold",children:[u.avgMargin,"%"]}),s.jsxs("p",{className:"text-xs text-yellow-600",children:["-0.5% vs last ",t]})]}),s.jsx("div",{className:"text-purple-500",children:s.jsx("i",{className:"fas fa-percentage text-2xl"})})]})})}),s.jsx(st,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"On-Time"}),s.jsxs("p",{className:"text-2xl font-bold",children:[u.onTimeDelivery,"%"]}),s.jsxs("p",{className:"text-xs text-green-600",children:["+1.2% vs last ",t]})]}),s.jsx("div",{className:"text-blue-500",children:s.jsx("i",{className:"fas fa-clock text-2xl"})})]})})}),s.jsx(st,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Complaints"}),s.jsx("p",{className:"text-2xl font-bold",children:u.customerComplaints}),s.jsxs("p",{className:"text-xs text-red-600",children:["+1 vs last ",t]})]}),s.jsx("div",{className:"text-red-500",children:s.jsx("i",{className:"fas fa-exclamation-triangle text-2xl"})})]})})}),s.jsx(st,{children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Issues"}),s.jsx("p",{className:"text-2xl font-bold",children:u.carrierIssues}),s.jsxs("p",{className:"text-xs text-yellow-600",children:["+2 vs last ",t]})]}),s.jsx("div",{className:"text-orange-500",children:s.jsx("i",{className:"fas fa-exclamation-circle text-2xl"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsx(st,{className:"lg:col-span-2",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Daily Performance"}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(_E,{data:f,children:[s.jsx(sd,{strokeDasharray:"3 3"}),s.jsx(Ua,{dataKey:"day"}),s.jsx(Si,{yAxisId:"left",orientation:"left",stroke:"#3B82F6"}),s.jsx(Si,{yAxisId:"right",orientation:"right",stroke:"#10B981"}),s.jsx(cn,{}),s.jsx(Ao,{}),s.jsx(ac,{yAxisId:"left",dataKey:"loads",fill:"#3B82F6",name:"Loads"}),s.jsx(ac,{yAxisId:"right",dataKey:"revenue",fill:"#10B981",name:"Revenue ($)"})]})})]})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Top Lanes"}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(SE,{children:[s.jsx(pl,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:M=>`${M.name}: ${M.value}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:g.map((M,B)=>s.jsx(Df,{fill:y[B%y.length]},`cell-${B}`))}),s.jsx(cn,{})]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Broker Performance"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Broker"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loads"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(M=>s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>n(M.name),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-700",children:M.name.split(" ").map(B=>B[0]).join("")})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.name})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.loadsBooked}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(M.revenue/1e3).toFixed(1),"K"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`text-sm ${M.avgMargin>=19?"text-green-600":M.avgMargin>=18?"text-yellow-600":"text-red-600"}`,children:[M.avgMargin,"%"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-900 mr-1",children:M.customerSatisfaction}),s.jsx("i",{className:"fas fa-star text-yellow-400 text-xs"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:M.activeLoads})})]},M.name))})]})})]})})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Alerts"}),s.jsx("div",{className:"space-y-3",children:N.map(M=>s.jsx("div",{className:"border-l-4 border-gray-200 pl-4 hover:border-blue-500 transition-colors",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("i",{className:`fas ${C(M.type)} mr-2 mt-1`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:M.message}),s.jsxs("p",{className:"text-xs text-gray-500",children:[M.broker,"  ",M.time]})]})]})},M.id))}),s.jsx("button",{className:"mt-4 w-full text-center text-sm text-blue-600 hover:text-blue-800",children:"View All Alerts"})]})})]}),s.jsx("div",{className:"mt-6",children:s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Revenue Trends & Targets"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>l("revenue"),className:`px-3 py-1 rounded-md text-sm ${o==="revenue"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Revenue"}),s.jsx("button",{onClick:()=>l("loads"),className:`px-3 py-1 rounded-md text-sm ${o==="loads"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Load Volume"})]})]}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(kE,{data:_,children:[s.jsx(sd,{strokeDasharray:"3 3"}),s.jsx(Ua,{dataKey:"month"}),s.jsx(Si,{}),s.jsx(cn,{formatter:M=>`$${(M/1e3).toFixed(0)}K`}),s.jsx(Ao,{}),s.jsx(qa,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6,name:"Actual Revenue"}),s.jsx(qa,{type:"monotone",dataKey:"target",stackId:"2",stroke:"#10B981",fill:"#10B981",fillOpacity:.3,name:"Target Revenue"})]})})]})})}),s.jsx("div",{className:"mt-6",children:s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Monthly Targets Progress"}),s.jsx("div",{className:"space-y-4",children:k.map(M=>s.jsxs("div",{className:"border-b pb-4 last:border-b-0",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:M.broker}),s.jsxs("div",{className:"flex space-x-4 text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["Revenue: $",(M.monthlyTarget/1e3).toFixed(0),"K target"]}),s.jsxs("span",{className:"text-gray-600",children:["Loads: ",M.loadsTarget," target"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Revenue Progress"}),s.jsxs("span",{className:`font-medium ${M.currentProgress>=100?"text-green-600":M.currentProgress>=80?"text-yellow-600":"text-red-600"}`,children:[M.currentProgress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${M.currentProgress>=100?"bg-green-500":M.currentProgress>=80?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(M.currentProgress,100)}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Loads Progress"}),s.jsxs("span",{className:"font-medium text-blue-600",children:[M.loadsProgress,"/",M.loadsTarget]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${M.loadsProgress/M.loadsTarget*100}%`}})})]})]})]},M.broker))})]})})}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("button",{onClick:()=>lt.success("Opening team meeting scheduler..."),className:"p-4 bg-white border rounded-lg hover:shadow-md transition-shadow text-left",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("i",{className:"fas fa-calendar-plus text-blue-500 text-xl mb-2"}),s.jsx("h3",{className:"font-medium",children:"Schedule Team Meeting"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set up weekly sync"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})}),s.jsx("button",{onClick:()=>lt.success("Opening performance review forms..."),className:"p-4 bg-white border rounded-lg hover:shadow-md transition-shadow text-left",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("i",{className:"fas fa-chart-line text-green-500 text-xl mb-2"}),s.jsx("h3",{className:"font-medium",children:"Performance Reviews"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monthly evaluations"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})}),s.jsx("button",{onClick:()=>lt.success("Opening training resources..."),className:"p-4 bg-white border rounded-lg hover:shadow-md transition-shadow text-left",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("i",{className:"fas fa-graduation-cap text-purple-500 text-xl mb-2"}),s.jsx("h3",{className:"font-medium",children:"Training Resources"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Broker education"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})}),s.jsx("button",{onClick:()=>lt.success("Opening incentive programs..."),className:"p-4 bg-white border rounded-lg hover:shadow-md transition-shadow text-left",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("i",{className:"fas fa-trophy text-yellow-500 text-xl mb-2"}),s.jsx("h3",{className:"font-medium",children:"Incentive Programs"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Bonus structures"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})]})]})},JLe=()=>{const t=Bn(),[e,r]=Y.useState("current"),[n,i]=Y.useState(null),[a,o]=Y.useState(!1),[l,u]=Y.useState(!1),[h,f]=Y.useState(!1),[g,y]=Y.useState(!1),[N,_]=Y.useState(!1),[k,C]=Y.useState(""),[O,T]=Y.useState("all"),[M,B]=Y.useState(!1),[F,V]=Y.useState([]),H=[{id:"1",name:"John Smith",email:"john.smith@company.com",phone:"(555) 123-4567",hireDate:"2023-01-15",status:"active",commissionRate:8,totalLoads:145,totalRevenue:485e3,totalCommission:38800},{id:"2",name:"Sarah Johnson",email:"sarah.johnson@company.com",phone:"(555) 234-5678",hireDate:"2022-06-20",status:"active",commissionRate:10,totalLoads:238,totalRevenue:752e3,totalCommission:75200},{id:"3",name:"Mike Davis",email:"mike.davis@company.com",phone:"(555) 345-6789",hireDate:"2023-03-10",status:"active",commissionRate:6,totalLoads:98,totalRevenue:295e3,totalCommission:17700},{id:"4",name:"Emily Chen",email:"emily.chen@company.com",phone:"(555) 456-7890",hireDate:"2021-11-05",status:"active",commissionRate:12,totalLoads:312,totalRevenue:1025e3,totalCommission:123e3}],Z=De=>{V($e=>$e.includes(De)?$e.filter(Ue=>Ue!==De):[...$e,De])},re=async(De,$e)=>{B(!0);try{await new Promise(Ue=>setTimeout(Ue,1e3)),lt.success(`Commission rate updated to ${$e}% for ${De.name}`),f(!1)}catch(Ue){console.error("Error updating commission rate:",Ue),lt.error("Failed to update commission rate")}finally{B(!1)}},le=async De=>{B(!0);try{await new Promise($e=>setTimeout($e,1e3)),lt.success("New sales rep added successfully"),y(!1)}catch($e){console.error("Error adding sales rep:",$e),lt.error("Failed to add sales rep")}finally{B(!1)}},ce=[{id:"1",loadNumber:"LD-2024-001",customer:"ABC Manufacturing",origin:"Chicago, IL",destination:"Dallas, TX",revenue:3500,margin:700,status:"delivered",deliveryDate:"2025-05-25",salesRep:"John Smith",salesRepId:"1",commissionRate:8,commissionAmount:280},{id:"2",loadNumber:"LD-2024-002",customer:"XYZ Logistics",origin:"New York, NY",destination:"Miami, FL",revenue:4200,margin:840,status:"delivered",deliveryDate:"2025-05-24",salesRep:"Sarah Johnson",salesRepId:"2",commissionRate:10,commissionAmount:420},{id:"3",loadNumber:"LD-2024-003",customer:"Global Transport",origin:"Los Angeles, CA",destination:"Seattle, WA",revenue:2800,margin:560,status:"in-transit",deliveryDate:"2025-05-26",salesRep:"Mike Davis",salesRepId:"3",commissionRate:6,commissionAmount:168},{id:"4",loadNumber:"LD-2024-004",customer:"Fast Freight Inc",origin:"Houston, TX",destination:"Phoenix, AZ",revenue:3100,margin:620,status:"delivered",deliveryDate:"2025-05-23",salesRep:"Emily Chen",salesRepId:"4",commissionRate:12,commissionAmount:372}],he=[{period:"May 2025",totalRevenue:245e3,totalCommission:22050,paidCommission:0,pendingCommission:22050,loadCount:78},{period:"April 2025",totalRevenue:312e3,totalCommission:28080,paidCommission:28080,pendingCommission:0,loadCount:92},{period:"March 2025",totalRevenue:298e3,totalCommission:26820,paidCommission:26820,pendingCommission:0,loadCount:87}],fe=De=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(De),ee=De=>{switch(De){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"delivered":return"bg-blue-100 text-blue-800";case"in-transit":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},xe=he[0],ie=H.filter(De=>De.status==="active").length,ge=H.reduce((De,$e)=>De+$e.commissionRate,0)/H.length,G=De=>{i(De),o(!0)},ue=async De=>{B(!0);try{await new Promise($e=>setTimeout($e,2e3)),lt.success(`Payment of ${fe(6280)} processed for ${De.name}`),u(!1)}catch($e){console.error("Error processing payment:",$e),lt.error("Failed to process payment")}finally{B(!1)}},ke=De=>{i(De),f(!0)},ve=async()=>{B(!0);try{await new Promise(De=>setTimeout(De,1500)),lt.success("Commission report generated successfully"),_(!0)}catch(De){console.error("Error generating report:",De),lt.error("Failed to generate report")}finally{B(!1)}},Se=async()=>{if(F.length===0){lt.error("Please select at least one sales rep for bulk payment");return}B(!0);try{await new Promise(De=>setTimeout(De,2e3)),lt.success(`Bulk payment processed for ${F.length} sales reps`),V([])}catch(De){console.error("Error processing bulk payment:",De),lt.error("Failed to process bulk payments")}finally{B(!1)}},He=H.filter(De=>{const $e=k===""||De.name.toLowerCase().includes(k.toLowerCase())||De.email.toLowerCase().includes(k.toLowerCase()),Ue=O==="all"||De.status===O;return $e&&Ue});return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales Commissions"}),s.jsx("p",{className:"text-gray-600",children:"Track and manage sales representative commissions"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"btn btn-secondary flex items-center",onClick:()=>t("/settings"),children:[s.jsx("i",{className:"fas fa-cog mr-2"}),"Commission Settings"]}),s.jsxs("button",{className:"btn btn-secondary flex items-center",onClick:ve,disabled:M,children:[s.jsx("i",{className:"fas fa-file-download mr-2"}),"Generate Report"]}),s.jsxs("button",{className:"btn btn-primary flex items-center",onClick:()=>y(!0),children:[s.jsx("i",{className:"fas fa-user-plus mr-2"}),"Add Sales Rep"]}),s.jsxs("button",{className:"btn btn-primary flex items-center",onClick:Se,disabled:M||F.length===0,children:[s.jsx("i",{className:"fas fa-money-check-alt mr-2"}),"Process Payments (",F.length,")"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[s.jsx("div",{className:"dashboard-card bg-gradient-blue",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-dollar-sign card-icon"}),s.jsx("h5",{className:"card-title",children:"Current Period"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:fe(xe.pendingCommission)}),s.jsxs("p",{className:"text-sm mt-1 opacity-90",children:[xe.loadCount," Loads"]}),s.jsx("div",{className:"mt-3 bg-blue-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"65%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-green",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-users card-icon"}),s.jsx("h5",{className:"card-title",children:"Active Sales Reps"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:ie}),s.jsxs("p",{className:"text-sm mt-1 opacity-90",children:["Avg Rate: ",ge.toFixed(1),"%"]}),s.jsx("div",{className:"mt-3 bg-green-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"80%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-purple",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-chart-line card-icon"}),s.jsx("h5",{className:"card-title",children:"Total Revenue"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:fe(xe.totalRevenue)}),s.jsx("p",{className:"text-sm mt-1 opacity-90",children:"This Period"}),s.jsx("div",{className:"mt-3 bg-purple-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"72%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-orange",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-percentage card-icon"}),s.jsx("h5",{className:"card-title",children:"Commission Rate"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",children:[(xe.totalCommission/xe.totalRevenue*100).toFixed(1),"%"]}),s.jsx("p",{className:"text-sm mt-1 opacity-90",children:"Effective Rate"}),s.jsx("div",{className:"mt-3 bg-orange-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"90%"}})})]})})]}),s.jsxs(st,{className:"shadow-sm mb-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 pb-4 border-b border-gray-100",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4 md:mb-0",children:[s.jsx("i",{className:"fas fa-user-tie mr-2 text-blue-600"}),"Sales Representatives"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full md:w-auto",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-search text-gray-400"})}),s.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md text-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Search reps...",value:k,onChange:De=>C(De.target.value)})]}),s.jsxs("select",{className:"block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:O,onChange:De=>T(De.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:He.map(De=>s.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow relative",children:[s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:F.includes(De.id),onChange:()=>Z(De.id)})}),s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:De.name.split(" ").map($e=>$e[0]).join("")}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:De.name}),s.jsx("p",{className:"text-sm text-gray-500",children:De.email})]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ee(De.status)}`,children:De.status.charAt(0).toUpperCase()+De.status.slice(1)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Commission Rate"}),s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[De.commissionRate,"%"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total Loads"}),s.jsx("p",{className:"text-xl font-bold text-blue-900",children:De.totalLoads})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total Revenue"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:fe(De.totalRevenue)})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total Commission"}),s.jsx("p",{className:"text-xl font-bold text-purple-900",children:fe(De.totalCommission)})]})]}),s.jsxs("div",{className:"pt-4 border-t flex justify-between items-center",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:["Member since ",new Date(De.hireDate).toLocaleDateString()]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>G(De),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"}),s.jsx("button",{onClick:()=>ke(De),className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Edit Rate"}),s.jsx("button",{onClick:()=>ue(De),className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Pay Now"})]})]})]},De.id))})]}),s.jsxs(st,{className:"shadow-sm mb-8",children:[s.jsx("div",{className:"mb-6 pb-4 border-b border-gray-100",children:s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx("i",{className:"fas fa-truck mr-2 text-blue-600"}),"Recent Commissionable Loads"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load #"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Rep"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(De=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:De.loadNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:De.customer}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:s.jsxs("div",{children:[s.jsx("p",{children:De.origin}),s.jsxs("p",{className:"text-gray-500",children:[" ",De.destination]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:De.salesRep}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:fe(De.revenue)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:[De.commissionRate,"%"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:fe(De.commissionAmount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee(De.status)}`,children:De.status.charAt(0).toUpperCase()+De.status.slice(1)})})]},De.id))})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-history mr-2 text-blue-600"}),"Commission History"]}),s.jsx(st,{className:"shadow-sm",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loads"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:he.map((De,$e)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:De.period}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-right",children:fe(De.totalRevenue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-right",children:fe(De.totalCommission)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-right font-medium",children:fe(De.paidCommission)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-600 text-right font-medium",children:fe(De.pendingCommission)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 text-center",children:De.loadCount})]},$e))})]})})})]}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-cog mr-2 text-blue-600"}),"Commission Settings"]}),s.jsx(st,{className:"shadow-sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Commission Structure"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Base Rate (0-100K)"}),s.jsx("span",{className:"text-sm font-medium",children:"6%"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tier 1 (100K-250K)"}),s.jsx("span",{className:"text-sm font-medium",children:"8%"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tier 2 (250K-500K)"}),s.jsx("span",{className:"text-sm font-medium",children:"10%"})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tier 3 (500K+)"}),s.jsx("span",{className:"text-sm font-medium",children:"12%"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Payment Schedule"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Commissions are calculated monthly and paid on the 15th of the following month."})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("button",{onClick:()=>t("/settings"),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Edit Commission Settings"}),s.jsx("button",{onClick:()=>{r("current"),lt.success("Showing current period data")},className:"w-full mt-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Refresh Data"})]})]})})]})]}),s.jsx(xr,{isOpen:a,onClose:()=>{o(!1),i(null)},title:(n==null?void 0:n.name)||"Sales Representative Details",size:"lg",children:n&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:n.name.split(" ").map(De=>De[0]).join("")}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n.name}),s.jsx("p",{className:"text-gray-600",children:n.email}),s.jsx("p",{className:"text-gray-600",children:n.phone})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee(n.status)}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Hire Date"}),s.jsx("p",{className:"font-medium",children:new Date(n.hireDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Commission Rate"}),s.jsxs("p",{className:"font-medium text-lg",children:[n.commissionRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Loads"}),s.jsx("p",{className:"font-medium text-lg",children:n.totalLoads})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Performance Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-600",children:"Total Revenue Generated"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:fe(n.totalRevenue)})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-green-600",children:"Total Commission Earned"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:fe(n.totalCommission)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Current Period Performance"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Loads This Month"}),s.jsx("span",{className:"font-medium",children:"24"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Revenue This Month"}),s.jsx("span",{className:"font-medium",children:fe(78500)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Commission This Month"}),s.jsx("span",{className:"font-medium text-green-600",children:fe(78500*n.commissionRate/100)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Average Load Value"}),s.jsx("span",{className:"font-medium",children:fe(78500/24)})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Close"}),s.jsx("button",{onClick:()=>{o(!1),u(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Process Payment"})]})]})}),s.jsx(xr,{isOpen:h,onClose:()=>{f(!1),i(null)},title:"Edit Commission Rate",size:"md",children:n&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Sales Representative"}),s.jsx("p",{className:"font-semibold",children:n.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Commission Rate"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"number",min:"0",max:"100",step:"0.5",defaultValue:n.commissionRate,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("span",{className:"text-gray-500",children:"%"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date"}),s.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Change"}),s.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter reason for commission rate change..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{const De=document.querySelector('input[type="number"][step="0.5"]'),$e=parseFloat((De==null?void 0:De.value)||n.commissionRate.toString());re(n,$e)},disabled:M,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})}),s.jsx(xr,{isOpen:l,onClose:()=>{u(!1),i(null)},title:"Process Commission Payment",size:"md",children:n&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-600",children:"Processing payment for"}),s.jsx("p",{className:"font-semibold text-blue-900",children:n.name})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Current Period Commission"}),s.jsx("span",{className:"font-medium",children:fe(6280)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Previous Balance"}),s.jsx("span",{className:"font-medium",children:fe(0)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Total Payment"}),s.jsx("span",{className:"text-xl font-bold text-green-600",children:fe(6280)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{children:"Direct Deposit (ACH)"}),s.jsx("option",{children:"Check"}),s.jsx("option",{children:"Wire Transfer"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Notes"}),s.jsx("textarea",{rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional payment notes..."})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("i",{className:"fas fa-exclamation-triangle mr-1"}),"This action will process a payment of ",fe(6280)," to ",n.name,"."]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>ue(n),disabled:M,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Process Payment"})]})]})}),s.jsx(xr,{isOpen:g,onClose:()=>y(!1),title:"Add New Sales Representative",size:"md",children:s.jsx("form",{onSubmit:De=>{De.preventDefault();const $e=new FormData(De.target);$e.get("name"),$e.get("email"),$e.get("phone"),$e.get("commissionRate"),le()},children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"john.doe@company.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"(555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commission Rate (%)"}),s.jsx("input",{type:"number",name:"commissionRate",min:"0",max:"100",step:"0.5",defaultValue:"8",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:M,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add Sales Rep"})]})]})})}),s.jsx(xr,{isOpen:N,onClose:()=>_(!1),title:"Export Commission Report",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Your commission report has been generated. Choose export format:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>{lt.success("Downloading PDF report..."),_(!1)},className:"p-4 border-2 border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all",children:[s.jsx("i",{className:"fas fa-file-pdf text-red-500 text-3xl mb-2"}),s.jsx("p",{className:"font-medium",children:"PDF Report"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Formatted for printing"})]}),s.jsxs("button",{onClick:()=>{lt.success("Downloading Excel report..."),_(!1)},className:"p-4 border-2 border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all",children:[s.jsx("i",{className:"fas fa-file-excel text-green-500 text-3xl mb-2"}),s.jsx("p",{className:"font-medium",children:"Excel Report"}),s.jsx("p",{className:"text-sm text-gray-500",children:"For further analysis"})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Report To:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"email",placeholder:"accounting@company.com",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("button",{onClick:()=>{lt.success("Report sent via email"),_(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Send"})]})]})]})})]})},QLe=({progress:t,message:e})=>s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[s.jsx("span",{className:"absolute inline-flex h-20 w-20 rounded-full bg-blue-400 opacity-25 animate-ping"}),s.jsx("span",{className:"text-5xl animate-bounce",children:""})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Finding Perfect Carriers"}),s.jsx("p",{className:"text-gray-600 animate-pulse",children:e})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${t}%`}})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600 animate-pulse",children:Math.floor(t*1.5)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Carriers Scanned"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600 animate-pulse",children:Math.floor(t*.03)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Matches Found"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-2xl font-bold text-purple-600 animate-pulse",children:[Math.max(0,10-Math.floor(t/10)),"s"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Time Left"})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-800",children:[s.jsx("span",{className:"font-semibold",children:"Pro Tip:"})," We're matching carriers based on equipment compatibility, lane preferences, safety ratings, and insurance status."]})})]})})}),e5e=({isOpen:t,onClose:e,carriers:r,onCallCarrier:n,onEmailCarrier:i,contactedCarriers:a,savedCarriers:o,onToggleSave:l})=>{const u=f=>{switch(f){case"available":return"text-green-600 bg-green-50";case"busy":return"text-yellow-600 bg-yellow-50";case"offline":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}},h=f=>f>=90?"text-green-600 bg-green-50":f>=75?"text-blue-600 bg-blue-50":f>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50";return s.jsxs(xr,{isOpen:t,onClose:e,title:"Smart Carrier Matches Found!",size:"xl",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(dg,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.length," carrier",r.length!==1?"s":""," matched your load requirements"]})]}),s.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:r.map(f=>s.jsxs("div",{className:`border rounded-xl p-5 transition-all duration-200 ${a.has(f.id)?"border-green-300 bg-green-50/30":"border-gray-200 hover:border-blue-300 hover:shadow-md"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.company}),a.has(f.id)&&s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[s.jsx(Kf,{className:"w-3 h-3"}),"Contacted"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:f.name}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("span",{children:["MC# ",f.mcNumber]}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("span",{children:["DOT# ",f.dotNumber]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>l(f.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:o.has(f.id)?"Remove from saved":"Save carrier",children:o.has(f.id)?s.jsx(CSe,{className:"w-5 h-5 text-blue-600"}):s.jsx(TSe,{className:"w-5 h-5 text-gray-400"})}),s.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(f.matchScore)}`,children:[f.matchScore,"% Match"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q6,{className:"w-4 h-4 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.rating}),s.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"Rating"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uN,{className:"w-4 h-4 text-green-500"}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[f.onTimePercentage,"%"]}),s.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"On-Time"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dg,{className:"w-4 h-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.totalLoads}),s.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"Loads"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vQ,{className:"w-4 h-4 text-purple-500"}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",(f.insuranceCoverage/1e6).toFixed(1),"M"]}),s.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"Insurance"})]})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Equipment:"}),s.jsx("div",{className:"flex gap-1",children:f.equipmentTypes.map((g,y)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:g},y))})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${u(f.availability)}`,children:f.availability==="available"?" Available Now":f.availability==="busy"?" Currently Busy":" Offline"}),s.jsxs("span",{className:"text-gray-400 text-xs flex items-center gap-1",children:[s.jsx(cN,{className:"w-3 h-3"}),f.lastActive]})]}),f.notes&&s.jsxs("div",{className:"text-sm bg-blue-50 text-blue-700 p-2 rounded-lg",children:[" ",f.notes]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>n(f),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-sm",children:[s.jsx(b_,{className:"w-4 h-4"}),"Call Carrier"]}),s.jsxs("button",{onClick:()=>i(f),className:"flex-1 flex items-center justify-center gap-2 bg-gray-100 text-gray-700 px-4 py-2.5 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[s.jsx(KSe,{className:"w-4 h-4"}),"Email Carrier"]})]})]},f.id))})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-500",children:" Carriers are ranked by match score based on equipment, lane preference, and performance"}),s.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors",children:"Close"})]})]})},t5e=({isOpen:t,onClose:e,carrier:r,onSaveCall:n})=>{const[i,a]=Y.useState(0),[o,l]=Y.useState(!1),[u,h]=Y.useState(""),[f,g]=Y.useState(!1),[y,N]=Y.useState(!1),_=Y.useRef(null),k=Y.useRef(null);Y.useEffect(()=>{if(t&&r){a(0),l(!1),h(""),g(!1),N(!1);const H=setTimeout(()=>{C()},500);return()=>clearTimeout(H)}},[t,r]),Y.useEffect(()=>(o?_.current=setInterval(()=>{a(H=>H+1)},1e3):_.current&&clearInterval(_.current),()=>{_.current&&clearInterval(_.current)}),[o]);const C=()=>{l(!0),T()},O=()=>{l(!1),M()},T=()=>{const H=new(window.AudioContext||window.webkitAudioContext),Z=H.createOscillator(),re=H.createGain();Z.connect(re),re.connect(H.destination),Z.frequency.value=440,re.gain.value=.1,Z.start(),Z.stop(H.currentTime+.2)},M=()=>{k.current&&(k.current.pause(),k.current.currentTime=0)},B=H=>{const Z=Math.floor(H/60),re=H%60;return`${Z.toString().padStart(2,"0")}:${re.toString().padStart(2,"0")}`},F=()=>{r&&(n(r.id,u,i),N(!0),setTimeout(()=>N(!1),2e3))},V=()=>{o&&O(),r&&u.trim()&&n(r.id,u,i),e()};return r?s.jsx(xr,{isOpen:t,onClose:V,title:o?"Call in Progress":"Preparing Call",size:"lg",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${o?"bg-green-100":"bg-gray-100"}`,children:s.jsx(b_,{className:`w-6 h-6 ${o?"text-green-600":"text-gray-600"}`})}),s.jsxs("p",{className:"text-sm text-gray-500",children:[o?"Connected":"Connecting..."," to ",r.company]})]}),s.jsxs("div",{className:"bg-gradient-to-b from-gray-50 to-gray-100 rounded-xl p-6 text-center",children:[s.jsxs("div",{className:"relative inline-block mb-4",children:[s.jsx("div",{className:`w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center ${o?"animate-pulse":""}`,children:s.jsx(b_,{className:"w-12 h-12 text-white"})}),o&&s.jsx("div",{className:"absolute -inset-2 bg-blue-600 rounded-full opacity-20 animate-ping"})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:r.name}),s.jsxs("p",{className:"text-lg text-gray-600 flex items-center justify-center gap-2",children:[s.jsx(RA,{className:"w-4 h-4"}),r.company]}),s.jsxs("p",{className:"text-xl font-mono text-blue-600",children:[" ",r.phone]})]}),o&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-700",children:[s.jsx(cN,{className:"w-5 h-5"}),s.jsx("span",{className:"text-2xl font-mono",children:B(i)})]}),s.jsx("div",{className:"flex items-center justify-center gap-4 mt-6",children:o?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>g(!f),className:`p-4 rounded-full transition-colors ${f?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:f?"Unmute":"Mute",children:f?s.jsx(rke,{className:"w-6 h-6"}):s.jsx(nke,{className:"w-6 h-6"})}),s.jsx("button",{onClick:O,className:"p-4 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors shadow-lg",title:"End Call",children:s.jsx(fke,{className:"w-8 h-8"})}),s.jsx("button",{className:"p-4 bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300 transition-colors",title:"Speaker",children:s.jsx(Fke,{className:"w-6 h-6"})})]}):s.jsxs("button",{onClick:C,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-lg",children:[s.jsx(b_,{className:"w-5 h-5"}),"Start Call"]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[s.jsx(eke,{className:"w-4 h-4"}),"Call Notes"]}),y&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[s.jsx(Kf,{className:"w-4 h-4"}),"Notes saved"]})]}),s.jsx("textarea",{value:u,onChange:H=>h(H.target.value),placeholder:"Jot down important details from the call...",className:"w-full h-32 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:F,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[s.jsx(xQ,{className:"w-4 h-4"}),"Save Call Notes"]}),s.jsx("button",{onClick:V,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:o?"End Call & Close":"Close"})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Carrier Quick Info"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"Rating:"}),s.jsxs("span",{className:"ml-2 font-medium text-blue-900",children:[" ",r.rating,"/5"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"On-Time:"}),s.jsxs("span",{className:"ml-2 font-medium text-blue-900",children:[r.onTimePercentage,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"Total Loads:"}),s.jsx("span",{className:"ml-2 font-medium text-blue-900",children:r.totalLoads})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700",children:"Insurance:"}),s.jsxs("span",{className:"ml-2 font-medium text-blue-900",children:["$",(r.insuranceCoverage/1e6).toFixed(1),"M"]})]})]})]})]})}):null},sO=["Searching carrier database...","Analyzing equipment compatibility...","Checking lane preferences...","Verifying insurance status...","Calculating match scores...","Finding smart matches...","Finalizing recommendations..."],r5e=()=>{const[t,e]=Y.useState(!1),[r,n]=Y.useState(!1),[i,a]=Y.useState([]),[o,l]=Y.useState(0),[u,h]=Y.useState(""),[f,g]=Y.useState(new Set),[y,N]=Y.useState(new Set);Y.useEffect(()=>{if(!r)return;let T=0,M=0;const B=setInterval(()=>{T+=10,l(T),T%15===0&&M<sO.length&&(h(sO[M]),M++),T>=100&&clearInterval(B)},1e3);return()=>clearInterval(B)},[r]);const _=Y.useCallback(T=>{e(!0),n(!0),l(0),h(sO[0]),a([]),setTimeout(()=>{const M=[{id:"1",name:"John Smith",company:"Swift Transportation",phone:"+1 (555) 123-4567",email:"john.smith@swifttrans.com",mcNumber:"MC123456",dotNumber:"DOT789012",rating:4.8,insuranceCoverage:1e6,insuranceExpiry:"2025-12-31",equipmentTypes:["Dry Van","Reefer"],lanes:[`${T.origin} - ${T.destination}`,"Chicago - New York"],matchScore:95,availability:"available",lastActive:"5 minutes ago",totalLoads:342,onTimePercentage:98.5,notes:"Preferred carrier for this lane"},{id:"2",name:"Maria Garcia",company:"Prime Logistics",phone:"+1 (555) 234-5678",email:"maria@primelogistics.com",mcNumber:"MC234567",dotNumber:"DOT890123",rating:4.6,insuranceCoverage:75e4,insuranceExpiry:"2025-10-15",equipmentTypes:["Dry Van","Flatbed"],lanes:[`${T.origin} - ${T.destination}`],matchScore:88,availability:"available",lastActive:"1 hour ago",totalLoads:256,onTimePercentage:96.2},{id:"3",name:"Mike Johnson",company:"Express Carriers LLC",phone:"+1 (555) 345-6789",email:"mike.j@expresscarriers.com",mcNumber:"MC345678",dotNumber:"DOT901234",rating:4.5,insuranceCoverage:5e5,insuranceExpiry:"2025-08-20",equipmentTypes:["Dry Van"],lanes:["National Coverage"],matchScore:82,availability:"busy",lastActive:"30 minutes ago",totalLoads:189,onTimePercentage:94.8,notes:"Currently on a load, available tomorrow"}];a(M),e(!1)},1e4)},[]),k=Y.useCallback(()=>{a([]),n(!1),l(0),h("")},[]),C=Y.useCallback(T=>{g(M=>new Set(M).add(T))},[]),O=Y.useCallback(T=>{N(M=>{const B=new Set(M);return B.has(T)?B.delete(T):B.add(T),B})},[]);return{isSearching:t,searchStarted:r,matchedCarriers:i,searchProgress:o,searchMessage:u,searchCarriers:_,clearMatches:k,contactedCarriers:f,markCarrierContacted:C,savedCarriers:y,toggleSaveCarrier:O}},s5e=()=>{const t=Bn(),{isSearching:e,searchStarted:r,matchedCarriers:n,searchProgress:i,searchMessage:a,searchCarriers:o,clearMatches:l,contactedCarriers:u,markCarrierContacted:h,savedCarriers:f,toggleSaveCarrier:g}=r5e(),[y,N]=Y.useState({loadId:"LD-2024-001",origin:"Chicago, IL",destination:"New York, NY",equipmentType:"Dry Van",minRate:2500,pickupDate:new Date().toISOString().split("T")[0],weight:35e3,commodity:"General Freight"}),[_,k]=Y.useState(!1),[C,O]=Y.useState(!1),[T,M]=Y.useState(null),[B,F]=Y.useState(!1);Y.useEffect(()=>{r&&!e&&n.length>0&&!B&&(V(),lt.custom(he=>s.jsxs("div",{className:`${he.visible?"animate-enter":"animate-leave"} max-w-md w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5`,children:[s.jsx("div",{className:"flex-1 w-0 p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 pt-0.5",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(hQ,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Smart Match Found!"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[n.length," carrier",n.length!==1?"s":""," matched for your load from ",y.origin," to ",y.destination]})]})]})}),s.jsx("div",{className:"flex border-l border-gray-200",children:s.jsx("button",{onClick:()=>{lt.dismiss(he.id),k(!0)},className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium text-blue-600 hover:text-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"View"})})]}),{duration:6e3,position:"top-right"}),setTimeout(()=>{k(!0)},1e3),F(!0))},[r,e,n,B,y]);const V=()=>{const he=new(window.AudioContext||window.webkitAudioContext),fe=he.createOscillator(),ee=he.createGain();fe.connect(ee),ee.connect(he.destination),fe.frequency.value=800,ee.gain.value=.1,fe.start(),fe.frequency.exponentialRampToValueAtTime(1200,he.currentTime+.1),fe.stop(he.currentTime+.2)},H=()=>{F(!1),l(),o(y)},Z=he=>{M(he),O(!0),k(!1)},re=he=>{lt.success(`Email draft opened for ${he.name} at ${he.email}`),h(he.id)},le=(he,fe,ee)=>{h(he),lt.success(`Call notes saved (${Math.floor(ee/60)}:${(ee%60).toString().padStart(2,"0")})`)},ce=["Dry Van","Reefer","Flatbed","Step Deck","RGN"];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/broker/loads"),className:"text-gray-600 hover:text-gray-900",children:" Back to Loads"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Nke,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Smart Load Match"}),s.jsx("p",{className:"text-sm text-gray-500",children:"AI-powered carrier matching for your loads"})]})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("span",{className:"text-sm text-gray-500",children:["Load #",y.loadId]})})]})}),!e&&s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Find the Perfect Carrier"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enter your load details to match with qualified carriers"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(WU,{className:"w-4 h-4 inline mr-1"}),"Origin"]}),s.jsx("input",{type:"text",value:y.origin,onChange:he=>N({...y,origin:he.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City, State"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(WU,{className:"w-4 h-4 inline mr-1"}),"Destination"]}),s.jsx("input",{type:"text",value:y.destination,onChange:he=>N({...y,destination:he.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"City, State"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(dg,{className:"w-4 h-4 inline mr-1"}),"Equipment Type"]}),s.jsx("select",{value:y.equipmentType,onChange:he=>N({...y,equipmentType:he.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ce.map(he=>s.jsx("option",{value:he,children:he},he))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(LSe,{className:"w-4 h-4 inline mr-1"}),"Pickup Date"]}),s.jsx("input",{type:"date",value:y.pickupDate,onChange:he=>N({...y,pickupDate:he.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(fQ,{className:"w-4 h-4 inline mr-1"}),"Rate"]}),s.jsx("input",{type:"number",value:y.minRate,onChange:he=>N({...y,minRate:Number(he.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter rate"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(If,{className:"w-4 h-4 inline mr-1"}),"Weight (lbs)"]}),s.jsx("input",{type:"number",value:y.weight,onChange:he=>N({...y,weight:Number(he.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter weight"})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsxs("details",{className:"cursor-pointer",children:[s.jsxs("summary",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:[s.jsx(mQ,{className:"w-4 h-4"}),"Advanced Filters"]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Verified Carriers Only"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"4+ Star Rating"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"95%+ On-Time"})]})]})]})}),s.jsxs("button",{onClick:H,className:"mt-6 w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-medium shadow-sm",children:[s.jsx(yQ,{className:"w-5 h-5"}),"Search Smart Matches"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(uN,{className:"w-5 h-5 text-green-600"})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"AI-Powered Matching"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Our algorithm analyzes carrier performance, equipment, and lane preferences"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(vQ,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Verified Carriers"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"All carriers are verified with active insurance and authority"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(cN,{className:"w-5 h-5 text-purple-600"})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Real-Time Availability"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"See carrier availability and last active status instantly"})]})]})]}),e&&s.jsx(QLe,{progress:i,message:a}),s.jsx(e5e,{isOpen:_,onClose:()=>k(!1),carriers:n,onCallCarrier:Z,onEmailCarrier:re,contactedCarriers:u,savedCarriers:f,onToggleSave:g}),s.jsx(t5e,{isOpen:C,onClose:()=>{O(!1),k(!0)},carrier:T,onSaveCall:le})]})};function $n(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let r=0,n;r<t.length;r++)(n=$n(t[r]))!==""&&(e+=(e&&" ")+n);else for(let r in t)t[r]&&(e+=(e&&" ")+r);return e}var n5e={value:()=>{}};function YE(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new _k(r)}function _k(t){this._=t}function i5e(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}_k.prototype=YE.prototype={constructor:_k,on:function(t,e){var r=this._,n=i5e(t+"",r),i,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((i=(t=n[a]).type)&&(i=a5e(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=n[a]).type)r[i]=eX(r[i],t.name,e);else if(e==null)for(i in r)r[i]=eX(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new _k(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],n=0,i=a.length;n<i;++n)a[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,a=n.length;i<a;++i)n[i].value.apply(e,r)}};function a5e(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function eX(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=n5e,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var yI="http://www.w3.org/1999/xhtml";const tX={svg:"http://www.w3.org/2000/svg",xhtml:yI,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function GE(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),tX.hasOwnProperty(e)?{space:tX[e],local:t}:t}function o5e(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===yI&&e.documentElement.namespaceURI===yI?e.createElement(t):e.createElementNS(r,t)}}function l5e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kre(t){var e=GE(t);return(e.local?l5e:o5e)(e)}function c5e(){}function HF(t){return t==null?c5e:function(){return this.querySelector(t)}}function d5e(t){typeof t!="function"&&(t=HF(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],o=a.length,l=n[i]=new Array(o),u,h,f=0;f<o;++f)(u=a[f])&&(h=t.call(u,u.__data__,f,a))&&("__data__"in u&&(h.__data__=u.__data__),l[f]=h);return new Po(n,this._parents)}function u5e(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function h5e(){return[]}function Jre(t){return t==null?h5e:function(){return this.querySelectorAll(t)}}function f5e(t){return function(){return u5e(t.apply(this,arguments))}}function m5e(t){typeof t=="function"?t=f5e(t):t=Jre(t);for(var e=this._groups,r=e.length,n=[],i=[],a=0;a<r;++a)for(var o=e[a],l=o.length,u,h=0;h<l;++h)(u=o[h])&&(n.push(t.call(u,u.__data__,h,o)),i.push(u));return new Po(n,i)}function Qre(t){return function(){return this.matches(t)}}function ese(t){return function(e){return e.matches(t)}}var p5e=Array.prototype.find;function g5e(t){return function(){return p5e.call(this.children,t)}}function x5e(){return this.firstElementChild}function y5e(t){return this.select(t==null?x5e:g5e(typeof t=="function"?t:ese(t)))}var v5e=Array.prototype.filter;function b5e(){return Array.from(this.children)}function w5e(t){return function(){return v5e.call(this.children,t)}}function j5e(t){return this.selectAll(t==null?b5e:w5e(typeof t=="function"?t:ese(t)))}function N5e(t){typeof t!="function"&&(t=Qre(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],o=a.length,l=n[i]=[],u,h=0;h<o;++h)(u=a[h])&&t.call(u,u.__data__,h,a)&&l.push(u);return new Po(n,this._parents)}function tse(t){return new Array(t.length)}function _5e(){return new Po(this._enter||this._groups.map(tse),this._parents)}function QA(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}QA.prototype={constructor:QA,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function S5e(t){return function(){return t}}function k5e(t,e,r,n,i,a){for(var o=0,l,u=e.length,h=a.length;o<h;++o)(l=e[o])?(l.__data__=a[o],n[o]=l):r[o]=new QA(t,a[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function A5e(t,e,r,n,i,a,o){var l,u,h=new Map,f=e.length,g=a.length,y=new Array(f),N;for(l=0;l<f;++l)(u=e[l])&&(y[l]=N=o.call(u,u.__data__,l,e)+"",h.has(N)?i[l]=u:h.set(N,u));for(l=0;l<g;++l)N=o.call(t,a[l],l,a)+"",(u=h.get(N))?(n[l]=u,u.__data__=a[l],h.delete(N)):r[l]=new QA(t,a[l]);for(l=0;l<f;++l)(u=e[l])&&h.get(y[l])===u&&(i[l]=u)}function C5e(t){return t.__data__}function E5e(t,e){if(!arguments.length)return Array.from(this,C5e);var r=e?A5e:k5e,n=this._parents,i=this._groups;typeof t!="function"&&(t=S5e(t));for(var a=i.length,o=new Array(a),l=new Array(a),u=new Array(a),h=0;h<a;++h){var f=n[h],g=i[h],y=g.length,N=T5e(t.call(f,f&&f.__data__,h,n)),_=N.length,k=l[h]=new Array(_),C=o[h]=new Array(_),O=u[h]=new Array(y);r(f,g,k,C,O,N,e);for(var T=0,M=0,B,F;T<_;++T)if(B=k[T]){for(T>=M&&(M=T+1);!(F=C[M])&&++M<_;);B._next=F||null}}return o=new Po(o,n),o._enter=l,o._exit=u,o}function T5e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function P5e(){return new Po(this._exit||this._groups.map(tse),this._parents)}function M5e(t,e,r){var n=this.enter(),i=this,a=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function L5e(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,a=n.length,o=Math.min(i,a),l=new Array(i),u=0;u<o;++u)for(var h=r[u],f=n[u],g=h.length,y=l[u]=new Array(g),N,_=0;_<g;++_)(N=h[_]||f[_])&&(y[_]=N);for(;u<i;++u)l[u]=r[u];return new Po(l,this._parents)}function O5e(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,a=n[i],o;--i>=0;)(o=n[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function D5e(t){t||(t=R5e);function e(g,y){return g&&y?t(g.__data__,y.__data__):!g-!y}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o=r[a],l=o.length,u=i[a]=new Array(l),h,f=0;f<l;++f)(h=o[f])&&(u[f]=h);u.sort(e)}return new Po(i,this._parents).order()}function R5e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function I5e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function F5e(){return Array.from(this)}function B5e(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null}function $5e(){let t=0;for(const e of this)++t;return t}function z5e(){return!this.node()}function H5e(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],a=0,o=i.length,l;a<o;++a)(l=i[a])&&t.call(l,l.__data__,a,i);return this}function W5e(t){return function(){this.removeAttribute(t)}}function V5e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function U5e(t,e){return function(){this.setAttribute(t,e)}}function q5e(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function X5e(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Y5e(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function G5e(t,e){var r=GE(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?V5e:W5e:typeof e=="function"?r.local?Y5e:X5e:r.local?q5e:U5e)(r,e))}function rse(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Z5e(t){return function(){this.style.removeProperty(t)}}function K5e(t,e,r){return function(){this.style.setProperty(t,e,r)}}function J5e(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Q5e(t,e,r){return arguments.length>1?this.each((e==null?Z5e:typeof e=="function"?J5e:K5e)(t,e,r??"")):Yy(this.node(),t)}function Yy(t,e){return t.style.getPropertyValue(e)||rse(t).getComputedStyle(t,null).getPropertyValue(e)}function e3e(t){return function(){delete this[t]}}function t3e(t,e){return function(){this[t]=e}}function r3e(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function s3e(t,e){return arguments.length>1?this.each((e==null?e3e:typeof e=="function"?r3e:t3e)(t,e)):this.node()[t]}function sse(t){return t.trim().split(/^|\s+/)}function WF(t){return t.classList||new nse(t)}function nse(t){this._node=t,this._names=sse(t.getAttribute("class")||"")}nse.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ise(t,e){for(var r=WF(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function ase(t,e){for(var r=WF(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function n3e(t){return function(){ise(this,t)}}function i3e(t){return function(){ase(this,t)}}function a3e(t,e){return function(){(e.apply(this,arguments)?ise:ase)(this,t)}}function o3e(t,e){var r=sse(t+"");if(arguments.length<2){for(var n=WF(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?a3e:e?n3e:i3e)(r,e))}function l3e(){this.textContent=""}function c3e(t){return function(){this.textContent=t}}function d3e(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function u3e(t){return arguments.length?this.each(t==null?l3e:(typeof t=="function"?d3e:c3e)(t)):this.node().textContent}function h3e(){this.innerHTML=""}function f3e(t){return function(){this.innerHTML=t}}function m3e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function p3e(t){return arguments.length?this.each(t==null?h3e:(typeof t=="function"?m3e:f3e)(t)):this.node().innerHTML}function g3e(){this.nextSibling&&this.parentNode.appendChild(this)}function x3e(){return this.each(g3e)}function y3e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function v3e(){return this.each(y3e)}function b3e(t){var e=typeof t=="function"?t:Kre(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function w3e(){return null}function j3e(t,e){var r=typeof t=="function"?t:Kre(t),n=e==null?w3e:typeof e=="function"?e:HF(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function N3e(){var t=this.parentNode;t&&t.removeChild(this)}function _3e(){return this.each(N3e)}function S3e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function k3e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function A3e(t){return this.select(t?k3e:S3e)}function C3e(t){return arguments.length?this.property("__data__",t):this.node().__data__}function E3e(t){return function(e){t.call(this,e,this.__data__)}}function T3e(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function P3e(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,a;r<i;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++n]=a;++n?e.length=n:delete this.__on}}}function M3e(t,e,r){return function(){var n=this.__on,i,a=E3e(e);if(n){for(var o=0,l=n.length;o<l;++o)if((i=n[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=e;return}}this.addEventListener(t.type,a,r),i={type:t.type,name:t.name,value:e,listener:a,options:r},n?n.push(i):this.__on=[i]}}function L3e(t,e,r){var n=T3e(t+""),i,a=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,h=l.length,f;u<h;++u)for(i=0,f=l[u];i<a;++i)if((o=n[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?M3e:P3e,i=0;i<a;++i)this.each(l(n[i],e,r));return this}function ose(t,e,r){var n=rse(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function O3e(t,e){return function(){return ose(this,t,e)}}function D3e(t,e){return function(){return ose(this,t,e.apply(this,arguments))}}function R3e(t,e){return this.each((typeof e=="function"?D3e:O3e)(t,e))}function*I3e(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length,o;i<a;++i)(o=n[i])&&(yield o)}var lse=[null];function Po(t,e){this._groups=t,this._parents=e}function vN(){return new Po([[document.documentElement]],lse)}function F3e(){return this}Po.prototype=vN.prototype={constructor:Po,select:d5e,selectAll:m5e,selectChild:y5e,selectChildren:j5e,filter:N5e,data:E5e,enter:_5e,exit:P5e,join:M5e,merge:L5e,selection:F3e,order:O5e,sort:D5e,call:I5e,nodes:F5e,node:B5e,size:$5e,empty:z5e,each:H5e,attr:G5e,style:Q5e,property:s3e,classed:o3e,text:u3e,html:p3e,raise:x3e,lower:v3e,append:b3e,insert:j3e,remove:_3e,clone:A3e,datum:C3e,on:L3e,dispatch:R3e,[Symbol.iterator]:I3e};function No(t){return typeof t=="string"?new Po([[document.querySelector(t)]],[document.documentElement]):new Po([[t]],lse)}function B3e(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Kl(t,e){if(t=B3e(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const $3e={passive:!1},C1={capture:!0,passive:!1};function nO(t){t.stopImmediatePropagation()}function u0(t){t.preventDefault(),t.stopImmediatePropagation()}function cse(t){var e=t.document.documentElement,r=No(t).on("dragstart.drag",u0,C1);"onselectstart"in e?r.on("selectstart.drag",u0,C1):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function dse(t,e){var r=t.document.documentElement,n=No(t).on("dragstart.drag",null);e&&(n.on("click.drag",u0,C1),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const a_=t=>()=>t;function vI(t,{sourceEvent:e,subject:r,target:n,identifier:i,active:a,x:o,y:l,dx:u,dy:h,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:f}})}vI.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function z3e(t){return!t.ctrlKey&&!t.button}function H3e(){return this.parentNode}function W3e(t,e){return e??{x:t.x,y:t.y}}function V3e(){return navigator.maxTouchPoints||"ontouchstart"in this}function use(){var t=z3e,e=H3e,r=W3e,n=V3e,i={},a=YE("start","drag","end"),o=0,l,u,h,f,g=0;function y(B){B.on("mousedown.drag",N).filter(n).on("touchstart.drag",C).on("touchmove.drag",O,$3e).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function N(B,F){if(!(f||!t.call(this,B,F))){var V=M(this,e.call(this,B,F),B,F,"mouse");V&&(No(B.view).on("mousemove.drag",_,C1).on("mouseup.drag",k,C1),cse(B.view),nO(B),h=!1,l=B.clientX,u=B.clientY,V("start",B))}}function _(B){if(u0(B),!h){var F=B.clientX-l,V=B.clientY-u;h=F*F+V*V>g}i.mouse("drag",B)}function k(B){No(B.view).on("mousemove.drag mouseup.drag",null),dse(B.view,h),u0(B),i.mouse("end",B)}function C(B,F){if(t.call(this,B,F)){var V=B.changedTouches,H=e.call(this,B,F),Z=V.length,re,le;for(re=0;re<Z;++re)(le=M(this,H,B,F,V[re].identifier,V[re]))&&(nO(B),le("start",B,V[re]))}}function O(B){var F=B.changedTouches,V=F.length,H,Z;for(H=0;H<V;++H)(Z=i[F[H].identifier])&&(u0(B),Z("drag",B,F[H]))}function T(B){var F=B.changedTouches,V=F.length,H,Z;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),H=0;H<V;++H)(Z=i[F[H].identifier])&&(nO(B),Z("end",B,F[H]))}function M(B,F,V,H,Z,re){var le=a.copy(),ce=Kl(re||V,F),he,fe,ee;if((ee=r.call(B,new vI("beforestart",{sourceEvent:V,target:y,identifier:Z,active:o,x:ce[0],y:ce[1],dx:0,dy:0,dispatch:le}),H))!=null)return he=ee.x-ce[0]||0,fe=ee.y-ce[1]||0,function xe(ie,ge,G){var ue=ce,ke;switch(ie){case"start":i[Z]=xe,ke=o++;break;case"end":delete i[Z],--o;case"drag":ce=Kl(G||ge,F),ke=o;break}le.call(ie,B,new vI(ie,{sourceEvent:ge,subject:ee,target:y,identifier:Z,active:ke,x:ce[0]+he,y:ce[1]+fe,dx:ce[0]-ue[0],dy:ce[1]-ue[1],dispatch:le}),H)}}return y.filter=function(B){return arguments.length?(t=typeof B=="function"?B:a_(!!B),y):t},y.container=function(B){return arguments.length?(e=typeof B=="function"?B:a_(B),y):e},y.subject=function(B){return arguments.length?(r=typeof B=="function"?B:a_(B),y):r},y.touchable=function(B){return arguments.length?(n=typeof B=="function"?B:a_(!!B),y):n},y.on=function(){var B=a.on.apply(a,arguments);return B===a?y:B},y.clickDistance=function(B){return arguments.length?(g=(B=+B)*B,y):Math.sqrt(g)},y}var Gy=0,bw=0,Sb=0,hse=1e3,eC,ww,tC=0,xg=0,ZE=0,E1=typeof performance=="object"&&performance.now?performance:Date,fse=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function VF(){return xg||(fse(U3e),xg=E1.now()+ZE)}function U3e(){xg=0}function rC(){this._call=this._time=this._next=null}rC.prototype=mse.prototype={constructor:rC,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?VF():+r)+(e==null?0:+e),!this._next&&ww!==this&&(ww?ww._next=this:eC=this,ww=this),this._call=t,this._time=r,bI()},stop:function(){this._call&&(this._call=null,this._time=1/0,bI())}};function mse(t,e,r){var n=new rC;return n.restart(t,e,r),n}function q3e(){VF(),++Gy;for(var t=eC,e;t;)(e=xg-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Gy}function rX(){xg=(tC=E1.now())+ZE,Gy=bw=0;try{q3e()}finally{Gy=0,Y3e(),xg=0}}function X3e(){var t=E1.now(),e=t-tC;e>hse&&(ZE-=e,tC=t)}function Y3e(){for(var t,e=eC,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:eC=r);ww=t,bI(n)}function bI(t){if(!Gy){bw&&(bw=clearTimeout(bw));var e=t-xg;e>24?(t<1/0&&(bw=setTimeout(rX,t-E1.now()-ZE)),Sb&&(Sb=clearInterval(Sb))):(Sb||(tC=E1.now(),Sb=setInterval(X3e,hse)),Gy=1,fse(rX))}}function sX(t,e,r){var n=new rC;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var G3e=YE("start","end","cancel","interrupt"),Z3e=[],pse=0,nX=1,wI=2,Sk=3,iX=4,jI=5,kk=6;function KE(t,e,r,n,i,a){var o=t.__transition;if(!o)t.__transition={};else if(r in o)return;K3e(t,r,{name:e,index:n,group:i,on:G3e,tween:Z3e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:pse})}function UF(t,e){var r=cc(t,e);if(r.state>pse)throw new Error("too late; already scheduled");return r}function fd(t,e){var r=cc(t,e);if(r.state>Sk)throw new Error("too late; already running");return r}function cc(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function K3e(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=mse(a,0,r.time);function a(h){r.state=nX,r.timer.restart(o,r.delay,r.time),r.delay<=h&&o(h-r.delay)}function o(h){var f,g,y,N;if(r.state!==nX)return u();for(f in n)if(N=n[f],N.name===r.name){if(N.state===Sk)return sX(o);N.state===iX?(N.state=kk,N.timer.stop(),N.on.call("interrupt",t,t.__data__,N.index,N.group),delete n[f]):+f<e&&(N.state=kk,N.timer.stop(),N.on.call("cancel",t,t.__data__,N.index,N.group),delete n[f])}if(sX(function(){r.state===Sk&&(r.state=iX,r.timer.restart(l,r.delay,r.time),l(h))}),r.state=wI,r.on.call("start",t,t.__data__,r.index,r.group),r.state===wI){for(r.state=Sk,i=new Array(y=r.tween.length),f=0,g=-1;f<y;++f)(N=r.tween[f].value.call(t,t.__data__,r.index,r.group))&&(i[++g]=N);i.length=g+1}}function l(h){for(var f=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(u),r.state=jI,1),g=-1,y=i.length;++g<y;)i[g].call(t,f);r.state===jI&&(r.on.call("end",t,t.__data__,r.index,r.group),u())}function u(){r.state=kk,r.timer.stop(),delete n[e];for(var h in n)return;delete t.__transition}}function Ak(t,e){var r=t.__transition,n,i,a=!0,o;if(r){e=e==null?null:e+"";for(o in r){if((n=r[o]).name!==e){a=!1;continue}i=n.state>wI&&n.state<jI,n.state=kk,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[o]}a&&delete t.__transition}}function J3e(t){return this.each(function(){Ak(this,t)})}function Q3e(t,e){var r,n;return function(){var i=fd(this,t),a=i.tween;if(a!==r){n=r=a;for(var o=0,l=n.length;o<l;++o)if(n[o].name===e){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function eOe(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=fd(this,t),o=a.tween;if(o!==n){i=(n=o).slice();for(var l={name:e,value:r},u=0,h=i.length;u<h;++u)if(i[u].name===e){i[u]=l;break}u===h&&i.push(l)}a.tween=i}}function tOe(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=cc(this.node(),r).tween,i=0,a=n.length,o;i<a;++i)if((o=n[i]).name===t)return o.value;return null}return this.each((e==null?Q3e:eOe)(r,t,e))}function qF(t,e,r){var n=t._id;return t.each(function(){var i=fd(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return cc(i,n).value[e]}}function gse(t,e){var r;return(typeof e=="number"?Jl:e instanceof og?Zk:(r=og(e))?(e=r,Zk):WZ)(t,e)}function rOe(t){return function(){this.removeAttribute(t)}}function sOe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nOe(t,e,r){var n,i=r+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===n?a:a=e(n=o,r)}}function iOe(t,e,r){var n,i=r+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===n?a:a=e(n=o,r)}}function aOe(t,e,r){var n,i,a;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===n&&u===i?a:(i=u,a=e(n=o,l)))}}function oOe(t,e,r){var n,i,a;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===n&&u===i?a:(i=u,a=e(n=o,l)))}}function lOe(t,e){var r=GE(t),n=r==="transform"?Kpe:gse;return this.attrTween(t,typeof e=="function"?(r.local?oOe:aOe)(r,n,qF(this,"attr."+t,e)):e==null?(r.local?sOe:rOe)(r):(r.local?iOe:nOe)(r,n,e))}function cOe(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function dOe(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function uOe(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&dOe(t,a)),r}return i._value=e,i}function hOe(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&cOe(t,a)),r}return i._value=e,i}function fOe(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=GE(t);return this.tween(r,(n.local?uOe:hOe)(n,e))}function mOe(t,e){return function(){UF(this,t).delay=+e.apply(this,arguments)}}function pOe(t,e){return e=+e,function(){UF(this,t).delay=e}}function gOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mOe:pOe)(e,t)):cc(this.node(),e).delay}function xOe(t,e){return function(){fd(this,t).duration=+e.apply(this,arguments)}}function yOe(t,e){return e=+e,function(){fd(this,t).duration=e}}function vOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xOe:yOe)(e,t)):cc(this.node(),e).duration}function bOe(t,e){if(typeof e!="function")throw new Error;return function(){fd(this,t).ease=e}}function wOe(t){var e=this._id;return arguments.length?this.each(bOe(e,t)):cc(this.node(),e).ease}function jOe(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;fd(this,t).ease=r}}function NOe(t){if(typeof t!="function")throw new Error;return this.each(jOe(this._id,t))}function _Oe(t){typeof t!="function"&&(t=Qre(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],o=a.length,l=n[i]=[],u,h=0;h<o;++h)(u=a[h])&&t.call(u,u.__data__,h,a)&&l.push(u);return new Vu(n,this._parents,this._name,this._id)}function SOe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,a=Math.min(n,i),o=new Array(n),l=0;l<a;++l)for(var u=e[l],h=r[l],f=u.length,g=o[l]=new Array(f),y,N=0;N<f;++N)(y=u[N]||h[N])&&(g[N]=y);for(;l<n;++l)o[l]=e[l];return new Vu(o,this._parents,this._name,this._id)}function kOe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function AOe(t,e,r){var n,i,a=kOe(e)?UF:fd;return function(){var o=a(this,t),l=o.on;l!==n&&(i=(n=l).copy()).on(e,r),o.on=i}}function COe(t,e){var r=this._id;return arguments.length<2?cc(this.node(),r).on.on(t):this.each(AOe(r,t,e))}function EOe(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function TOe(){return this.on("end.remove",EOe(this._id))}function POe(t){var e=this._name,r=this._id;typeof t!="function"&&(t=HF(t));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var l=n[o],u=l.length,h=a[o]=new Array(u),f,g,y=0;y<u;++y)(f=l[y])&&(g=t.call(f,f.__data__,y,l))&&("__data__"in f&&(g.__data__=f.__data__),h[y]=g,KE(h[y],e,r,y,h,cc(f,r)));return new Vu(a,this._parents,e,r)}function MOe(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Jre(t));for(var n=this._groups,i=n.length,a=[],o=[],l=0;l<i;++l)for(var u=n[l],h=u.length,f,g=0;g<h;++g)if(f=u[g]){for(var y=t.call(f,f.__data__,g,u),N,_=cc(f,r),k=0,C=y.length;k<C;++k)(N=y[k])&&KE(N,e,r,k,y,_);a.push(y),o.push(f)}return new Vu(a,o,e,r)}var LOe=vN.prototype.constructor;function OOe(){return new LOe(this._groups,this._parents)}function DOe(t,e){var r,n,i;return function(){var a=Yy(this,t),o=(this.style.removeProperty(t),Yy(this,t));return a===o?null:a===r&&o===n?i:i=e(r=a,n=o)}}function xse(t){return function(){this.style.removeProperty(t)}}function ROe(t,e,r){var n,i=r+"",a;return function(){var o=Yy(this,t);return o===i?null:o===n?a:a=e(n=o,r)}}function IOe(t,e,r){var n,i,a;return function(){var o=Yy(this,t),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Yy(this,t))),o===u?null:o===n&&u===i?a:(i=u,a=e(n=o,l))}}function FOe(t,e){var r,n,i,a="style."+e,o="end."+a,l;return function(){var u=fd(this,t),h=u.on,f=u.value[a]==null?l||(l=xse(e)):void 0;(h!==r||i!==f)&&(n=(r=h).copy()).on(o,i=f),u.on=n}}function BOe(t,e,r){var n=(t+="")=="transform"?Zpe:gse;return e==null?this.styleTween(t,DOe(t,n)).on("end.style."+t,xse(t)):typeof e=="function"?this.styleTween(t,IOe(t,n,qF(this,"style."+t,e))).each(FOe(this._id,t)):this.styleTween(t,ROe(t,n,e),r).on("end.style."+t,null)}function $Oe(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function zOe(t,e,r){var n,i;function a(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&$Oe(t,o,r)),n}return a._value=e,a}function HOe(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,zOe(t,e,r??""))}function WOe(t){return function(){this.textContent=t}}function VOe(t){return function(){var e=t(this);this.textContent=e??""}}function UOe(t){return this.tween("text",typeof t=="function"?VOe(qF(this,"text",t)):WOe(t==null?"":t+""))}function qOe(t){return function(e){this.textContent=t.call(this,e)}}function XOe(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&qOe(i)),e}return n._value=t,n}function YOe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,XOe(t))}function GOe(){for(var t=this._name,e=this._id,r=yse(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],l=o.length,u,h=0;h<l;++h)if(u=o[h]){var f=cc(u,e);KE(u,t,r,h,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Vu(n,this._parents,t,r)}function ZOe(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(a,o){var l={value:o},u={value:function(){--i===0&&a()}};r.each(function(){var h=fd(this,n),f=h.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),h.on=e}),i===0&&a()})}var KOe=0;function Vu(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function yse(){return++KOe}var Id=vN.prototype;Vu.prototype={constructor:Vu,select:POe,selectAll:MOe,selectChild:Id.selectChild,selectChildren:Id.selectChildren,filter:_Oe,merge:SOe,selection:OOe,transition:GOe,call:Id.call,nodes:Id.nodes,node:Id.node,size:Id.size,empty:Id.empty,each:Id.each,on:COe,attr:lOe,attrTween:fOe,style:BOe,styleTween:HOe,text:UOe,textTween:YOe,remove:TOe,tween:tOe,delay:gOe,duration:vOe,ease:wOe,easeVarying:NOe,end:ZOe,[Symbol.iterator]:Id[Symbol.iterator]};function JOe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var QOe={time:null,delay:0,duration:250,ease:JOe};function eDe(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function tDe(t){var e,r;t instanceof Vu?(e=t._id,t=t._name):(e=yse(),(r=QOe).time=VF(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],l=o.length,u,h=0;h<l;++h)(u=o[h])&&KE(u,t,e,h,o,r||eDe(u,e));return new Vu(n,this._parents,t,e)}vN.prototype.interrupt=J3e;vN.prototype.transition=tDe;const o_=t=>()=>t;function rDe(t,{sourceEvent:e,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function _u(t,e,r){this.k=t,this.x=e,this.y=r}_u.prototype={constructor:_u,scale:function(t){return t===1?this:new _u(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new _u(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var JE=new _u(1,0,0);vse.prototype=_u.prototype;function vse(t){for(;!t.__zoom;)if(!(t=t.parentNode))return JE;return t.__zoom}function iO(t){t.stopImmediatePropagation()}function kb(t){t.preventDefault(),t.stopImmediatePropagation()}function sDe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function nDe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function aX(){return this.__zoom||JE}function iDe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function aDe(){return navigator.maxTouchPoints||"ontouchstart"in this}function oDe(t,e,r){var n=t.invertX(e[0][0])-r[0][0],i=t.invertX(e[1][0])-r[1][0],a=t.invertY(e[0][1])-r[0][1],o=t.invertY(e[1][1])-r[1][1];return t.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function bse(){var t=sDe,e=nDe,r=oDe,n=iDe,i=aDe,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=tge,h=YE("start","zoom","end"),f,g,y,N=500,_=150,k=0,C=10;function O(ee){ee.property("__zoom",aX).on("wheel.zoom",Z,{passive:!1}).on("mousedown.zoom",re).on("dblclick.zoom",le).filter(i).on("touchstart.zoom",ce).on("touchmove.zoom",he).on("touchend.zoom touchcancel.zoom",fe).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(ee,xe,ie,ge){var G=ee.selection?ee.selection():ee;G.property("__zoom",aX),ee!==G?F(ee,xe,ie,ge):G.interrupt().each(function(){V(this,arguments).event(ge).start().zoom(null,typeof xe=="function"?xe.apply(this,arguments):xe).end()})},O.scaleBy=function(ee,xe,ie,ge){O.scaleTo(ee,function(){var G=this.__zoom.k,ue=typeof xe=="function"?xe.apply(this,arguments):xe;return G*ue},ie,ge)},O.scaleTo=function(ee,xe,ie,ge){O.transform(ee,function(){var G=e.apply(this,arguments),ue=this.__zoom,ke=ie==null?B(G):typeof ie=="function"?ie.apply(this,arguments):ie,ve=ue.invert(ke),Se=typeof xe=="function"?xe.apply(this,arguments):xe;return r(M(T(ue,Se),ke,ve),G,o)},ie,ge)},O.translateBy=function(ee,xe,ie,ge){O.transform(ee,function(){return r(this.__zoom.translate(typeof xe=="function"?xe.apply(this,arguments):xe,typeof ie=="function"?ie.apply(this,arguments):ie),e.apply(this,arguments),o)},null,ge)},O.translateTo=function(ee,xe,ie,ge,G){O.transform(ee,function(){var ue=e.apply(this,arguments),ke=this.__zoom,ve=ge==null?B(ue):typeof ge=="function"?ge.apply(this,arguments):ge;return r(JE.translate(ve[0],ve[1]).scale(ke.k).translate(typeof xe=="function"?-xe.apply(this,arguments):-xe,typeof ie=="function"?-ie.apply(this,arguments):-ie),ue,o)},ge,G)};function T(ee,xe){return xe=Math.max(a[0],Math.min(a[1],xe)),xe===ee.k?ee:new _u(xe,ee.x,ee.y)}function M(ee,xe,ie){var ge=xe[0]-ie[0]*ee.k,G=xe[1]-ie[1]*ee.k;return ge===ee.x&&G===ee.y?ee:new _u(ee.k,ge,G)}function B(ee){return[(+ee[0][0]+ +ee[1][0])/2,(+ee[0][1]+ +ee[1][1])/2]}function F(ee,xe,ie,ge){ee.on("start.zoom",function(){V(this,arguments).event(ge).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(ge).end()}).tween("zoom",function(){var G=this,ue=arguments,ke=V(G,ue).event(ge),ve=e.apply(G,ue),Se=ie==null?B(ve):typeof ie=="function"?ie.apply(G,ue):ie,He=Math.max(ve[1][0]-ve[0][0],ve[1][1]-ve[0][1]),De=G.__zoom,$e=typeof xe=="function"?xe.apply(G,ue):xe,Ue=u(De.invert(Se).concat(He/De.k),$e.invert(Se).concat(He/$e.k));return function(Ke){if(Ke===1)Ke=$e;else{var nt=Ue(Ke),Me=He/nt[2];Ke=new _u(Me,Se[0]-nt[0]*Me,Se[1]-nt[1]*Me)}ke.zoom(null,Ke)}})}function V(ee,xe,ie){return!ie&&ee.__zooming||new H(ee,xe)}function H(ee,xe){this.that=ee,this.args=xe,this.active=0,this.sourceEvent=null,this.extent=e.apply(ee,xe),this.taps=0}H.prototype={event:function(ee){return ee&&(this.sourceEvent=ee),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(ee,xe){return this.mouse&&ee!=="mouse"&&(this.mouse[1]=xe.invert(this.mouse[0])),this.touch0&&ee!=="touch"&&(this.touch0[1]=xe.invert(this.touch0[0])),this.touch1&&ee!=="touch"&&(this.touch1[1]=xe.invert(this.touch1[0])),this.that.__zoom=xe,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(ee){var xe=No(this.that).datum();h.call(ee,this.that,new rDe(ee,{sourceEvent:this.sourceEvent,target:O,transform:this.that.__zoom,dispatch:h}),xe)}};function Z(ee,...xe){if(!t.apply(this,arguments))return;var ie=V(this,xe).event(ee),ge=this.__zoom,G=Math.max(a[0],Math.min(a[1],ge.k*Math.pow(2,n.apply(this,arguments)))),ue=Kl(ee);if(ie.wheel)(ie.mouse[0][0]!==ue[0]||ie.mouse[0][1]!==ue[1])&&(ie.mouse[1]=ge.invert(ie.mouse[0]=ue)),clearTimeout(ie.wheel);else{if(ge.k===G)return;ie.mouse=[ue,ge.invert(ue)],Ak(this),ie.start()}kb(ee),ie.wheel=setTimeout(ke,_),ie.zoom("mouse",r(M(T(ge,G),ie.mouse[0],ie.mouse[1]),ie.extent,o));function ke(){ie.wheel=null,ie.end()}}function re(ee,...xe){if(y||!t.apply(this,arguments))return;var ie=ee.currentTarget,ge=V(this,xe,!0).event(ee),G=No(ee.view).on("mousemove.zoom",Se,!0).on("mouseup.zoom",He,!0),ue=Kl(ee,ie),ke=ee.clientX,ve=ee.clientY;cse(ee.view),iO(ee),ge.mouse=[ue,this.__zoom.invert(ue)],Ak(this),ge.start();function Se(De){if(kb(De),!ge.moved){var $e=De.clientX-ke,Ue=De.clientY-ve;ge.moved=$e*$e+Ue*Ue>k}ge.event(De).zoom("mouse",r(M(ge.that.__zoom,ge.mouse[0]=Kl(De,ie),ge.mouse[1]),ge.extent,o))}function He(De){G.on("mousemove.zoom mouseup.zoom",null),dse(De.view,ge.moved),kb(De),ge.event(De).end()}}function le(ee,...xe){if(t.apply(this,arguments)){var ie=this.__zoom,ge=Kl(ee.changedTouches?ee.changedTouches[0]:ee,this),G=ie.invert(ge),ue=ie.k*(ee.shiftKey?.5:2),ke=r(M(T(ie,ue),ge,G),e.apply(this,xe),o);kb(ee),l>0?No(this).transition().duration(l).call(F,ke,ge,ee):No(this).call(O.transform,ke,ge,ee)}}function ce(ee,...xe){if(t.apply(this,arguments)){var ie=ee.touches,ge=ie.length,G=V(this,xe,ee.changedTouches.length===ge).event(ee),ue,ke,ve,Se;for(iO(ee),ke=0;ke<ge;++ke)ve=ie[ke],Se=Kl(ve,this),Se=[Se,this.__zoom.invert(Se),ve.identifier],G.touch0?!G.touch1&&G.touch0[2]!==Se[2]&&(G.touch1=Se,G.taps=0):(G.touch0=Se,ue=!0,G.taps=1+!!f);f&&(f=clearTimeout(f)),ue&&(G.taps<2&&(g=Se[0],f=setTimeout(function(){f=null},N)),Ak(this),G.start())}}function he(ee,...xe){if(this.__zooming){var ie=V(this,xe).event(ee),ge=ee.changedTouches,G=ge.length,ue,ke,ve,Se;for(kb(ee),ue=0;ue<G;++ue)ke=ge[ue],ve=Kl(ke,this),ie.touch0&&ie.touch0[2]===ke.identifier?ie.touch0[0]=ve:ie.touch1&&ie.touch1[2]===ke.identifier&&(ie.touch1[0]=ve);if(ke=ie.that.__zoom,ie.touch1){var He=ie.touch0[0],De=ie.touch0[1],$e=ie.touch1[0],Ue=ie.touch1[1],Ke=(Ke=$e[0]-He[0])*Ke+(Ke=$e[1]-He[1])*Ke,nt=(nt=Ue[0]-De[0])*nt+(nt=Ue[1]-De[1])*nt;ke=T(ke,Math.sqrt(Ke/nt)),ve=[(He[0]+$e[0])/2,(He[1]+$e[1])/2],Se=[(De[0]+Ue[0])/2,(De[1]+Ue[1])/2]}else if(ie.touch0)ve=ie.touch0[0],Se=ie.touch0[1];else return;ie.zoom("touch",r(M(ke,ve,Se),ie.extent,o))}}function fe(ee,...xe){if(this.__zooming){var ie=V(this,xe).event(ee),ge=ee.changedTouches,G=ge.length,ue,ke;for(iO(ee),y&&clearTimeout(y),y=setTimeout(function(){y=null},N),ue=0;ue<G;++ue)ke=ge[ue],ie.touch0&&ie.touch0[2]===ke.identifier?delete ie.touch0:ie.touch1&&ie.touch1[2]===ke.identifier&&delete ie.touch1;if(ie.touch1&&!ie.touch0&&(ie.touch0=ie.touch1,delete ie.touch1),ie.touch0)ie.touch0[1]=this.__zoom.invert(ie.touch0[0]);else if(ie.end(),ie.taps===2&&(ke=Kl(ke,this),Math.hypot(g[0]-ke[0],g[1]-ke[1])<C)){var ve=No(this).on("dblclick.zoom");ve&&ve.apply(this,arguments)}}}return O.wheelDelta=function(ee){return arguments.length?(n=typeof ee=="function"?ee:o_(+ee),O):n},O.filter=function(ee){return arguments.length?(t=typeof ee=="function"?ee:o_(!!ee),O):t},O.touchable=function(ee){return arguments.length?(i=typeof ee=="function"?ee:o_(!!ee),O):i},O.extent=function(ee){return arguments.length?(e=typeof ee=="function"?ee:o_([[+ee[0][0],+ee[0][1]],[+ee[1][0],+ee[1][1]]]),O):e},O.scaleExtent=function(ee){return arguments.length?(a[0]=+ee[0],a[1]=+ee[1],O):[a[0],a[1]]},O.translateExtent=function(ee){return arguments.length?(o[0][0]=+ee[0][0],o[1][0]=+ee[1][0],o[0][1]=+ee[0][1],o[1][1]=+ee[1][1],O):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},O.constrain=function(ee){return arguments.length?(r=ee,O):r},O.duration=function(ee){return arguments.length?(l=+ee,O):l},O.interpolate=function(ee){return arguments.length?(u=ee,O):u},O.on=function(){var ee=h.on.apply(h,arguments);return ee===h?O:ee},O.clickDistance=function(ee){return arguments.length?(k=(ee=+ee)*ee,O):Math.sqrt(k)},O.tapDistance=function(ee){return arguments.length?(C=+ee,O):C},O}const od={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${t} handle id: "${t==="source"?r:n}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},T1=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],wse=["Enter"," ","Escape"];var Zy;(function(t){t.Strict="strict",t.Loose="loose"})(Zy||(Zy={}));var tg;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(tg||(tg={}));var P1;(function(t){t.Partial="partial",t.Full="full"})(P1||(P1={}));const jse={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Gh;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Gh||(Gh={}));var sC;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(sC||(sC={}));var ar;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ar||(ar={}));const oX={[ar.Left]:ar.Right,[ar.Right]:ar.Left,[ar.Top]:ar.Bottom,[ar.Bottom]:ar.Top};function Nse(t){return t===null?null:t?"valid":"invalid"}const _se=t=>"id"in t&&"source"in t&&"target"in t,lDe=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),XF=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),bN=(t,e=[0,0])=>{const{width:r,height:n}=eh(t),i=t.origin??e,a=r*i[0],o=n*i[1];return{x:t.position.x-a,y:t.position.y-o}},cDe=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const r=t.reduce((n,i)=>{const a=typeof i=="string";let o=!e.nodeLookup&&!a?i:void 0;e.nodeLookup&&(o=a?e.nodeLookup.get(i):XF(i)?i:e.nodeLookup.get(i.id));const l=o?nC(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return QE(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return eT(r)},wN=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(n=>{if(e.filter===void 0||e.filter(n)){const i=nC(n);r=QE(r,i)}}),eT(r)},Sse=(t,e,[r,n,i]=[0,0,1],a=!1,o=!1)=>{const l={...jN(e,[r,n,i]),width:e.width/i,height:e.height/i},u=[];for(const h of t.values()){const{measured:f,selectable:g=!0,hidden:y=!1}=h;if(o&&!g||y)continue;const N=f.width??h.width??h.initialWidth??null,_=f.height??h.height??h.initialHeight??null,k=M1(l,Jy(h)),C=(N??0)*(_??0),O=a&&k>0;(!h.internals.handleBounds||O||k>=C||h.dragging)&&u.push(h)}return u},dDe=(t,e)=>{const r=new Set;return t.forEach(n=>{r.add(n.id)}),e.filter(n=>r.has(n.source)||r.has(n.target))};function uDe(t,e){const r=new Map,n=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!n||n.has(i.id))&&r.set(i.id,i)}),r}async function hDe({nodes:t,width:e,height:r,panZoom:n,minZoom:i,maxZoom:a},o){if(t.size===0)return Promise.resolve(!0);const l=uDe(t,o),u=wN(l),h=YF(u,e,r,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??a,(o==null?void 0:o.padding)??.1);return await n.setViewport(h,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function kse({nodeId:t,nextPosition:e,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:i,onError:a}){const o=r.get(t),l=o.parentId?r.get(o.parentId):void 0,{x:u,y:h}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??n;let g=i;if(o.extent==="parent"&&!o.expandParent)if(!l)a==null||a("005",od.error005());else{const N=l.measured.width,_=l.measured.height;N&&_&&(g=[[u,h],[u+N,h+_]])}else l&&Qy(o.extent)&&(g=[[o.extent[0][0]+u,o.extent[0][1]+h],[o.extent[1][0]+u,o.extent[1][1]+h]]);const y=Qy(g)?yg(e,g,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(a==null||a("015",od.error015())),{position:{x:y.x-u+(o.measured.width??0)*f[0],y:y.y-h+(o.measured.height??0)*f[1]},positionAbsolute:y}}async function fDe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:r,edges:n,onBeforeDelete:i}){const a=new Set(t.map(y=>y.id)),o=[];for(const y of r){if(y.deletable===!1)continue;const N=a.has(y.id),_=!N&&y.parentId&&o.find(k=>k.id===y.parentId);(N||_)&&o.push(y)}const l=new Set(e.map(y=>y.id)),u=n.filter(y=>y.deletable!==!1),f=dDe(o,u);for(const y of u)l.has(y.id)&&!f.find(_=>_.id===y.id)&&f.push(y);if(!i)return{edges:f,nodes:o};const g=await i({nodes:o,edges:f});return typeof g=="boolean"?g?{edges:f,nodes:o}:{edges:[],nodes:[]}:g}const Ky=(t,e=0,r=1)=>Math.min(Math.max(t,e),r),yg=(t={x:0,y:0},e,r)=>({x:Ky(t.x,e[0][0],e[1][0]-((r==null?void 0:r.width)??0)),y:Ky(t.y,e[0][1],e[1][1]-((r==null?void 0:r.height)??0))});function Ase(t,e,r){const{width:n,height:i}=eh(r),{x:a,y:o}=r.internals.positionAbsolute;return yg(t,[[a,o],[a+n,o+i]],e)}const lX=(t,e,r)=>t<e?Ky(Math.abs(t-e),1,e)/e:t>r?-Ky(Math.abs(t-r),1,e)/e:0,Cse=(t,e,r=15,n=40)=>{const i=lX(t.x,n,e.width-n)*r,a=lX(t.y,n,e.height-n)*r;return[i,a]},QE=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),NI=({x:t,y:e,width:r,height:n})=>({x:t,y:e,x2:t+r,y2:e+n}),eT=({x:t,y:e,x2:r,y2:n})=>({x:t,y:e,width:r-t,height:n-e}),Jy=(t,e=[0,0])=>{var i,a;const{x:r,y:n}=XF(t)?t.internals.positionAbsolute:bN(t,e);return{x:r,y:n,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((a=t.measured)==null?void 0:a.height)??t.height??t.initialHeight??0}},nC=(t,e=[0,0])=>{var i,a;const{x:r,y:n}=XF(t)?t.internals.positionAbsolute:bN(t,e);return{x:r,y:n,x2:r+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:n+(((a=t.measured)==null?void 0:a.height)??t.height??t.initialHeight??0)}},Ese=(t,e)=>eT(QE(NI(t),NI(e))),M1=(t,e)=>{const r=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),n=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(r*n)},cX=t=>tc(t.width)&&tc(t.height)&&tc(t.x)&&tc(t.y),tc=t=>!isNaN(t)&&isFinite(t),mDe=(t,e)=>{},tT=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),jN=({x:t,y:e},[r,n,i],a=!1,o=[1,1])=>{const l={x:(t-r)/i,y:(e-n)/i};return a?tT(l,o):l},iC=({x:t,y:e},[r,n,i])=>({x:t*i+r,y:e*i+n});function bx(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const r=parseFloat(t);if(!Number.isNaN(r))return Math.floor(r)}if(typeof t=="string"&&t.endsWith("%")){const r=parseFloat(t);if(!Number.isNaN(r))return Math.floor(e*r*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function pDe(t,e,r){if(typeof t=="string"||typeof t=="number"){const n=bx(t,r),i=bx(t,e);return{top:n,right:i,bottom:n,left:i,x:i*2,y:n*2}}if(typeof t=="object"){const n=bx(t.top??t.y??0,r),i=bx(t.bottom??t.y??0,r),a=bx(t.left??t.x??0,e),o=bx(t.right??t.x??0,e);return{top:n,right:o,bottom:i,left:a,x:a+o,y:n+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function gDe(t,e,r,n,i,a){const{x:o,y:l}=iC(t,[e,r,n]),{x:u,y:h}=iC({x:t.x+t.width,y:t.y+t.height},[e,r,n]),f=i-u,g=a-h;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(g)}}const YF=(t,e,r,n,i,a)=>{const o=pDe(a,e,r),l=(e-o.x)/t.width,u=(r-o.y)/t.height,h=Math.min(l,u),f=Ky(h,n,i),g=t.x+t.width/2,y=t.y+t.height/2,N=e/2-g*f,_=r/2-y*f,k=gDe(t,N,_,f,e,r),C={left:Math.min(k.left-o.left,0),top:Math.min(k.top-o.top,0),right:Math.min(k.right-o.right,0),bottom:Math.min(k.bottom-o.bottom,0)};return{x:N-C.left+C.right,y:_-C.top+C.bottom,zoom:f}},aC=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Qy(t){return t!==void 0&&t!=="parent"}function eh(t){var e,r;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}}function Tse(t){var e,r;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight)!==void 0}function Pse(t,e={width:0,height:0},r,n,i){const a={...t},o=n.get(r);if(o){const l=o.origin||i;a.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],a.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return a}function dX(t,e){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}function xDe(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}function Fw(t,{snapGrid:e=[0,0],snapToGrid:r=!1,transform:n,containerBounds:i}){const{x:a,y:o}=Du(t),l=jN({x:a-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},n),{x:u,y:h}=r?tT(l,e):l;return{xSnapped:u,ySnapped:h,...l}}const GF=t=>({width:t.offsetWidth,height:t.offsetHeight}),Mse=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},yDe=["INPUT","SELECT","TEXTAREA"];function Lse(t){var n,i;const e=((i=(n=t.composedPath)==null?void 0:n.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:yDe.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const Ose=t=>"clientX"in t,Du=(t,e)=>{var a,o;const r=Ose(t),n=r?t.clientX:(a=t.touches)==null?void 0:a[0].clientX,i=r?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:n-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},uX=(t,e,r,n,i)=>{const a=e.querySelectorAll(`.${t}`);return!a||!a.length?null:Array.from(a).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,...GF(o)}})};function Dse({sourceX:t,sourceY:e,targetX:r,targetY:n,sourceControlX:i,sourceControlY:a,targetControlX:o,targetControlY:l}){const u=t*.125+i*.375+o*.375+r*.125,h=e*.125+a*.375+l*.375+n*.125,f=Math.abs(u-t),g=Math.abs(h-e);return[u,h,f,g]}function l_(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function hX({pos:t,x1:e,y1:r,x2:n,y2:i,c:a}){switch(t){case ar.Left:return[e-l_(e-n,a),r];case ar.Right:return[e+l_(n-e,a),r];case ar.Top:return[e,r-l_(r-i,a)];case ar.Bottom:return[e,r+l_(i-r,a)]}}function Rse({sourceX:t,sourceY:e,sourcePosition:r=ar.Bottom,targetX:n,targetY:i,targetPosition:a=ar.Top,curvature:o=.25}){const[l,u]=hX({pos:r,x1:t,y1:e,x2:n,y2:i,c:o}),[h,f]=hX({pos:a,x1:n,y1:i,x2:t,y2:e,c:o}),[g,y,N,_]=Dse({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:h,targetControlY:f});return[`M${t},${e} C${l},${u} ${h},${f} ${n},${i}`,g,y,N,_]}function Ise({sourceX:t,sourceY:e,targetX:r,targetY:n}){const i=Math.abs(r-t)/2,a=r<t?r+i:r-i,o=Math.abs(n-e)/2,l=n<e?n+o:n-o;return[a,l,i,o]}function vDe({sourceNode:t,targetNode:e,selected:r=!1,zIndex:n=0,elevateOnSelect:i=!1}){if(!i)return n;const a=r||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return n+(a?o:0)}function bDe({sourceNode:t,targetNode:e,width:r,height:n,transform:i}){const a=QE(nC(t),nC(e));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:r/i[2],height:n/i[2]};return M1(o,eT(a))>0}const wDe=({source:t,sourceHandle:e,target:r,targetHandle:n})=>`xy-edge__${t}${e||""}-${r}${n||""}`,jDe=(t,e)=>e.some(r=>r.source===t.source&&r.target===t.target&&(r.sourceHandle===t.sourceHandle||!r.sourceHandle&&!t.sourceHandle)&&(r.targetHandle===t.targetHandle||!r.targetHandle&&!t.targetHandle)),Fse=(t,e)=>{if(!t.source||!t.target)return e;let r;return _se(t)?r={...t}:r={...t,id:wDe(t)},jDe(r,e)?e:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,e.concat(r))};function Bse({sourceX:t,sourceY:e,targetX:r,targetY:n}){const[i,a,o,l]=Ise({sourceX:t,sourceY:e,targetX:r,targetY:n});return[`M ${t},${e}L ${r},${n}`,i,a,o,l]}const fX={[ar.Left]:{x:-1,y:0},[ar.Right]:{x:1,y:0},[ar.Top]:{x:0,y:-1},[ar.Bottom]:{x:0,y:1}},NDe=({source:t,sourcePosition:e=ar.Bottom,target:r})=>e===ar.Left||e===ar.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1},mX=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function _De({source:t,sourcePosition:e=ar.Bottom,target:r,targetPosition:n=ar.Top,center:i,offset:a}){const o=fX[e],l=fX[n],u={x:t.x+o.x*a,y:t.y+o.y*a},h={x:r.x+l.x*a,y:r.y+l.y*a},f=NDe({source:u,sourcePosition:e,target:h}),g=f.x!==0?"x":"y",y=f[g];let N=[],_,k;const C={x:0,y:0},O={x:0,y:0},[T,M,B,F]=Ise({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(o[g]*l[g]===-1){_=i.x??T,k=i.y??M;const H=[{x:_,y:u.y},{x:_,y:h.y}],Z=[{x:u.x,y:k},{x:h.x,y:k}];o[g]===y?N=g==="x"?H:Z:N=g==="x"?Z:H}else{const H=[{x:u.x,y:h.y}],Z=[{x:h.x,y:u.y}];if(g==="x"?N=o.x===y?Z:H:N=o.y===y?H:Z,e===n){const fe=Math.abs(t[g]-r[g]);if(fe<=a){const ee=Math.min(a-1,a-fe);o[g]===y?C[g]=(u[g]>t[g]?-1:1)*ee:O[g]=(h[g]>r[g]?-1:1)*ee}}if(e!==n){const fe=g==="x"?"y":"x",ee=o[g]===l[fe],xe=u[fe]>h[fe],ie=u[fe]<h[fe];(o[g]===1&&(!ee&&xe||ee&&ie)||o[g]!==1&&(!ee&&ie||ee&&xe))&&(N=g==="x"?H:Z)}const re={x:u.x+C.x,y:u.y+C.y},le={x:h.x+O.x,y:h.y+O.y},ce=Math.max(Math.abs(re.x-N[0].x),Math.abs(le.x-N[0].x)),he=Math.max(Math.abs(re.y-N[0].y),Math.abs(le.y-N[0].y));ce>=he?(_=(re.x+le.x)/2,k=N[0].y):(_=N[0].x,k=(re.y+le.y)/2)}return[[t,{x:u.x+C.x,y:u.y+C.y},...N,{x:h.x+O.x,y:h.y+O.y},r],_,k,B,F]}function SDe(t,e,r,n){const i=Math.min(mX(t,e)/2,mX(e,r)/2,n),{x:a,y:o}=e;if(t.x===a&&a===r.x||t.y===o&&o===r.y)return`L${a} ${o}`;if(t.y===o){const h=t.x<r.x?-1:1,f=t.y<r.y?1:-1;return`L ${a+i*h},${o}Q ${a},${o} ${a},${o+i*f}`}const l=t.x<r.x?1:-1,u=t.y<r.y?-1:1;return`L ${a},${o+i*u}Q ${a},${o} ${a+i*l},${o}`}function _I({sourceX:t,sourceY:e,sourcePosition:r=ar.Bottom,targetX:n,targetY:i,targetPosition:a=ar.Top,borderRadius:o=5,centerX:l,centerY:u,offset:h=20}){const[f,g,y,N,_]=_De({source:{x:t,y:e},sourcePosition:r,target:{x:n,y:i},targetPosition:a,center:{x:l,y:u},offset:h});return[f.reduce((C,O,T)=>{let M="";return T>0&&T<f.length-1?M=SDe(f[T-1],O,f[T+1],o):M=`${T===0?"M":"L"}${O.x} ${O.y}`,C+=M,C},""),g,y,N,_]}function pX(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function kDe(t){var g;const{sourceNode:e,targetNode:r}=t;if(!pX(e)||!pX(r))return null;const n=e.internals.handleBounds||gX(e.handles),i=r.internals.handleBounds||gX(r.handles),a=xX((n==null?void 0:n.source)??[],t.sourceHandle),o=xX(t.connectionMode===Zy.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!a||!o)return(g=t.onError)==null||g.call(t,"008",od.error008(a?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=(a==null?void 0:a.position)||ar.Bottom,u=(o==null?void 0:o.position)||ar.Top,h=L1(e,a,l),f=L1(r,o,u);return{sourceX:h.x,sourceY:h.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:u}}function gX(t){if(!t)return null;const e=[],r=[];for(const n of t)n.width=n.width??1,n.height=n.height??1,n.type==="source"?e.push(n):n.type==="target"&&r.push(n);return{source:e,target:r}}function L1(t,e,r=ar.Left,n=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,a=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:l}=e??eh(t);if(n)return{x:i+o/2,y:a+l/2};switch((e==null?void 0:e.position)??r){case ar.Top:return{x:i+o/2,y:a};case ar.Right:return{x:i+o,y:a+l/2};case ar.Bottom:return{x:i+o/2,y:a+l};case ar.Left:return{x:i,y:a+l/2}}}function xX(t,e){return t&&(e?t.find(r=>r.id===e):t[0])||null}function SI(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(n=>`${n}=${t[n]}`).join("&")}`:""}function ADe(t,{id:e,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:i}){const a=new Set;return t.reduce((o,l)=>([l.markerStart||n,l.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const h=SI(u,e);a.has(h)||(o.push({id:h,color:u.color||r,...u}),a.add(h))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const ZF={nodeOrigin:[0,0],nodeExtent:T1,elevateNodesOnSelect:!0,defaults:{}},CDe={...ZF,checkEquality:!0};function KF(t,e){const r={...t};for(const n in e)e[n]!==void 0&&(r[n]=e[n]);return r}function EDe(t,e,r){const n=KF(ZF,r);for(const i of t.values())if(i.parentId)JF(i,t,e,n);else{const a=bN(i,n.nodeOrigin),o=Qy(i.extent)?i.extent:n.nodeExtent,l=yg(a,o,eh(i));i.internals.positionAbsolute=l}}function kI(t,e,r,n){var u,h;const i=KF(CDe,n);let a=t.length>0;const o=new Map(e),l=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),r.clear();for(const f of t){let g=o.get(f.id);if(i.checkEquality&&f===(g==null?void 0:g.internals.userNode))e.set(f.id,g);else{const y=bN(f,i.nodeOrigin),N=Qy(f.extent)?f.extent:i.nodeExtent,_=yg(y,N,eh(f));g={...i.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(h=f.measured)==null?void 0:h.height},internals:{positionAbsolute:_,handleBounds:f.measured?g==null?void 0:g.internals.handleBounds:void 0,z:$se(f,l),userNode:f}},e.set(f.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(a=!1),f.parentId&&JF(g,e,r,n)}return a}function TDe(t,e){if(!t.parentId)return;const r=e.get(t.parentId);r?r.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function JF(t,e,r,n){const{elevateNodesOnSelect:i,nodeOrigin:a,nodeExtent:o}=KF(ZF,n),l=t.parentId,u=e.get(l);if(!u){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}TDe(t,r);const h=i?1e3:0,{x:f,y:g,z:y}=PDe(t,u,a,o,h),{positionAbsolute:N}=t.internals,_=f!==N.x||g!==N.y;(_||y!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:_?{x:f,y:g}:N,z:y}})}function $se(t,e){return(tc(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function PDe(t,e,r,n,i){const{x:a,y:o}=e.internals.positionAbsolute,l=eh(t),u=bN(t,r),h=Qy(t.extent)?yg(u,t.extent,l):u;let f=yg({x:a+h.x,y:o+h.y},n,l);t.extent==="parent"&&(f=Ase(f,l,e));const g=$se(t,i),y=e.internals.z??0;return{x:f.x,y:f.y,z:y>g?y:g}}function QF(t,e,r,n=[0,0]){var o;const i=[],a=new Map;for(const l of t){const u=e.get(l.parentId);if(!u)continue;const h=((o=a.get(l.parentId))==null?void 0:o.expandedRect)??Jy(u),f=Ese(h,l.rect);a.set(l.parentId,{expandedRect:f,parent:u})}return a.size>0&&a.forEach(({expandedRect:l,parent:u},h)=>{var M;const f=u.internals.positionAbsolute,g=eh(u),y=u.origin??n,N=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,_=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,k=Math.max(g.width,Math.round(l.width)),C=Math.max(g.height,Math.round(l.height)),O=(k-g.width)*y[0],T=(C-g.height)*y[1];(N>0||_>0||O||T)&&(i.push({id:h,type:"position",position:{x:u.position.x-N+O,y:u.position.y-_+T}}),(M=r.get(h))==null||M.forEach(B=>{t.some(F=>F.id===B.id)||i.push({id:B.id,type:"position",position:{x:B.position.x+N,y:B.position.y+_}})})),(g.width<l.width||g.height<l.height||N||_)&&i.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:k+(N?y[0]*N-O:0),height:C+(_?y[1]*_-T:0)}})}),i}function MDe(t,e,r,n,i,a){const o=n==null?void 0:n.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const u=[],h=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(h.transform),g=[];for(const y of t.values()){const N=e.get(y.id);if(!N)continue;if(N.hidden){e.set(N.id,{...N,internals:{...N.internals,handleBounds:void 0}}),l=!0;continue}const _=GF(y.nodeElement),k=N.measured.width!==_.width||N.measured.height!==_.height;if(!!(_.width&&_.height&&(k||!N.internals.handleBounds||y.force))){const O=y.nodeElement.getBoundingClientRect(),T=Qy(N.extent)?N.extent:a;let{positionAbsolute:M}=N.internals;N.parentId&&N.extent==="parent"?M=Ase(M,_,e.get(N.parentId)):T&&(M=yg(M,T,_));const B={...N,measured:_,internals:{...N.internals,positionAbsolute:M,handleBounds:{source:uX("source",y.nodeElement,O,f,N.id),target:uX("target",y.nodeElement,O,f,N.id)}}};e.set(N.id,B),N.parentId&&JF(B,e,r,{nodeOrigin:i}),l=!0,k&&(u.push({id:N.id,type:"dimensions",dimensions:_}),N.expandParent&&N.parentId&&g.push({id:N.id,parentId:N.parentId,rect:Jy(B,i)}))}}if(g.length>0){const y=QF(g,e,r,i);u.push(...y)}return{changes:u,updatedInternals:l}}async function LDe({delta:t,panZoom:e,transform:r,translateExtent:n,width:i,height:a}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:r[0]+t.x,y:r[1]+t.y,zoom:r[2]},[[0,0],[i,a]],n),l=!!o&&(o.x!==r[0]||o.y!==r[1]||o.k!==r[2]);return Promise.resolve(l)}function yX(t,e,r,n,i,a){let o=i;const l=n.get(o)||new Map;n.set(o,l.set(r,e)),o=`${i}-${t}`;const u=n.get(o)||new Map;if(n.set(o,u.set(r,e)),a){o=`${i}-${t}-${a}`;const h=n.get(o)||new Map;n.set(o,h.set(r,e))}}function zse(t,e,r){t.clear(),e.clear();for(const n of r){const{source:i,target:a,sourceHandle:o=null,targetHandle:l=null}=n,u={edgeId:n.id,source:i,target:a,sourceHandle:o,targetHandle:l},h=`${i}-${o}--${a}-${l}`,f=`${a}-${l}--${i}-${o}`;yX("source",u,f,t,i,o),yX("target",u,h,t,a,l),e.set(n.id,n)}}function Hse(t,e){if(!t.parentId)return!1;const r=e.get(t.parentId);return r?r.selected?!0:Hse(r,e):!1}function vX(t,e,r){var i;let n=t;do{if((i=n==null?void 0:n.matches)!=null&&i.call(n,e))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function ODe(t,e,r,n){const i=new Map;for(const[a,o]of t)if((o.selected||o.id===n)&&(!o.parentId||!Hse(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const l=t.get(a);l&&i.set(a,{id:a,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function aO({nodeId:t,dragItems:e,nodeLookup:r,dragging:n=!0}){var o,l,u;const i=[];for(const[h,f]of e){const g=(o=r.get(h))==null?void 0:o.internals.userNode;g&&i.push({...g,position:f.position,dragging:n})}if(!t)return[i[0],i];const a=(l=r.get(t))==null?void 0:l.internals.userNode;return[a?{...a,position:((u=e.get(t))==null?void 0:u.position)||a.position,dragging:n}:i[0],i]}function DDe({onNodeMouseDown:t,getStoreItems:e,onDragStart:r,onDrag:n,onDragStop:i}){let a={x:null,y:null},o=0,l=new Map,u=!1,h={x:0,y:0},f=null,g=!1,y=null,N=!1;function _({noDragClassName:C,handleSelector:O,domNode:T,isSelectable:M,nodeId:B,nodeClickDistance:F=0}){y=No(T);function V({x:le,y:ce},he){const{nodeLookup:fe,nodeExtent:ee,snapGrid:xe,snapToGrid:ie,nodeOrigin:ge,onNodeDrag:G,onSelectionDrag:ue,onError:ke,updateNodePositions:ve}=e();a={x:le,y:ce};let Se=!1,He={x:0,y:0,x2:0,y2:0};if(l.size>1&&ee){const De=wN(l);He=NI(De)}for(const[De,$e]of l){if(!fe.has(De))continue;let Ue={x:le-$e.distance.x,y:ce-$e.distance.y};ie&&(Ue=tT(Ue,xe));let Ke=[[ee[0][0],ee[0][1]],[ee[1][0],ee[1][1]]];if(l.size>1&&ee&&!$e.extent){const{positionAbsolute:qe}=$e.internals,ht=qe.x-He.x+ee[0][0],ye=qe.x+$e.measured.width-He.x2+ee[1][0],Xe=qe.y-He.y+ee[0][1],dt=qe.y+$e.measured.height-He.y2+ee[1][1];Ke=[[ht,Xe],[ye,dt]]}const{position:nt,positionAbsolute:Me}=kse({nodeId:De,nextPosition:Ue,nodeLookup:fe,nodeExtent:Ke,nodeOrigin:ge,onError:ke});Se=Se||$e.position.x!==nt.x||$e.position.y!==nt.y,$e.position=nt,$e.internals.positionAbsolute=Me}if(Se&&(ve(l,!0),he&&(n||G||!B&&ue))){const[De,$e]=aO({nodeId:B,dragItems:l,nodeLookup:fe});n==null||n(he,l,De,$e),G==null||G(he,De,$e),B||ue==null||ue(he,$e)}}async function H(){if(!f)return;const{transform:le,panBy:ce,autoPanSpeed:he,autoPanOnNodeDrag:fe}=e();if(!fe){u=!1,cancelAnimationFrame(o);return}const[ee,xe]=Cse(h,f,he);(ee!==0||xe!==0)&&(a.x=(a.x??0)-ee/le[2],a.y=(a.y??0)-xe/le[2],await ce({x:ee,y:xe})&&V(a,null)),o=requestAnimationFrame(H)}function Z(le){var Se;const{nodeLookup:ce,multiSelectionActive:he,nodesDraggable:fe,transform:ee,snapGrid:xe,snapToGrid:ie,selectNodesOnDrag:ge,onNodeDragStart:G,onSelectionDragStart:ue,unselectNodesAndEdges:ke}=e();g=!0,(!ge||!M)&&!he&&B&&((Se=ce.get(B))!=null&&Se.selected||ke()),M&&ge&&B&&(t==null||t(B));const ve=Fw(le.sourceEvent,{transform:ee,snapGrid:xe,snapToGrid:ie,containerBounds:f});if(a=ve,l=ODe(ce,fe,ve,B),l.size>0&&(r||G||!B&&ue)){const[He,De]=aO({nodeId:B,dragItems:l,nodeLookup:ce});r==null||r(le.sourceEvent,l,He,De),G==null||G(le.sourceEvent,He,De),B||ue==null||ue(le.sourceEvent,De)}}const re=use().clickDistance(F).on("start",le=>{const{domNode:ce,nodeDragThreshold:he,transform:fe,snapGrid:ee,snapToGrid:xe}=e();f=(ce==null?void 0:ce.getBoundingClientRect())||null,N=!1,he===0&&Z(le),a=Fw(le.sourceEvent,{transform:fe,snapGrid:ee,snapToGrid:xe,containerBounds:f}),h=Du(le.sourceEvent,f)}).on("drag",le=>{const{autoPanOnNodeDrag:ce,transform:he,snapGrid:fe,snapToGrid:ee,nodeDragThreshold:xe,nodeLookup:ie}=e(),ge=Fw(le.sourceEvent,{transform:he,snapGrid:fe,snapToGrid:ee,containerBounds:f});if((le.sourceEvent.type==="touchmove"&&le.sourceEvent.touches.length>1||B&&!ie.has(B))&&(N=!0),!N){if(!u&&ce&&g&&(u=!0,H()),!g){const G=ge.xSnapped-(a.x??0),ue=ge.ySnapped-(a.y??0);Math.sqrt(G*G+ue*ue)>xe&&Z(le)}(a.x!==ge.xSnapped||a.y!==ge.ySnapped)&&l&&g&&(h=Du(le.sourceEvent,f),V(ge,le.sourceEvent))}}).on("end",le=>{if(!(!g||N)&&(u=!1,g=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:ce,updateNodePositions:he,onNodeDragStop:fe,onSelectionDragStop:ee}=e();if(he(l,!1),i||fe||!B&&ee){const[xe,ie]=aO({nodeId:B,dragItems:l,nodeLookup:ce,dragging:!1});i==null||i(le.sourceEvent,l,xe,ie),fe==null||fe(le.sourceEvent,xe,ie),B||ee==null||ee(le.sourceEvent,ie)}}}).filter(le=>{const ce=le.target;return!le.button&&(!C||!vX(ce,`.${C}`,T))&&(!O||vX(ce,O,T))});y.call(re)}function k(){y==null||y.on(".drag",null)}return{update:_,destroy:k}}function RDe(t,e,r){const n=[],i={x:t.x-r,y:t.y-r,width:r*2,height:r*2};for(const a of e.values())M1(i,Jy(a))>0&&n.push(a);return n}const IDe=250;function FDe(t,e,r,n){var l,u;let i=[],a=1/0;const o=RDe(t,r,e+IDe);for(const h of o){const f=[...((l=h.internals.handleBounds)==null?void 0:l.source)??[],...((u=h.internals.handleBounds)==null?void 0:u.target)??[]];for(const g of f){if(n.nodeId===g.nodeId&&n.type===g.type&&n.id===g.id)continue;const{x:y,y:N}=L1(h,g,g.position,!0),_=Math.sqrt(Math.pow(y-t.x,2)+Math.pow(N-t.y,2));_>e||(_<a?(i=[{...g,x:y,y:N}],a=_):_===a&&i.push({...g,x:y,y:N}))}}if(!i.length)return null;if(i.length>1){const h=n.type==="source"?"target":"source";return i.find(f=>f.type===h)??i[0]}return i[0]}function Wse(t,e,r,n,i,a=!1){var h,f,g;const o=n.get(t);if(!o)return null;const l=i==="strict"?(h=o.internals.handleBounds)==null?void 0:h[e]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((g=o.internals.handleBounds)==null?void 0:g.target)??[]],u=(r?l==null?void 0:l.find(y=>y.id===r):l==null?void 0:l[0])??null;return u&&a?{...u,...L1(o,u,u.position,!0)}:u}function Vse(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function BDe(t,e){let r=null;return e?r=!0:t&&!e&&(r=!1),r}const Use=()=>!0;function $De(t,{connectionMode:e,connectionRadius:r,handleId:n,nodeId:i,edgeUpdaterType:a,isTarget:o,domNode:l,nodeLookup:u,lib:h,autoPanOnConnect:f,flowId:g,panBy:y,cancelConnection:N,onConnectStart:_,onConnect:k,onConnectEnd:C,isValidConnection:O=Use,onReconnectEnd:T,updateConnection:M,getTransform:B,getFromHandle:F,autoPanSpeed:V}){const H=Mse(t.target);let Z=0,re;const{x:le,y:ce}=Du(t),he=H==null?void 0:H.elementFromPoint(le,ce),fe=Vse(a,he),ee=l==null?void 0:l.getBoundingClientRect();if(!ee||!fe)return;const xe=Wse(i,fe,n,u,e);if(!xe)return;let ie=Du(t,ee),ge=!1,G=null,ue=!1,ke=null;function ve(){if(!f||!ee)return;const[Me,qe]=Cse(ie,ee,V);y({x:Me,y:qe}),Z=requestAnimationFrame(ve)}const Se={...xe,nodeId:i,type:fe,position:xe.position},He=u.get(i),$e={inProgress:!0,isValid:null,from:L1(He,Se,ar.Left,!0),fromHandle:Se,fromPosition:Se.position,fromNode:He,to:ie,toHandle:null,toPosition:oX[Se.position],toNode:null};M($e);let Ue=$e;_==null||_(t,{nodeId:i,handleId:n,handleType:fe});function Ke(Me){if(!F()||!Se){nt(Me);return}const qe=B();ie=Du(Me,ee),re=FDe(jN(ie,qe,!1,[1,1]),r,u,Se),ge||(ve(),ge=!0);const ht=qse(Me,{handle:re,connectionMode:e,fromNodeId:i,fromHandleId:n,fromType:o?"target":"source",isValidConnection:O,doc:H,lib:h,flowId:g,nodeLookup:u});ke=ht.handleDomNode,G=ht.connection,ue=BDe(!!re,ht.isValid);const ye={...Ue,isValid:ue,to:ht.toHandle&&ue?iC({x:ht.toHandle.x,y:ht.toHandle.y},qe):ie,toHandle:ht.toHandle,toPosition:ue&&ht.toHandle?ht.toHandle.position:oX[Se.position],toNode:ht.toHandle?u.get(ht.toHandle.nodeId):null};ue&&re&&Ue.toHandle&&ye.toHandle&&Ue.toHandle.type===ye.toHandle.type&&Ue.toHandle.nodeId===ye.toHandle.nodeId&&Ue.toHandle.id===ye.toHandle.id&&Ue.to.x===ye.to.x&&Ue.to.y===ye.to.y||(M(ye),Ue=ye)}function nt(Me){(re||ke)&&G&&ue&&(k==null||k(G));const{inProgress:qe,...ht}=Ue,ye={...ht,toPosition:Ue.toHandle?Ue.toPosition:null};C==null||C(Me,ye),a&&(T==null||T(Me,ye)),N(),cancelAnimationFrame(Z),ge=!1,ue=!1,G=null,ke=null,H.removeEventListener("mousemove",Ke),H.removeEventListener("mouseup",nt),H.removeEventListener("touchmove",Ke),H.removeEventListener("touchend",nt)}H.addEventListener("mousemove",Ke),H.addEventListener("mouseup",nt),H.addEventListener("touchmove",Ke),H.addEventListener("touchend",nt)}function qse(t,{handle:e,connectionMode:r,fromNodeId:n,fromHandleId:i,fromType:a,doc:o,lib:l,flowId:u,isValidConnection:h=Use,nodeLookup:f}){const g=a==="target",y=e?o.querySelector(`.${l}-flow__handle[data-id="${u}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:N,y:_}=Du(t),k=o.elementFromPoint(N,_),C=k!=null&&k.classList.contains(`${l}-flow__handle`)?k:y,O={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const T=Vse(void 0,C),M=C.getAttribute("data-nodeid"),B=C.getAttribute("data-handleid"),F=C.classList.contains("connectable"),V=C.classList.contains("connectableend");if(!M||!T)return O;const H={source:g?M:n,sourceHandle:g?B:i,target:g?n:M,targetHandle:g?i:B};O.connection=H;const re=F&&V&&(r===Zy.Strict?g&&T==="source"||!g&&T==="target":M!==n||B!==i);O.isValid=re&&h(H),O.toHandle=Wse(M,T,B,f,r,!0)}return O}const AI={onPointerDown:$De,isValid:qse};function zDe({domNode:t,panZoom:e,getTransform:r,getViewScale:n}){const i=No(t);function a({translateExtent:l,width:u,height:h,zoomStep:f=10,pannable:g=!0,zoomable:y=!0,inversePan:N=!1}){const _=M=>{const B=r();if(M.sourceEvent.type!=="wheel"||!e)return;const F=-M.sourceEvent.deltaY*(M.sourceEvent.deltaMode===1?.05:M.sourceEvent.deltaMode?1:.002)*f,V=B[2]*Math.pow(2,F);e.scaleTo(V)};let k=[0,0];const C=M=>{(M.sourceEvent.type==="mousedown"||M.sourceEvent.type==="touchstart")&&(k=[M.sourceEvent.clientX??M.sourceEvent.touches[0].clientX,M.sourceEvent.clientY??M.sourceEvent.touches[0].clientY])},O=M=>{const B=r();if(M.sourceEvent.type!=="mousemove"&&M.sourceEvent.type!=="touchmove"||!e)return;const F=[M.sourceEvent.clientX??M.sourceEvent.touches[0].clientX,M.sourceEvent.clientY??M.sourceEvent.touches[0].clientY],V=[F[0]-k[0],F[1]-k[1]];k=F;const H=n()*Math.max(B[2],Math.log(B[2]))*(N?-1:1),Z={x:B[0]-V[0]*H,y:B[1]-V[1]*H},re=[[0,0],[u,h]];e.setViewportConstrained({x:Z.x,y:Z.y,zoom:B[2]},re,l)},T=bse().on("start",C).on("zoom",g?O:null).on("zoom.wheel",y?_:null);i.call(T,{})}function o(){i.on("zoom",null)}return{update:a,destroy:o,pointer:Kl}}const HDe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,rT=t=>({x:t.x,y:t.y,zoom:t.k}),oO=({x:t,y:e,zoom:r})=>JE.translate(t,e).scale(r),e0=(t,e)=>t.target.closest(`.${e}`),Xse=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),lO=(t,e=0,r=()=>{})=>{const n=typeof e=="number"&&e>0;return n||r(),n?t.transition().duration(e).on("end",r):t},Yse=t=>{const e=t.ctrlKey&&aC()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function WDe({zoomPanValues:t,noWheelClassName:e,d3Selection:r,d3Zoom:n,panOnScrollMode:i,panOnScrollSpeed:a,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:h}){return f=>{if(e0(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const g=r.property("__zoom").k||1;if(f.ctrlKey&&o){const C=Kl(f),O=Yse(f),T=g*Math.pow(2,O);n.scaleTo(r,T,C,f);return}const y=f.deltaMode===1?20:1;let N=i===tg.Vertical?0:f.deltaX*y,_=i===tg.Horizontal?0:f.deltaY*y;!aC()&&f.shiftKey&&i!==tg.Vertical&&(N=f.deltaY*y,_=0),n.translateBy(r,-(N/g)*a,-(_/g)*a,{internal:!0});const k=rT(r.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l==null||l(f,k)),t.isPanScrolling&&(u==null||u(f,k),t.panScrollTimeout=setTimeout(()=>{h==null||h(f,k),t.isPanScrolling=!1},150))}}function VDe({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:r}){return function(n,i){const a=n.type==="wheel",o=!e&&a&&!n.ctrlKey,l=e0(n,t);if(n.ctrlKey&&a&&l&&n.preventDefault(),o||l)return null;n.preventDefault(),r.call(this,n,i)}}function UDe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:r}){return n=>{var a,o,l;if((a=n.sourceEvent)!=null&&a.internal)return;const i=rT(n.transform);t.mouseButton=((o=n.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&e(!0),r&&(r==null||r(n.sourceEvent,i))}}function qDe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:r,onTransformChange:n,onPanZoom:i}){return a=>{var o,l;t.usedRightMouseButton=!!(r&&Xse(e,t.mouseButton??0)),(o=a.sourceEvent)!=null&&o.sync||n([a.transform.x,a.transform.y,a.transform.k]),i&&!((l=a.sourceEvent)!=null&&l.internal)&&(i==null||i(a.sourceEvent,rT(a.transform)))}}function XDe({zoomPanValues:t,panOnDrag:e,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:i,onPaneContextMenu:a}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(t.isZoomingOrPanning=!1,a&&Xse(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&a(o.sourceEvent),t.usedRightMouseButton=!1,n(!1),i&&HDe(t.prevViewport,o.transform))){const u=rT(o.transform);t.prevViewport=u,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,u)},r?150:0)}}}function YDe({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:r,panOnDrag:n,panOnScroll:i,zoomOnDoubleClick:a,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:h}){return f=>{var _;const g=t||e,y=r&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(e0(f,`${h}-flow__node`)||e0(f,`${h}-flow__edge`)))return!0;if(!n&&!g&&!i&&!a&&!r||o||e0(f,l)&&f.type==="wheel"||e0(f,u)&&(f.type!=="wheel"||i&&f.type==="wheel"&&!t)||!r&&f.ctrlKey&&f.type==="wheel")return!1;if(!r&&f.type==="touchstart"&&((_=f.touches)==null?void 0:_.length)>1)return f.preventDefault(),!1;if(!g&&!i&&!y&&f.type==="wheel"||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const N=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&N}}function GDe({domNode:t,minZoom:e,maxZoom:r,paneClickDistance:n,translateExtent:i,viewport:a,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:h}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=t.getBoundingClientRect(),y=bse().clickDistance(!tc(n)||n<0?0:n).scaleExtent([e,r]).translateExtent(i),N=No(t).call(y);M({x:a.x,y:a.y,zoom:Ky(a.zoom,e,r)},[[0,0],[g.width,g.height]],i);const _=N.on("wheel.zoom"),k=N.on("dblclick.zoom");y.wheelDelta(Yse);function C(he,fe){return N?new Promise(ee=>{y==null||y.transform(lO(N,fe==null?void 0:fe.duration,()=>ee(!0)),he)}):Promise.resolve(!1)}function O({noWheelClassName:he,noPanClassName:fe,onPaneContextMenu:ee,userSelectionActive:xe,panOnScroll:ie,panOnDrag:ge,panOnScrollMode:G,panOnScrollSpeed:ue,preventScrolling:ke,zoomOnPinch:ve,zoomOnScroll:Se,zoomOnDoubleClick:He,zoomActivationKeyPressed:De,lib:$e,onTransformChange:Ue}){xe&&!f.isZoomingOrPanning&&T();const nt=ie&&!De&&!xe?WDe({zoomPanValues:f,noWheelClassName:he,d3Selection:N,d3Zoom:y,panOnScrollMode:G,panOnScrollSpeed:ue,zoomOnPinch:ve,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:u}):VDe({noWheelClassName:he,preventScrolling:ke,d3ZoomHandler:_});if(N.on("wheel.zoom",nt,{passive:!1}),!xe){const qe=UDe({zoomPanValues:f,onDraggingChange:h,onPanZoomStart:l});y.on("start",qe);const ht=qDe({zoomPanValues:f,panOnDrag:ge,onPaneContextMenu:!!ee,onPanZoom:o,onTransformChange:Ue});y.on("zoom",ht);const ye=XDe({zoomPanValues:f,panOnDrag:ge,panOnScroll:ie,onPaneContextMenu:ee,onPanZoomEnd:u,onDraggingChange:h});y.on("end",ye)}const Me=YDe({zoomActivationKeyPressed:De,panOnDrag:ge,zoomOnScroll:Se,panOnScroll:ie,zoomOnDoubleClick:He,zoomOnPinch:ve,userSelectionActive:xe,noPanClassName:fe,noWheelClassName:he,lib:$e});y.filter(Me),He?N.on("dblclick.zoom",k):N.on("dblclick.zoom",null)}function T(){y.on("zoom",null)}async function M(he,fe,ee){const xe=oO(he),ie=y==null?void 0:y.constrain()(xe,fe,ee);return ie&&await C(ie),new Promise(ge=>ge(ie))}async function B(he,fe){const ee=oO(he);return await C(ee,fe),new Promise(xe=>xe(ee))}function F(he){if(N){const fe=oO(he),ee=N.property("__zoom");(ee.k!==he.zoom||ee.x!==he.x||ee.y!==he.y)&&(y==null||y.transform(N,fe,null,{sync:!0}))}}function V(){const he=N?vse(N.node()):{x:0,y:0,k:1};return{x:he.x,y:he.y,zoom:he.k}}function H(he,fe){return N?new Promise(ee=>{y==null||y.scaleTo(lO(N,fe==null?void 0:fe.duration,()=>ee(!0)),he)}):Promise.resolve(!1)}function Z(he,fe){return N?new Promise(ee=>{y==null||y.scaleBy(lO(N,fe==null?void 0:fe.duration,()=>ee(!0)),he)}):Promise.resolve(!1)}function re(he){y==null||y.scaleExtent(he)}function le(he){y==null||y.translateExtent(he)}function ce(he){const fe=!tc(he)||he<0?0:he;y==null||y.clickDistance(fe)}return{update:O,destroy:T,setViewport:B,setViewportConstrained:M,getViewport:V,scaleTo:H,scaleBy:Z,setScaleExtent:re,setTranslateExtent:le,syncViewport:F,setClickDistance:ce}}var Bw;(function(t){t.Line="line",t.Handle="handle"})(Bw||(Bw={}));function ZDe({width:t,prevWidth:e,height:r,prevHeight:n,affectsX:i,affectsY:a}){const o=t-e,l=r-n,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(u[0]=u[0]*-1),l&&a&&(u[1]=u[1]*-1),u}function KDe(t){const e=t.includes("right")||t.includes("left"),r=t.includes("bottom")||t.includes("top"),n=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:r,affectsX:n,affectsY:i}}function Ph(t,e){return Math.max(0,e-t)}function Mh(t,e){return Math.max(0,t-e)}function c_(t,e,r){return Math.max(0,e-t,t-r)}function bX(t,e){return t?!e:e}function JDe(t,e,r,n,i,a,o,l){let{affectsX:u,affectsY:h}=e;const{isHorizontal:f,isVertical:g}=e,y=f&&g,{xSnapped:N,ySnapped:_}=r,{minWidth:k,maxWidth:C,minHeight:O,maxHeight:T}=n,{x:M,y:B,width:F,height:V,aspectRatio:H}=t;let Z=Math.floor(f?N-t.pointerX:0),re=Math.floor(g?_-t.pointerY:0);const le=F+(u?-Z:Z),ce=V+(h?-re:re),he=-a[0]*F,fe=-a[1]*V;let ee=c_(le,k,C),xe=c_(ce,O,T);if(o){let G=0,ue=0;u&&Z<0?G=Ph(M+Z+he,o[0][0]):!u&&Z>0&&(G=Mh(M+le+he,o[1][0])),h&&re<0?ue=Ph(B+re+fe,o[0][1]):!h&&re>0&&(ue=Mh(B+ce+fe,o[1][1])),ee=Math.max(ee,G),xe=Math.max(xe,ue)}if(l){let G=0,ue=0;u&&Z>0?G=Mh(M+Z,l[0][0]):!u&&Z<0&&(G=Ph(M+le,l[1][0])),h&&re>0?ue=Mh(B+re,l[0][1]):!h&&re<0&&(ue=Ph(B+ce,l[1][1])),ee=Math.max(ee,G),xe=Math.max(xe,ue)}if(i){if(f){const G=c_(le/H,O,T)*H;if(ee=Math.max(ee,G),o){let ue=0;!u&&!h||u&&!h&&y?ue=Mh(B+fe+le/H,o[1][1])*H:ue=Ph(B+fe+(u?Z:-Z)/H,o[0][1])*H,ee=Math.max(ee,ue)}if(l){let ue=0;!u&&!h||u&&!h&&y?ue=Ph(B+le/H,l[1][1])*H:ue=Mh(B+(u?Z:-Z)/H,l[0][1])*H,ee=Math.max(ee,ue)}}if(g){const G=c_(ce*H,k,C)/H;if(xe=Math.max(xe,G),o){let ue=0;!u&&!h||h&&!u&&y?ue=Mh(M+ce*H+he,o[1][0])/H:ue=Ph(M+(h?re:-re)*H+he,o[0][0])/H,xe=Math.max(xe,ue)}if(l){let ue=0;!u&&!h||h&&!u&&y?ue=Ph(M+ce*H,l[1][0])/H:ue=Mh(M+(h?re:-re)*H,l[0][0])/H,xe=Math.max(xe,ue)}}}re=re+(re<0?xe:-xe),Z=Z+(Z<0?ee:-ee),i&&(y?le>ce*H?re=(bX(u,h)?-Z:Z)/H:Z=(bX(u,h)?-re:re)*H:f?(re=Z/H,h=u):(Z=re*H,u=h));const ie=u?M+Z:M,ge=h?B+re:B;return{width:F+(u?-Z:Z),height:V+(h?-re:re),x:a[0]*Z*(u?-1:1)+ie,y:a[1]*re*(h?-1:1)+ge}}const Gse={width:0,height:0,x:0,y:0},QDe={...Gse,pointerX:0,pointerY:0,aspectRatio:1};function eRe(t){return[[0,0],[t.measured.width,t.measured.height]]}function tRe(t,e,r){const n=e.position.x+t.position.x,i=e.position.y+t.position.y,a=t.measured.width??0,o=t.measured.height??0,l=r[0]*a,u=r[1]*o;return[[n-l,i-u],[n+a-l,i+o-u]]}function rRe({domNode:t,nodeId:e,getStoreItems:r,onChange:n,onEnd:i}){const a=No(t);function o({controlPosition:u,boundaries:h,keepAspectRatio:f,resizeDirection:g,onResizeStart:y,onResize:N,onResizeEnd:_,shouldResize:k}){let C={...Gse},O={...QDe};const T=KDe(u);let M,B=null,F=[],V,H,Z;const re=use().on("start",le=>{const{nodeLookup:ce,transform:he,snapGrid:fe,snapToGrid:ee,nodeOrigin:xe,paneDomNode:ie}=r();if(M=ce.get(e),!M)return;B=(ie==null?void 0:ie.getBoundingClientRect())??null;const{xSnapped:ge,ySnapped:G}=Fw(le.sourceEvent,{transform:he,snapGrid:fe,snapToGrid:ee,containerBounds:B});C={width:M.measured.width??0,height:M.measured.height??0,x:M.position.x??0,y:M.position.y??0},O={...C,pointerX:ge,pointerY:G,aspectRatio:C.width/C.height},V=void 0,M.parentId&&(M.extent==="parent"||M.expandParent)&&(V=ce.get(M.parentId),H=V&&M.extent==="parent"?eRe(V):void 0),F=[],Z=void 0;for(const[ue,ke]of ce)if(ke.parentId===e&&(F.push({id:ue,position:{...ke.position},extent:ke.extent}),ke.extent==="parent"||ke.expandParent)){const ve=tRe(ke,M,ke.origin??xe);Z?Z=[[Math.min(ve[0][0],Z[0][0]),Math.min(ve[0][1],Z[0][1])],[Math.max(ve[1][0],Z[1][0]),Math.max(ve[1][1],Z[1][1])]]:Z=ve}y==null||y(le,{...C})}).on("drag",le=>{const{transform:ce,snapGrid:he,snapToGrid:fe,nodeOrigin:ee}=r(),xe=Fw(le.sourceEvent,{transform:ce,snapGrid:he,snapToGrid:fe,containerBounds:B}),ie=[];if(!M)return;const{x:ge,y:G,width:ue,height:ke}=C,ve={},Se=M.origin??ee,{width:He,height:De,x:$e,y:Ue}=JDe(O,T,xe,h,f,Se,H,Z),Ke=He!==ue,nt=De!==ke,Me=$e!==ge&&Ke,qe=Ue!==G&&nt;if(!Me&&!qe&&!Ke&&!nt)return;if((Me||qe||Se[0]===1||Se[1]===1)&&(ve.x=Me?$e:C.x,ve.y=qe?Ue:C.y,C.x=ve.x,C.y=ve.y,F.length>0)){const dt=$e-ge,Tt=Ue-G;for(const Ct of F)Ct.position={x:Ct.position.x-dt+Se[0]*(He-ue),y:Ct.position.y-Tt+Se[1]*(De-ke)},ie.push(Ct)}if((Ke||nt)&&(ve.width=Ke&&(!g||g==="horizontal")?He:C.width,ve.height=nt&&(!g||g==="vertical")?De:C.height,C.width=ve.width,C.height=ve.height),V&&M.expandParent){const dt=Se[0]*(ve.width??0);ve.x&&ve.x<dt&&(C.x=dt,O.x=O.x-(ve.x-dt));const Tt=Se[1]*(ve.height??0);ve.y&&ve.y<Tt&&(C.y=Tt,O.y=O.y-(ve.y-Tt))}const ht=ZDe({width:C.width,prevWidth:ue,height:C.height,prevHeight:ke,affectsX:T.affectsX,affectsY:T.affectsY}),ye={...C,direction:ht};(k==null?void 0:k(le,ye))!==!1&&(N==null||N(le,ye),n(ve,ie))}).on("end",le=>{_==null||_(le,{...C}),i==null||i({...C})});a.call(re)}function l(){a.on(".drag",null)}return{update:o,destroy:l}}var cO={exports:{}},dO={},uO={exports:{}},hO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wX;function sRe(){if(wX)return hO;wX=1;var t=av();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(g,y){var N=y(),_=n({inst:{value:N,getSnapshot:y}}),k=_[0].inst,C=_[1];return a(function(){k.value=N,k.getSnapshot=y,u(k)&&C({inst:k})},[g,N,y]),i(function(){return u(k)&&C({inst:k}),g(function(){u(k)&&C({inst:k})})},[g]),o(N),N}function u(g){var y=g.getSnapshot;g=g.value;try{var N=y();return!r(g,N)}catch{return!0}}function h(g,y){return y()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return hO.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,hO}var jX;function nRe(){return jX||(jX=1,uO.exports=sRe()),uO.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NX;function iRe(){if(NX)return dO;NX=1;var t=av(),e=nRe();function r(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return dO.useSyncExternalStoreWithSelector=function(h,f,g,y,N){var _=a(null);if(_.current===null){var k={hasValue:!1,value:null};_.current=k}else k=_.current;_=l(function(){function O(V){if(!T){if(T=!0,M=V,V=y(V),N!==void 0&&k.hasValue){var H=k.value;if(N(H,V))return B=H}return B=V}if(H=B,n(M,V))return H;var Z=y(V);return N!==void 0&&N(H,Z)?(M=V,H):(M=V,B=Z)}var T=!1,M,B,F=g===void 0?null:g;return[function(){return O(f())},F===null?void 0:function(){return O(F())}]},[f,g,y,N]);var C=i(h,_[0],_[1]);return o(function(){k.hasValue=!0,k.value=C},[C]),u(C),C},dO}var _X;function aRe(){return _X||(_X=1,cO.exports=iRe()),cO.exports}var oRe=aRe();const lRe=Ur(oRe),cRe={},SX=t=>{let e;const r=new Set,n=(f,g)=>{const y=typeof f=="function"?f(e):f;if(!Object.is(y,e)){const N=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),r.forEach(_=>_(e,N))}},i=()=>e,u={setState:n,getState:i,getInitialState:()=>h,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(cRe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=e=t(n,i,u);return u},dRe=t=>t?SX(t):SX,{useDebugValue:uRe}=Oe,{useSyncExternalStoreWithSelector:hRe}=lRe,fRe=t=>t;function Zse(t,e=fRe,r){const n=hRe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return uRe(n),n}const kX=(t,e)=>{const r=dRe(t),n=(i,a=e)=>Zse(r,i,a);return Object.assign(n,r),n},mRe=(t,e)=>t?kX(t,e):kX;function bn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,i]of t)if(!Object.is(i,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(e,n)||!Object.is(t[n],e[n]))return!1;return!0}const sT=Y.createContext(null),pRe=sT.Provider,Kse=od.error001();function ss(t,e){const r=Y.useContext(sT);if(r===null)throw new Error(Kse);return Zse(r,t,e)}function Js(){const t=Y.useContext(sT);if(t===null)throw new Error(Kse);return Y.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const AX={display:"none"},gRe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Jse="react-flow__node-desc",Qse="react-flow__edge-desc",xRe="react-flow__aria-live",yRe=t=>t.ariaLiveMessage;function vRe({rfId:t}){const e=ss(yRe);return s.jsx("div",{id:`${xRe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:gRe,children:e})}function bRe({rfId:t,disableKeyboardA11y:e}){return s.jsxs(s.Fragment,{children:[s.jsxs("div",{id:`${Jse}-${t}`,style:AX,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),s.jsx("div",{id:`${Qse}-${t}`,style:AX,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&s.jsx(vRe,{rfId:t})]})}const wRe=t=>t.userSelectionActive?"none":"all",ev=Y.forwardRef(({position:t="top-left",children:e,className:r,style:n,...i},a)=>{const o=ss(wRe),l=`${t}`.split("-");return s.jsx("div",{className:$n(["react-flow__panel",r,...l]),style:{...n,pointerEvents:o},ref:a,...i,children:e})});ev.displayName="Panel";function jRe({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:s.jsx(ev,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:s.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const NRe=t=>{const e=[],r=[];for(const[,n]of t.nodeLookup)n.selected&&e.push(n.internals.userNode);for(const[,n]of t.edgeLookup)n.selected&&r.push(n);return{selectedNodes:e,selectedEdges:r}},d_=t=>t.id;function _Re(t,e){return bn(t.selectedNodes.map(d_),e.selectedNodes.map(d_))&&bn(t.selectedEdges.map(d_),e.selectedEdges.map(d_))}function SRe({onSelectionChange:t}){const e=Js(),{selectedNodes:r,selectedEdges:n}=ss(NRe,_Re);return Y.useEffect(()=>{const i={nodes:r,edges:n};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(a=>a(i))},[r,n,t]),null}const kRe=t=>!!t.onSelectionChangeHandlers;function ARe({onSelectionChange:t}){const e=ss(kRe);return t||e?s.jsx(SRe,{onSelectionChange:t}):null}const ene=[0,0],CRe={x:0,y:0,zoom:1},ERe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],CX=[...ERe,"rfId"],TRe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),EX={translateExtent:T1,nodeOrigin:ene,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function PRe(t){const{setNodes:e,setEdges:r,setMinZoom:n,setMaxZoom:i,setTranslateExtent:a,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u,setPaneClickDistance:h}=ss(TRe,bn),f=Js();Y.useEffect(()=>(u(t.defaultNodes,t.defaultEdges),()=>{g.current=EX,l()}),[]);const g=Y.useRef(EX);return Y.useEffect(()=>{for(const y of CX){const N=t[y],_=g.current[y];N!==_&&(typeof t[y]>"u"||(y==="nodes"?e(N):y==="edges"?r(N):y==="minZoom"?n(N):y==="maxZoom"?i(N):y==="translateExtent"?a(N):y==="nodeExtent"?o(N):y==="paneClickDistance"?h(N):y==="fitView"?f.setState({fitViewQueued:N}):y==="fitViewOptions"?f.setState({fitViewOptions:N}):f.setState({[y]:N})))}g.current=t},CX.map(y=>t[y])),null}function TX(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function MRe(t){var n;const[e,r]=Y.useState(t==="system"?null:t);return Y.useEffect(()=>{if(t!=="system"){r(t);return}const i=TX(),a=()=>r(i!=null&&i.matches?"dark":"light");return a(),i==null||i.addEventListener("change",a),()=>{i==null||i.removeEventListener("change",a)}},[t]),e!==null?e:(n=TX())!=null&&n.matches?"dark":"light"}const PX=typeof document<"u"?document:null;function O1(t=null,e={target:PX,actInsideInputWithModifier:!0}){const[r,n]=Y.useState(!1),i=Y.useRef(!1),a=Y.useRef(new Set([])),[o,l]=Y.useMemo(()=>{if(t!==null){const h=(Array.isArray(t)?t:[t]).filter(g=>typeof g=="string").map(g=>g.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=h.reduce((g,y)=>g.concat(...y),[]);return[h,f]}return[[],[]]},[t]);return Y.useEffect(()=>{const u=(e==null?void 0:e.target)??PX,h=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const f=N=>{var C,O;if(i.current=N.ctrlKey||N.metaKey||N.shiftKey||N.altKey,(!i.current||i.current&&!h)&&Lse(N))return!1;const k=LX(N.code,l);if(a.current.add(N[k]),MX(o,a.current,!1)){const T=((O=(C=N.composedPath)==null?void 0:C.call(N))==null?void 0:O[0])||N.target,M=(T==null?void 0:T.nodeName)==="BUTTON"||(T==null?void 0:T.nodeName)==="A";e.preventDefault!==!1&&(i.current||!M)&&N.preventDefault(),n(!0)}},g=N=>{const _=LX(N.code,l);MX(o,a.current,!0)?(n(!1),a.current.clear()):a.current.delete(N[_]),N.key==="Meta"&&a.current.clear(),i.current=!1},y=()=>{a.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",f),u==null||u.addEventListener("keyup",g),window.addEventListener("blur",y),window.addEventListener("contextmenu",y),()=>{u==null||u.removeEventListener("keydown",f),u==null||u.removeEventListener("keyup",g),window.removeEventListener("blur",y),window.removeEventListener("contextmenu",y)}}},[t,n]),r}function MX(t,e,r){return t.filter(n=>r||n.length===e.size).some(n=>n.every(i=>e.has(i)))}function LX(t,e){return e.includes(t)?"code":"key"}const LRe=()=>{const t=Js();return Y.useMemo(()=>({zoomIn:e=>{const{panZoom:r}=t.getState();return r?r.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:r}=t.getState();return r?r.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,r)=>{const{panZoom:n}=t.getState();return n?n.scaleTo(e,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,r)=>{const{transform:[n,i,a],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??n,y:e.y??i,zoom:e.zoom??a},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,r,n]=t.getState().transform;return{x:e,y:r,zoom:n}},setCenter:async(e,r,n)=>{const{width:i,height:a,maxZoom:o,panZoom:l}=t.getState(),u=typeof(n==null?void 0:n.zoom)<"u"?n.zoom:o,h=i/2-e*u,f=a/2-r*u;return l?(await l.setViewport({x:h,y:f,zoom:u},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,r)=>{const{width:n,height:i,minZoom:a,maxZoom:o,panZoom:l}=t.getState(),u=YF(e,n,i,a,o,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(u,{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,r={})=>{const{transform:n,snapGrid:i,snapToGrid:a,domNode:o}=t.getState();if(!o)return e;const{x:l,y:u}=o.getBoundingClientRect(),h={x:e.x-l,y:e.y-u},f=r.snapGrid??i,g=r.snapToGrid??a;return jN(h,n,g,f)},flowToScreenPosition:e=>{const{transform:r,domNode:n}=t.getState();if(!n)return e;const{x:i,y:a}=n.getBoundingClientRect(),o=iC(e,r);return{x:o.x+i,y:o.y+a}}}),[])};function tne(t,e){const r=[],n=new Map,i=[];for(const a of t)if(a.type==="add"){i.push(a);continue}else if(a.type==="remove"||a.type==="replace")n.set(a.id,[a]);else{const o=n.get(a.id);o?o.push(a):n.set(a.id,[a])}for(const a of e){const o=n.get(a.id);if(!o){r.push(a);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){r.push({...o[0].item});continue}const l={...a};for(const u of o)ORe(u,l);r.push(l)}return i.length&&i.forEach(a=>{a.index!==void 0?r.splice(a.index,0,{...a.item}):r.push({...a.item})}),r}function ORe(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function rne(t,e){return tne(t,e)}function sne(t,e){return tne(t,e)}function Im(t,e){return{id:t,type:"select",selected:e}}function t0(t,e=new Set,r=!1){const n=[];for(const[i,a]of t){const o=e.has(i);!(a.selected===void 0&&!o)&&a.selected!==o&&(r&&(a.selected=o),n.push(Im(a.id,o)))}return n}function OX({items:t=[],lookup:e}){var i;const r=[],n=new Map(t.map(a=>[a.id,a]));for(const[a,o]of t.entries()){const l=e.get(o.id),u=((i=l==null?void 0:l.internals)==null?void 0:i.userNode)??l;u!==void 0&&u!==o&&r.push({id:o.id,item:o,type:"replace"}),u===void 0&&r.push({item:o,type:"add",index:a})}for(const[a]of e)n.get(a)===void 0&&r.push({id:a,type:"remove"});return r}function DX(t){return{id:t.id,type:"remove"}}const RX=t=>lDe(t),DRe=t=>_se(t);function nne(t){return Y.forwardRef(t)}const RRe=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function IX(t){const[e,r]=Y.useState(BigInt(0)),[n]=Y.useState(()=>IRe(()=>r(i=>i+BigInt(1))));return RRe(()=>{const i=n.get();i.length&&(t(i),n.reset())},[e]),n}function IRe(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:r=>{e.push(r),t()}}}const ine=Y.createContext(null);function FRe({children:t}){const e=Js(),r=Y.useCallback(l=>{const{nodes:u=[],setNodes:h,hasDefaultNodes:f,onNodesChange:g,nodeLookup:y,fitViewQueued:N}=e.getState();let _=u;for(const C of l)_=typeof C=="function"?C(_):C;const k=OX({items:_,lookup:y});f&&h(_),k.length>0?g==null||g(k):N&&window.requestAnimationFrame(()=>{const{fitViewQueued:C,nodes:O,setNodes:T}=e.getState();C&&T(O)})},[]),n=IX(r),i=Y.useCallback(l=>{const{edges:u=[],setEdges:h,hasDefaultEdges:f,onEdgesChange:g,edgeLookup:y}=e.getState();let N=u;for(const _ of l)N=typeof _=="function"?_(N):_;f?h(N):g&&g(OX({items:N,lookup:y}))},[]),a=IX(i),o=Y.useMemo(()=>({nodeQueue:n,edgeQueue:a}),[]);return s.jsx(ine.Provider,{value:o,children:t})}function BRe(){const t=Y.useContext(ine);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const $Re=t=>!!t.panZoom;function nT(){const t=LRe(),e=Js(),r=BRe(),n=ss($Re),i=Y.useMemo(()=>{const a=g=>e.getState().nodeLookup.get(g),o=g=>{r.nodeQueue.push(g)},l=g=>{r.edgeQueue.push(g)},u=g=>{var O,T;const{nodeLookup:y,nodeOrigin:N}=e.getState(),_=RX(g)?g:y.get(g.id),k=_.parentId?Pse(_.position,_.measured,_.parentId,y,N):_.position,C={..._,position:k,width:((O=_.measured)==null?void 0:O.width)??_.width,height:((T=_.measured)==null?void 0:T.height)??_.height};return Jy(C)},h=(g,y,N={replace:!1})=>{o(_=>_.map(k=>{if(k.id===g){const C=typeof y=="function"?y(k):y;return N.replace&&RX(C)?C:{...k,...C}}return k}))},f=(g,y,N={replace:!1})=>{l(_=>_.map(k=>{if(k.id===g){const C=typeof y=="function"?y(k):y;return N.replace&&DRe(C)?C:{...k,...C}}return k}))};return{getNodes:()=>e.getState().nodes.map(g=>({...g})),getNode:g=>{var y;return(y=a(g))==null?void 0:y.internals.userNode},getInternalNode:a,getEdges:()=>{const{edges:g=[]}=e.getState();return g.map(y=>({...y}))},getEdge:g=>e.getState().edgeLookup.get(g),setNodes:o,setEdges:l,addNodes:g=>{const y=Array.isArray(g)?g:[g];r.nodeQueue.push(N=>[...N,...y])},addEdges:g=>{const y=Array.isArray(g)?g:[g];r.edgeQueue.push(N=>[...N,...y])},toObject:()=>{const{nodes:g=[],edges:y=[],transform:N}=e.getState(),[_,k,C]=N;return{nodes:g.map(O=>({...O})),edges:y.map(O=>({...O})),viewport:{x:_,y:k,zoom:C}}},deleteElements:async({nodes:g=[],edges:y=[]})=>{const{nodes:N,edges:_,onNodesDelete:k,onEdgesDelete:C,triggerNodeChanges:O,triggerEdgeChanges:T,onDelete:M,onBeforeDelete:B}=e.getState(),{nodes:F,edges:V}=await fDe({nodesToRemove:g,edgesToRemove:y,nodes:N,edges:_,onBeforeDelete:B}),H=V.length>0,Z=F.length>0;if(H){const re=V.map(DX);C==null||C(V),T(re)}if(Z){const re=F.map(DX);k==null||k(F),O(re)}return(Z||H)&&(M==null||M({nodes:F,edges:V})),{deletedNodes:F,deletedEdges:V}},getIntersectingNodes:(g,y=!0,N)=>{const _=cX(g),k=_?g:u(g),C=N!==void 0;return k?(N||e.getState().nodes).filter(O=>{const T=e.getState().nodeLookup.get(O.id);if(T&&!_&&(O.id===g.id||!T.internals.positionAbsolute))return!1;const M=Jy(C?O:T),B=M1(M,k);return y&&B>0||B>=k.width*k.height}):[]},isNodeIntersecting:(g,y,N=!0)=>{const k=cX(g)?g:u(g);if(!k)return!1;const C=M1(k,y);return N&&C>0||C>=k.width*k.height},updateNode:h,updateNodeData:(g,y,N={replace:!1})=>{h(g,_=>{const k=typeof y=="function"?y(_):y;return N.replace?{..._,data:k}:{..._,data:{..._.data,...k}}},N)},updateEdge:f,updateEdgeData:(g,y,N={replace:!1})=>{f(g,_=>{const k=typeof y=="function"?y(_):y;return N.replace?{..._,data:k}:{..._,data:{..._.data,...k}}},N)},getNodesBounds:g=>{const{nodeLookup:y,nodeOrigin:N}=e.getState();return cDe(g,{nodeLookup:y,nodeOrigin:N})},getHandleConnections:({type:g,id:y,nodeId:N})=>{var _;return Array.from(((_=e.getState().connectionLookup.get(`${N}-${g}${y?`-${y}`:""}`))==null?void 0:_.values())??[])},getNodeConnections:({type:g,handleId:y,nodeId:N})=>{var _;return Array.from(((_=e.getState().connectionLookup.get(`${N}${g?y?`-${g}-${y}`:`-${g}`:""}`))==null?void 0:_.values())??[])},fitView:async g=>{const y=e.getState().fitViewResolver??xDe();return e.setState({fitViewQueued:!0,fitViewOptions:g,fitViewResolver:y}),r.nodeQueue.push(N=>[...N]),y.promise}}},[]);return Y.useMemo(()=>({...i,...t,viewportInitialized:n}),[n])}const FX=t=>t.selected,zRe=typeof window<"u"?window:void 0;function HRe({deleteKeyCode:t,multiSelectionKeyCode:e}){const r=Js(),{deleteElements:n}=nT(),i=O1(t,{actInsideInputWithModifier:!1}),a=O1(e,{target:zRe});Y.useEffect(()=>{if(i){const{edges:o,nodes:l}=r.getState();n({nodes:l.filter(FX),edges:o.filter(FX)}),r.setState({nodesSelectionActive:!1})}},[i]),Y.useEffect(()=>{r.setState({multiSelectionActive:a})},[a])}function WRe(t){const e=Js();Y.useEffect(()=>{const r=()=>{var i,a;if(!t.current)return!1;const n=GF(t.current);(n.height===0||n.width===0)&&((a=(i=e.getState()).onError)==null||a.call(i,"004",od.error004())),e.setState({width:n.width||500,height:n.height||500})};if(t.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(t.current),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}}},[])}const iT={position:"absolute",width:"100%",height:"100%",top:0,left:0},VRe=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function URe({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:i=.5,panOnScrollMode:a=tg.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:h,minZoom:f,maxZoom:g,zoomActivationKeyCode:y,preventScrolling:N=!0,children:_,noWheelClassName:k,noPanClassName:C,onViewportChange:O,isControlledViewport:T,paneClickDistance:M}){const B=Js(),F=Y.useRef(null),{userSelectionActive:V,lib:H}=ss(VRe,bn),Z=O1(y),re=Y.useRef();WRe(F);const le=Y.useCallback(ce=>{O==null||O({x:ce[0],y:ce[1],zoom:ce[2]}),T||B.setState({transform:ce})},[O,T]);return Y.useEffect(()=>{if(F.current){re.current=GDe({domNode:F.current,minZoom:f,maxZoom:g,translateExtent:h,viewport:u,paneClickDistance:M,onDraggingChange:ee=>B.setState({paneDragging:ee}),onPanZoomStart:(ee,xe)=>{const{onViewportChangeStart:ie,onMoveStart:ge}=B.getState();ge==null||ge(ee,xe),ie==null||ie(xe)},onPanZoom:(ee,xe)=>{const{onViewportChange:ie,onMove:ge}=B.getState();ge==null||ge(ee,xe),ie==null||ie(xe)},onPanZoomEnd:(ee,xe)=>{const{onViewportChangeEnd:ie,onMoveEnd:ge}=B.getState();ge==null||ge(ee,xe),ie==null||ie(xe)}});const{x:ce,y:he,zoom:fe}=re.current.getViewport();return B.setState({panZoom:re.current,transform:[ce,he,fe],domNode:F.current.closest(".react-flow")}),()=>{var ee;(ee=re.current)==null||ee.destroy()}}},[]),Y.useEffect(()=>{var ce;(ce=re.current)==null||ce.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:i,panOnScrollMode:a,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:Z,preventScrolling:N,noPanClassName:C,userSelectionActive:V,noWheelClassName:k,lib:H,onTransformChange:le})},[t,e,r,n,i,a,o,l,Z,N,C,V,k,H,le]),s.jsx("div",{className:"react-flow__renderer",ref:F,style:iT,children:_})}const qRe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function XRe(){const{userSelectionActive:t,userSelectionRect:e}=ss(qRe,bn);return t&&e?s.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const fO=(t,e)=>r=>{r.target===e.current&&(t==null||t(r))},YRe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function GRe({isSelecting:t,selectionKeyPressed:e,selectionMode:r=P1.Full,panOnDrag:n,selectionOnDrag:i,onSelectionStart:a,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:h,onPaneMouseEnter:f,onPaneMouseMove:g,onPaneMouseLeave:y,children:N}){const _=Js(),{userSelectionActive:k,elementsSelectable:C,dragging:O,connectionInProgress:T}=ss(YRe,bn),M=C&&(t||k),B=Y.useRef(null),F=Y.useRef(),V=Y.useRef(new Set),H=Y.useRef(new Set),Z=Y.useRef(!1),re=Y.useRef(!1),le=ge=>{if(Z.current||T){Z.current=!1;return}l==null||l(ge),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},ce=ge=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){ge.preventDefault();return}u==null||u(ge)},he=h?ge=>h(ge):void 0,fe=ge=>{var Se,He;const{resetSelectedElements:G,domNode:ue}=_.getState();if(F.current=ue==null?void 0:ue.getBoundingClientRect(),!C||!t||ge.button!==0||ge.target!==B.current||!F.current)return;(He=(Se=ge.target)==null?void 0:Se.setPointerCapture)==null||He.call(Se,ge.pointerId),re.current=!0,Z.current=!1;const{x:ke,y:ve}=Du(ge.nativeEvent,F.current);G(),_.setState({userSelectionRect:{width:0,height:0,startX:ke,startY:ve,x:ke,y:ve}}),a==null||a(ge)},ee=ge=>{const{userSelectionRect:G,transform:ue,nodeLookup:ke,edgeLookup:ve,connectionLookup:Se,triggerNodeChanges:He,triggerEdgeChanges:De,defaultEdgeOptions:$e}=_.getState();if(!F.current||!G)return;Z.current=!0;const{x:Ue,y:Ke}=Du(ge.nativeEvent,F.current),{startX:nt,startY:Me}=G,qe={startX:nt,startY:Me,x:Ue<nt?Ue:nt,y:Ke<Me?Ke:Me,width:Math.abs(Ue-nt),height:Math.abs(Ke-Me)},ht=V.current,ye=H.current;V.current=new Set(Sse(ke,qe,ue,r===P1.Partial,!0).map(dt=>dt.id)),H.current=new Set;const Xe=($e==null?void 0:$e.selectable)??!0;for(const dt of V.current){const Tt=Se.get(dt);if(Tt)for(const{edgeId:Ct}of Tt.values()){const or=ve.get(Ct);or&&(or.selectable??Xe)&&H.current.add(Ct)}}if(!dX(ht,V.current)){const dt=t0(ke,V.current,!0);He(dt)}if(!dX(ye,H.current)){const dt=t0(ve,H.current);De(dt)}_.setState({userSelectionRect:qe,userSelectionActive:!0,nodesSelectionActive:!1})},xe=ge=>{var ue,ke;if(ge.button!==0||!re.current)return;(ke=(ue=ge.target)==null?void 0:ue.releasePointerCapture)==null||ke.call(ue,ge.pointerId);const{userSelectionRect:G}=_.getState();!k&&G&&ge.target===B.current&&(le==null||le(ge)),_.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:V.current.size>0}),o==null||o(ge),(e||i)&&(Z.current=!1),re.current=!1},ie=n===!0||Array.isArray(n)&&n.includes(0);return s.jsxs("div",{className:$n(["react-flow__pane",{draggable:ie,dragging:O,selection:t}]),onClick:M?void 0:fO(le,B),onContextMenu:fO(ce,B),onWheel:fO(he,B),onPointerEnter:M?void 0:f,onPointerDown:M?fe:g,onPointerMove:M?ee:g,onPointerUp:M?xe:void 0,onPointerLeave:y,ref:B,style:iT,children:[N,s.jsx(XRe,{})]})}function CI({id:t,store:e,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:o,nodeLookup:l,onError:u}=e.getState(),h=l.get(t);if(!h){u==null||u("012",od.error012(t));return}e.setState({nodesSelectionActive:!1}),h.selected?(r||h.selected&&o)&&(a({nodes:[h],edges:[]}),requestAnimationFrame(()=>{var f;return(f=n==null?void 0:n.current)==null?void 0:f.blur()})):i([t])}function ane({nodeRef:t,disabled:e=!1,noDragClassName:r,handleSelector:n,nodeId:i,isSelectable:a,nodeClickDistance:o}){const l=Js(),[u,h]=Y.useState(!1),f=Y.useRef();return Y.useEffect(()=>{f.current=DDe({getStoreItems:()=>l.getState(),onNodeMouseDown:g=>{CI({id:g,store:l,nodeRef:t})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),Y.useEffect(()=>{var g,y;if(e)(g=f.current)==null||g.destroy();else if(t.current)return(y=f.current)==null||y.update({noDragClassName:r,handleSelector:n,domNode:t.current,isSelectable:a,nodeId:i,nodeClickDistance:o}),()=>{var N;(N=f.current)==null||N.destroy()}},[r,n,e,a,t,i]),u}const ZRe=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function one(){const t=Js();return Y.useCallback(r=>{const{nodeExtent:n,snapToGrid:i,snapGrid:a,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:h,nodeOrigin:f}=t.getState(),g=new Map,y=ZRe(o),N=i?a[0]:5,_=i?a[1]:5,k=r.direction.x*N*r.factor,C=r.direction.y*_*r.factor;for(const[,O]of h){if(!y(O))continue;let T={x:O.internals.positionAbsolute.x+k,y:O.internals.positionAbsolute.y+C};i&&(T=tT(T,a));const{position:M,positionAbsolute:B}=kse({nodeId:O.id,nextPosition:T,nodeLookup:h,nodeExtent:n,nodeOrigin:f,onError:l});O.position=M,O.internals.positionAbsolute=B,g.set(O.id,O)}u(g)},[])}const eB=Y.createContext(null),KRe=eB.Provider;eB.Consumer;const lne=()=>Y.useContext(eB),JRe=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),QRe=(t,e,r)=>n=>{const{connectionClickStartHandle:i,connectionMode:a,connection:o}=n,{fromHandle:l,toHandle:u,isValid:h}=o,f=(u==null?void 0:u.nodeId)===t&&(u==null?void 0:u.id)===e&&(u==null?void 0:u.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===r,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===r,isPossibleEndHandle:a===Zy.Strict?(l==null?void 0:l.type)!==r:t!==(l==null?void 0:l.nodeId)||e!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!i,valid:f&&h}};function e4e({type:t="source",position:e=ar.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:o,onConnect:l,children:u,className:h,onMouseDown:f,onTouchStart:g,...y},N){var xe,ie;const _=o||null,k=t==="target",C=Js(),O=lne(),{connectOnClick:T,noPanClassName:M,rfId:B}=ss(JRe,bn),{connectingFrom:F,connectingTo:V,clickConnecting:H,isPossibleEndHandle:Z,connectionInProcess:re,clickConnectionInProcess:le,valid:ce}=ss(QRe(O,_,t),bn);O||(ie=(xe=C.getState()).onError)==null||ie.call(xe,"010",od.error010());const he=ge=>{const{defaultEdgeOptions:G,onConnect:ue,hasDefaultEdges:ke}=C.getState(),ve={...G,...ge};if(ke){const{edges:Se,setEdges:He}=C.getState();He(Fse(ve,Se))}ue==null||ue(ve),l==null||l(ve)},fe=ge=>{if(!O)return;const G=Ose(ge.nativeEvent);if(i&&(G&&ge.button===0||!G)){const ue=C.getState();AI.onPointerDown(ge.nativeEvent,{autoPanOnConnect:ue.autoPanOnConnect,connectionMode:ue.connectionMode,connectionRadius:ue.connectionRadius,domNode:ue.domNode,nodeLookup:ue.nodeLookup,lib:ue.lib,isTarget:k,handleId:_,nodeId:O,flowId:ue.rfId,panBy:ue.panBy,cancelConnection:ue.cancelConnection,onConnectStart:ue.onConnectStart,onConnectEnd:ue.onConnectEnd,updateConnection:ue.updateConnection,onConnect:he,isValidConnection:r||ue.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:ue.autoPanSpeed})}G?f==null||f(ge):g==null||g(ge)},ee=ge=>{const{onClickConnectStart:G,onClickConnectEnd:ue,connectionClickStartHandle:ke,connectionMode:ve,isValidConnection:Se,lib:He,rfId:De,nodeLookup:$e,connection:Ue}=C.getState();if(!O||!ke&&!i)return;if(!ke){G==null||G(ge.nativeEvent,{nodeId:O,handleId:_,handleType:t}),C.setState({connectionClickStartHandle:{nodeId:O,type:t,id:_}});return}const Ke=Mse(ge.target),nt=r||Se,{connection:Me,isValid:qe}=AI.isValid(ge.nativeEvent,{handle:{nodeId:O,id:_,type:t},connectionMode:ve,fromNodeId:ke.nodeId,fromHandleId:ke.id||null,fromType:ke.type,isValidConnection:nt,flowId:De,doc:Ke,lib:He,nodeLookup:$e});qe&&Me&&he(Me);const ht=structuredClone(Ue);delete ht.inProgress,ht.toPosition=ht.toHandle?ht.toHandle.position:null,ue==null||ue(ge,ht),C.setState({connectionClickStartHandle:null})};return s.jsx("div",{"data-handleid":_,"data-nodeid":O,"data-handlepos":e,"data-id":`${B}-${O}-${_}-${t}`,className:$n(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",M,h,{source:!k,target:k,connectable:n,connectablestart:i,connectableend:a,clickconnecting:H,connectingfrom:F,connectingto:V,valid:ce,connectionindicator:n&&(!re||Z)&&(re||le?a:i)}]),onMouseDown:fe,onTouchStart:fe,onClick:T?ee:void 0,ref:N,...y,children:u})}const ll=Y.memo(nne(e4e));function t4e({data:t,isConnectable:e,sourcePosition:r=ar.Bottom}){return s.jsxs(s.Fragment,{children:[t==null?void 0:t.label,s.jsx(ll,{type:"source",position:r,isConnectable:e})]})}function r4e({data:t,isConnectable:e,targetPosition:r=ar.Top,sourcePosition:n=ar.Bottom}){return s.jsxs(s.Fragment,{children:[s.jsx(ll,{type:"target",position:r,isConnectable:e}),t==null?void 0:t.label,s.jsx(ll,{type:"source",position:n,isConnectable:e})]})}function s4e(){return null}function n4e({data:t,isConnectable:e,targetPosition:r=ar.Top}){return s.jsxs(s.Fragment,{children:[s.jsx(ll,{type:"target",position:r,isConnectable:e}),t==null?void 0:t.label]})}const oC={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},BX={input:t4e,default:r4e,output:n4e,group:s4e};function i4e(t){var e,r,n,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((r=t.style)==null?void 0:r.height)}:{width:t.width??((n=t.style)==null?void 0:n.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const a4e=t=>{const{width:e,height:r,x:n,y:i}=wN(t.nodeLookup,{filter:a=>!!a.selected});return{width:tc(e)?e:null,height:tc(r)?r:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${n}px,${i}px)`}};function o4e({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:r}){const n=Js(),{width:i,height:a,transformString:o,userSelectionActive:l}=ss(a4e,bn),u=one(),h=Y.useRef(null);if(Y.useEffect(()=>{var y;r||(y=h.current)==null||y.focus({preventScroll:!0})},[r]),ane({nodeRef:h}),l||!i||!a)return null;const f=t?y=>{const N=n.getState().nodes.filter(_=>_.selected);t(y,N)}:void 0,g=y=>{Object.prototype.hasOwnProperty.call(oC,y.key)&&(y.preventDefault(),u({direction:oC[y.key],factor:y.shiftKey?4:1}))};return s.jsx("div",{className:$n(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:s.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:r?void 0:-1,onKeyDown:r?void 0:g,style:{width:i,height:a}})})}const $X=typeof window<"u"?window:void 0,l4e=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function cne({children:t,onPaneClick:e,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:h,selectionOnDrag:f,selectionMode:g,onSelectionStart:y,onSelectionEnd:N,multiSelectionKeyCode:_,panActivationKeyCode:k,zoomActivationKeyCode:C,elementsSelectable:O,zoomOnScroll:T,zoomOnPinch:M,panOnScroll:B,panOnScrollSpeed:F,panOnScrollMode:V,zoomOnDoubleClick:H,panOnDrag:Z,defaultViewport:re,translateExtent:le,minZoom:ce,maxZoom:he,preventScrolling:fe,onSelectionContextMenu:ee,noWheelClassName:xe,noPanClassName:ie,disableKeyboardA11y:ge,onViewportChange:G,isControlledViewport:ue}){const{nodesSelectionActive:ke,userSelectionActive:ve}=ss(l4e),Se=O1(h,{target:$X}),He=O1(k,{target:$X}),De=He||Z,$e=He||B,Ue=f&&De!==!0,Ke=Se||ve||Ue;return HRe({deleteKeyCode:u,multiSelectionKeyCode:_}),s.jsx(URe,{onPaneContextMenu:a,elementsSelectable:O,zoomOnScroll:T,zoomOnPinch:M,panOnScroll:$e,panOnScrollSpeed:F,panOnScrollMode:V,zoomOnDoubleClick:H,panOnDrag:!Se&&De,defaultViewport:re,translateExtent:le,minZoom:ce,maxZoom:he,zoomActivationKeyCode:C,preventScrolling:fe,noWheelClassName:xe,noPanClassName:ie,onViewportChange:G,isControlledViewport:ue,paneClickDistance:l,children:s.jsxs(GRe,{onSelectionStart:y,onSelectionEnd:N,onPaneClick:e,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,panOnDrag:De,isSelecting:!!Ke,selectionMode:g,selectionKeyPressed:Se,selectionOnDrag:Ue,children:[t,ke&&s.jsx(o4e,{onSelectionContextMenu:ee,noPanClassName:ie,disableKeyboardA11y:ge})]})})}cne.displayName="FlowRenderer";const c4e=Y.memo(cne),d4e=t=>e=>t?Sse(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(r=>r.id):Array.from(e.nodeLookup.keys());function u4e(t){return ss(Y.useCallback(d4e(t),[t]),bn)}const h4e=t=>t.updateNodeInternals;function f4e(){const t=ss(h4e),[e]=Y.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(i=>{const a=i.target.getAttribute("data-id");n.set(a,{id:a,nodeElement:i.target,force:!0})}),t(n)}));return Y.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function m4e({node:t,nodeType:e,hasDimensions:r,resizeObserver:n}){const i=Js(),a=Y.useRef(null),o=Y.useRef(null),l=Y.useRef(t.sourcePosition),u=Y.useRef(t.targetPosition),h=Y.useRef(e),f=r&&!!t.internals.handleBounds;return Y.useEffect(()=>{a.current&&!t.hidden&&(!f||o.current!==a.current)&&(o.current&&(n==null||n.unobserve(o.current)),n==null||n.observe(a.current),o.current=a.current)},[f,t.hidden]),Y.useEffect(()=>()=>{o.current&&(n==null||n.unobserve(o.current),o.current=null)},[]),Y.useEffect(()=>{if(a.current){const g=h.current!==e,y=l.current!==t.sourcePosition,N=u.current!==t.targetPosition;(g||y||N)&&(h.current=e,l.current=t.sourcePosition,u.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:a.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),a}function p4e({id:t,onClick:e,onMouseEnter:r,onMouseMove:n,onMouseLeave:i,onContextMenu:a,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:h,nodesFocusable:f,resizeObserver:g,noDragClassName:y,noPanClassName:N,disableKeyboardA11y:_,rfId:k,nodeTypes:C,nodeClickDistance:O,onError:T}){const{node:M,internals:B,isParent:F}=ss(Ke=>{const nt=Ke.nodeLookup.get(t),Me=Ke.parentLookup.has(t);return{node:nt,internals:nt.internals,isParent:Me}},bn);let V=M.type||"default",H=(C==null?void 0:C[V])||BX[V];H===void 0&&(T==null||T("003",od.error003(V)),V="default",H=BX.default);const Z=!!(M.draggable||l&&typeof M.draggable>"u"),re=!!(M.selectable||u&&typeof M.selectable>"u"),le=!!(M.connectable||h&&typeof M.connectable>"u"),ce=!!(M.focusable||f&&typeof M.focusable>"u"),he=Js(),fe=Tse(M),ee=m4e({node:M,nodeType:V,hasDimensions:fe,resizeObserver:g}),xe=ane({nodeRef:ee,disabled:M.hidden||!Z,noDragClassName:y,handleSelector:M.dragHandle,nodeId:t,isSelectable:re,nodeClickDistance:O}),ie=one();if(M.hidden)return null;const ge=eh(M),G=i4e(M),ue=re||Z||e||r||n||i,ke=r?Ke=>r(Ke,{...B.userNode}):void 0,ve=n?Ke=>n(Ke,{...B.userNode}):void 0,Se=i?Ke=>i(Ke,{...B.userNode}):void 0,He=a?Ke=>a(Ke,{...B.userNode}):void 0,De=o?Ke=>o(Ke,{...B.userNode}):void 0,$e=Ke=>{const{selectNodesOnDrag:nt,nodeDragThreshold:Me}=he.getState();re&&(!nt||!Z||Me>0)&&CI({id:t,store:he,nodeRef:ee}),e&&e(Ke,{...B.userNode})},Ue=Ke=>{if(!(Lse(Ke.nativeEvent)||_))if(wse.includes(Ke.key)&&re){const nt=Ke.key==="Escape";CI({id:t,store:he,unselect:nt,nodeRef:ee})}else Z&&M.selected&&Object.prototype.hasOwnProperty.call(oC,Ke.key)&&(Ke.preventDefault(),he.setState({ariaLiveMessage:`Moved selected node ${Ke.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~B.positionAbsolute.x}, y: ${~~B.positionAbsolute.y}`}),ie({direction:oC[Ke.key],factor:Ke.shiftKey?4:1}))};return s.jsx("div",{className:$n(["react-flow__node",`react-flow__node-${V}`,{[N]:Z},M.className,{selected:M.selected,selectable:re,parent:F,draggable:Z,dragging:xe}]),ref:ee,style:{zIndex:B.z,transform:`translate(${B.positionAbsolute.x}px,${B.positionAbsolute.y}px)`,pointerEvents:ue?"all":"none",visibility:fe?"visible":"hidden",...M.style,...G},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:ke,onMouseMove:ve,onMouseLeave:Se,onContextMenu:He,onClick:$e,onDoubleClick:De,onKeyDown:ce?Ue:void 0,tabIndex:ce?0:void 0,role:ce?"button":void 0,"aria-describedby":_?void 0:`${Jse}-${k}`,"aria-label":M.ariaLabel,children:s.jsx(KRe,{value:t,children:s.jsx(H,{id:t,data:M.data,type:V,positionAbsoluteX:B.positionAbsolute.x,positionAbsoluteY:B.positionAbsolute.y,selected:M.selected??!1,selectable:re,draggable:Z,deletable:M.deletable??!0,isConnectable:le,sourcePosition:M.sourcePosition,targetPosition:M.targetPosition,dragging:xe,dragHandle:M.dragHandle,zIndex:B.z,parentId:M.parentId,...ge})})})}const g4e=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function dne(t){const{nodesDraggable:e,nodesConnectable:r,nodesFocusable:n,elementsSelectable:i,onError:a}=ss(g4e,bn),o=u4e(t.onlyRenderVisibleElements),l=f4e();return s.jsx("div",{className:"react-flow__nodes",style:iT,children:o.map(u=>s.jsx(p4e,{id:u,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:r,nodesFocusable:n,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:a},u))})}dne.displayName="NodeRenderer";const x4e=Y.memo(dne);function y4e(t){return ss(Y.useCallback(r=>{if(!t)return r.edges.map(i=>i.id);const n=[];if(r.width&&r.height)for(const i of r.edges){const a=r.nodeLookup.get(i.source),o=r.nodeLookup.get(i.target);a&&o&&bDe({sourceNode:a,targetNode:o,width:r.width,height:r.height,transform:r.transform})&&n.push(i.id)}return n},[t]),bn)}const v4e=({color:t="none",strokeWidth:e=1})=>s.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),b4e=({color:t="none",strokeWidth:e=1})=>s.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),zX={[sC.Arrow]:v4e,[sC.ArrowClosed]:b4e};function w4e(t){const e=Js();return Y.useMemo(()=>{var i,a;return Object.prototype.hasOwnProperty.call(zX,t)?zX[t]:((a=(i=e.getState()).onError)==null||a.call(i,"009",od.error009(t)),null)},[t])}const j4e=({id:t,type:e,color:r,width:n=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=w4e(e);return u?s.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${n}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0",children:s.jsx(u,{color:r,strokeWidth:o})}):null},une=({defaultColor:t,rfId:e})=>{const r=ss(a=>a.edges),n=ss(a=>a.defaultEdgeOptions),i=Y.useMemo(()=>ADe(r,{id:e,defaultColor:t,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,e,t]);return i.length?s.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:s.jsx("defs",{children:i.map(a=>s.jsx(j4e,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};une.displayName="MarkerDefinitions";var N4e=Y.memo(une);function hne({x:t,y:e,label:r,labelStyle:n,labelShowBg:i=!0,labelBgStyle:a,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:h,...f}){const[g,y]=Y.useState({x:1,y:0,width:0,height:0}),N=$n(["react-flow__edge-textwrapper",h]),_=Y.useRef(null);return Y.useEffect(()=>{if(_.current){const k=_.current.getBBox();y({x:k.x,y:k.y,width:k.width,height:k.height})}},[r]),r?s.jsxs("g",{transform:`translate(${t-g.width/2} ${e-g.height/2})`,className:N,visibility:g.width?"visible":"hidden",...f,children:[i&&s.jsx("rect",{width:g.width+2*o[0],x:-o[0],y:-o[1],height:g.height+2*o[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),s.jsx("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:_,style:n,children:r}),u]}):null}hne.displayName="EdgeText";const _4e=Y.memo(hne);function aT({path:t,labelX:e,labelY:r,label:n,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:h=20,...f}){return s.jsxs(s.Fragment,{children:[s.jsx("path",{...f,d:t,fill:"none",className:$n(["react-flow__edge-path",f.className])}),h&&s.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),n&&tc(e)&&tc(r)?s.jsx(_4e,{x:e,y:r,label:n,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function HX({pos:t,x1:e,y1:r,x2:n,y2:i}){return t===ar.Left||t===ar.Right?[.5*(e+n),r]:[e,.5*(r+i)]}function fne({sourceX:t,sourceY:e,sourcePosition:r=ar.Bottom,targetX:n,targetY:i,targetPosition:a=ar.Top}){const[o,l]=HX({pos:r,x1:t,y1:e,x2:n,y2:i}),[u,h]=HX({pos:a,x1:n,y1:i,x2:t,y2:e}),[f,g,y,N]=Dse({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:h});return[`M${t},${e} C${o},${l} ${u},${h} ${n},${i}`,f,g,y,N]}function mne(t){return Y.memo(({id:e,sourceX:r,sourceY:n,targetX:i,targetY:a,sourcePosition:o,targetPosition:l,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:N,style:_,markerEnd:k,markerStart:C,interactionWidth:O})=>{const[T,M,B]=fne({sourceX:r,sourceY:n,sourcePosition:o,targetX:i,targetY:a,targetPosition:l}),F=t.isInternal?void 0:e;return s.jsx(aT,{id:F,path:T,labelX:M,labelY:B,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:N,style:_,markerEnd:k,markerStart:C,interactionWidth:O})})}const S4e=mne({isInternal:!1}),pne=mne({isInternal:!0});S4e.displayName="SimpleBezierEdge";pne.displayName="SimpleBezierEdgeInternal";function gne(t){return Y.memo(({id:e,sourceX:r,sourceY:n,targetX:i,targetY:a,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:g,style:y,sourcePosition:N=ar.Bottom,targetPosition:_=ar.Top,markerEnd:k,markerStart:C,pathOptions:O,interactionWidth:T})=>{const[M,B,F]=_I({sourceX:r,sourceY:n,sourcePosition:N,targetX:i,targetY:a,targetPosition:_,borderRadius:O==null?void 0:O.borderRadius,offset:O==null?void 0:O.offset}),V=t.isInternal?void 0:e;return s.jsx(aT,{id:V,path:M,labelX:B,labelY:F,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:g,style:y,markerEnd:k,markerStart:C,interactionWidth:T})})}const xne=gne({isInternal:!1}),yne=gne({isInternal:!0});xne.displayName="SmoothStepEdge";yne.displayName="SmoothStepEdgeInternal";function vne(t){return Y.memo(({id:e,...r})=>{var i;const n=t.isInternal?void 0:e;return s.jsx(xne,{...r,id:n,pathOptions:Y.useMemo(()=>{var a;return{borderRadius:0,offset:(a=r.pathOptions)==null?void 0:a.offset}},[(i=r.pathOptions)==null?void 0:i.offset])})})}const k4e=vne({isInternal:!1}),bne=vne({isInternal:!0});k4e.displayName="StepEdge";bne.displayName="StepEdgeInternal";function wne(t){return Y.memo(({id:e,sourceX:r,sourceY:n,targetX:i,targetY:a,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:g,style:y,markerEnd:N,markerStart:_,interactionWidth:k})=>{const[C,O,T]=Bse({sourceX:r,sourceY:n,targetX:i,targetY:a}),M=t.isInternal?void 0:e;return s.jsx(aT,{id:M,path:C,labelX:O,labelY:T,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:g,style:y,markerEnd:N,markerStart:_,interactionWidth:k})})}const A4e=wne({isInternal:!1}),jne=wne({isInternal:!0});A4e.displayName="StraightEdge";jne.displayName="StraightEdgeInternal";function Nne(t){return Y.memo(({id:e,sourceX:r,sourceY:n,targetX:i,targetY:a,sourcePosition:o=ar.Bottom,targetPosition:l=ar.Top,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:N,style:_,markerEnd:k,markerStart:C,pathOptions:O,interactionWidth:T})=>{const[M,B,F]=Rse({sourceX:r,sourceY:n,sourcePosition:o,targetX:i,targetY:a,targetPosition:l,curvature:O==null?void 0:O.curvature}),V=t.isInternal?void 0:e;return s.jsx(aT,{id:V,path:M,labelX:B,labelY:F,label:u,labelStyle:h,labelShowBg:f,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:N,style:_,markerEnd:k,markerStart:C,interactionWidth:T})})}const C4e=Nne({isInternal:!1}),_ne=Nne({isInternal:!0});C4e.displayName="BezierEdge";_ne.displayName="BezierEdgeInternal";const WX={default:_ne,straight:jne,step:bne,smoothstep:yne,simplebezier:pne},VX={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},E4e=(t,e,r)=>r===ar.Left?t-e:r===ar.Right?t+e:t,T4e=(t,e,r)=>r===ar.Top?t-e:r===ar.Bottom?t+e:t,UX="react-flow__edgeupdater";function qX({position:t,centerX:e,centerY:r,radius:n=10,onMouseDown:i,onMouseEnter:a,onMouseOut:o,type:l}){return s.jsx("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:o,className:$n([UX,`${UX}-${l}`]),cx:E4e(e,n,t),cy:T4e(r,n,t),r:n,stroke:"transparent",fill:"transparent"})}function P4e({isReconnectable:t,reconnectRadius:e,edge:r,sourceX:n,sourceY:i,targetX:a,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:h,onReconnectStart:f,onReconnectEnd:g,setReconnecting:y,setUpdateHover:N}){const _=Js(),k=(B,F)=>{if(B.button!==0)return;const{autoPanOnConnect:V,domNode:H,isValidConnection:Z,connectionMode:re,connectionRadius:le,lib:ce,onConnectStart:he,onConnectEnd:fe,cancelConnection:ee,nodeLookup:xe,rfId:ie,panBy:ge,updateConnection:G}=_.getState(),ue=F.type==="target";y(!0),f==null||f(B,r,F.type);const ke=(Se,He)=>{y(!1),g==null||g(Se,r,F.type,He)},ve=Se=>h==null?void 0:h(r,Se);AI.onPointerDown(B.nativeEvent,{autoPanOnConnect:V,connectionMode:re,connectionRadius:le,domNode:H,handleId:F.id,nodeId:F.nodeId,nodeLookup:xe,isTarget:ue,edgeUpdaterType:F.type,lib:ce,flowId:ie,cancelConnection:ee,panBy:ge,isValidConnection:Z,onConnect:ve,onConnectStart:he,onConnectEnd:fe,onReconnectEnd:ke,updateConnection:G,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle})},C=B=>k(B,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),O=B=>k(B,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),T=()=>N(!0),M=()=>N(!1);return s.jsxs(s.Fragment,{children:[(t===!0||t==="source")&&s.jsx(qX,{position:l,centerX:n,centerY:i,radius:e,onMouseDown:C,onMouseEnter:T,onMouseOut:M,type:"source"}),(t===!0||t==="target")&&s.jsx(qX,{position:u,centerX:a,centerY:o,radius:e,onMouseDown:O,onMouseEnter:T,onMouseOut:M,type:"target"})]})}function M4e({id:t,edgesFocusable:e,edgesReconnectable:r,elementsSelectable:n,onClick:i,onDoubleClick:a,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:h,reconnectRadius:f,onReconnect:g,onReconnectStart:y,onReconnectEnd:N,rfId:_,edgeTypes:k,noPanClassName:C,onError:O,disableKeyboardA11y:T}){let M=ss(ye=>ye.edgeLookup.get(t));const B=ss(ye=>ye.defaultEdgeOptions);M=B?{...B,...M}:M;let F=M.type||"default",V=(k==null?void 0:k[F])||WX[F];V===void 0&&(O==null||O("011",od.error011(F)),F="default",V=WX.default);const H=!!(M.focusable||e&&typeof M.focusable>"u"),Z=typeof g<"u"&&(M.reconnectable||r&&typeof M.reconnectable>"u"),re=!!(M.selectable||n&&typeof M.selectable>"u"),le=Y.useRef(null),[ce,he]=Y.useState(!1),[fe,ee]=Y.useState(!1),xe=Js(),{zIndex:ie,sourceX:ge,sourceY:G,targetX:ue,targetY:ke,sourcePosition:ve,targetPosition:Se}=ss(Y.useCallback(ye=>{const Xe=ye.nodeLookup.get(M.source),dt=ye.nodeLookup.get(M.target);if(!Xe||!dt)return{zIndex:M.zIndex,...VX};const Tt=kDe({id:t,sourceNode:Xe,targetNode:dt,sourceHandle:M.sourceHandle||null,targetHandle:M.targetHandle||null,connectionMode:ye.connectionMode,onError:O});return{zIndex:vDe({selected:M.selected,zIndex:M.zIndex,sourceNode:Xe,targetNode:dt,elevateOnSelect:ye.elevateEdgesOnSelect}),...Tt||VX}},[M.source,M.target,M.sourceHandle,M.targetHandle,M.selected,M.zIndex]),bn),He=Y.useMemo(()=>M.markerStart?`url('#${SI(M.markerStart,_)}')`:void 0,[M.markerStart,_]),De=Y.useMemo(()=>M.markerEnd?`url('#${SI(M.markerEnd,_)}')`:void 0,[M.markerEnd,_]);if(M.hidden||ge===null||G===null||ue===null||ke===null)return null;const $e=ye=>{var Ct;const{addSelectedEdges:Xe,unselectNodesAndEdges:dt,multiSelectionActive:Tt}=xe.getState();re&&(xe.setState({nodesSelectionActive:!1}),M.selected&&Tt?(dt({nodes:[],edges:[M]}),(Ct=le.current)==null||Ct.blur()):Xe([t])),i&&i(ye,M)},Ue=a?ye=>{a(ye,{...M})}:void 0,Ke=o?ye=>{o(ye,{...M})}:void 0,nt=l?ye=>{l(ye,{...M})}:void 0,Me=u?ye=>{u(ye,{...M})}:void 0,qe=h?ye=>{h(ye,{...M})}:void 0,ht=ye=>{var Xe;if(!T&&wse.includes(ye.key)&&re){const{unselectNodesAndEdges:dt,addSelectedEdges:Tt}=xe.getState();ye.key==="Escape"?((Xe=le.current)==null||Xe.blur(),dt({edges:[M]})):Tt([t])}};return s.jsx("svg",{style:{zIndex:ie},children:s.jsxs("g",{className:$n(["react-flow__edge",`react-flow__edge-${F}`,M.className,C,{selected:M.selected,animated:M.animated,inactive:!re&&!i,updating:ce,selectable:re}]),onClick:$e,onDoubleClick:Ue,onContextMenu:Ke,onMouseEnter:nt,onMouseMove:Me,onMouseLeave:qe,onKeyDown:H?ht:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":M.ariaLabel===null?void 0:M.ariaLabel||`Edge from ${M.source} to ${M.target}`,"aria-describedby":H?`${Qse}-${_}`:void 0,ref:le,children:[!fe&&s.jsx(V,{id:t,source:M.source,target:M.target,type:M.type,selected:M.selected,animated:M.animated,selectable:re,deletable:M.deletable??!0,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,sourceX:ge,sourceY:G,targetX:ue,targetY:ke,sourcePosition:ve,targetPosition:Se,data:M.data,style:M.style,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerStart:He,markerEnd:De,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth}),Z&&s.jsx(P4e,{edge:M,isReconnectable:Z,reconnectRadius:f,onReconnect:g,onReconnectStart:y,onReconnectEnd:N,sourceX:ge,sourceY:G,targetX:ue,targetY:ke,sourcePosition:ve,targetPosition:Se,setUpdateHover:he,setReconnecting:ee})]})})}const L4e=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Sne({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:r,edgeTypes:n,noPanClassName:i,onReconnect:a,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:h,onEdgeClick:f,reconnectRadius:g,onEdgeDoubleClick:y,onReconnectStart:N,onReconnectEnd:_,disableKeyboardA11y:k}){const{edgesFocusable:C,edgesReconnectable:O,elementsSelectable:T,onError:M}=ss(L4e,bn),B=y4e(e);return s.jsxs("div",{className:"react-flow__edges",children:[s.jsx(N4e,{defaultColor:t,rfId:r}),B.map(F=>s.jsx(M4e,{id:F,edgesFocusable:C,edgesReconnectable:O,elementsSelectable:T,noPanClassName:i,onReconnect:a,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:h,onClick:f,reconnectRadius:g,onDoubleClick:y,onReconnectStart:N,onReconnectEnd:_,rfId:r,onError:M,edgeTypes:n,disableKeyboardA11y:k},F))]})}Sne.displayName="EdgeRenderer";const O4e=Y.memo(Sne),D4e=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function R4e({children:t}){const e=ss(D4e);return s.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function I4e(t){const e=nT(),r=Y.useRef(!1);Y.useEffect(()=>{!r.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),r.current=!0)},[t,e.viewportInitialized])}const F4e=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function B4e(t){const e=ss(F4e),r=Js();return Y.useEffect(()=>{t&&(e==null||e(t),r.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function $4e(t){return t.connection.inProgress?{...t.connection,to:jN(t.connection.to,t.transform)}:{...t.connection}}function z4e(t){return $4e}function H4e(t){const e=z4e();return ss(e,bn)}const W4e=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function V4e({containerStyle:t,style:e,type:r,component:n}){const{nodesConnectable:i,width:a,height:o,isValid:l,inProgress:u}=ss(W4e,bn);return!(a&&i&&u)?null:s.jsx("svg",{style:t,width:a,height:o,className:"react-flow__connectionline react-flow__container",children:s.jsx("g",{className:$n(["react-flow__connection",Nse(l)]),children:s.jsx(kne,{style:e,type:r,CustomComponent:n,isValid:l})})})}const kne=({style:t,type:e=Gh.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:i,from:a,fromNode:o,fromHandle:l,fromPosition:u,to:h,toNode:f,toHandle:g,toPosition:y}=H4e();if(!i)return;if(r)return s.jsx(r,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:l,fromX:a.x,fromY:a.y,toX:h.x,toY:h.y,fromPosition:u,toPosition:y,connectionStatus:Nse(n),toNode:f,toHandle:g});let N="";const _={sourceX:a.x,sourceY:a.y,sourcePosition:u,targetX:h.x,targetY:h.y,targetPosition:y};switch(e){case Gh.Bezier:[N]=Rse(_);break;case Gh.SimpleBezier:[N]=fne(_);break;case Gh.Step:[N]=_I({..._,borderRadius:0});break;case Gh.SmoothStep:[N]=_I(_);break;default:[N]=Bse(_)}return s.jsx("path",{d:N,fill:"none",className:"react-flow__connection-path",style:t})};kne.displayName="ConnectionLine";const U4e={};function XX(t=U4e){Y.useRef(t),Js(),Y.useEffect(()=>{},[t])}function q4e(){Js(),Y.useRef(!1),Y.useEffect(()=>{},[])}function Ane({nodeTypes:t,edgeTypes:e,onInit:r,onNodeClick:n,onEdgeClick:i,onNodeDoubleClick:a,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:f,onSelectionContextMenu:g,onSelectionStart:y,onSelectionEnd:N,connectionLineType:_,connectionLineStyle:k,connectionLineComponent:C,connectionLineContainerStyle:O,selectionKeyCode:T,selectionOnDrag:M,selectionMode:B,multiSelectionKeyCode:F,panActivationKeyCode:V,zoomActivationKeyCode:H,deleteKeyCode:Z,onlyRenderVisibleElements:re,elementsSelectable:le,defaultViewport:ce,translateExtent:he,minZoom:fe,maxZoom:ee,preventScrolling:xe,defaultMarkerColor:ie,zoomOnScroll:ge,zoomOnPinch:G,panOnScroll:ue,panOnScrollSpeed:ke,panOnScrollMode:ve,zoomOnDoubleClick:Se,panOnDrag:He,onPaneClick:De,onPaneMouseEnter:$e,onPaneMouseMove:Ue,onPaneMouseLeave:Ke,onPaneScroll:nt,onPaneContextMenu:Me,paneClickDistance:qe,nodeClickDistance:ht,onEdgeContextMenu:ye,onEdgeMouseEnter:Xe,onEdgeMouseMove:dt,onEdgeMouseLeave:Tt,reconnectRadius:Ct,onReconnect:or,onReconnectStart:Cr,onReconnectEnd:cs,noDragClassName:Ie,noWheelClassName:Ge,noPanClassName:it,disableKeyboardA11y:kt,nodeExtent:jt,rfId:bt,viewport:Ot,onViewportChange:rr}){return XX(t),XX(e),q4e(),I4e(r),B4e(Ot),s.jsx(c4e,{onPaneClick:De,onPaneMouseEnter:$e,onPaneMouseMove:Ue,onPaneMouseLeave:Ke,onPaneContextMenu:Me,onPaneScroll:nt,paneClickDistance:qe,deleteKeyCode:Z,selectionKeyCode:T,selectionOnDrag:M,selectionMode:B,onSelectionStart:y,onSelectionEnd:N,multiSelectionKeyCode:F,panActivationKeyCode:V,zoomActivationKeyCode:H,elementsSelectable:le,zoomOnScroll:ge,zoomOnPinch:G,zoomOnDoubleClick:Se,panOnScroll:ue,panOnScrollSpeed:ke,panOnScrollMode:ve,panOnDrag:He,defaultViewport:ce,translateExtent:he,minZoom:fe,maxZoom:ee,onSelectionContextMenu:g,preventScrolling:xe,noDragClassName:Ie,noWheelClassName:Ge,noPanClassName:it,disableKeyboardA11y:kt,onViewportChange:rr,isControlledViewport:!!Ot,children:s.jsxs(R4e,{children:[s.jsx(O4e,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:or,onReconnectStart:Cr,onReconnectEnd:cs,onlyRenderVisibleElements:re,onEdgeContextMenu:ye,onEdgeMouseEnter:Xe,onEdgeMouseMove:dt,onEdgeMouseLeave:Tt,reconnectRadius:Ct,defaultMarkerColor:ie,noPanClassName:it,disableKeyboardA11y:kt,rfId:bt}),s.jsx(V4e,{style:k,type:_,component:C,containerStyle:O}),s.jsx("div",{className:"react-flow__edgelabel-renderer"}),s.jsx(x4e,{nodeTypes:t,onNodeClick:n,onNodeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:h,onNodeContextMenu:f,nodeClickDistance:ht,onlyRenderVisibleElements:re,noPanClassName:it,noDragClassName:Ie,disableKeyboardA11y:kt,nodeExtent:jt,rfId:bt}),s.jsx("div",{className:"react-flow__viewport-portal"})]})})}Ane.displayName="GraphView";const X4e=Y.memo(Ane),YX=({nodes:t,edges:e,defaultNodes:r,defaultEdges:n,width:i,height:a,fitView:o,fitViewOptions:l,minZoom:u=.5,maxZoom:h=2,nodeOrigin:f,nodeExtent:g}={})=>{const y=new Map,N=new Map,_=new Map,k=new Map,C=n??e??[],O=r??t??[],T=f??[0,0],M=g??T1;zse(_,k,C);const B=kI(O,y,N,{nodeOrigin:T,nodeExtent:M,elevateNodesOnSelect:!1});let F=[0,0,1];if(o&&i&&a){const V=wN(y,{filter:le=>!!((le.width||le.initialWidth)&&(le.height||le.initialHeight))}),{x:H,y:Z,zoom:re}=YF(V,i,a,u,h,(l==null?void 0:l.padding)??.1);F=[H,Z,re]}return{rfId:"1",width:0,height:0,transform:F,nodes:O,nodesInitialized:B,nodeLookup:y,parentLookup:N,edges:C,edgeLookup:k,connectionLookup:_,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:u,maxZoom:h,translateExtent:T1,nodeExtent:M,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Zy.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:T,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...jse},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:mDe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Y4e=({nodes:t,edges:e,defaultNodes:r,defaultEdges:n,width:i,height:a,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:h,nodeOrigin:f,nodeExtent:g})=>mRe((y,N)=>{async function _(){const{nodeLookup:k,panZoom:C,fitViewOptions:O,fitViewResolver:T,width:M,height:B,minZoom:F,maxZoom:V}=N();C&&(await hDe({nodes:k,width:M,height:B,panZoom:C,minZoom:F,maxZoom:V},O),T==null||T.resolve(!0),y({fitViewResolver:null}))}return{...YX({nodes:t,edges:e,width:i,height:a,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:h,nodeOrigin:f,nodeExtent:g,defaultNodes:r,defaultEdges:n}),setNodes:k=>{const{nodeLookup:C,parentLookup:O,nodeOrigin:T,elevateNodesOnSelect:M,fitViewQueued:B}=N(),F=kI(k,C,O,{nodeOrigin:T,nodeExtent:g,elevateNodesOnSelect:M,checkEquality:!0});B&&F?(_(),y({nodes:k,nodesInitialized:F,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:k,nodesInitialized:F})},setEdges:k=>{const{connectionLookup:C,edgeLookup:O}=N();zse(C,O,k),y({edges:k})},setDefaultNodesAndEdges:(k,C)=>{if(k){const{setNodes:O}=N();O(k),y({hasDefaultNodes:!0})}if(C){const{setEdges:O}=N();O(C),y({hasDefaultEdges:!0})}},updateNodeInternals:k=>{const{triggerNodeChanges:C,nodeLookup:O,parentLookup:T,domNode:M,nodeOrigin:B,nodeExtent:F,debug:V,fitViewQueued:H}=N(),{changes:Z,updatedInternals:re}=MDe(k,O,T,M,B,F);re&&(EDe(O,T,{nodeOrigin:B,nodeExtent:F}),H?(_(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),(Z==null?void 0:Z.length)>0&&(V&&console.log("React Flow: trigger node changes",Z),C==null||C(Z)))},updateNodePositions:(k,C=!1)=>{const O=[],T=[],{nodeLookup:M,triggerNodeChanges:B}=N();for(const[F,V]of k){const H=M.get(F),Z=!!(H!=null&&H.expandParent&&(H!=null&&H.parentId)&&(V!=null&&V.position)),re={id:F,type:"position",position:Z?{x:Math.max(0,V.position.x),y:Math.max(0,V.position.y)}:V.position,dragging:C};Z&&H.parentId&&O.push({id:F,parentId:H.parentId,rect:{...V.internals.positionAbsolute,width:V.measured.width??0,height:V.measured.height??0}}),T.push(re)}if(O.length>0){const{parentLookup:F,nodeOrigin:V}=N(),H=QF(O,M,F,V);T.push(...H)}B(T)},triggerNodeChanges:k=>{const{onNodesChange:C,setNodes:O,nodes:T,hasDefaultNodes:M,debug:B}=N();if(k!=null&&k.length){if(M){const F=rne(k,T);O(F)}B&&console.log("React Flow: trigger node changes",k),C==null||C(k)}},triggerEdgeChanges:k=>{const{onEdgesChange:C,setEdges:O,edges:T,hasDefaultEdges:M,debug:B}=N();if(k!=null&&k.length){if(M){const F=sne(k,T);O(F)}B&&console.log("React Flow: trigger edge changes",k),C==null||C(k)}},addSelectedNodes:k=>{const{multiSelectionActive:C,edgeLookup:O,nodeLookup:T,triggerNodeChanges:M,triggerEdgeChanges:B}=N();if(C){const F=k.map(V=>Im(V,!0));M(F);return}M(t0(T,new Set([...k]),!0)),B(t0(O))},addSelectedEdges:k=>{const{multiSelectionActive:C,edgeLookup:O,nodeLookup:T,triggerNodeChanges:M,triggerEdgeChanges:B}=N();if(C){const F=k.map(V=>Im(V,!0));B(F);return}B(t0(O,new Set([...k]))),M(t0(T,new Set,!0))},unselectNodesAndEdges:({nodes:k,edges:C}={})=>{const{edges:O,nodes:T,nodeLookup:M,triggerNodeChanges:B,triggerEdgeChanges:F}=N(),V=k||T,H=C||O,Z=V.map(le=>{const ce=M.get(le.id);return ce&&(ce.selected=!1),Im(le.id,!1)}),re=H.map(le=>Im(le.id,!1));B(Z),F(re)},setMinZoom:k=>{const{panZoom:C,maxZoom:O}=N();C==null||C.setScaleExtent([k,O]),y({minZoom:k})},setMaxZoom:k=>{const{panZoom:C,minZoom:O}=N();C==null||C.setScaleExtent([O,k]),y({maxZoom:k})},setTranslateExtent:k=>{var C;(C=N().panZoom)==null||C.setTranslateExtent(k),y({translateExtent:k})},setPaneClickDistance:k=>{var C;(C=N().panZoom)==null||C.setClickDistance(k)},resetSelectedElements:()=>{const{edges:k,nodes:C,triggerNodeChanges:O,triggerEdgeChanges:T,elementsSelectable:M}=N();if(!M)return;const B=C.reduce((V,H)=>H.selected?[...V,Im(H.id,!1)]:V,[]),F=k.reduce((V,H)=>H.selected?[...V,Im(H.id,!1)]:V,[]);O(B),T(F)},setNodeExtent:k=>{const{nodes:C,nodeLookup:O,parentLookup:T,nodeOrigin:M,elevateNodesOnSelect:B,nodeExtent:F}=N();k[0][0]===F[0][0]&&k[0][1]===F[0][1]&&k[1][0]===F[1][0]&&k[1][1]===F[1][1]||(kI(C,O,T,{nodeOrigin:M,nodeExtent:k,elevateNodesOnSelect:B,checkEquality:!1}),y({nodeExtent:k}))},panBy:k=>{const{transform:C,width:O,height:T,panZoom:M,translateExtent:B}=N();return LDe({delta:k,panZoom:M,transform:C,translateExtent:B,width:O,height:T})},cancelConnection:()=>{y({connection:{...jse}})},updateConnection:k=>{y({connection:k})},reset:()=>y({...YX()})}},Object.is);function Cne({initialNodes:t,initialEdges:e,defaultNodes:r,defaultEdges:n,initialWidth:i,initialHeight:a,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:u,fitView:h,nodeOrigin:f,nodeExtent:g,children:y}){const[N]=Y.useState(()=>Y4e({nodes:t,edges:e,defaultNodes:r,defaultEdges:n,width:i,height:a,fitView:h,minZoom:o,maxZoom:l,fitViewOptions:u,nodeOrigin:f,nodeExtent:g}));return s.jsx(pRe,{value:N,children:s.jsx(FRe,{children:y})})}function G4e({children:t,nodes:e,edges:r,defaultNodes:n,defaultEdges:i,width:a,height:o,fitView:l,fitViewOptions:u,minZoom:h,maxZoom:f,nodeOrigin:g,nodeExtent:y}){return Y.useContext(sT)?s.jsx(s.Fragment,{children:t}):s.jsx(Cne,{initialNodes:e,initialEdges:r,defaultNodes:n,defaultEdges:i,initialWidth:a,initialHeight:o,fitView:l,initialFitViewOptions:u,initialMinZoom:h,initialMaxZoom:f,nodeOrigin:g,nodeExtent:y,children:t})}const Z4e={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function K4e({nodes:t,edges:e,defaultNodes:r,defaultEdges:n,className:i,nodeTypes:a,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:h,onMove:f,onMoveStart:g,onMoveEnd:y,onConnect:N,onConnectStart:_,onConnectEnd:k,onClickConnectStart:C,onClickConnectEnd:O,onNodeMouseEnter:T,onNodeMouseMove:M,onNodeMouseLeave:B,onNodeContextMenu:F,onNodeDoubleClick:V,onNodeDragStart:H,onNodeDrag:Z,onNodeDragStop:re,onNodesDelete:le,onEdgesDelete:ce,onDelete:he,onSelectionChange:fe,onSelectionDragStart:ee,onSelectionDrag:xe,onSelectionDragStop:ie,onSelectionContextMenu:ge,onSelectionStart:G,onSelectionEnd:ue,onBeforeDelete:ke,connectionMode:ve,connectionLineType:Se=Gh.Bezier,connectionLineStyle:He,connectionLineComponent:De,connectionLineContainerStyle:$e,deleteKeyCode:Ue="Backspace",selectionKeyCode:Ke="Shift",selectionOnDrag:nt=!1,selectionMode:Me=P1.Full,panActivationKeyCode:qe="Space",multiSelectionKeyCode:ht=aC()?"Meta":"Control",zoomActivationKeyCode:ye=aC()?"Meta":"Control",snapToGrid:Xe,snapGrid:dt,onlyRenderVisibleElements:Tt=!1,selectNodesOnDrag:Ct,nodesDraggable:or,nodesConnectable:Cr,nodesFocusable:cs,nodeOrigin:Ie=ene,edgesFocusable:Ge,edgesReconnectable:it,elementsSelectable:kt=!0,defaultViewport:jt=CRe,minZoom:bt=.5,maxZoom:Ot=2,translateExtent:rr=T1,preventScrolling:lr=!0,nodeExtent:Er,defaultMarkerColor:_s="#b1b1b7",zoomOnScroll:Ee=!0,zoomOnPinch:yt=!0,panOnScroll:zt=!1,panOnScrollSpeed:ts=.5,panOnScrollMode:An=tg.Free,zoomOnDoubleClick:qs=!0,panOnDrag:Ts=!0,onPaneClick:pi,onPaneMouseEnter:xa,onPaneMouseMove:ei,onPaneMouseLeave:ti,onPaneScroll:zn,onPaneContextMenu:xl,paneClickDistance:Mo=0,nodeClickDistance:yl=0,children:Lo,onReconnect:Ga,onReconnectStart:ya,onReconnectEnd:Oo,onEdgeContextMenu:Za,onEdgeDoubleClick:We,onEdgeMouseEnter:Ze,onEdgeMouseMove:at,onEdgeMouseLeave:xt,reconnectRadius:ut=10,onNodesChange:Ht,onEdgesChange:sr,noDragClassName:Wt="nodrag",noWheelClassName:Xt="nowheel",noPanClassName:Ft="nopan",fitView:$t,fitViewOptions:dr,connectOnClick:Sr,attributionPosition:Os,proOptions:qr,defaultEdgeOptions:Ir,elevateNodesOnSelect:me,elevateEdgesOnSelect:c,disableKeyboardA11y:d=!1,autoPanOnConnect:m,autoPanOnNodeDrag:v,autoPanSpeed:w,connectionRadius:j,isValidConnection:S,onError:P,style:I,id:z,nodeDragThreshold:U,viewport:X,onViewportChange:Q,width:te,height:ae,colorMode:pe="light",debug:we,onScroll:Ce,...R},q){const se=z||"1",be=MRe(pe),Pe=Y.useCallback(Le=>{Le.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ce==null||Ce(Le)},[Ce]);return s.jsx("div",{"data-testid":"rf__wrapper",...R,onScroll:Pe,style:{...I,...Z4e},ref:q,className:$n(["react-flow",i,be]),id:z,children:s.jsxs(G4e,{nodes:t,edges:e,width:te,height:ae,fitView:$t,fitViewOptions:dr,minZoom:bt,maxZoom:Ot,nodeOrigin:Ie,nodeExtent:Er,children:[s.jsx(X4e,{onInit:h,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:T,onNodeMouseMove:M,onNodeMouseLeave:B,onNodeContextMenu:F,onNodeDoubleClick:V,nodeTypes:a,edgeTypes:o,connectionLineType:Se,connectionLineStyle:He,connectionLineComponent:De,connectionLineContainerStyle:$e,selectionKeyCode:Ke,selectionOnDrag:nt,selectionMode:Me,deleteKeyCode:Ue,multiSelectionKeyCode:ht,panActivationKeyCode:qe,zoomActivationKeyCode:ye,onlyRenderVisibleElements:Tt,defaultViewport:jt,translateExtent:rr,minZoom:bt,maxZoom:Ot,preventScrolling:lr,zoomOnScroll:Ee,zoomOnPinch:yt,zoomOnDoubleClick:qs,panOnScroll:zt,panOnScrollSpeed:ts,panOnScrollMode:An,panOnDrag:Ts,onPaneClick:pi,onPaneMouseEnter:xa,onPaneMouseMove:ei,onPaneMouseLeave:ti,onPaneScroll:zn,onPaneContextMenu:xl,paneClickDistance:Mo,nodeClickDistance:yl,onSelectionContextMenu:ge,onSelectionStart:G,onSelectionEnd:ue,onReconnect:Ga,onReconnectStart:ya,onReconnectEnd:Oo,onEdgeContextMenu:Za,onEdgeDoubleClick:We,onEdgeMouseEnter:Ze,onEdgeMouseMove:at,onEdgeMouseLeave:xt,reconnectRadius:ut,defaultMarkerColor:_s,noDragClassName:Wt,noWheelClassName:Xt,noPanClassName:Ft,rfId:se,disableKeyboardA11y:d,nodeExtent:Er,viewport:X,onViewportChange:Q}),s.jsx(PRe,{nodes:t,edges:e,defaultNodes:r,defaultEdges:n,onConnect:N,onConnectStart:_,onConnectEnd:k,onClickConnectStart:C,onClickConnectEnd:O,nodesDraggable:or,nodesConnectable:Cr,nodesFocusable:cs,edgesFocusable:Ge,edgesReconnectable:it,elementsSelectable:kt,elevateNodesOnSelect:me,elevateEdgesOnSelect:c,minZoom:bt,maxZoom:Ot,nodeExtent:Er,onNodesChange:Ht,onEdgesChange:sr,snapToGrid:Xe,snapGrid:dt,connectionMode:ve,translateExtent:rr,connectOnClick:Sr,defaultEdgeOptions:Ir,fitView:$t,fitViewOptions:dr,onNodesDelete:le,onEdgesDelete:ce,onDelete:he,onNodeDragStart:H,onNodeDrag:Z,onNodeDragStop:re,onSelectionDrag:xe,onSelectionDragStart:ee,onSelectionDragStop:ie,onMove:f,onMoveStart:g,onMoveEnd:y,noPanClassName:Ft,nodeOrigin:Ie,rfId:se,autoPanOnConnect:m,autoPanOnNodeDrag:v,autoPanSpeed:w,onError:P,connectionRadius:j,isValidConnection:S,selectNodesOnDrag:Ct,nodeDragThreshold:U,onBeforeDelete:ke,paneClickDistance:Mo,debug:we}),s.jsx(ARe,{onSelectionChange:fe}),Lo,s.jsx(jRe,{proOptions:qr,position:Os}),s.jsx(bRe,{rfId:se,disableKeyboardA11y:d})]})})}var J4e=nne(K4e);function Q4e({dimensions:t,lineWidth:e,variant:r,className:n}){return s.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:$n(["react-flow__background-pattern",r,n])})}function eIe({radius:t,className:e}){return s.jsx("circle",{cx:t,cy:t,r:t,className:$n(["react-flow__background-pattern","dots",e])})}var Mf;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Mf||(Mf={}));const tIe={[Mf.Dots]:1,[Mf.Lines]:1,[Mf.Cross]:6},rIe=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Ene({id:t,variant:e=Mf.Dots,gap:r=20,size:n,lineWidth:i=1,offset:a=0,color:o,bgColor:l,style:u,className:h,patternClassName:f}){const g=Y.useRef(null),{transform:y,patternId:N}=ss(rIe,bn),_=n||tIe[e],k=e===Mf.Dots,C=e===Mf.Cross,O=Array.isArray(r)?r:[r,r],T=[O[0]*y[2]||1,O[1]*y[2]||1],M=_*y[2],B=Array.isArray(a)?a:[a,a],F=C?[M,M]:T,V=[B[0]*y[2]||1+F[0]/2,B[1]*y[2]||1+F[1]/2],H=`${N}${t||""}`;return s.jsxs("svg",{className:$n(["react-flow__background",h]),style:{...u,...iT,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:g,"data-testid":"rf__background",children:[s.jsx("pattern",{id:H,x:y[0]%T[0],y:y[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${V[0]},-${V[1]})`,children:k?s.jsx(eIe,{radius:M/2,className:f}):s.jsx(Q4e,{dimensions:F,lineWidth:i,variant:e,className:f})}),s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${H})`})]})}Ene.displayName="Background";const sIe=Y.memo(Ene);function nIe(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:s.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function iIe(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:s.jsx("path",{d:"M0 0h32v4.2H0z"})})}function aIe(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:s.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function oIe(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function lIe(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function u_({children:t,className:e,...r}){return s.jsx("button",{type:"button",className:$n(["react-flow__controls-button",e]),...r,children:t})}const cIe=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function Tne({style:t,showZoom:e=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:h,children:f,position:g="bottom-left",orientation:y="vertical","aria-label":N="React Flow controls"}){const _=Js(),{isInteractive:k,minZoomReached:C,maxZoomReached:O}=ss(cIe,bn),{zoomIn:T,zoomOut:M,fitView:B}=nT(),F=()=>{T(),a==null||a()},V=()=>{M(),o==null||o()},H=()=>{B(i),l==null||l()},Z=()=>{_.setState({nodesDraggable:!k,nodesConnectable:!k,elementsSelectable:!k}),u==null||u(!k)},re=y==="horizontal"?"horizontal":"vertical";return s.jsxs(ev,{className:$n(["react-flow__controls",re,h]),position:g,style:t,"data-testid":"rf__controls","aria-label":N,children:[e&&s.jsxs(s.Fragment,{children:[s.jsx(u_,{onClick:F,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:O,children:s.jsx(nIe,{})}),s.jsx(u_,{onClick:V,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:C,children:s.jsx(iIe,{})})]}),r&&s.jsx(u_,{className:"react-flow__controls-fitview",onClick:H,title:"fit view","aria-label":"fit view",children:s.jsx(aIe,{})}),n&&s.jsx(u_,{className:"react-flow__controls-interactive",onClick:Z,title:"toggle interactivity","aria-label":"toggle interactivity",children:k?s.jsx(lIe,{}):s.jsx(oIe,{})}),f]})}Tne.displayName="Controls";const dIe=Y.memo(Tne);function uIe({id:t,x:e,y:r,width:n,height:i,style:a,color:o,strokeColor:l,strokeWidth:u,className:h,borderRadius:f,shapeRendering:g,selected:y,onClick:N}){const{background:_,backgroundColor:k}=a||{},C=o||_||k;return s.jsx("rect",{className:$n(["react-flow__minimap-node",{selected:y},h]),x:e,y:r,rx:f,ry:f,width:n,height:i,style:{fill:C,stroke:l,strokeWidth:u},shapeRendering:g,onClick:N?O=>N(O,t):void 0})}const hIe=Y.memo(uIe),fIe=t=>t.nodes.map(e=>e.id),mO=t=>t instanceof Function?t:()=>t;function mIe({nodeStrokeColor:t,nodeColor:e,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:i,nodeComponent:a=hIe,onClick:o}){const l=ss(fIe,bn),u=mO(e),h=mO(t),f=mO(r),g=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return s.jsx(s.Fragment,{children:l.map(y=>s.jsx(gIe,{id:y,nodeColorFunc:u,nodeStrokeColorFunc:h,nodeClassNameFunc:f,nodeBorderRadius:n,nodeStrokeWidth:i,NodeComponent:a,onClick:o,shapeRendering:g},y))})}function pIe({id:t,nodeColorFunc:e,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:i,nodeStrokeWidth:a,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:h,x:f,y:g,width:y,height:N}=ss(_=>{const{internals:k}=_.nodeLookup.get(t),C=k.userNode,{x:O,y:T}=k.positionAbsolute,{width:M,height:B}=eh(C);return{node:C,x:O,y:T,width:M,height:B}},bn);return!h||h.hidden||!Tse(h)?null:s.jsx(l,{x:f,y:g,width:y,height:N,style:h.style,selected:!!h.selected,className:n(h),color:e(h),borderRadius:i,strokeColor:r(h),strokeWidth:a,shapeRendering:o,onClick:u,id:h.id})}const gIe=Y.memo(pIe);var xIe=Y.memo(mIe);const yIe=200,vIe=150,bIe=t=>!t.hidden,wIe=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?Ese(wN(t.nodeLookup,{filter:bIe}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},jIe="react-flow__minimap-desc";function Pne({style:t,className:e,nodeStrokeColor:r,nodeColor:n,nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:h,maskStrokeColor:f,maskStrokeWidth:g,position:y="bottom-right",onClick:N,onNodeClick:_,pannable:k=!1,zoomable:C=!1,ariaLabel:O="React Flow mini map",inversePan:T,zoomStep:M=10,offsetScale:B=5}){const F=Js(),V=Y.useRef(null),{boundingRect:H,viewBB:Z,rfId:re,panZoom:le,translateExtent:ce,flowWidth:he,flowHeight:fe}=ss(wIe,bn),ee=(t==null?void 0:t.width)??yIe,xe=(t==null?void 0:t.height)??vIe,ie=H.width/ee,ge=H.height/xe,G=Math.max(ie,ge),ue=G*ee,ke=G*xe,ve=B*G,Se=H.x-(ue-H.width)/2-ve,He=H.y-(ke-H.height)/2-ve,De=ue+ve*2,$e=ke+ve*2,Ue=`${jIe}-${re}`,Ke=Y.useRef(0),nt=Y.useRef();Ke.current=G,Y.useEffect(()=>{if(V.current&&le)return nt.current=zDe({domNode:V.current,panZoom:le,getTransform:()=>F.getState().transform,getViewScale:()=>Ke.current}),()=>{var ht;(ht=nt.current)==null||ht.destroy()}},[le]),Y.useEffect(()=>{var ht;(ht=nt.current)==null||ht.update({translateExtent:ce,width:he,height:fe,inversePan:T,pannable:k,zoomStep:M,zoomable:C})},[k,C,T,M,ce,he,fe]);const Me=N?ht=>{var dt;const[ye,Xe]=((dt=nt.current)==null?void 0:dt.pointer(ht))||[0,0];N(ht,{x:ye,y:Xe})}:void 0,qe=_?Y.useCallback((ht,ye)=>{const Xe=F.getState().nodeLookup.get(ye).internals.userNode;_(ht,Xe)},[]):void 0;return s.jsx(ev,{position:y,style:{...t,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof g=="number"?g*G:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:$n(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:s.jsxs("svg",{width:ee,height:xe,viewBox:`${Se} ${He} ${De} ${$e}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ue,ref:V,onClick:Me,children:[O&&s.jsx("title",{id:Ue,children:O}),s.jsx(xIe,{onClick:qe,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:a,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),s.jsx("path",{className:"react-flow__minimap-mask",d:`M${Se-ve},${He-ve}h${De+ve*2}v${$e+ve*2}h${-De-ve*2}z
        M${Z.x},${Z.y}h${Z.width}v${Z.height}h${-Z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Pne.displayName="MiniMap";const NIe=Y.memo(Pne);function _Ie({nodeId:t,position:e,variant:r=Bw.Handle,className:n,style:i={},children:a,color:o,minWidth:l=10,minHeight:u=10,maxWidth:h=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:g=!1,resizeDirection:y,shouldResize:N,onResizeStart:_,onResize:k,onResizeEnd:C}){const O=lne(),T=typeof t=="string"?t:O,M=Js(),B=Y.useRef(null),F=r===Bw.Line?"right":"bottom-right",V=e??F,H=Y.useRef(null);Y.useEffect(()=>{if(!(!B.current||!T))return H.current||(H.current=rRe({domNode:B.current,nodeId:T,getStoreItems:()=>{const{nodeLookup:ce,transform:he,snapGrid:fe,snapToGrid:ee,nodeOrigin:xe,domNode:ie}=M.getState();return{nodeLookup:ce,transform:he,snapGrid:fe,snapToGrid:ee,nodeOrigin:xe,paneDomNode:ie}},onChange:(ce,he)=>{const{triggerNodeChanges:fe,nodeLookup:ee,parentLookup:xe,nodeOrigin:ie}=M.getState(),ge=[],G={x:ce.x,y:ce.y},ue=ee.get(T);if(ue&&ue.expandParent&&ue.parentId){const ke=ue.origin??ie,ve=ce.width??ue.measured.width??0,Se=ce.height??ue.measured.height??0,He={id:ue.id,parentId:ue.parentId,rect:{width:ve,height:Se,...Pse({x:ce.x??ue.position.x,y:ce.y??ue.position.y},{width:ve,height:Se},ue.parentId,ee,ke)}},De=QF([He],ee,xe,ie);ge.push(...De),G.x=ce.x?Math.max(ke[0]*ve,ce.x):void 0,G.y=ce.y?Math.max(ke[1]*Se,ce.y):void 0}if(G.x!==void 0&&G.y!==void 0){const ke={id:T,type:"position",position:{...G}};ge.push(ke)}if(ce.width!==void 0&&ce.height!==void 0){const ve={id:T,type:"dimensions",resizing:!0,setAttributes:y?y==="horizontal"?"width":"height":!0,dimensions:{width:ce.width,height:ce.height}};ge.push(ve)}for(const ke of he){const ve={...ke,type:"position"};ge.push(ve)}fe(ge)},onEnd:({width:ce,height:he})=>{const fe={id:T,type:"dimensions",resizing:!1,dimensions:{width:ce,height:he}};M.getState().triggerNodeChanges([fe])}})),H.current.update({controlPosition:V,boundaries:{minWidth:l,minHeight:u,maxWidth:h,maxHeight:f},keepAspectRatio:g,resizeDirection:y,onResizeStart:_,onResize:k,onResizeEnd:C,shouldResize:N}),()=>{var ce;(ce=H.current)==null||ce.destroy()}},[V,l,u,h,f,g,_,k,C,N]);const Z=V.split("-"),re=r===Bw.Line?"borderColor":"backgroundColor",le=o?{...i,[re]:o}:i;return s.jsx("div",{className:$n(["react-flow__resize-control","nodrag",...Z,r,n]),ref:B,style:le,children:a})}Y.memo(_Ie);const GX=t=>{let e;const r=new Set,n=(h,f)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const y=e;e=f??(typeof g!="object"||g===null)?g:Object.assign({},e,g),r.forEach(N=>N(e,y))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:h=>(r.add(h),()=>r.delete(h))},u=e=t(n,i,l);return l},SIe=t=>t?GX(t):GX,kIe=t=>t;function AIe(t,e=kIe){const r=Oe.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return Oe.useDebugValue(r),r}const ZX=t=>{const e=SIe(t),r=n=>AIe(e,n);return Object.assign(r,e),r},CIe=t=>t?ZX(t):ZX,oT={trigger:{background:"#10b981",border:"#059669",text:"#ffffff"},condition:{background:"#f59e0b",border:"#d97706",text:"#ffffff"},action:{background:"#3b82f6",border:"#2563eb",text:"#ffffff"},delay:{background:"#8b5cf6",border:"#7c3aed",text:"#ffffff"}},EIe=t=>`${t}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,TIe=(t,e)=>{const r={label:`New ${t.charAt(0).toUpperCase()+t.slice(1)}`,moduleType:e,isConfigured:!1};switch(t){case"trigger":return{...r,triggerType:"load_created"};case"condition":return{...r,conditions:[],logicalOperator:"AND"};case"action":return{...r,actionType:"send_notification"};case"delay":return{...r,delayType:"fixed",delayAmount:1,delayUnit:"hours"};default:throw new Error(`Unknown node type: ${t}`)}},PIe=(t,e,r)=>{const n=EIe(t),i=TIe(t,r);return{id:n,type:t,position:e,data:i}},MIe=(t,e)=>{const r=e.find(i=>i.id===t.source),n=e.find(i=>i.id===t.target);return!(!r||!n||n.type==="trigger"||(r.type==="action"||r.type==="delay")&&n.type==="trigger")},Cf=t=>{switch(t){case"trigger":return"";case"condition":return"";case"action":return"";case"delay":return"";default:return""}},Mne=t=>({load_created:"Load Created",load_status_changed:"Load Status Changed",carrier_assigned:"Carrier Assigned",payment_received:"Payment Received",pod_uploaded:"POD Uploaded",rate_negotiated:"Rate Negotiated",new_load_posted:"New Load Posted",driver_assigned:"Driver Assigned",pickup_confirmed:"Pickup Confirmed",delivery_completed:"Delivery Completed",driver_checkin:"Driver Check-in",shipment_ready:"Shipment Ready",inventory_low:"Inventory Low",warehouse_capacity_alert:"Warehouse Capacity Alert",order_received:"Order Received",dock_appointment_scheduled:"Dock Appointment Scheduled"})[t]||t,Lne=t=>({send_email:"Send Email",send_sms:"Send SMS",send_notification:"Send Notification",create_alert:"Create Alert",update_status:"Update Status",update_field:"Update Field",assign_resource:"Assign Resource",create_task:"Create Task",create_follow_up:"Create Follow-up",schedule_appointment:"Schedule Appointment",webhook:"Call Webhook",api_call:"API Call",export_data:"Export Data"})[t]||t,KX=t=>{const e=[];t.filter(a=>a.type==="trigger").length===0&&e.push("Workflow must have at least one trigger"),t.filter(a=>a.type==="action").length===0&&e.push("Workflow must have at least one action");const i=t.filter(a=>!a.data.isConfigured);return i.length>0&&e.push(`${i.length} node(s) are not configured`),{isValid:e.length===0,errors:e}},LIe=t=>({broker:["load_created","load_status_changed","carrier_assigned","payment_received","pod_uploaded","rate_negotiated"],carrier:["new_load_posted","driver_assigned","pickup_confirmed","delivery_completed","driver_checkin"],shipper:["shipment_ready","inventory_low","warehouse_capacity_alert","order_received","dock_appointment_scheduled"]})[t]||[],OIe=(t,e)=>`edge_${t}_${e}`,Dg=CIe((t,e)=>({currentWorkflow:null,nodes:[],edges:[],selectedNodeId:null,isPanelOpen:!1,moduleType:"broker",setModuleType:r=>t({moduleType:r}),addNode:(r,n)=>{const{nodes:i,moduleType:a}=e(),o=PIe(r,n,a);t({nodes:[...i,o],selectedNodeId:o.id,isPanelOpen:!0})},updateNode:(r,n)=>{const{nodes:i}=e(),a=i.map(o=>o.id===r?{...o,data:{...o.data,...n}}:o);t({nodes:a})},deleteNode:r=>{const{nodes:n,edges:i,selectedNodeId:a}=e(),o=n.filter(u=>u.id!==r),l=i.filter(u=>u.source!==r&&u.target!==r);t({nodes:o,edges:l,selectedNodeId:a===r?null:a,isPanelOpen:!1})},setNodes:r=>t({nodes:r}),setEdges:r=>t({edges:r}),onConnect:r=>{const{edges:n,nodes:i}=e();if(!r.source||!r.target)return;if(!MIe(r,i)){console.warn("Invalid connection attempted");return}const a={...r,id:OIe(r.source,r.target),type:"smoothstep",animated:!0,style:{stroke:"#94a3b8"}};t({edges:Fse(a,n)})},deleteEdge:r=>{const{edges:n}=e();t({edges:n.filter(i=>i.id!==r)})},selectNode:r=>{t({selectedNodeId:r,isPanelOpen:r!==null})},togglePanel:()=>{const{isPanelOpen:r}=e();t({isPanelOpen:!r})},clearWorkflow:()=>{t({currentWorkflow:null,nodes:[],edges:[],selectedNodeId:null,isPanelOpen:!1})},loadWorkflow:r=>{t({currentWorkflow:r,nodes:r.nodes,edges:r.edges,moduleType:r.moduleType,selectedNodeId:null,isPanelOpen:!1})},saveWorkflow:(r,n)=>{const{nodes:i,edges:a,moduleType:o}=e(),l={id:`workflow_${Date.now()}`,name:r,description:n,moduleType:o,isActive:!1,isDraft:!0,nodes:i,edges:a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"current_user",version:1};return t({currentWorkflow:l}),l}})),DIe=({data:t,selected:e})=>{const{background:r,border:n,text:i}=oT.trigger,a=Cf("trigger"),o=t;return s.jsxs("div",{className:`px-4 py-3 rounded-lg shadow-lg border-2 transition-all ${e?"ring-4 ring-green-300":""}`,style:{backgroundColor:r,borderColor:e?n:"transparent",color:i,minWidth:"200px"},children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:a}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-sm",children:o.label}),s.jsx("span",{className:"text-xs opacity-80",children:Mne(o.triggerType)})]})]}),s.jsx("div",{className:"flex-shrink-0",children:o.isConfigured?s.jsx(Kf,{size:16,className:"text-white"}):s.jsx(Wu,{size:16,className:"text-yellow-200"})})]}),o.description&&s.jsx("p",{className:"text-xs mt-2 opacity-80",children:o.description}),s.jsx(ll,{type:"source",position:ar.Bottom,className:"w-3 h-3 bg-white border-2",style:{borderColor:n}})]})},RIe=({data:t,selected:e})=>{const{background:r,border:n,text:i}=oT.condition,a=Cf("condition"),o=t;return s.jsxs("div",{className:`px-4 py-3 rounded-lg shadow-lg border-2 transition-all ${e?"ring-4 ring-amber-300":""}`,style:{backgroundColor:r,borderColor:e?n:"transparent",color:i,minWidth:"200px"},children:[s.jsx(ll,{type:"target",position:ar.Top,className:"w-3 h-3 bg-white border-2",style:{borderColor:n}}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:a}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-sm",children:o.label}),s.jsxs("span",{className:"text-xs opacity-80",children:[o.conditions.length," condition",o.conditions.length!==1?"s":"",o.conditions.length>1&&` (${o.logicalOperator})`]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:o.isConfigured&&o.conditions.length>0?s.jsx(Kf,{size:16,className:"text-white"}):s.jsx(Wu,{size:16,className:"text-yellow-200"})})]}),o.description&&s.jsx("p",{className:"text-xs mt-2 opacity-80",children:o.description}),s.jsxs("div",{className:"flex justify-around mt-3",children:[s.jsx(ll,{type:"source",position:ar.Bottom,id:"true",className:"w-3 h-3 bg-white border-2",style:{borderColor:n,left:"30%"},children:s.jsx("span",{className:"absolute -bottom-5 text-xs text-gray-600 -left-2",children:"True"})}),s.jsx(ll,{type:"source",position:ar.Bottom,id:"false",className:"w-3 h-3 bg-white border-2",style:{borderColor:n,left:"70%"},children:s.jsx("span",{className:"absolute -bottom-5 text-xs text-gray-600 -left-3",children:"False"})})]})]})},IIe=({data:t,selected:e})=>{const{background:r,border:n,text:i}=oT.action,a=Cf("action"),o=t;return s.jsxs("div",{className:`px-4 py-3 rounded-lg shadow-lg border-2 transition-all ${e?"ring-4 ring-blue-300":""}`,style:{backgroundColor:r,borderColor:e?n:"transparent",color:i,minWidth:"200px"},children:[s.jsx(ll,{type:"target",position:ar.Top,className:"w-3 h-3 bg-white border-2",style:{borderColor:n}}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:a}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-sm",children:o.label}),s.jsx("span",{className:"text-xs opacity-80",children:Lne(o.actionType)})]})]}),s.jsx("div",{className:"flex-shrink-0",children:o.isConfigured?s.jsx(Kf,{size:16,className:"text-white"}):s.jsx(Wu,{size:16,className:"text-yellow-200"})})]}),o.description&&s.jsx("p",{className:"text-xs mt-2 opacity-80",children:o.description}),s.jsx(ll,{type:"source",position:ar.Bottom,className:"w-3 h-3 bg-white border-2",style:{borderColor:n}})]})},FIe=({data:t,selected:e})=>{const{background:r,border:n,text:i}=oT.delay,a=Cf("delay"),o=t,l=()=>o.delayType==="fixed"&&o.delayAmount&&o.delayUnit?`Wait ${o.delayAmount} ${o.delayUnit}`:o.delayType==="until_date"&&o.untilDate?`Wait until ${new Date(o.untilDate).toLocaleDateString()}`:o.delayType==="business_hours"?"Wait for business hours":"Not configured";return s.jsxs("div",{className:`px-4 py-3 rounded-lg shadow-lg border-2 transition-all ${e?"ring-4 ring-purple-300":""}`,style:{backgroundColor:r,borderColor:e?n:"transparent",color:i,minWidth:"200px"},children:[s.jsx(ll,{type:"target",position:ar.Top,className:"w-3 h-3 bg-white border-2",style:{borderColor:n}}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:a}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-sm",children:o.label}),s.jsx("span",{className:"text-xs opacity-80",children:l()})]})]}),s.jsx("div",{className:"flex-shrink-0",children:o.isConfigured?s.jsx(Kf,{size:16,className:"text-white"}):s.jsx(Wu,{size:16,className:"text-yellow-200"})})]}),o.description&&s.jsx("p",{className:"text-xs mt-2 opacity-80",children:o.description}),o.businessHoursOnly&&s.jsx("div",{className:"mt-2 text-xs bg-white/20 px-2 py-1 rounded",children:"Business hours only"}),s.jsx(ll,{type:"source",position:ar.Bottom,className:"w-3 h-3 bg-white border-2",style:{borderColor:n}})]})},BIe=[{type:"trigger",label:"Trigger",description:"Start your workflow with an event",icon:Cf("trigger")},{type:"condition",label:"Condition",description:"Add logic to your workflow",icon:Cf("condition")},{type:"action",label:"Action",description:"Perform an action",icon:Cf("action")},{type:"delay",label:"Delay",description:"Add a wait time",icon:Cf("delay")}],$Ie=({onClose:t,moduleType:e})=>{const{addNode:r}=Dg(),n=(a,o)=>{a.dataTransfer.setData("application/reactflow",o),a.dataTransfer.effectAllowed="move"},i=a=>{r(a,{x:250,y:100}),t()};return s.jsxs("div",{className:"absolute left-4 top-20 bg-white rounded-lg shadow-xl border border-gray-200 p-4 z-10 w-72",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Node"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(wQ,{size:20})})]}),s.jsx("div",{className:"space-y-2",children:BIe.map(a=>s.jsx("div",{draggable:!0,onDragStart:o=>n(o,a.type),onClick:()=>i(a.type),className:"p-3 border border-gray-200 rounded-lg cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all group",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-2xl",children:a.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-blue-600",children:a.label}),s.jsx("p",{className:"text-sm text-gray-500",children:a.description})]})]})},a.type))}),s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-xs text-gray-600",children:[s.jsx("strong",{children:"Tip:"})," Drag nodes onto the canvas or click to add them at the center."]})})]})};var NN=t=>t.type==="checkbox",Qm=t=>t instanceof Date,oa=t=>t==null;const One=t=>typeof t=="object";var Sn=t=>!oa(t)&&!Array.isArray(t)&&One(t)&&!Qm(t),zIe=t=>Sn(t)&&t.target?NN(t.target)?t.target.checked:t.target.value:t,HIe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,WIe=(t,e)=>t.has(HIe(e)),VIe=t=>{const e=t.constructor&&t.constructor.prototype;return Sn(e)&&e.hasOwnProperty("isPrototypeOf")},tB=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(tB&&(t instanceof Blob||n))&&(r||Sn(t)))if(e=r?[]:{},!r&&!VIe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=gn(t[i]));else return t;return e}var _N=t=>Array.isArray(t)?t.filter(Boolean):[],Zs=t=>t===void 0,Vt=(t,e,r)=>{if(!e||!Sn(t))return r;const n=_N(e.split(/[,[\].]+?/)).reduce((i,a)=>oa(i)?i:i[a],t);return Zs(n)||n===t?Zs(t[e])?r:t[e]:n},Mc=t=>typeof t=="boolean",rB=t=>/^\w*$/.test(t),Dne=t=>_N(t.replace(/["|']|\]/g,"").split(/\.|\[/)),gs=(t,e,r)=>{let n=-1;const i=rB(e)?[e]:Dne(e),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let u=r;if(n!==o){const h=t[l];u=Sn(h)||Array.isArray(h)?h:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const JX={BLUR:"blur",FOCUS_OUT:"focusout"},sl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},UIe=Oe.createContext(null),qIe=()=>Oe.useContext(UIe);var XIe=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==sl.all&&(e._proxyFormState[o]=!n||sl.all),t[o]}});return i};const YIe=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;var ed=t=>typeof t=="string",GIe=(t,e,r,n,i)=>ed(t)?(n&&e.watch.add(t),Vt(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Vt(r,a))):(n&&(e.watchAll=!0),r),Rne=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},za=t=>Array.isArray(t)?t:[t],QX=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},EI=t=>oa(t)||!One(t);function Zh(t,e){if(EI(t)||EI(e))return t===e;if(Qm(t)&&Qm(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Qm(a)&&Qm(o)||Sn(a)&&Sn(o)||Array.isArray(a)&&Array.isArray(o)?!Zh(a,o):a!==o)return!1}}return!0}var Wi=t=>Sn(t)&&!Object.keys(t).length,sB=t=>t.type==="file",ec=t=>typeof t=="function",lC=t=>{if(!tB)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ine=t=>t.type==="select-multiple",nB=t=>t.type==="radio",ZIe=t=>nB(t)||NN(t),pO=t=>lC(t)&&t.isConnected;function KIe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Zs(t)?n++:t[e[n++]];return t}function JIe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Zs(t[e]))return!1;return!0}function Mn(t,e){const r=Array.isArray(e)?e:rB(e)?[e]:Dne(e),n=r.length===1?t:KIe(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Sn(n)&&Wi(n)||Array.isArray(n)&&JIe(n))&&Mn(t,r.slice(0,-1)),t}var Fne=t=>{for(const e in t)if(ec(t[e]))return!0;return!1};function cC(t,e={}){const r=Array.isArray(t);if(Sn(t)||r)for(const n in t)Array.isArray(t[n])||Sn(t[n])&&!Fne(t[n])?(e[n]=Array.isArray(t[n])?[]:{},cC(t[n],e[n])):oa(t[n])||(e[n]=!0);return e}function Bne(t,e,r){const n=Array.isArray(t);if(Sn(t)||n)for(const i in t)Array.isArray(t[i])||Sn(t[i])&&!Fne(t[i])?Zs(e)||EI(r[i])?r[i]=Array.isArray(t[i])?cC(t[i],[]):{...cC(t[i])}:Bne(t[i],oa(e)?{}:e[i],r[i]):r[i]=!Zh(t[i],e[i]);return r}var Ab=(t,e)=>Bne(t,e,cC(e));const eY={value:!1,isValid:!1},tY={value:!0,isValid:!0};var $ne=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Zs(t[0].attributes.value)?Zs(t[0].value)||t[0].value===""?tY:{value:t[0].value,isValid:!0}:tY:eY}return eY},zne=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Zs(t)?t:e?t===""?NaN:t&&+t:r&&ed(t)?new Date(t):n?n(t):t;const rY={isValid:!1,value:null};var Hne=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,rY):rY;function sY(t){const e=t.ref;return sB(e)?e.files:nB(e)?Hne(t.refs).value:Ine(e)?[...e.selectedOptions].map(({value:r})=>r):NN(e)?$ne(t.refs).value:zne(Zs(e.value)?t.ref.value:e.value,t)}var QIe=(t,e,r,n)=>{const i={};for(const a of t){const o=Vt(e,a);o&&gs(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},dC=t=>t instanceof RegExp,Cb=t=>Zs(t)?t:dC(t)?t.source:Sn(t)?dC(t.value)?t.value.source:t.value:t,r0=t=>({isOnSubmit:!t||t===sl.onSubmit,isOnBlur:t===sl.onBlur,isOnChange:t===sl.onChange,isOnAll:t===sl.all,isOnTouch:t===sl.onTouched});const nY="AsyncFunction";var e6e=t=>!!t&&!!t.validate&&!!(ec(t.validate)&&t.validate.constructor.name===nY||Sn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===nY)),t6e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),TI=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const h0=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Vt(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(h0(l,e))break}else if(Sn(l)&&h0(l,e))break}}};function iY(t,e,r){const n=Vt(t,r);if(n||rB(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=Vt(e,a),l=Vt(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:r}}var r6e=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Wi(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||sl.all))},s6e=(t,e,r)=>!t||!e||t===e||za(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),n6e=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,i6e=(t,e)=>!_N(Vt(t,e)).length&&Mn(t,e),Wne=(t,e,r)=>{const n=za(Vt(t,r));return gs(n,"root",e[r]),gs(t,r,n),t},Ck=t=>ed(t);function aY(t,e,r="validate"){if(Ck(t)||Array.isArray(t)&&t.every(Ck)||Mc(t)&&!t)return{type:r,message:Ck(t)?t:"",ref:e}}var wx=t=>Sn(t)&&!dC(t)?t:{value:t,message:""},PI=async(t,e,r,n,i,a)=>{const{ref:o,refs:l,required:u,maxLength:h,minLength:f,min:g,max:y,pattern:N,validate:_,name:k,valueAsNumber:C,mount:O}=t._f,T=Vt(r,k);if(!O||e.has(k))return{};const M=l?l[0]:o,B=he=>{i&&M.reportValidity&&(M.setCustomValidity(Mc(he)?"":he||""),M.reportValidity())},F={},V=nB(o),H=NN(o),Z=V||H,re=(C||sB(o))&&Zs(o.value)&&Zs(T)||lC(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,le=Rne.bind(null,k,n,F),ce=(he,fe,ee,xe=Fd.maxLength,ie=Fd.minLength)=>{const ge=he?fe:ee;F[k]={type:he?xe:ie,message:ge,ref:o,...le(he?xe:ie,ge)}};if(a?!Array.isArray(T)||!T.length:u&&(!Z&&(re||oa(T))||Mc(T)&&!T||H&&!$ne(l).isValid||V&&!Hne(l).isValid)){const{value:he,message:fe}=Ck(u)?{value:!!u,message:u}:wx(u);if(he&&(F[k]={type:Fd.required,message:fe,ref:M,...le(Fd.required,fe)},!n))return B(fe),F}if(!re&&(!oa(g)||!oa(y))){let he,fe;const ee=wx(y),xe=wx(g);if(!oa(T)&&!isNaN(T)){const ie=o.valueAsNumber||T&&+T;oa(ee.value)||(he=ie>ee.value),oa(xe.value)||(fe=ie<xe.value)}else{const ie=o.valueAsDate||new Date(T),ge=ke=>new Date(new Date().toDateString()+" "+ke),G=o.type=="time",ue=o.type=="week";ed(ee.value)&&T&&(he=G?ge(T)>ge(ee.value):ue?T>ee.value:ie>new Date(ee.value)),ed(xe.value)&&T&&(fe=G?ge(T)<ge(xe.value):ue?T<xe.value:ie<new Date(xe.value))}if((he||fe)&&(ce(!!he,ee.message,xe.message,Fd.max,Fd.min),!n))return B(F[k].message),F}if((h||f)&&!re&&(ed(T)||a&&Array.isArray(T))){const he=wx(h),fe=wx(f),ee=!oa(he.value)&&T.length>+he.value,xe=!oa(fe.value)&&T.length<+fe.value;if((ee||xe)&&(ce(ee,he.message,fe.message),!n))return B(F[k].message),F}if(N&&!re&&ed(T)){const{value:he,message:fe}=wx(N);if(dC(he)&&!T.match(he)&&(F[k]={type:Fd.pattern,message:fe,ref:o,...le(Fd.pattern,fe)},!n))return B(fe),F}if(_){if(ec(_)){const he=await _(T,r),fe=aY(he,M);if(fe&&(F[k]={...fe,...le(Fd.validate,fe.message)},!n))return B(fe.message),F}else if(Sn(_)){let he={};for(const fe in _){if(!Wi(he)&&!n)break;const ee=aY(await _[fe](T,r),M,fe);ee&&(he={...ee,...le(fe,ee.message)},B(ee.message),n&&(F[k]=he))}if(!Wi(he)&&(F[k]={ref:M,...he},!n))return F}}return B(!0),F};const a6e={mode:sl.onSubmit,reValidateMode:sl.onChange,shouldFocusError:!0};function o6e(t={}){let e={...a6e,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ec(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=Sn(e.defaultValues)||Sn(e.values)?gn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:gn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...f};const y={array:QX(),state:QX()},N=e.criteriaMode===sl.all,_=Ie=>Ge=>{clearTimeout(h),h=setTimeout(Ie,Ge)},k=async Ie=>{if(!e.disabled&&(f.isValid||g.isValid||Ie)){const Ge=e.resolver?Wi((await H()).errors):await re(n,!0);Ge!==r.isValid&&y.state.next({isValid:Ge})}},C=(Ie,Ge)=>{!e.disabled&&(f.isValidating||f.validatingFields||g.isValidating||g.validatingFields)&&((Ie||Array.from(l.mount)).forEach(it=>{it&&(Ge?gs(r.validatingFields,it,Ge):Mn(r.validatingFields,it))}),y.state.next({validatingFields:r.validatingFields,isValidating:!Wi(r.validatingFields)}))},O=(Ie,Ge=[],it,kt,jt=!0,bt=!0)=>{if(kt&&it&&!e.disabled){if(o.action=!0,bt&&Array.isArray(Vt(n,Ie))){const Ot=it(Vt(n,Ie),kt.argA,kt.argB);jt&&gs(n,Ie,Ot)}if(bt&&Array.isArray(Vt(r.errors,Ie))){const Ot=it(Vt(r.errors,Ie),kt.argA,kt.argB);jt&&gs(r.errors,Ie,Ot),i6e(r.errors,Ie)}if((f.touchedFields||g.touchedFields)&&bt&&Array.isArray(Vt(r.touchedFields,Ie))){const Ot=it(Vt(r.touchedFields,Ie),kt.argA,kt.argB);jt&&gs(r.touchedFields,Ie,Ot)}(f.dirtyFields||g.dirtyFields)&&(r.dirtyFields=Ab(i,a)),y.state.next({name:Ie,isDirty:ce(Ie,Ge),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else gs(a,Ie,Ge)},T=(Ie,Ge)=>{gs(r.errors,Ie,Ge),y.state.next({errors:r.errors})},M=Ie=>{r.errors=Ie,y.state.next({errors:r.errors,isValid:!1})},B=(Ie,Ge,it,kt)=>{const jt=Vt(n,Ie);if(jt){const bt=Vt(a,Ie,Zs(it)?Vt(i,Ie):it);Zs(bt)||kt&&kt.defaultChecked||Ge?gs(a,Ie,Ge?bt:sY(jt._f)):ee(Ie,bt),o.mount&&k()}},F=(Ie,Ge,it,kt,jt)=>{let bt=!1,Ot=!1;const rr={name:Ie};if(!e.disabled){if(!it||kt){(f.isDirty||g.isDirty)&&(Ot=r.isDirty,r.isDirty=rr.isDirty=ce(),bt=Ot!==rr.isDirty);const lr=Zh(Vt(i,Ie),Ge);Ot=!!Vt(r.dirtyFields,Ie),lr?Mn(r.dirtyFields,Ie):gs(r.dirtyFields,Ie,!0),rr.dirtyFields=r.dirtyFields,bt=bt||(f.dirtyFields||g.dirtyFields)&&Ot!==!lr}if(it){const lr=Vt(r.touchedFields,Ie);lr||(gs(r.touchedFields,Ie,it),rr.touchedFields=r.touchedFields,bt=bt||(f.touchedFields||g.touchedFields)&&lr!==it)}bt&&jt&&y.state.next(rr)}return bt?rr:{}},V=(Ie,Ge,it,kt)=>{const jt=Vt(r.errors,Ie),bt=(f.isValid||g.isValid)&&Mc(Ge)&&r.isValid!==Ge;if(e.delayError&&it?(u=_(()=>T(Ie,it)),u(e.delayError)):(clearTimeout(h),u=null,it?gs(r.errors,Ie,it):Mn(r.errors,Ie)),(it?!Zh(jt,it):jt)||!Wi(kt)||bt){const Ot={...kt,...bt&&Mc(Ge)?{isValid:Ge}:{},errors:r.errors,name:Ie};r={...r,...Ot},y.state.next(Ot)}},H=async Ie=>{C(Ie,!0);const Ge=await e.resolver(a,e.context,QIe(Ie||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return C(Ie),Ge},Z=async Ie=>{const{errors:Ge}=await H(Ie);if(Ie)for(const it of Ie){const kt=Vt(Ge,it);kt?gs(r.errors,it,kt):Mn(r.errors,it)}else r.errors=Ge;return Ge},re=async(Ie,Ge,it={valid:!0})=>{for(const kt in Ie){const jt=Ie[kt];if(jt){const{_f:bt,...Ot}=jt;if(bt){const rr=l.array.has(bt.name),lr=jt._f&&e6e(jt._f);lr&&f.validatingFields&&C([kt],!0);const Er=await PI(jt,l.disabled,a,N,e.shouldUseNativeValidation&&!Ge,rr);if(lr&&f.validatingFields&&C([kt]),Er[bt.name]&&(it.valid=!1,Ge))break;!Ge&&(Vt(Er,bt.name)?rr?Wne(r.errors,Er,bt.name):gs(r.errors,bt.name,Er[bt.name]):Mn(r.errors,bt.name))}!Wi(Ot)&&await re(Ot,Ge,it)}}return it.valid},le=()=>{for(const Ie of l.unMount){const Ge=Vt(n,Ie);Ge&&(Ge._f.refs?Ge._f.refs.every(it=>!pO(it)):!pO(Ge._f.ref))&&Ke(Ie)}l.unMount=new Set},ce=(Ie,Ge)=>!e.disabled&&(Ie&&Ge&&gs(a,Ie,Ge),!Zh(ke(),i)),he=(Ie,Ge,it)=>GIe(Ie,l,{...o.mount?a:Zs(Ge)?i:ed(Ie)?{[Ie]:Ge}:Ge},it,Ge),fe=Ie=>_N(Vt(o.mount?a:i,Ie,e.shouldUnregister?Vt(i,Ie,[]):[])),ee=(Ie,Ge,it={})=>{const kt=Vt(n,Ie);let jt=Ge;if(kt){const bt=kt._f;bt&&(!bt.disabled&&gs(a,Ie,zne(Ge,bt)),jt=lC(bt.ref)&&oa(Ge)?"":Ge,Ine(bt.ref)?[...bt.ref.options].forEach(Ot=>Ot.selected=jt.includes(Ot.value)):bt.refs?NN(bt.ref)?bt.refs.forEach(Ot=>{(!Ot.defaultChecked||!Ot.disabled)&&(Array.isArray(jt)?Ot.checked=!!jt.find(rr=>rr===Ot.value):Ot.checked=jt===Ot.value||!!jt)}):bt.refs.forEach(Ot=>Ot.checked=Ot.value===jt):sB(bt.ref)?bt.ref.value="":(bt.ref.value=jt,bt.ref.type||y.state.next({name:Ie,values:gn(a)})))}(it.shouldDirty||it.shouldTouch)&&F(Ie,jt,it.shouldTouch,it.shouldDirty,!0),it.shouldValidate&&ue(Ie)},xe=(Ie,Ge,it)=>{for(const kt in Ge){if(!Ge.hasOwnProperty(kt))return;const jt=Ge[kt],bt=`${Ie}.${kt}`,Ot=Vt(n,bt);(l.array.has(Ie)||Sn(jt)||Ot&&!Ot._f)&&!Qm(jt)?xe(bt,jt,it):ee(bt,jt,it)}},ie=(Ie,Ge,it={})=>{const kt=Vt(n,Ie),jt=l.array.has(Ie),bt=gn(Ge);gs(a,Ie,bt),jt?(y.array.next({name:Ie,values:gn(a)}),(f.isDirty||f.dirtyFields||g.isDirty||g.dirtyFields)&&it.shouldDirty&&y.state.next({name:Ie,dirtyFields:Ab(i,a),isDirty:ce(Ie,bt)})):kt&&!kt._f&&!oa(bt)?xe(Ie,bt,it):ee(Ie,bt,it),TI(Ie,l)&&y.state.next({...r}),y.state.next({name:o.mount?Ie:void 0,values:gn(a)})},ge=async Ie=>{o.mount=!0;const Ge=Ie.target;let it=Ge.name,kt=!0;const jt=Vt(n,it),bt=lr=>{kt=Number.isNaN(lr)||Qm(lr)&&isNaN(lr.getTime())||Zh(lr,Vt(a,it,lr))},Ot=r0(e.mode),rr=r0(e.reValidateMode);if(jt){let lr,Er;const _s=Ge.type?sY(jt._f):zIe(Ie),Ee=Ie.type===JX.BLUR||Ie.type===JX.FOCUS_OUT,yt=!t6e(jt._f)&&!e.resolver&&!Vt(r.errors,it)&&!jt._f.deps||n6e(Ee,Vt(r.touchedFields,it),r.isSubmitted,rr,Ot),zt=TI(it,l,Ee);gs(a,it,_s),Ee?(jt._f.onBlur&&jt._f.onBlur(Ie),u&&u(0)):jt._f.onChange&&jt._f.onChange(Ie);const ts=F(it,_s,Ee),An=!Wi(ts)||zt;if(!Ee&&y.state.next({name:it,type:Ie.type,values:gn(a)}),yt)return(f.isValid||g.isValid)&&(e.mode==="onBlur"?Ee&&k():Ee||k()),An&&y.state.next({name:it,...zt?{}:ts});if(!Ee&&zt&&y.state.next({...r}),e.resolver){const{errors:qs}=await H([it]);if(bt(_s),kt){const Ts=iY(r.errors,n,it),pi=iY(qs,n,Ts.name||it);lr=pi.error,it=pi.name,Er=Wi(qs)}}else C([it],!0),lr=(await PI(jt,l.disabled,a,N,e.shouldUseNativeValidation))[it],C([it]),bt(_s),kt&&(lr?Er=!1:(f.isValid||g.isValid)&&(Er=await re(n,!0)));kt&&(jt._f.deps&&ue(jt._f.deps),V(it,Er,lr,ts))}},G=(Ie,Ge)=>{if(Vt(r.errors,Ge)&&Ie.focus)return Ie.focus(),1},ue=async(Ie,Ge={})=>{let it,kt;const jt=za(Ie);if(e.resolver){const bt=await Z(Zs(Ie)?Ie:jt);it=Wi(bt),kt=Ie?!jt.some(Ot=>Vt(bt,Ot)):it}else Ie?(kt=(await Promise.all(jt.map(async bt=>{const Ot=Vt(n,bt);return await re(Ot&&Ot._f?{[bt]:Ot}:Ot)}))).every(Boolean),!(!kt&&!r.isValid)&&k()):kt=it=await re(n);return y.state.next({...!ed(Ie)||(f.isValid||g.isValid)&&it!==r.isValid?{}:{name:Ie},...e.resolver||!Ie?{isValid:it}:{},errors:r.errors}),Ge.shouldFocus&&!kt&&h0(n,G,Ie?jt:l.mount),kt},ke=Ie=>{const Ge={...o.mount?a:i};return Zs(Ie)?Ge:ed(Ie)?Vt(Ge,Ie):Ie.map(it=>Vt(Ge,it))},ve=(Ie,Ge)=>({invalid:!!Vt((Ge||r).errors,Ie),isDirty:!!Vt((Ge||r).dirtyFields,Ie),error:Vt((Ge||r).errors,Ie),isValidating:!!Vt(r.validatingFields,Ie),isTouched:!!Vt((Ge||r).touchedFields,Ie)}),Se=Ie=>{Ie&&za(Ie).forEach(Ge=>Mn(r.errors,Ge)),y.state.next({errors:Ie?r.errors:{}})},He=(Ie,Ge,it)=>{const kt=(Vt(n,Ie,{_f:{}})._f||{}).ref,jt=Vt(r.errors,Ie)||{},{ref:bt,message:Ot,type:rr,...lr}=jt;gs(r.errors,Ie,{...lr,...Ge,ref:kt}),y.state.next({name:Ie,errors:r.errors,isValid:!1}),it&&it.shouldFocus&&kt&&kt.focus&&kt.focus()},De=(Ie,Ge)=>ec(Ie)?y.state.subscribe({next:it=>Ie(he(void 0,Ge),it)}):he(Ie,Ge,!0),$e=Ie=>y.state.subscribe({next:Ge=>{s6e(Ie.name,Ge.name,Ie.exact)&&r6e(Ge,Ie.formState||f,or,Ie.reRenderRoot)&&Ie.callback({values:{...a},...r,...Ge})}}).unsubscribe,Ue=Ie=>(o.mount=!0,g={...g,...Ie.formState},$e({...Ie,formState:g})),Ke=(Ie,Ge={})=>{for(const it of Ie?za(Ie):l.mount)l.mount.delete(it),l.array.delete(it),Ge.keepValue||(Mn(n,it),Mn(a,it)),!Ge.keepError&&Mn(r.errors,it),!Ge.keepDirty&&Mn(r.dirtyFields,it),!Ge.keepTouched&&Mn(r.touchedFields,it),!Ge.keepIsValidating&&Mn(r.validatingFields,it),!e.shouldUnregister&&!Ge.keepDefaultValue&&Mn(i,it);y.state.next({values:gn(a)}),y.state.next({...r,...Ge.keepDirty?{isDirty:ce()}:{}}),!Ge.keepIsValid&&k()},nt=({disabled:Ie,name:Ge})=>{(Mc(Ie)&&o.mount||Ie||l.disabled.has(Ge))&&(Ie?l.disabled.add(Ge):l.disabled.delete(Ge))},Me=(Ie,Ge={})=>{let it=Vt(n,Ie);const kt=Mc(Ge.disabled)||Mc(e.disabled);return gs(n,Ie,{...it||{},_f:{...it&&it._f?it._f:{ref:{name:Ie}},name:Ie,mount:!0,...Ge}}),l.mount.add(Ie),it?nt({disabled:Mc(Ge.disabled)?Ge.disabled:e.disabled,name:Ie}):B(Ie,!0,Ge.value),{...kt?{disabled:Ge.disabled||e.disabled}:{},...e.progressive?{required:!!Ge.required,min:Cb(Ge.min),max:Cb(Ge.max),minLength:Cb(Ge.minLength),maxLength:Cb(Ge.maxLength),pattern:Cb(Ge.pattern)}:{},name:Ie,onChange:ge,onBlur:ge,ref:jt=>{if(jt){Me(Ie,Ge),it=Vt(n,Ie);const bt=Zs(jt.value)&&jt.querySelectorAll&&jt.querySelectorAll("input,select,textarea")[0]||jt,Ot=ZIe(bt),rr=it._f.refs||[];if(Ot?rr.find(lr=>lr===bt):bt===it._f.ref)return;gs(n,Ie,{_f:{...it._f,...Ot?{refs:[...rr.filter(pO),bt,...Array.isArray(Vt(i,Ie))?[{}]:[]],ref:{type:bt.type,name:Ie}}:{ref:bt}}}),B(Ie,!1,void 0,bt)}else it=Vt(n,Ie,{}),it._f&&(it._f.mount=!1),(e.shouldUnregister||Ge.shouldUnregister)&&!(WIe(l.array,Ie)&&o.action)&&l.unMount.add(Ie)}}},qe=()=>e.shouldFocusError&&h0(n,G,l.mount),ht=Ie=>{Mc(Ie)&&(y.state.next({disabled:Ie}),h0(n,(Ge,it)=>{const kt=Vt(n,it);kt&&(Ge.disabled=kt._f.disabled||Ie,Array.isArray(kt._f.refs)&&kt._f.refs.forEach(jt=>{jt.disabled=kt._f.disabled||Ie}))},0,!1))},ye=(Ie,Ge)=>async it=>{let kt;it&&(it.preventDefault&&it.preventDefault(),it.persist&&it.persist());let jt=gn(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:bt,values:Ot}=await H();r.errors=bt,jt=Ot}else await re(n);if(l.disabled.size)for(const bt of l.disabled)gs(jt,bt,void 0);if(Mn(r.errors,"root"),Wi(r.errors)){y.state.next({errors:{}});try{await Ie(jt,it)}catch(bt){kt=bt}}else Ge&&await Ge({...r.errors},it),qe(),setTimeout(qe);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wi(r.errors)&&!kt,submitCount:r.submitCount+1,errors:r.errors}),kt)throw kt},Xe=(Ie,Ge={})=>{Vt(n,Ie)&&(Zs(Ge.defaultValue)?ie(Ie,gn(Vt(i,Ie))):(ie(Ie,Ge.defaultValue),gs(i,Ie,gn(Ge.defaultValue))),Ge.keepTouched||Mn(r.touchedFields,Ie),Ge.keepDirty||(Mn(r.dirtyFields,Ie),r.isDirty=Ge.defaultValue?ce(Ie,gn(Vt(i,Ie))):ce()),Ge.keepError||(Mn(r.errors,Ie),f.isValid&&k()),y.state.next({...r}))},dt=(Ie,Ge={})=>{const it=Ie?gn(Ie):i,kt=gn(it),jt=Wi(Ie),bt=jt?i:kt;if(Ge.keepDefaultValues||(i=it),!Ge.keepValues){if(Ge.keepDirtyValues){const Ot=new Set([...l.mount,...Object.keys(Ab(i,a))]);for(const rr of Array.from(Ot))Vt(r.dirtyFields,rr)?gs(bt,rr,Vt(a,rr)):ie(rr,Vt(bt,rr))}else{if(tB&&Zs(Ie))for(const Ot of l.mount){const rr=Vt(n,Ot);if(rr&&rr._f){const lr=Array.isArray(rr._f.refs)?rr._f.refs[0]:rr._f.ref;if(lC(lr)){const Er=lr.closest("form");if(Er){Er.reset();break}}}}for(const Ot of l.mount)ie(Ot,Vt(bt,Ot))}a=gn(bt),y.array.next({values:{...bt}}),y.state.next({values:{...bt}})}l={mount:Ge.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!Ge.keepIsValid||!!Ge.keepDirtyValues,o.watch=!!e.shouldUnregister,y.state.next({submitCount:Ge.keepSubmitCount?r.submitCount:0,isDirty:jt?!1:Ge.keepDirty?r.isDirty:!!(Ge.keepDefaultValues&&!Zh(Ie,i)),isSubmitted:Ge.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:jt?{}:Ge.keepDirtyValues?Ge.keepDefaultValues&&a?Ab(i,a):r.dirtyFields:Ge.keepDefaultValues&&Ie?Ab(i,Ie):Ge.keepDirty?r.dirtyFields:{},touchedFields:Ge.keepTouched?r.touchedFields:{},errors:Ge.keepErrors?r.errors:{},isSubmitSuccessful:Ge.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Tt=(Ie,Ge)=>dt(ec(Ie)?Ie(a):Ie,Ge),Ct=(Ie,Ge={})=>{const it=Vt(n,Ie),kt=it&&it._f;if(kt){const jt=kt.refs?kt.refs[0]:kt.ref;jt.focus&&(jt.focus(),Ge.shouldSelect&&ec(jt.select)&&jt.select())}},or=Ie=>{r={...r,...Ie}},cs={control:{register:Me,unregister:Ke,getFieldState:ve,handleSubmit:ye,setError:He,_subscribe:$e,_runSchema:H,_getWatch:he,_getDirty:ce,_setValid:k,_setFieldArray:O,_setDisabledField:nt,_setErrors:M,_getFieldArray:fe,_reset:dt,_resetDefaultValues:()=>ec(e.defaultValues)&&e.defaultValues().then(Ie=>{Tt(Ie,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:le,_disableForm:ht,_subjects:y,_proxyFormState:f,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(Ie){o=Ie},get _defaultValues(){return i},get _names(){return l},set _names(Ie){l=Ie},get _formState(){return r},get _options(){return e},set _options(Ie){e={...e,...Ie}}},subscribe:Ue,trigger:ue,register:Me,handleSubmit:ye,watch:De,setValue:ie,getValues:ke,reset:Tt,resetField:Xe,clearErrors:Se,unregister:Ke,setError:He,setFocus:Ct,getFieldState:ve};return{...cs,formControl:cs}}var Lh=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},gO=(t,e,r={})=>r.shouldFocus||Zs(r.shouldFocus)?r.focusName||`${t}.${Zs(r.focusIndex)?e:r.focusIndex}.`:"",xO=(t,e)=>[...t,...za(e)],yO=t=>Array.isArray(t)?t.map(()=>{}):void 0;function vO(t,e,r){return[...t.slice(0,e),...za(r),...t.slice(e)]}var bO=(t,e,r)=>Array.isArray(t)?(Zs(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],wO=(t,e)=>[...za(e),...za(t)];function l6e(t,e){let r=0;const n=[...t];for(const i of e)n.splice(i-r,1),r++;return _N(n).length?n:[]}var jO=(t,e)=>Zs(e)?[]:l6e(t,za(e).sort((r,n)=>r-n)),NO=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},oY=(t,e,r)=>(t[e]=r,t);function c6e(t){const e=qIe(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:a,rules:o}=t,[l,u]=Oe.useState(r._getFieldArray(n)),h=Oe.useRef(r._getFieldArray(n).map(Lh)),f=Oe.useRef(l),g=Oe.useRef(n),y=Oe.useRef(!1);g.current=n,f.current=l,r._names.array.add(n),o&&r.register(n,o),Oe.useEffect(()=>r._subjects.array.subscribe({next:({values:V,name:H})=>{if(H===g.current||!H){const Z=Vt(V,g.current);Array.isArray(Z)&&(u(Z),h.current=Z.map(Lh))}}}).unsubscribe,[r]);const N=Oe.useCallback(V=>{y.current=!0,r._setFieldArray(n,V)},[r,n]),_=(V,H)=>{const Z=za(gn(V)),re=xO(r._getFieldArray(n),Z);r._names.focus=gO(n,re.length-1,H),h.current=xO(h.current,Z.map(Lh)),N(re),u(re),r._setFieldArray(n,re,xO,{argA:yO(V)})},k=(V,H)=>{const Z=za(gn(V)),re=wO(r._getFieldArray(n),Z);r._names.focus=gO(n,0,H),h.current=wO(h.current,Z.map(Lh)),N(re),u(re),r._setFieldArray(n,re,wO,{argA:yO(V)})},C=V=>{const H=jO(r._getFieldArray(n),V);h.current=jO(h.current,V),N(H),u(H),!Array.isArray(Vt(r._fields,n))&&gs(r._fields,n,void 0),r._setFieldArray(n,H,jO,{argA:V})},O=(V,H,Z)=>{const re=za(gn(H)),le=vO(r._getFieldArray(n),V,re);r._names.focus=gO(n,V,Z),h.current=vO(h.current,V,re.map(Lh)),N(le),u(le),r._setFieldArray(n,le,vO,{argA:V,argB:yO(H)})},T=(V,H)=>{const Z=r._getFieldArray(n);NO(Z,V,H),NO(h.current,V,H),N(Z),u(Z),r._setFieldArray(n,Z,NO,{argA:V,argB:H},!1)},M=(V,H)=>{const Z=r._getFieldArray(n);bO(Z,V,H),bO(h.current,V,H),N(Z),u(Z),r._setFieldArray(n,Z,bO,{argA:V,argB:H},!1)},B=(V,H)=>{const Z=gn(H),re=oY(r._getFieldArray(n),V,Z);h.current=[...re].map((le,ce)=>!le||ce===V?Lh():h.current[ce]),N(re),u([...re]),r._setFieldArray(n,re,oY,{argA:V,argB:Z},!0,!1)},F=V=>{const H=za(gn(V));h.current=H.map(Lh),N([...H]),u([...H]),r._setFieldArray(n,[...H],Z=>Z,{},!0,!1)};return Oe.useEffect(()=>{if(r._state.action=!1,TI(n,r._names)&&r._subjects.state.next({...r._formState}),y.current&&(!r0(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!r0(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(V=>{const H=Vt(V.errors,n),Z=Vt(r._formState.errors,n);(Z?!H&&Z.type||H&&(Z.type!==H.type||Z.message!==H.message):H&&H.type)&&(H?gs(r._formState.errors,n,H):Mn(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const V=Vt(r._fields,n);V&&V._f&&!(r0(r._options.reValidateMode).isOnSubmit&&r0(r._options.mode).isOnSubmit)&&PI(V,r._names.disabled,r._formValues,r._options.criteriaMode===sl.all,r._options.shouldUseNativeValidation,!0).then(H=>!Wi(H)&&r._subjects.state.next({errors:Wne(r._formState.errors,H,n)}))}r._subjects.state.next({name:n,values:gn(r._formValues)}),r._names.focus&&h0(r._fields,(V,H)=>{if(r._names.focus&&H.startsWith(r._names.focus)&&V.focus)return V.focus(),1}),r._names.focus="",r._setValid(),y.current=!1},[l,n,r]),Oe.useEffect(()=>(!Vt(r._formValues,n)&&r._setFieldArray(n),()=>{const V=(H,Z)=>{const re=Vt(r._fields,H);re&&re._f&&(re._f.mount=Z)};r._options.shouldUnregister||a?r.unregister(n):V(n,!1)}),[n,r,i,a]),{swap:Oe.useCallback(T,[N,n,r]),move:Oe.useCallback(M,[N,n,r]),prepend:Oe.useCallback(k,[N,n,r]),append:Oe.useCallback(_,[N,n,r]),remove:Oe.useCallback(C,[N,n,r]),insert:Oe.useCallback(O,[N,n,r]),update:Oe.useCallback(B,[N,n,r]),replace:Oe.useCallback(F,[N,n,r]),fields:Oe.useMemo(()=>l.map((V,H)=>({...V,[i]:h.current[H]||Lh()})),[l,i])}}function lT(t={}){const e=Oe.useRef(void 0),r=Oe.useRef(void 0),[n,i]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:ec(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ec(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:o6e(t),formState:n},t.formControl&&t.defaultValues&&!ec(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,YIe(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Oe.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Oe.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode),t.errors&&!Wi(t.errors)&&a._setErrors(t.errors)},[a,t.errors,t.mode,t.reValidateMode]),Oe.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Oe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Oe.useEffect(()=>{t.values&&!Zh(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),Oe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=XIe(n,a),e.current}const lY=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Vt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Vne=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?lY(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>lY(i,r,t))}},d6e=(t,e)=>{e.shouldUseNativeValidation&&Vne(t,e);const r={};for(const n in t){const i=Vt(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(u6e(e.names||Object.keys(t),n)){const o=Object.assign({},Vt(r,n));gs(o,"root",a),gs(r,n,o)}else gs(r,n,a)}return r},u6e=(t,e)=>{const r=cY(e);return t.some(n=>cY(n).match(`^${r}\\.\\d+`))};function cY(t){return t.replace(/\]|\[/g,"")}function h6e(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(g){return t.push(g)})}),e){var u=r[o].types,h=u&&u[n.code];r[o]=Rne(o,e,r,i,h?[].concat(h,n.message):n.message)}t.shift()}return r}function cT(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(o,l){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(h){return a.shouldUseNativeValidation&&Vne({},a),{errors:{},values:r.raw?Object.assign({},n):h}})}catch(h){return l(h)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:d6e(h6e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}}var is;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(is||(is={}));var dY;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(dY||(dY={}));const Qt=is.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Uh=t=>{switch(typeof t){case"undefined":return Qt.undefined;case"string":return Qt.string;case"number":return Number.isNaN(t)?Qt.nan:Qt.number;case"boolean":return Qt.boolean;case"function":return Qt.function;case"bigint":return Qt.bigint;case"symbol":return Qt.symbol;case"object":return Array.isArray(t)?Qt.array:t===null?Qt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Qt.promise:typeof Map<"u"&&t instanceof Map?Qt.map:typeof Set<"u"&&t instanceof Set?Qt.set:typeof Date<"u"&&t instanceof Date?Qt.date:Qt.object;default:return Qt.unknown}},Mt=is.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Uu extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,u=0;for(;u<o.path.length;){const h=o.path[u];u===o.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(r(o))):l[h]=l[h]||{_errors:[]},l=l[h],u++}}};return i(this),n}static assert(e){if(!(e instanceof Uu))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,is.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Uu.create=t=>new Uu(t);const MI=(t,e)=>{let r;switch(t.code){case Mt.invalid_type:t.received===Qt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Mt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,is.jsonStringifyReplacer)}`;break;case Mt.unrecognized_keys:r=`Unrecognized key(s) in object: ${is.joinValues(t.keys,", ")}`;break;case Mt.invalid_union:r="Invalid input";break;case Mt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${is.joinValues(t.options)}`;break;case Mt.invalid_enum_value:r=`Invalid enum value. Expected ${is.joinValues(t.options)}, received '${t.received}'`;break;case Mt.invalid_arguments:r="Invalid function arguments";break;case Mt.invalid_return_type:r="Invalid function return type";break;case Mt.invalid_date:r="Invalid date";break;case Mt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:is.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Mt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Mt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Mt.custom:r="Invalid input";break;case Mt.invalid_intersection_types:r="Intersection results could not be merged";break;case Mt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Mt.not_finite:r="Number must be finite";break;default:r=e.defaultError,is.assertNever(t)}return{message:r}};let f6e=MI;function m6e(){return f6e}const p6e=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const u=n.filter(h=>!!h).slice().reverse();for(const h of u)l=h(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function Ut(t,e){const r=m6e(),n=p6e({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===MI?void 0:MI].filter(i=>!!i)});t.common.issues.push(n)}class ga{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Pr;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return ga.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Pr;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Pr=Object.freeze({status:"aborted"}),jw=t=>({status:"dirty",value:t}),gl=t=>({status:"valid",value:t}),uY=t=>t.status==="aborted",hY=t=>t.status==="dirty",tv=t=>t.status==="valid",uC=t=>typeof Promise<"u"&&t instanceof Promise;var ir;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ir||(ir={}));var hC=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Une=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Nw,_w;class ld{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fY=(t,e)=>{if(tv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Uu(t.common.issues);return this._error=r,this._error}}};function Br(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:u??r??l.defaultError}},description:i}}class Kr{get description(){return this._def.description}_getType(e){return Uh(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Uh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ga,ctx:{common:e.parent.common,data:e.data,parsedType:Uh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(uC(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uh(e)},i=this._parseSync({data:e,path:n.path,parent:n});return fY(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uh(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return tv(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>tv(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Uh(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(uC(i)?i:Promise.resolve(i));return fY(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:Mt.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new nv({schema:this,typeName:_r.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Lf.create(this,this._def)}nullable(){return iv.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return nd.create(this)}promise(){return xC.create(this,this._def)}or(e){return mC.create([this,e],this._def)}and(e){return pC.create(this,e,this._def)}transform(e){return new nv({...Br(this._def),schema:this,typeName:_r.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new RI({...Br(this._def),innerType:this,defaultValue:r,typeName:_r.ZodDefault})}brand(){return new F6e({typeName:_r.ZodBranded,type:this,...Br(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new II({...Br(this._def),innerType:this,catchValue:r,typeName:_r.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return iB.create(this,e)}readonly(){return FI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const g6e=/^c[^\s-]{8,}$/i,x6e=/^[0-9a-z]+$/,y6e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,v6e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,b6e=/^[a-z0-9_-]{21}$/i,w6e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,j6e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,N6e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_6e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _O;const S6e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,k6e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,A6e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,C6e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E6e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,T6e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qne="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",P6e=new RegExp(`^${qne}$`);function Xne(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function M6e(t){return new RegExp(`^${Xne(t)}$`)}function L6e(t){let e=`${qne}T${Xne(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function O6e(t,e){return!!((e==="v4"||!e)&&S6e.test(t)||(e==="v6"||!e)&&A6e.test(t))}function D6e(t,e){if(!w6e.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function R6e(t,e){return!!((e==="v4"||!e)&&k6e.test(t)||(e==="v6"||!e)&&C6e.test(t))}class Su extends Kr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Qt.string){const a=this._getOrReturnCtx(e);return Ut(a,{code:Mt.invalid_type,expected:Qt.string,received:a.parsedType}),Pr}const n=new ga;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Ut(i,{code:Mt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Ut(i,{code:Mt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")N6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"email",code:Mt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")_O||(_O=new RegExp(_6e,"u")),_O.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"emoji",code:Mt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")v6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"uuid",code:Mt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")b6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"nanoid",code:Mt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")g6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"cuid",code:Mt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")x6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"cuid2",code:Mt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")y6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"ulid",code:Mt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ut(i,{validation:"url",code:Mt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"regex",code:Mt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?L6e(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?P6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?M6e(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?j6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"duration",code:Mt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?O6e(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"ip",code:Mt.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?D6e(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"jwt",code:Mt.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?R6e(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"cidr",code:Mt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?E6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"base64",code:Mt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?T6e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ut(i,{validation:"base64url",code:Mt.invalid_string,message:a.message}),n.dirty()):is.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Mt.invalid_string,...ir.errToObj(n)})}_addCheck(e){return new Su({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ir.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ir.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ir.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ir.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ir.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ir.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ir.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ir.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ir.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ir.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ir.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ir.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ir.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ir.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ir.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ir.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ir.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ir.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ir.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ir.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ir.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ir.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ir.errToObj(r)})}nonempty(e){return this.min(1,ir.errToObj(e))}trim(){return new Su({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Su({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Su({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Su.create=t=>new Su({checks:[],typeName:_r.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Br(t)});function I6e(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class rv extends Kr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Qt.number){const a=this._getOrReturnCtx(e);return Ut(a,{code:Mt.invalid_type,expected:Qt.number,received:a.parsedType}),Pr}let n;const i=new ga;for(const a of this._def.checks)a.kind==="int"?is.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ut(n,{code:Mt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Mt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Mt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?I6e(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Mt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ut(n,{code:Mt.not_finite,message:a.message}),i.dirty()):is.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ir.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ir.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ir.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ir.toString(r))}setLimit(e,r,n,i){return new rv({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ir.toString(i)}]})}_addCheck(e){return new rv({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ir.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ir.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ir.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ir.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ir.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ir.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ir.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ir.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ir.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&is.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}rv.create=t=>new rv({checks:[],typeName:_r.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Br(t)});class D1 extends Kr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Qt.bigint)return this._getInvalidInput(e);let n;const i=new ga;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Mt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Mt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ut(n,{code:Mt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):is.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ut(r,{code:Mt.invalid_type,expected:Qt.bigint,received:r.parsedType}),Pr}gte(e,r){return this.setLimit("min",e,!0,ir.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ir.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ir.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ir.toString(r))}setLimit(e,r,n,i){return new D1({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ir.toString(i)}]})}_addCheck(e){return new D1({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ir.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ir.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ir.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ir.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ir.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}D1.create=t=>new D1({checks:[],typeName:_r.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Br(t)});class LI extends Kr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Qt.boolean){const n=this._getOrReturnCtx(e);return Ut(n,{code:Mt.invalid_type,expected:Qt.boolean,received:n.parsedType}),Pr}return gl(e.data)}}LI.create=t=>new LI({typeName:_r.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Br(t)});class fC extends Kr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Qt.date){const a=this._getOrReturnCtx(e);return Ut(a,{code:Mt.invalid_type,expected:Qt.date,received:a.parsedType}),Pr}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ut(a,{code:Mt.invalid_date}),Pr}const n=new ga;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Ut(i,{code:Mt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):is.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fC({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ir.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ir.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}fC.create=t=>new fC({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_r.ZodDate,...Br(t)});class mY extends Kr{_parse(e){if(this._getType(e)!==Qt.symbol){const n=this._getOrReturnCtx(e);return Ut(n,{code:Mt.invalid_type,expected:Qt.symbol,received:n.parsedType}),Pr}return gl(e.data)}}mY.create=t=>new mY({typeName:_r.ZodSymbol,...Br(t)});class pY extends Kr{_parse(e){if(this._getType(e)!==Qt.undefined){const n=this._getOrReturnCtx(e);return Ut(n,{code:Mt.invalid_type,expected:Qt.undefined,received:n.parsedType}),Pr}return gl(e.data)}}pY.create=t=>new pY({typeName:_r.ZodUndefined,...Br(t)});class gY extends Kr{_parse(e){if(this._getType(e)!==Qt.null){const n=this._getOrReturnCtx(e);return Ut(n,{code:Mt.invalid_type,expected:Qt.null,received:n.parsedType}),Pr}return gl(e.data)}}gY.create=t=>new gY({typeName:_r.ZodNull,...Br(t)});class OI extends Kr{constructor(){super(...arguments),this._any=!0}_parse(e){return gl(e.data)}}OI.create=t=>new OI({typeName:_r.ZodAny,...Br(t)});class xY extends Kr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gl(e.data)}}xY.create=t=>new xY({typeName:_r.ZodUnknown,...Br(t)});class zf extends Kr{_parse(e){const r=this._getOrReturnCtx(e);return Ut(r,{code:Mt.invalid_type,expected:Qt.never,received:r.parsedType}),Pr}}zf.create=t=>new zf({typeName:_r.ZodNever,...Br(t)});class yY extends Kr{_parse(e){if(this._getType(e)!==Qt.undefined){const n=this._getOrReturnCtx(e);return Ut(n,{code:Mt.invalid_type,expected:Qt.void,received:n.parsedType}),Pr}return gl(e.data)}}yY.create=t=>new yY({typeName:_r.ZodVoid,...Br(t)});class nd extends Kr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Qt.array)return Ut(r,{code:Mt.invalid_type,expected:Qt.array,received:r.parsedType}),Pr;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(Ut(r,{code:o?Mt.too_big:Mt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ut(r,{code:Mt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ut(r,{code:Mt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new ld(r,o,r.path,l)))).then(o=>ga.mergeArray(n,o));const a=[...r.data].map((o,l)=>i.type._parseSync(new ld(r,o,r.path,l)));return ga.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new nd({...this._def,minLength:{value:e,message:ir.toString(r)}})}max(e,r){return new nd({...this._def,maxLength:{value:e,message:ir.toString(r)}})}length(e,r){return new nd({...this._def,exactLength:{value:e,message:ir.toString(r)}})}nonempty(e){return this.min(1,e)}}nd.create=(t,e)=>new nd({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_r.ZodArray,...Br(e)});function Xx(t){if(t instanceof Rn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Lf.create(Xx(n))}return new Rn({...t._def,shape:()=>e})}else return t instanceof nd?new nd({...t._def,type:Xx(t.element)}):t instanceof Lf?Lf.create(Xx(t.unwrap())):t instanceof iv?iv.create(Xx(t.unwrap())):t instanceof vg?vg.create(t.items.map(e=>Xx(e))):t}class Rn extends Kr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=is.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Qt.object){const h=this._getOrReturnCtx(e);return Ut(h,{code:Mt.invalid_type,expected:Qt.object,received:h.parsedType}),Pr}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof zf&&this._def.unknownKeys==="strip"))for(const h in i.data)o.includes(h)||l.push(h);const u=[];for(const h of o){const f=a[h],g=i.data[h];u.push({key:{status:"valid",value:h},value:f._parse(new ld(i,g,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof zf){const h=this._def.unknownKeys;if(h==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(h==="strict")l.length>0&&(Ut(i,{code:Mt.unrecognized_keys,keys:l}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const f of l){const g=i.data[f];u.push({key:{status:"valid",value:f},value:h._parse(new ld(i,g,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const f of u){const g=await f.key,y=await f.value;h.push({key:g,value:y,alwaysSet:f.alwaysSet})}return h}).then(h=>ga.mergeObjectSync(n,h)):ga.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return ir.errToObj,new Rn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ir.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Rn({...this._def,unknownKeys:"strip"})}passthrough(){return new Rn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Rn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Rn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_r.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Rn({...this._def,catchall:e})}pick(e){const r={};for(const n of is.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Rn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of is.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Rn({...this._def,shape:()=>r})}deepPartial(){return Xx(this)}partial(e){const r={};for(const n of is.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Rn({...this._def,shape:()=>r})}required(e){const r={};for(const n of is.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Lf;)a=a._def.innerType;r[n]=a}return new Rn({...this._def,shape:()=>r})}keyof(){return Yne(is.objectKeys(this.shape))}}Rn.create=(t,e)=>new Rn({shape:()=>t,unknownKeys:"strip",catchall:zf.create(),typeName:_r.ZodObject,...Br(e)});Rn.strictCreate=(t,e)=>new Rn({shape:()=>t,unknownKeys:"strict",catchall:zf.create(),typeName:_r.ZodObject,...Br(e)});Rn.lazycreate=(t,e)=>new Rn({shape:t,unknownKeys:"strip",catchall:zf.create(),typeName:_r.ZodObject,...Br(e)});class mC extends Kr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Uu(l.ctx.common.issues));return Ut(r,{code:Mt.invalid_union,unionErrors:o}),Pr}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const u of n){const h={...r,common:{...r.common,issues:[]},parent:null},f=u._parseSync({data:r.data,path:r.path,parent:h});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(u=>new Uu(u));return Ut(r,{code:Mt.invalid_union,unionErrors:l}),Pr}}get options(){return this._def.options}}mC.create=(t,e)=>new mC({options:t,typeName:_r.ZodUnion,...Br(e)});function DI(t,e){const r=Uh(t),n=Uh(e);if(t===e)return{valid:!0,data:t};if(r===Qt.object&&n===Qt.object){const i=is.objectKeys(e),a=is.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const u=DI(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(r===Qt.array&&n===Qt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],u=DI(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===Qt.date&&n===Qt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pC extends Kr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(uY(a)||uY(o))return Pr;const l=DI(a.value,o.value);return l.valid?((hY(a)||hY(o))&&r.dirty(),{status:r.value,value:l.data}):(Ut(n,{code:Mt.invalid_intersection_types}),Pr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}pC.create=(t,e,r)=>new pC({left:t,right:e,typeName:_r.ZodIntersection,...Br(r)});class vg extends Kr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qt.array)return Ut(n,{code:Mt.invalid_type,expected:Qt.array,received:n.parsedType}),Pr;if(n.data.length<this._def.items.length)return Ut(n,{code:Mt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pr;!this._def.rest&&n.data.length>this._def.items.length&&(Ut(n,{code:Mt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new ld(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>ga.mergeArray(r,o)):ga.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new vg({...this._def,rest:e})}}vg.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vg({items:t,typeName:_r.ZodTuple,rest:null,...Br(e)})};class gC extends Kr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qt.object)return Ut(n,{code:Mt.invalid_type,expected:Qt.object,received:n.parsedType}),Pr;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:a._parse(new ld(n,l,n.path,l)),value:o._parse(new ld(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?ga.mergeObjectAsync(r,i):ga.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Kr?new gC({keyType:e,valueType:r,typeName:_r.ZodRecord,...Br(n)}):new gC({keyType:Su.create(),valueType:e,typeName:_r.ZodRecord,...Br(r)})}}class vY extends Kr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qt.map)return Ut(n,{code:Mt.invalid_type,expected:Qt.map,received:n.parsedType}),Pr;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,u],h)=>({key:i._parse(new ld(n,l,n.path,[h,"key"])),value:a._parse(new ld(n,u,n.path,[h,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const h=await u.key,f=await u.value;if(h.status==="aborted"||f.status==="aborted")return Pr;(h.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(h.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const u of o){const h=u.key,f=u.value;if(h.status==="aborted"||f.status==="aborted")return Pr;(h.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(h.value,f.value)}return{status:r.value,value:l}}}}vY.create=(t,e,r)=>new vY({valueType:e,keyType:t,typeName:_r.ZodMap,...Br(r)});class R1 extends Kr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Qt.set)return Ut(n,{code:Mt.invalid_type,expected:Qt.set,received:n.parsedType}),Pr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ut(n,{code:Mt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ut(n,{code:Mt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(u){const h=new Set;for(const f of u){if(f.status==="aborted")return Pr;f.status==="dirty"&&r.dirty(),h.add(f.value)}return{status:r.value,value:h}}const l=[...n.data.values()].map((u,h)=>a._parse(new ld(n,u,n.path,h)));return n.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,r){return new R1({...this._def,minSize:{value:e,message:ir.toString(r)}})}max(e,r){return new R1({...this._def,maxSize:{value:e,message:ir.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}R1.create=(t,e)=>new R1({valueType:t,minSize:null,maxSize:null,typeName:_r.ZodSet,...Br(e)});class bY extends Kr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bY.create=(t,e)=>new bY({getter:t,typeName:_r.ZodLazy,...Br(e)});class wY extends Kr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ut(r,{received:r.data,code:Mt.invalid_literal,expected:this._def.value}),Pr}return{status:"valid",value:e.data}}get value(){return this._def.value}}wY.create=(t,e)=>new wY({value:t,typeName:_r.ZodLiteral,...Br(e)});function Yne(t,e){return new sv({values:t,typeName:_r.ZodEnum,...Br(e)})}class sv extends Kr{constructor(){super(...arguments),Nw.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ut(r,{expected:is.joinValues(n),received:r.parsedType,code:Mt.invalid_type}),Pr}if(hC(this,Nw,"f")||Une(this,Nw,new Set(this._def.values),"f"),!hC(this,Nw,"f").has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ut(r,{received:r.data,code:Mt.invalid_enum_value,options:n}),Pr}return gl(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return sv.create(e,{...this._def,...r})}exclude(e,r=this._def){return sv.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Nw=new WeakMap;sv.create=Yne;class jY extends Kr{constructor(){super(...arguments),_w.set(this,void 0)}_parse(e){const r=is.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Qt.string&&n.parsedType!==Qt.number){const i=is.objectValues(r);return Ut(n,{expected:is.joinValues(i),received:n.parsedType,code:Mt.invalid_type}),Pr}if(hC(this,_w,"f")||Une(this,_w,new Set(is.getValidEnumValues(this._def.values)),"f"),!hC(this,_w,"f").has(e.data)){const i=is.objectValues(r);return Ut(n,{received:n.data,code:Mt.invalid_enum_value,options:i}),Pr}return gl(e.data)}get enum(){return this._def.values}}_w=new WeakMap;jY.create=(t,e)=>new jY({values:t,typeName:_r.ZodNativeEnum,...Br(e)});class xC extends Kr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Qt.promise&&r.common.async===!1)return Ut(r,{code:Mt.invalid_type,expected:Qt.promise,received:r.parsedType}),Pr;const n=r.parsedType===Qt.promise?r.data:Promise.resolve(r.data);return gl(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}xC.create=(t,e)=>new xC({type:t,typeName:_r.ZodPromise,...Br(e)});class nv extends Kr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_r.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Ut(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Pr;const u=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return u.status==="aborted"?Pr:u.status==="dirty"||r.value==="dirty"?jw(u.value):u});{if(r.value==="aborted")return Pr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Pr:l.status==="dirty"||r.value==="dirty"?jw(l.value):l}}if(i.type==="refinement"){const o=l=>{const u=i.refinement(l,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Pr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Pr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!tv(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>tv(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);is.assertNever(i)}}nv.create=(t,e,r)=>new nv({schema:t,typeName:_r.ZodEffects,effect:e,...Br(r)});nv.createWithPreprocess=(t,e,r)=>new nv({schema:e,effect:{type:"preprocess",transform:t},typeName:_r.ZodEffects,...Br(r)});class Lf extends Kr{_parse(e){return this._getType(e)===Qt.undefined?gl(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lf.create=(t,e)=>new Lf({innerType:t,typeName:_r.ZodOptional,...Br(e)});class iv extends Kr{_parse(e){return this._getType(e)===Qt.null?gl(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}iv.create=(t,e)=>new iv({innerType:t,typeName:_r.ZodNullable,...Br(e)});class RI extends Kr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Qt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}RI.create=(t,e)=>new RI({innerType:t,typeName:_r.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Br(e)});class II extends Kr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return uC(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Uu(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Uu(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}II.create=(t,e)=>new II({innerType:t,typeName:_r.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Br(e)});class NY extends Kr{_parse(e){if(this._getType(e)!==Qt.nan){const n=this._getOrReturnCtx(e);return Ut(n,{code:Mt.invalid_type,expected:Qt.nan,received:n.parsedType}),Pr}return{status:"valid",value:e.data}}}NY.create=t=>new NY({typeName:_r.ZodNaN,...Br(t)});class F6e extends Kr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class iB extends Kr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Pr:a.status==="dirty"?(r.dirty(),jw(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Pr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new iB({in:e,out:r,typeName:_r.ZodPipeline})}}class FI extends Kr{_parse(e){const r=this._def.innerType._parse(e),n=i=>(tv(i)&&(i.value=Object.freeze(i.value)),i);return uC(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}FI.create=(t,e)=>new FI({innerType:t,typeName:_r.ZodReadonly,...Br(e)});var _r;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_r||(_r={}));const es=Su.create,BI=rv.create,bg=LI.create,SN=OI.create;zf.create;const B6e=nd.create,md=Rn.create;mC.create;pC.create;vg.create;const aB=gC.create,cd=sv.create;xC.create;Lf.create;iv.create;const kN=cd(["broker","carrier","shipper"]);cd(["trigger","condition","action","delay"]);const $6e=cd(["load_created","load_status_changed","carrier_assigned","payment_received","pod_uploaded","rate_negotiated","new_load_posted","driver_assigned","pickup_confirmed","delivery_completed","driver_checkin","shipment_ready","inventory_low","warehouse_capacity_alert","order_received","dock_appointment_scheduled"]),z6e=aB(SN()).optional(),H6e=md({label:es().min(1,"Label is required"),description:es().optional(),moduleType:kN,isConfigured:bg(),triggerType:$6e,triggerConfig:z6e}),W6e=cd(["equals","not_equals","contains","not_contains","greater_than","less_than","greater_than_or_equals","less_than_or_equals","is_empty","is_not_empty"]),V6e=md({field:es().min(1,"Field is required"),operator:W6e,value:SN()}),U6e=md({label:es().min(1,"Label is required"),description:es().optional(),moduleType:kN,isConfigured:bg(),conditions:B6e(V6e).min(1,"At least one condition is required"),logicalOperator:cd(["AND","OR"])}),q6e=cd(["send_email","send_sms","send_notification","create_alert","update_status","update_field","assign_resource","create_task","create_follow_up","schedule_appointment","webhook","api_call","export_data"]),X6e=aB(SN()).optional(),Y6e=md({label:es().min(1,"Label is required"),description:es().optional(),moduleType:kN,isConfigured:bg(),actionType:q6e,actionConfig:X6e}),G6e=md({label:es().min(1,"Label is required"),description:es().optional(),moduleType:kN,isConfigured:bg(),delayType:cd(["fixed","until_date","business_hours"]),delayAmount:BI().positive().optional(),delayUnit:cd(["minutes","hours","days"]).optional(),untilDate:es().optional(),businessHoursOnly:bg().optional()});md({name:es().min(1,"Workflow name is required").max(100),description:es().max(500).optional(),moduleType:kN,isActive:bg().default(!1),isDraft:bg().default(!0)});md({to:es().email("Invalid email address"),cc:es().optional(),subject:es().min(1,"Subject is required"),body:es().min(1,"Email body is required"),template:es().optional()});md({to:es().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number"),message:es().min(1,"Message is required").max(160,"Message too long")});md({entity:es().min(1,"Entity is required"),field:es().min(1,"Field is required"),value:SN()});md({url:es().url("Invalid URL"),method:cd(["GET","POST","PUT","PATCH","DELETE"]),headers:aB(es()).optional(),body:SN().optional()});const Z6e=H6e.extend({loadStatusFilter:es().optional(),carrierRatingThreshold:BI().optional(),paymentAmountThreshold:BI().optional()}),K6e=({node:t})=>{const{updateNode:e}=Dg(),r=LIe(t.data.moduleType),{register:n,handleSubmit:i,watch:a,formState:{errors:o}}=lT({resolver:cT(Z6e),defaultValues:{label:t.data.label,description:t.data.description||"",triggerType:t.data.triggerType,moduleType:t.data.moduleType,isConfigured:t.data.isConfigured,...t.data.triggerConfig}}),l=a("triggerType"),u=h=>{const{loadStatusFilter:f,carrierRatingThreshold:g,paymentAmountThreshold:y,...N}=h,_={};l==="load_status_changed"&&f&&(_.statusFilter=f),l==="carrier_assigned"&&g&&(_.ratingThreshold=g),l==="payment_received"&&y&&(_.amountThreshold=y),e(t.id,{...N,triggerConfig:Object.keys(_).length>0?_:void 0,isConfigured:!0}),lt.success("Trigger configuration saved!")};return s.jsxs("form",{onSubmit:i(u),className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Node Label"}),s.jsx("input",{type:"text",...n("label"),className:"form-control",placeholder:"Enter a descriptive label"}),o.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.label.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Description (Optional)"}),s.jsx("textarea",{...n("description"),className:"form-control",rows:3,placeholder:"Describe what this trigger does"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Trigger Type"}),s.jsx("select",{...n("triggerType"),className:"form-select",children:r.map(h=>s.jsx("option",{value:h,children:Mne(h)},h))})]}),l==="load_status_changed"&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Status Filter (Optional)"}),s.jsxs("select",{...n("loadStatusFilter"),className:"form-select",children:[s.jsx("option",{value:"",children:"Any Status"}),s.jsx("option",{value:"booked",children:"Booked"}),s.jsx("option",{value:"assigned",children:"Assigned"}),s.jsx("option",{value:"picked_up",children:"Picked Up"}),s.jsx("option",{value:"in_transit",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Trigger only when load changes to this status"})]}),l==="carrier_assigned"&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Minimum Carrier Rating (Optional)"}),s.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",...n("carrierRatingThreshold",{valueAsNumber:!0}),className:"form-control",placeholder:"e.g., 4.5"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Trigger only for carriers with rating above this threshold"})]}),l==="payment_received"&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Minimum Payment Amount (Optional)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",...n("paymentAmountThreshold",{valueAsNumber:!0}),className:"form-control",placeholder:"e.g., 1000.00"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Trigger only for payments above this amount"})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Save Configuration"})})]})},J6e=[{value:"load.status",label:"Load Status"},{value:"load.rate",label:"Load Rate"},{value:"load.miles",label:"Load Miles"},{value:"carrier.rating",label:"Carrier Rating"},{value:"carrier.insuranceExpiry",label:"Carrier Insurance Expiry"},{value:"driver.hoursOfService",label:"Driver Hours of Service"},{value:"shipment.weight",label:"Shipment Weight"},{value:"shipment.value",label:"Shipment Value"},{value:"payment.status",label:"Payment Status"},{value:"payment.daysOverdue",label:"Payment Days Overdue"}],Q6e=[{value:"equals",label:"Equals"},{value:"not_equals",label:"Not Equals"},{value:"contains",label:"Contains"},{value:"not_contains",label:"Does Not Contain"},{value:"greater_than",label:"Greater Than"},{value:"less_than",label:"Less Than"},{value:"greater_than_or_equals",label:"Greater Than or Equals"},{value:"less_than_or_equals",label:"Less Than or Equals"},{value:"is_empty",label:"Is Empty"},{value:"is_not_empty",label:"Is Not Empty"}],eFe=({node:t})=>{const{updateNode:e}=Dg(),{register:r,control:n,handleSubmit:i,watch:a,formState:{errors:o}}=lT({resolver:cT(U6e),defaultValues:{label:t.data.label,description:t.data.description||"",moduleType:t.data.moduleType,isConfigured:t.data.isConfigured,conditions:t.data.conditions.length>0?t.data.conditions:[{field:"",operator:"equals",value:""}],logicalOperator:t.data.logicalOperator}}),{fields:l,append:u,remove:h}=c6e({control:n,name:"conditions"}),f=a("conditions"),g=N=>{e(t.id,{...N,isConfigured:!0}),lt.success("Condition configuration saved!")},y=(N,_)=>{var C;if(_==="is_empty"||_==="is_not_empty")return null;const k=(C=f[N])==null?void 0:C.field;return k!=null&&k.includes("status")?s.jsxs("select",{...r(`conditions.${N}.value`),className:"form-select",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"booked",children:"Booked"}),s.jsx("option",{value:"assigned",children:"Assigned"}),s.jsx("option",{value:"picked_up",children:"Picked Up"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}):k!=null&&k.includes("rate")||k!=null&&k.includes("miles")||k!=null&&k.includes("weight")?s.jsx("input",{type:"number",...r(`conditions.${N}.value`),className:"form-control",placeholder:"Enter value"}):s.jsx("input",{type:"text",...r(`conditions.${N}.value`),className:"form-control",placeholder:"Enter value"})};return s.jsxs("form",{onSubmit:i(g),className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Node Label"}),s.jsx("input",{type:"text",...r("label"),className:"form-control",placeholder:"Enter a descriptive label"}),o.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.label.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Description (Optional)"}),s.jsx("textarea",{...r("description"),className:"form-control",rows:3,placeholder:"Describe what this condition checks"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Conditions"}),s.jsx("div",{className:"space-y-3",children:l.map((N,_)=>{var k;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("select",{...r(`conditions.${_}.field`),className:"form-select",children:[s.jsx("option",{value:"",children:"Select field..."}),J6e.map(C=>s.jsx("option",{value:C.value,children:C.label},C.value))]}),s.jsx("select",{...r(`conditions.${_}.operator`),className:"form-select",children:Q6e.map(C=>s.jsx("option",{value:C.value,children:C.label},C.value))})]}),y(_,(k=f[_])==null?void 0:k.operator)]}),l.length>1&&s.jsxs("button",{type:"button",onClick:()=>h(_),className:"mt-2 text-red-600 hover:text-red-700 text-sm flex items-center gap-1",children:[s.jsx(dN,{size:14}),"Remove"]})]},N.id)})}),s.jsxs("button",{type:"button",onClick:()=>u({field:"",operator:"equals",value:""}),className:"mt-3 text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[s.jsx(jv,{size:14}),"Add Condition"]})]}),l.length>1&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Logical Operator"}),s.jsxs("select",{...r("logicalOperator"),className:"form-select",children:[s.jsx("option",{value:"AND",children:"All conditions must be true (AND)"}),s.jsx("option",{value:"OR",children:"Any condition must be true (OR)"})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Save Configuration"})})]})},tFe=Y6e.extend({emailTo:es().optional(),emailSubject:es().optional(),emailBody:es().optional(),smsTo:es().optional(),smsMessage:es().optional(),notificationTitle:es().optional(),notificationMessage:es().optional(),notificationType:cd(["info","success","warning","error"]).optional(),updateEntity:es().optional(),updateField:es().optional(),updateValue:es().optional()}),rFe=["send_email","send_sms","send_notification","create_alert","update_status","update_field","create_task","create_follow_up"],sFe=({node:t})=>{const{updateNode:e}=Dg(),{register:r,handleSubmit:n,watch:i,formState:{errors:a}}=lT({resolver:cT(tFe),defaultValues:{label:t.data.label,description:t.data.description||"",actionType:t.data.actionType,moduleType:t.data.moduleType,isConfigured:t.data.isConfigured,...t.data.actionConfig||{}}}),o=i("actionType"),l=h=>{const{emailTo:f,emailSubject:g,emailBody:y,smsTo:N,smsMessage:_,notificationTitle:k,notificationMessage:C,notificationType:O,updateEntity:T,updateField:M,updateValue:B,...F}=h;let V={};switch(o){case"send_email":V={to:f,subject:g,body:y};break;case"send_sms":V={to:N,message:_};break;case"send_notification":case"create_alert":V={title:k,message:C,type:O||"info"};break;case"update_status":case"update_field":V={entity:T,field:M,value:B};break}e(t.id,{...F,actionConfig:Object.keys(V).length>0?V:void 0,isConfigured:!0}),lt.success("Action configuration saved!")},u=()=>{switch(o){case"send_email":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"To Email"}),s.jsx("input",{type:"email",...r("emailTo"),className:"form-control",placeholder:"recipient@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Subject"}),s.jsx("input",{type:"text",...r("emailSubject"),className:"form-control",placeholder:"Email subject"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Body"}),s.jsx("textarea",{...r("emailBody"),className:"form-control",rows:4,placeholder:"Email body content..."})]})]});case"send_sms":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Phone Number"}),s.jsx("input",{type:"tel",...r("smsTo"),className:"form-control",placeholder:"+1234567890"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Message"}),s.jsx("textarea",{...r("smsMessage"),className:"form-control",rows:3,maxLength:160,placeholder:"SMS message (max 160 chars)"})]})]});case"send_notification":case"create_alert":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Title"}),s.jsx("input",{type:"text",...r("notificationTitle"),className:"form-control",placeholder:"Notification title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Message"}),s.jsx("textarea",{...r("notificationMessage"),className:"form-control",rows:3,placeholder:"Notification message"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Type"}),s.jsxs("select",{...r("notificationType"),className:"form-select",children:[s.jsx("option",{value:"info",children:"Info"}),s.jsx("option",{value:"success",children:"Success"}),s.jsx("option",{value:"warning",children:"Warning"}),s.jsx("option",{value:"error",children:"Error"})]})]})]});case"update_status":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Entity"}),s.jsxs("select",{...r("updateEntity"),className:"form-select",children:[s.jsx("option",{value:"",children:"Select entity..."}),s.jsx("option",{value:"load",children:"Load"}),s.jsx("option",{value:"shipment",children:"Shipment"}),s.jsx("option",{value:"carrier",children:"Carrier"}),s.jsx("option",{value:"driver",children:"Driver"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"New Status"}),s.jsxs("select",{...r("updateValue"),className:"form-select",children:[s.jsx("option",{value:"",children:"Select status..."}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]});case"update_field":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Entity"}),s.jsxs("select",{...r("updateEntity"),className:"form-select",children:[s.jsx("option",{value:"",children:"Select entity..."}),s.jsx("option",{value:"load",children:"Load"}),s.jsx("option",{value:"shipment",children:"Shipment"}),s.jsx("option",{value:"carrier",children:"Carrier"}),s.jsx("option",{value:"driver",children:"Driver"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Field"}),s.jsx("input",{type:"text",...r("updateField"),className:"form-control",placeholder:"e.g., priority, notes"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"New Value"}),s.jsx("input",{type:"text",...r("updateValue"),className:"form-control",placeholder:"New value"})]})]});case"create_task":case"create_follow_up":return s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Task Description"}),s.jsx("textarea",{...r("notificationMessage"),className:"form-control",rows:3,placeholder:"Describe the task or follow-up..."})]});default:return s.jsx("div",{className:"text-gray-500 text-sm",children:"Configuration for this action type is coming soon."})}};return s.jsxs("form",{onSubmit:n(l),className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Node Label"}),s.jsx("input",{type:"text",...r("label"),className:"form-control",placeholder:"Enter a descriptive label"}),a.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.label.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Description (Optional)"}),s.jsx("textarea",{...r("description"),className:"form-control",rows:3,placeholder:"Describe what this action does"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Action Type"}),s.jsx("select",{...r("actionType"),className:"form-select",children:rFe.map(h=>s.jsx("option",{value:h,children:Lne(h)},h))})]}),u(),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Save Configuration"})})]})},nFe=({node:t})=>{const{updateNode:e}=Dg(),{register:r,handleSubmit:n,watch:i,formState:{errors:a}}=lT({resolver:cT(G6e),defaultValues:{label:t.data.label,description:t.data.description||"",moduleType:t.data.moduleType,isConfigured:t.data.isConfigured,delayType:t.data.delayType,delayAmount:t.data.delayAmount,delayUnit:t.data.delayUnit,untilDate:t.data.untilDate,businessHoursOnly:t.data.businessHoursOnly}}),o=i("delayType"),l=u=>{e(t.id,{...u,isConfigured:!0}),lt.success("Delay configuration saved!")};return s.jsxs("form",{onSubmit:n(l),className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Node Label"}),s.jsx("input",{type:"text",...r("label"),className:"form-control",placeholder:"Enter a descriptive label"}),a.label&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.label.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Description (Optional)"}),s.jsx("textarea",{...r("description"),className:"form-control",rows:3,placeholder:"Describe what this delay is for"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Delay Type"}),s.jsxs("select",{...r("delayType"),className:"form-select",children:[s.jsx("option",{value:"fixed",children:"Fixed Duration"}),s.jsx("option",{value:"until_date",children:"Until Specific Date/Time"}),s.jsx("option",{value:"business_hours",children:"Business Hours Only"})]})]}),o==="fixed"&&s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Duration"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",...r("delayAmount",{valueAsNumber:!0}),className:"form-control flex-1",min:"1",placeholder:"Amount"}),s.jsxs("select",{...r("delayUnit"),className:"form-select flex-1",children:[s.jsx("option",{value:"minutes",children:"Minutes"}),s.jsx("option",{value:"hours",children:"Hours"}),s.jsx("option",{value:"days",children:"Days"})]})]})]})}),o==="until_date"&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Wait Until"}),s.jsx("input",{type:"datetime-local",...r("untilDate"),className:"form-control"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Workflow will pause until this date/time"})]}),o==="business_hours"&&s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Business Hours Configuration"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label text-sm",children:"Wait Duration"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",...r("delayAmount",{valueAsNumber:!0}),className:"form-control flex-1",min:"1",placeholder:"Amount"}),s.jsxs("select",{...r("delayUnit"),className:"form-select flex-1",children:[s.jsx("option",{value:"hours",children:"Hours"}),s.jsx("option",{value:"days",children:"Days"})]})]})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Time will only count during business hours (9 AM - 5 PM, Mon-Fri)"})]})]}),(o==="fixed"||o==="business_hours")&&s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",...r("businessHoursOnly"),className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm",children:"Count business hours only"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When checked, weekends and non-business hours won't count"})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Save Configuration"})})]})},iFe=({nodeId:t})=>{const{nodes:e,selectNode:r}=Dg(),n=e.find(o=>o.id===t);if(!n)return null;const i=()=>{switch(n.type){case"trigger":return s.jsx(K6e,{node:n});case"condition":return s.jsx(eFe,{node:n});case"action":return s.jsx(sFe,{node:n});case"delay":return s.jsx(nFe,{node:n});default:return s.jsx("div",{children:"Unknown node type"})}},a=()=>n.type?n.type.charAt(0).toUpperCase()+n.type.slice(1):"";return s.jsxs("div",{className:"absolute right-0 top-0 h-full w-96 bg-white shadow-xl border-l border-gray-200 z-20 overflow-hidden flex flex-col",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Configure ",a()]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n.data.label})]}),s.jsx("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(wQ,{size:20})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:i()})]})},aFe=({moduleType:t,onSave:e,onTest:r,onClear:n})=>{const i=Bn(),a=()=>{switch(t){case"broker":return"bg-blue-600";case"carrier":return"bg-green-600";case"shipper":return"bg-purple-600";default:return"bg-gray-600"}},o=()=>t.charAt(0).toUpperCase()+t.slice(1);return s.jsx("div",{className:`${a()} text-white px-6 py-4 shadow-lg`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>i(-1),className:"text-white/80 hover:text-white transition-colors",children:s.jsx(qSe,{size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Workflow Builder"}),s.jsxs("p",{className:"text-sm text-white/80",children:[o()," Module"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:r,className:"btn bg-white/20 hover:bg-white/30 text-white border-white/30 flex items-center gap-2",children:[s.jsx(gQ,{size:18}),"Test Flow"]}),s.jsxs("button",{onClick:e,className:"btn bg-white text-gray-800 hover:bg-gray-100 flex items-center gap-2",children:[s.jsx(xQ,{size:18}),"Save Workflow"]}),s.jsx("div",{className:"w-px h-8 bg-white/30 mx-2"}),s.jsx("button",{onClick:n,className:"text-white/80 hover:text-white transition-colors",children:s.jsx(dN,{size:20})})]})]})})},oFe={trigger:DIe,condition:RIe,action:IIe,delay:FIe},lFe=({moduleType:t,templateId:e,workflowId:r,onSave:n,onTest:i,onSaveSuccess:a})=>{nT();const[o,l]=Y.useState(!1),{nodes:u,edges:h,selectedNodeId:f,isPanelOpen:g,setNodes:y,setEdges:N,onConnect:_,selectNode:k,deleteNode:C,saveWorkflow:O,clearWorkflow:T,setModuleType:M}=Dg();Oe.useEffect(()=>{M(t)},[t,M]);const B=Y.useCallback(he=>{const fe=rne(he,u);y(fe)},[u,y]),F=Y.useCallback(he=>{const fe=sne(he,h);N(fe)},[h,N]),V=Y.useCallback((he,fe)=>{k(fe.id)},[k]),H=Y.useCallback(()=>{k(null)},[k]),Z=()=>{const he=KX(u);if(!he.isValid){lt.error(he.errors.join(", "));return}const fe=prompt("Enter workflow name:");if(!fe)return;const ee=O(fe);n&&n(ee),lt.success("Workflow saved successfully!"),a&&a()},re=()=>{const he=KX(u);if(!he.isValid){lt.error(he.errors.join(", "));return}i&&i({nodes:u,edges:h}),lt.success("Workflow test started!")},le=()=>{u.length!==0&&confirm("Are you sure you want to clear the workflow?")&&(T(),lt.success("Workflow cleared"))},ce=()=>{f&&(C(f),lt.success("Node deleted"))};return s.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[s.jsx(aFe,{moduleType:t,onSave:Z,onTest:re,onClear:le}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsxs(J4e,{nodes:u,edges:h,onNodesChange:B,onEdgesChange:F,onConnect:_,onNodeClick:V,onPaneClick:H,nodeTypes:oFe,fitView:!0,className:"bg-gray-100",children:[s.jsx(sIe,{color:"#e5e7eb",gap:16}),s.jsx(dIe,{}),s.jsx(NIe,{nodeColor:he=>{switch(he.type){case"trigger":return"#10b981";case"condition":return"#f59e0b";case"action":return"#3b82f6";case"delay":return"#8b5cf6";default:return"#6b7280"}},className:"bg-white border border-gray-300"}),s.jsx(ev,{position:"top-left",children:s.jsxs("button",{onClick:()=>l(!o),className:"btn btn-primary flex items-center gap-2",children:[s.jsx(jv,{size:20}),"Add Node"]})}),s.jsx(ev,{position:"top-right",children:s.jsx("div",{className:"flex gap-2",children:f&&s.jsxs("button",{onClick:ce,className:"btn btn-danger flex items-center gap-2",children:[s.jsx(dN,{size:20}),"Delete"]})})})]}),o&&s.jsx($Ie,{onClose:()=>l(!1),moduleType:t}),g&&f&&s.jsx(iFe,{nodeId:f})]})]})},cFe=t=>s.jsx(Cne,{children:s.jsx(lFe,{...t})}),oB=({moduleType:t})=>{const e=Bn(),[r]=Moe(),n=r.get("template"),i=r.get("id"),a=()=>{e(`/${t==="carrier"?"":t+"/"}workflows`)},o=()=>{a()};return s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("div",{className:"bg-blue-600 text-white p-4",children:s.jsx("div",{className:"container mx-auto flex items-center",children:s.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-white hover:text-gray-200 transition-colors",children:[s.jsx(SSe,{size:20}),s.jsx("span",{children:"Back to Workflows"})]})})}),s.jsx(cFe,{moduleType:t,templateId:n,workflowId:i,onSaveSuccess:o})]})},dFe=()=>s.jsx(oB,{moduleType:"broker"}),uFe=[{id:"broker_pod_reminder",name:"POD Upload Reminder",description:"Automatically remind carriers to upload POD after delivery",moduleType:"broker",category:"Document Management",nodes:[{id:"trigger_1",type:"trigger",position:{x:250,y:50},data:{label:"Load Delivered",triggerType:"load_status_changed",triggerConfig:{statusFilter:"delivered"},moduleType:"broker",isConfigured:!0}},{id:"delay_1",type:"delay",position:{x:250,y:150},data:{label:"Wait 24 Hours",delayType:"fixed",delayAmount:24,delayUnit:"hours",businessHoursOnly:!0,moduleType:"broker",isConfigured:!0}},{id:"condition_1",type:"condition",position:{x:250,y:250},data:{label:"Check POD Status",conditions:[{field:"load.podUploaded",operator:"equals",value:!1}],logicalOperator:"AND",moduleType:"broker",isConfigured:!0}},{id:"action_1",type:"action",position:{x:150,y:350},data:{label:"Send Email Reminder",actionType:"send_email",actionConfig:{to:"{{carrier.email}}",subject:"POD Upload Reminder - Load #{{load.number}}",body:"Please upload the POD for load #{{load.number}} delivered to {{load.destination}}."},moduleType:"broker",isConfigured:!0}},{id:"action_2",type:"action",position:{x:350,y:350},data:{label:"Create Follow-up Task",actionType:"create_task",actionConfig:{title:"Follow up on POD - Load #{{load.number}}",assignTo:"{{broker.id}}",priority:"high"},moduleType:"broker",isConfigured:!0}}],edges:[{id:"edge_trigger_1_delay_1",source:"trigger_1",target:"delay_1",type:"smoothstep",animated:!0},{id:"edge_delay_1_condition_1",source:"delay_1",target:"condition_1",type:"smoothstep",animated:!0},{id:"edge_condition_1_action_1",source:"condition_1",sourceHandle:"true",target:"action_1",type:"smoothstep",animated:!0},{id:"edge_condition_1_action_2",source:"condition_1",sourceHandle:"true",target:"action_2",type:"smoothstep",animated:!0}]},{id:"broker_rate_negotiation",name:"Rate Negotiation Alert",description:"Alert when carrier rate exceeds budget threshold",moduleType:"broker",category:"Rate Management",nodes:[{id:"trigger_1",type:"trigger",position:{x:250,y:50},data:{label:"Rate Negotiated",triggerType:"rate_negotiated",moduleType:"broker",isConfigured:!0}},{id:"condition_1",type:"condition",position:{x:250,y:150},data:{label:"Check Rate Threshold",conditions:[{field:"load.rate",operator:"greater_than",value:"{{load.budgetRate * 1.1}}"}],logicalOperator:"AND",moduleType:"broker",isConfigured:!0}},{id:"action_1",type:"action",position:{x:250,y:250},data:{label:"Alert Supervisor",actionType:"send_notification",actionConfig:{title:"Rate Exceeds Budget",message:"Load #{{load.number}} rate of ${{load.rate}} exceeds budget by {{(load.rate - load.budgetRate) / load.budgetRate * 100}}%",type:"warning"},moduleType:"broker",isConfigured:!0}}],edges:[{id:"edge_trigger_1_condition_1",source:"trigger_1",target:"condition_1",type:"smoothstep",animated:!0},{id:"edge_condition_1_action_1",source:"condition_1",sourceHandle:"true",target:"action_1",type:"smoothstep",animated:!0}]},{id:"broker_carrier_onboarding",name:"Carrier Onboarding",description:"Automate new carrier onboarding process",moduleType:"broker",category:"Carrier Management",nodes:[{id:"trigger_1",type:"trigger",position:{x:250,y:50},data:{label:"Carrier Created",triggerType:"carrier_assigned",moduleType:"broker",isConfigured:!0}},{id:"action_1",type:"action",position:{x:250,y:150},data:{label:"Send Welcome Email",actionType:"send_email",actionConfig:{to:"{{carrier.email}}",subject:"Welcome to Our Network!",body:"Welcome {{carrier.name}}! Please complete your profile and upload required documents."},moduleType:"broker",isConfigured:!0}},{id:"action_2",type:"action",position:{x:250,y:250},data:{label:"Create Onboarding Tasks",actionType:"create_task",actionConfig:{title:"Complete carrier onboarding for {{carrier.name}}",tasks:["Verify insurance","Check MC authority","Set up payment terms"]},moduleType:"broker",isConfigured:!0}}],edges:[{id:"edge_trigger_1_action_1",source:"trigger_1",target:"action_1",type:"smoothstep",animated:!0},{id:"edge_action_1_action_2",source:"action_1",target:"action_2",type:"smoothstep",animated:!0}]}],hFe=[{id:"carrier_driver_assignment",name:"Driver Assignment Notification",description:"Notify driver when assigned to a new load",moduleType:"carrier",category:"Driver Management",nodes:[{id:"trigger_1",type:"trigger",position:{x:250,y:50},data:{label:"Driver Assigned",triggerType:"driver_assigned",moduleType:"carrier",isConfigured:!0}},{id:"action_1",type:"action",position:{x:150,y:150},data:{label:"Send SMS to Driver",actionType:"send_sms",actionConfig:{to:"{{driver.phone}}",message:"New load assigned: {{load.origin}} to {{load.destination}}. Pickup: {{load.pickupDate}}"},moduleType:"carrier",isConfigured:!0}},{id:"action_2",type:"action",position:{x:350,y:150},data:{label:"Update Load Status",actionType:"update_status",actionConfig:{entity:"load",value:"assigned"},moduleType:"carrier",isConfigured:!0}},{id:"action_3",type:"action",position:{x:250,y:250},data:{label:"Create Dispatch Notes",actionType:"create_task",actionConfig:{title:"Dispatch load #{{load.number}} to {{driver.name}}",assignTo:"dispatcher"},moduleType:"carrier",isConfigured:!0}}],edges:[{id:"edge_trigger_1_action_1",source:"trigger_1",target:"action_1",type:"smoothstep",animated:!0},{id:"edge_trigger_1_action_2",source:"trigger_1",target:"action_2",type:"smoothstep",animated:!0},{id:"edge_action_1_action_3",source:"action_1",target:"action_3",type:"smoothstep",animated:!0}]},{id:"carrier_delivery_confirmation",name:"Delivery Confirmation Flow",description:"Automate delivery confirmation and invoicing",moduleType:"carrier",category:"Operations",nodes:[{id:"trigger_1",type:"trigger",position:{x:250,y:50},data:{label:"Delivery Completed",triggerType:"delivery_completed",moduleType:"carrier",isConfigured:!0}},{id:"action_1",type:"action",position:{x:250,y:150},data:{label:"Notify Broker",actionType:"send_email",actionConfig:{to:"{{broker.email}}",subject:"Delivery Confirmation - Load #{{load.number}}",body:"Load #{{load.number}} has been successfully delivered to {{load.destination}}."},moduleType:"carrier",isConfigured:!0}},{id:"delay_1",type:"delay",position:{x:250,y:250},data:{label:"Wait 1 Hour",delayType:"fixed",delayAmount:1,delayUnit:"hours",moduleType:"carrier",isConfigured:!0}},{id:"action_2",type:"action",position:{x:250,y:350},data:{label:"Generate Invoice",actionType:"create_task",actionConfig:{title:"Generate invoice for load #{{load.number}}",assignTo:"billing",priority:"high"},moduleType:"carrier",isConfigured:!0}}],edges:[{id:"edge_trigger_1_action_1",source:"trigger_1",target:"action_1",type:"smoothstep",animated:!0},{id:"edge_action_1_delay_1",source:"action_1",target:"delay_1",type:"smoothstep",animated:!0},{id:"edge_delay_1_action_2",source:"delay_1",target:"action_2",type:"smoothstep",animated:!0}]},{id:"carrier_hos_alert",name:"Hours of Service Alert",description:"Alert when driver is approaching HOS limits",moduleType:"carrier",category:"Compliance",nodes:[{id:"trigger_1",type:"trigger",position:{x:250,y:50},data:{label:"Driver Check-in",triggerType:"driver_checkin",moduleType:"carrier",isConfigured:!0}},{id:"condition_1",type:"condition",position:{x:250,y:150},data:{label:"Check HOS Remaining",conditions:[{field:"driver.hoursOfService",operator:"less_than",value:2}],logicalOperator:"AND",moduleType:"carrier",isConfigured:!0}},{id:"action_1",type:"action",position:{x:150,y:250},data:{label:"Alert Driver",actionType:"send_notification",actionConfig:{title:"HOS Warning",message:"You have less than 2 hours remaining. Plan your rest break.",type:"warning"},moduleType:"carrier",isConfigured:!0}},{id:"action_2",type:"action",position:{x:350,y:250},data:{label:"Notify Dispatcher",actionType:"create_alert",actionConfig:{title:"Driver {{driver.name}} approaching HOS limit",message:"Driver has {{driver.hoursOfService}} hours remaining",type:"warning"},moduleType:"carrier",isConfigured:!0}}],edges:[{id:"edge_trigger_1_condition_1",source:"trigger_1",target:"condition_1",type:"smoothstep",animated:!0},{id:"edge_condition_1_action_1",source:"condition_1",sourceHandle:"true",target:"action_1",type:"smoothstep",animated:!0},{id:"edge_condition_1_action_2",source:"condition_1",sourceHandle:"true",target:"action_2",type:"smoothstep",animated:!0}]}],fFe=[{id:"shipper_inventory_alert",name:"Low Inventory Alert",description:"Alert when inventory falls below threshold",moduleType:"shipper",category:"Inventory Management",nodes:[{id:"trigger_1",type:"trigger",position:{x:250,y:50},data:{label:"Inventory Check",triggerType:"inventory_low",moduleType:"shipper",isConfigured:!0}},{id:"condition_1",type:"condition",position:{x:250,y:150},data:{label:"Check Critical Level",conditions:[{field:"inventory.percentage",operator:"less_than",value:20}],logicalOperator:"AND",moduleType:"shipper",isConfigured:!0}},{id:"action_1",type:"action",position:{x:150,y:250},data:{label:"Alert Warehouse Manager",actionType:"send_email",actionConfig:{to:"{{warehouse.manager.email}}",subject:"Critical Inventory Alert - {{inventory.product}}",body:"Inventory for {{inventory.product}} is at {{inventory.percentage}}%. Immediate reorder required."},moduleType:"shipper",isConfigured:!0}},{id:"action_2",type:"action",position:{x:350,y:250},data:{label:"Create Reorder Task",actionType:"create_task",actionConfig:{title:"Reorder {{inventory.product}} - Critical Low",assignTo:"procurement",priority:"urgent"},moduleType:"shipper",isConfigured:!0}}],edges:[{id:"edge_trigger_1_condition_1",source:"trigger_1",target:"condition_1",type:"smoothstep",animated:!0},{id:"edge_condition_1_action_1",source:"condition_1",sourceHandle:"true",target:"action_1",type:"smoothstep",animated:!0},{id:"edge_condition_1_action_2",source:"condition_1",sourceHandle:"true",target:"action_2",type:"smoothstep",animated:!0}]},{id:"shipper_shipment_ready",name:"Shipment Ready Notification",description:"Notify carriers when shipment is ready for pickup",moduleType:"shipper",category:"Shipping Operations",nodes:[{id:"trigger_1",type:"trigger",position:{x:250,y:50},data:{label:"Shipment Ready",triggerType:"shipment_ready",moduleType:"shipper",isConfigured:!0}},{id:"action_1",type:"action",position:{x:250,y:150},data:{label:"Notify Assigned Carrier",actionType:"send_email",actionConfig:{to:"{{carrier.dispatcher.email}}",subject:"Shipment Ready for Pickup - #{{shipment.number}}",body:"Shipment #{{shipment.number}} is ready for pickup at {{warehouse.address}}. Dock door: {{shipment.dockDoor}}"},moduleType:"shipper",isConfigured:!0}},{id:"action_2",type:"action",position:{x:250,y:250},data:{label:"Update Shipment Status",actionType:"update_status",actionConfig:{entity:"shipment",value:"ready_for_pickup"},moduleType:"shipper",isConfigured:!0}},{id:"delay_1",type:"delay",position:{x:250,y:350},data:{label:"Wait 2 Hours",delayType:"fixed",delayAmount:2,delayUnit:"hours",moduleType:"shipper",isConfigured:!0}},{id:"condition_1",type:"condition",position:{x:250,y:450},data:{label:"Check Pickup Status",conditions:[{field:"shipment.status",operator:"not_equals",value:"picked_up"}],logicalOperator:"AND",moduleType:"shipper",isConfigured:!0}},{id:"action_3",type:"action",position:{x:250,y:550},data:{label:"Send Reminder",actionType:"send_sms",actionConfig:{to:"{{carrier.driver.phone}}",message:"Reminder: Shipment #{{shipment.number}} awaiting pickup at dock {{shipment.dockDoor}}"},moduleType:"shipper",isConfigured:!0}}],edges:[{id:"edge_trigger_1_action_1",source:"trigger_1",target:"action_1",type:"smoothstep",animated:!0},{id:"edge_action_1_action_2",source:"action_1",target:"action_2",type:"smoothstep",animated:!0},{id:"edge_action_2_delay_1",source:"action_2",target:"delay_1",type:"smoothstep",animated:!0},{id:"edge_delay_1_condition_1",source:"delay_1",target:"condition_1",type:"smoothstep",animated:!0},{id:"edge_condition_1_action_3",source:"condition_1",sourceHandle:"true",target:"action_3",type:"smoothstep",animated:!0}]},{id:"shipper_dock_appointment",name:"Dock Appointment Management",description:"Manage dock appointments and notifications",moduleType:"shipper",category:"Warehouse Operations",nodes:[{id:"trigger_1",type:"trigger",position:{x:250,y:50},data:{label:"Appointment Scheduled",triggerType:"dock_appointment_scheduled",moduleType:"shipper",isConfigured:!0}},{id:"action_1",type:"action",position:{x:250,y:150},data:{label:"Confirm Appointment",actionType:"send_email",actionConfig:{to:"{{carrier.email}}",subject:"Dock Appointment Confirmed",body:"Your dock appointment for {{appointment.date}} at {{appointment.time}} has been confirmed. Dock door: {{appointment.dockDoor}}"},moduleType:"shipper",isConfigured:!0}},{id:"delay_1",type:"delay",position:{x:250,y:250},data:{label:"Wait Until Day Before",delayType:"until_date",untilDate:"{{appointment.date - 1 day}}",moduleType:"shipper",isConfigured:!0}},{id:"action_2",type:"action",position:{x:250,y:350},data:{label:"Send Reminder",actionType:"send_notification",actionConfig:{title:"Appointment Reminder",message:"Dock appointment tomorrow at {{appointment.time}} for {{carrier.name}}",type:"info"},moduleType:"shipper",isConfigured:!0}}],edges:[{id:"edge_trigger_1_action_1",source:"trigger_1",target:"action_1",type:"smoothstep",animated:!0},{id:"edge_action_1_delay_1",source:"action_1",target:"delay_1",type:"smoothstep",animated:!0},{id:"edge_delay_1_action_2",source:"delay_1",target:"action_2",type:"smoothstep",animated:!0}]}],mFe=t=>{switch(t){case"broker":return uFe;case"carrier":return hFe;case"shipper":return fFe;default:return[]}},lB=({moduleType:t})=>{const e=Bn(),[r,n]=Y.useState(()=>{const g=[];for(let y=0;y<localStorage.length;y++){const N=localStorage.key(y);if(N!=null&&N.startsWith("workflow_"))try{const _=JSON.parse(localStorage.getItem(N)||"");_.moduleType===t&&g.push(_)}catch(_){console.error("Failed to parse workflow:",_)}}return g}),i=mFe(t),a=()=>{e(`/${t}/workflows/builder`)},o=g=>{e(`/${t}/workflows/builder?template=${g}`)},l=g=>{e(`/${t}/workflows/builder?id=${g}`)},u=g=>{const y={...g,isActive:!g.isActive};localStorage.setItem(`workflow_${g.id}`,JSON.stringify(y)),n(N=>N.map(_=>_.id===g.id?y:_)),lt.success(`Workflow ${y.isActive?"activated":"deactivated"}`)},h=g=>{confirm("Are you sure you want to delete this workflow?")&&(localStorage.removeItem(`workflow_${g}`),n(y=>y.filter(N=>N.id!==g)),lt.success("Workflow deleted"))},f=g=>{const y={...g,id:`workflow_${Date.now()}`,name:`${g.name} (Copy)`,isActive:!1,isDraft:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};localStorage.setItem(`workflow_${y.id}`,JSON.stringify(y)),n(N=>[...N,y]),lt.success("Workflow duplicated")};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Workflow Automation"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage automated workflows for your operations"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("button",{onClick:a,className:"btn btn-primary flex items-center gap-2",children:[s.jsx(jv,{size:20}),"Create New Workflow"]})}),r.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"My Workflows"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(g=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:g.name}),s.jsx("button",{onClick:()=>u(g),className:`p-1 rounded ${g.isActive?"text-green-600":"text-gray-400"}`,children:g.isActive?s.jsx(gQ,{size:16}):s.jsx(cke,{size:16})})]}),g.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.isActive?"Active":"Inactive"}),g.isDraft&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:"Draft"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>l(g.id),className:"p-1 text-gray-600 hover:text-blue-600",title:"Edit",children:s.jsx(bQ,{size:16})}),s.jsx("button",{onClick:()=>f(g),className:"p-1 text-gray-600 hover:text-blue-600",title:"Duplicate",children:s.jsx(HSe,{size:16})}),s.jsx("button",{onClick:()=>h(g.id),className:"p-1 text-gray-600 hover:text-red-600",title:"Delete",children:s.jsx(dN,{size:16})})]})]})]},g.id))})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Workflow Templates"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(g=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>o(g.id),children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:g.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:g.category}),s.jsxs("span",{className:"text-xs text-gray-500",children:[g.nodes.length," nodes"]})]})]},g.id))})]})]})},pFe=()=>s.jsx(lB,{moduleType:"broker"}),yi=({children:t})=>{const{user:e,isAuthenticated:r}=_g();return r?(e==null?void 0:e.role)!==ln.BROKER&&(e==null?void 0:e.role)!==ln.ADMIN?s.jsx(Of,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:t}):s.jsx(Of,{to:"/login",replace:!0})},gFe=[{path:"broker",element:s.jsx(yi,{children:s.jsx(VU,{})}),children:[]},{path:"broker/dashboard",element:s.jsx(yi,{children:s.jsx(VU,{})})},{path:"broker/create-load",element:s.jsx(yi,{children:s.jsx(FEe,{})})},{path:"broker/loads",element:s.jsx(yi,{children:s.jsx(HEe,{})})},{path:"broker/carrier-match",element:s.jsx(yi,{children:s.jsx(WEe,{})})},{path:"broker/smart-load-match",element:s.jsx(yi,{children:s.jsx(s5e,{})})},{path:"broker/contracts",element:s.jsx(yi,{children:s.jsx(VEe,{})})},{path:"broker/payments",element:s.jsx(yi,{children:s.jsx(UEe,{})})},{path:"broker/documents",element:s.jsx(yi,{children:s.jsx(kLe,{})})},{path:"broker/reports",element:s.jsx(yi,{children:s.jsx(ALe,{})})},{path:"broker/customers",element:s.jsx(yi,{children:s.jsx(TLe,{})})},{path:"broker/carriers",element:s.jsx(yi,{children:s.jsx(LLe,{})})},{path:"broker/tracking",element:s.jsx(yi,{children:s.jsx(ZLe,{})})},{path:"broker/supervisor",element:s.jsx(yi,{children:s.jsx(KLe,{})})},{path:"broker/commissions",element:s.jsx(yi,{children:s.jsx(JLe,{})})},{path:"broker/workflows",element:s.jsx(yi,{children:s.jsx(pFe,{})})},{path:"broker/workflows/builder",element:s.jsx(yi,{children:s.jsx(dFe,{})})}],_m=[{id:"LD001",origin:"New York, NY",destination:"Chicago, IL",rate:2500,equipmentType:"Dry Van",pickupDate:"2025-05-20",deliveryDate:"2025-05-22",broker:"CH Robinson",contact:"John Doe (555-1234)"}],_Y=[{id:"D001",name:"John Smith",truck:"Truck 01",status:"Available",location:"New York, NY",hours:"8/14",nextAvailable:"Now"}],xFe=[{id:"DOC001",name:"Rate Confirmation - LD001",type:"rate_confirmation",uploadDate:"2025-05-20",size:"1.2 MB",status:"active"}],yFe=[{id:"INV001",loadId:"LD001",amount:2500,status:"pending",dueDate:"2025-06-20"}],ra=(t,e=500)=>new Promise(r=>{setTimeout(()=>r(t),e)}),vFe={getDashboardData:LO.getDashboardData,getLoads:()=>ra(_m),searchLoads:t=>ra(_m),getLoadDetails:t=>ra(_m[0]),getAllLoads:()=>ra(_m),getDispatchData:()=>ra({loads:_m,drivers:_Y}),assignDriver:(t,e)=>ra({success:!0}),getDrivers:()=>ra(_Y),getDriverPerformance:LO.getDriverPerformance,getDocuments:()=>ra(xFe),uploadDocument:t=>ra({success:!0,document:t}),getTrackingData:()=>ra({shipments:_m}),getShipmentDetails:t=>ra(_m[0]),getInvoices:()=>ra(yFe),generateInvoice:t=>ra({success:!0,invoiceId:"INV-"+Math.random()}),getReports:()=>ra([]),generateReport:t=>ra({success:!0,reportId:"REP-"+Math.random()})},cB="b4b18010157af6350c104c59523e8307",$I=[{name:"Pittsburgh, PA",lat:40.4406,lon:-79.9959},{name:"Atlanta, GA",lat:33.749,lon:-84.388},{name:"Chicago, IL",lat:41.8781,lon:-87.6298},{name:"Dallas, TX",lat:32.7767,lon:-96.797},{name:"Los Angeles, CA",lat:34.0522,lon:-118.2437},{name:"Miami, FL",lat:25.7617,lon:-80.1918},{name:"New York, NY",lat:40.7128,lon:-74.006},{name:"Seattle, WA",lat:47.6062,lon:-122.3321},{name:"Houston, TX",lat:29.7604,lon:-95.3698},{name:"Phoenix, AZ",lat:33.4484,lon:-112.074},{name:"Denver, CO",lat:39.7392,lon:-104.9903}],bFe=(t,e,r)=>t>=200&&t<300||t>=600&&t<700||t>=900&&t<910?"High":t>=300&&t<600||t>=700&&t<800?"Medium":r>20?"High":r>10||e>95||e<32?"Medium":"Low",wFe=(t,e,r,n)=>t>=200&&t<300?`Thunderstorms: ${e}. Potential for road hazards and delays.`:t>=300&&t<600?`Rain: ${e}. Reduced visibility and slippery roads.`:t>=600&&t<700?`Snow: ${e}. Icy conditions and potential road closures.`:t>=700&&t<800?`${e}. Reduced visibility expected.`:n>20?`High winds (${Math.round(n)} mph). Caution advised for high-profile vehicles.`:r>95?`Extreme heat (${Math.round(r)}F). Check refrigerated cargo frequently.`:r<32?`Freezing temperatures (${Math.round(r)}F). Watch for icy roads.`:`${e}. No significant impact on transportation.`,jFe=t=>{switch(t){case"High":return Math.floor(Math.random()*5)+8;case"Medium":return Math.floor(Math.random()*5)+3;case"Low":return Math.floor(Math.random()*3);default:return 0}},NFe=async()=>{try{if(Math.random()>.8)return SY();const e=[],r=$I.map(i=>Us.get(`https://api.openweathermap.org/data/2.5/weather?lat=${i.lat}&lon=${i.lon}&appid=${cB}&units=imperial`));return(await Promise.all(r)).forEach((i,a)=>{const o=i.data,l=$I[a].name,u=o.weather[0].id,h=o.weather[0].description,f=o.main.temp,g=o.wind.speed,y=bFe(u,f,g);if(y!=="Low"){const N={region:l,alert:wFe(u,h,f,g),impact:y,affectedLoads:jFe(y),id:"",severity:"info",title:"",description:""};e.push(N)}}),e}catch{return SY()}},SY=()=>[{region:"Chicago, IL",alert:"Heavy snow. Icy conditions and potential road closures.",impact:"High",affectedLoads:9,id:"",severity:"info",title:"",description:""},{region:"Dallas, TX",alert:"Thunderstorms with heavy rain. Potential for road hazards and delays.",impact:"Medium",affectedLoads:5,id:"",severity:"info",title:"",description:""},{region:"Miami, FL",alert:"High winds (22 mph). Caution advised for high-profile vehicles.",impact:"Medium",affectedLoads:4,id:"",severity:"info",title:"",description:""}],_Fe=async(t,e,r="imperial")=>{try{return(await Us.get(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=${cB}&units=${r}`)).data}catch{return null}},SFe=async t=>{try{const e=await Us.get(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=${cB}&units=imperial`);return{name:e.data.name+(e.data.sys.country?`, ${e.data.sys.country}`:""),lat:e.data.coord.lat,lon:e.data.coord.lon,data:e.data}}catch{return null}},Gne=({lat:t,lon:e,location:r,className:n=""})=>{const[i,a]=Y.useState(null),[o,l]=Y.useState(!0),[u,h]=Y.useState(null),[f,g]=Y.useState(t),[y,N]=Y.useState(e),[_,k]=Y.useState(r),[C,O]=Y.useState("imperial"),[T,M]=Y.useState(""),[B,F]=Y.useState(!1),[V,H]=Y.useState(!1),Z=Y.useRef(null);Y.useEffect(()=>{function fe(ee){Z.current&&!Z.current.contains(ee.target)&&H(!1)}return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[]),Y.useEffect(()=>{(async()=>{try{l(!0);const ee=await _Fe(f,y,C);ee?(a({temp:Math.round(ee.main.temp),feelsLike:Math.round(ee.main.feels_like),description:ee.weather[0].description,icon:ee.weather[0].icon,windSpeed:Math.round(ee.wind.speed),humidity:ee.main.humidity,pressure:ee.main.pressure}),h(null)):h("Unable to fetch weather data")}catch(ee){h("Error fetching weather data"),console.error(ee)}finally{l(!1)}})()},[f,y,C]);const re=fe=>{g(fe.lat),N(fe.lon),k(fe.name),H(!1),M("")},le=async()=>{if(T.trim()){F(!0);try{const fe=await SFe(T);fe?re(fe):h("City not found")}catch(fe){h("Error searching for city"),console.error(fe)}finally{F(!1)}}},ce=fe=>({"01d":"fa-sun","01n":"fa-moon","02d":"fa-cloud-sun","02n":"fa-cloud-moon","03d":"fa-cloud","03n":"fa-cloud","04d":"fa-cloud","04n":"fa-cloud","09d":"fa-cloud-showers-heavy","09n":"fa-cloud-showers-heavy","10d":"fa-cloud-rain","10n":"fa-cloud-rain","11d":"fa-bolt","11n":"fa-bolt","13d":"fa-snowflake","13n":"fa-snowflake","50d":"fa-smog","50n":"fa-smog"})[fe]||"fa-cloud",he=fe=>fe>=90?"text-red-600":fe>=80?"text-orange-500":fe>=70?"text-yellow-500":fe>=60?"text-green-500":fe>=40?"text-blue-400":"text-blue-600";return o?s.jsx("div",{className:`bg-white rounded-lg shadow-sm p-4 ${n}`,children:s.jsx("div",{className:"flex justify-center items-center h-24",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})})}):u||!i?s.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-4 ${n}`,children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:_})}),s.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Weather data unavailable"})]}):s.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-4 ${n}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"relative",ref:Z,children:[s.jsxs("button",{onClick:()=>H(!V),className:"flex items-center text-lg font-medium text-gray-900 hover:text-blue-600 transition-colors",children:[_," ",s.jsx("i",{className:"fas fa-chevron-down ml-1 text-xs"})]}),V&&s.jsx("div",{className:"absolute z-10 mt-1 w-64 bg-white rounded-md shadow-lg py-1 max-h-60 overflow-y-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("input",{type:"text",value:T,onChange:fe=>M(fe.target.value),placeholder:"Search city...",className:"flex-grow px-2 py-1 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-blue-500"}),s.jsx("button",{onClick:le,disabled:B||!T.trim(),className:"px-2 py-1 bg-blue-600 text-white rounded-r-md hover:bg-blue-700 disabled:bg-blue-300",children:B?s.jsx("i",{className:"fas fa-spinner fa-spin"}):s.jsx("i",{className:"fas fa-search"})})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Select a city:"}),$I.map((fe,ee)=>s.jsx("button",{onClick:()=>re(fe),className:"block w-full text-left px-2 py-1 text-sm hover:bg-gray-100 rounded",children:fe.name},ee))]})]})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>O(C==="imperial"?"metric":"imperial"),className:`text-xs px-2 py-1 rounded-full ${C==="imperial"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"} mr-2`,children:"F"}),s.jsx("button",{onClick:()=>O(C==="metric"?"imperial":"metric"),className:`text-xs px-2 py-1 rounded-full ${C==="metric"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:"C"})]})]}),s.jsxs("div",{className:"mt-2 flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 mr-4",children:s.jsx("i",{className:`fas ${ce(i.icon)} text-4xl ${he(i.temp)}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline",children:[s.jsxs("span",{className:`text-3xl font-bold ${he(i.temp)}`,children:[i.temp,"",C==="imperial"?"F":"C"]}),s.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["Feels like ",i.feelsLike,"",C==="imperial"?"F":"C"]})]}),s.jsx("div",{className:"text-sm text-gray-600 capitalize",children:i.description})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 text-xs text-gray-500",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-wind mr-1"}),s.jsx("span",{children:"Wind"})]}),s.jsxs("div",{className:"font-medium text-gray-700",children:[i.windSpeed," ",C==="imperial"?"mph":"m/s"]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-tint mr-1"}),s.jsx("span",{children:"Humidity"})]}),s.jsxs("div",{className:"font-medium text-gray-700",children:[i.humidity,"%"]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-compress-alt mr-1"}),s.jsx("span",{children:"Pressure"})]}),s.jsxs("div",{className:"font-medium text-gray-700",children:[i.pressure," hPa"]})]})]})]})};var h_={},f_={exports:{}};/*!
 * ApexCharts v3.44.0
 * (c) 2018-2023 ApexCharts
 * Released under the MIT License.
 */var kY;function kFe(){return kY||(kY=1,function(t,e){function r(me,c){var d=Object.keys(me);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(me);c&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(me,v).enumerable})),d.push.apply(d,m)}return d}function n(me){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?r(Object(d),!0).forEach(function(m){u(me,m,d[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(d)):r(Object(d)).forEach(function(m){Object.defineProperty(me,m,Object.getOwnPropertyDescriptor(d,m))})}return me}function i(me){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},i(me)}function a(me,c){if(!(me instanceof c))throw new TypeError("Cannot call a class as a function")}function o(me,c){for(var d=0;d<c.length;d++){var m=c[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(me,m.key,m)}}function l(me,c,d){return c&&o(me.prototype,c),d&&o(me,d),me}function u(me,c,d){return c in me?Object.defineProperty(me,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):me[c]=d,me}function h(me,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(c&&c.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),c&&g(me,c)}function f(me){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},f(me)}function g(me,c){return g=Object.setPrototypeOf||function(d,m){return d.__proto__=m,d},g(me,c)}function y(me,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(me)}function N(me){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,m=f(me);if(c){var v=f(this).constructor;d=Reflect.construct(m,arguments,v)}else d=m.apply(this,arguments);return y(this,d)}}function _(me,c){return function(d){if(Array.isArray(d))return d}(me)||function(d,m){var v=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(v!=null){var w,j,S=[],P=!0,I=!1;try{for(v=v.call(d);!(P=(w=v.next()).done)&&(S.push(w.value),!m||S.length!==m);P=!0);}catch(z){I=!0,j=z}finally{try{P||v.return==null||v.return()}finally{if(I)throw j}}return S}}(me,c)||C(me,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(me){return function(c){if(Array.isArray(c))return O(c)}(me)||function(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(me)||C(me)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(me,c){if(me){if(typeof me=="string")return O(me,c);var d=Object.prototype.toString.call(me).slice(8,-1);return d==="Object"&&me.constructor&&(d=me.constructor.name),d==="Map"||d==="Set"?Array.from(me):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?O(me,c):void 0}}function O(me,c){(c==null||c>me.length)&&(c=me.length);for(var d=0,m=new Array(c);d<c;d++)m[d]=me[d];return m}var T=function(){function me(){a(this,me)}return l(me,[{key:"shadeRGBColor",value:function(c,d){var m=d.split(","),v=c<0?0:255,w=c<0?-1*c:c,j=parseInt(m[0].slice(4),10),S=parseInt(m[1],10),P=parseInt(m[2],10);return"rgb("+(Math.round((v-j)*w)+j)+","+(Math.round((v-S)*w)+S)+","+(Math.round((v-P)*w)+P)+")"}},{key:"shadeHexColor",value:function(c,d){var m=parseInt(d.slice(1),16),v=c<0?0:255,w=c<0?-1*c:c,j=m>>16,S=m>>8&255,P=255&m;return"#"+(16777216+65536*(Math.round((v-j)*w)+j)+256*(Math.round((v-S)*w)+S)+(Math.round((v-P)*w)+P)).toString(16).slice(1)}},{key:"shadeColor",value:function(c,d){return me.isColorHex(d)?this.shadeHexColor(c,d):this.shadeRGBColor(c,d)}}],[{key:"bind",value:function(c,d){return function(){return c.apply(d,arguments)}}},{key:"isObject",value:function(c){return c&&i(c)==="object"&&!Array.isArray(c)&&c!=null}},{key:"is",value:function(c,d){return Object.prototype.toString.call(d)==="[object "+c+"]"}},{key:"listToArray",value:function(c){var d,m=[];for(d=0;d<c.length;d++)m[d]=c[d];return m}},{key:"extend",value:function(c,d){var m=this;typeof Object.assign!="function"&&(Object.assign=function(w){if(w==null)throw new TypeError("Cannot convert undefined or null to object");for(var j=Object(w),S=1;S<arguments.length;S++){var P=arguments[S];if(P!=null)for(var I in P)P.hasOwnProperty(I)&&(j[I]=P[I])}return j});var v=Object.assign({},c);return this.isObject(c)&&this.isObject(d)&&Object.keys(d).forEach(function(w){m.isObject(d[w])&&w in c?v[w]=m.extend(c[w],d[w]):Object.assign(v,u({},w,d[w]))}),v}},{key:"extendArray",value:function(c,d){var m=[];return c.map(function(v){m.push(me.extend(d,v))}),c=m}},{key:"monthMod",value:function(c){return c%12}},{key:"clone",value:function(c){if(me.is("Array",c)){for(var d=[],m=0;m<c.length;m++)d[m]=this.clone(c[m]);return d}if(me.is("Null",c))return null;if(me.is("Date",c))return c;if(i(c)==="object"){var v={};for(var w in c)c.hasOwnProperty(w)&&(v[w]=this.clone(c[w]));return v}return c}},{key:"log10",value:function(c){return Math.log(c)/Math.LN10}},{key:"roundToBase10",value:function(c){return Math.pow(10,Math.floor(Math.log10(c)))}},{key:"roundToBase",value:function(c,d){return Math.pow(d,Math.floor(Math.log(c)/Math.log(d)))}},{key:"parseNumber",value:function(c){return c===null?c:parseFloat(c)}},{key:"stripNumber",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(c)?c:parseFloat(c.toPrecision(d))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(c){var d=String(c).split(/[eE]/);if(d.length===1)return d[0];var m="",v=c<0?"-":"",w=d[0].replace(".",""),j=Number(d[1])+1;if(j<0){for(m=v+"0.";j++;)m+="0";return m+w.replace(/^-/,"")}for(j-=w.length;j--;)m+="0";return w+m}},{key:"getDimensions",value:function(c){var d=getComputedStyle(c,null),m=c.clientHeight,v=c.clientWidth;return m-=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom),[v-=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),m]}},{key:"getBoundingClientRect",value:function(c){var d=c.getBoundingClientRect();return{top:d.top,right:d.right,bottom:d.bottom,left:d.left,width:c.clientWidth,height:c.clientHeight,x:d.left,y:d.top}}},{key:"getLargestStringFromArr",value:function(c){return c.reduce(function(d,m){return Array.isArray(m)&&(m=m.reduce(function(v,w){return v.length>w.length?v:w})),d.length>m.length?d:m},0)}},{key:"hexToRgba",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;c.substring(0,1)!=="#"&&(c="#999999");var m=c.replace("#","");m=m.match(new RegExp("(.{"+m.length/3+"})","g"));for(var v=0;v<m.length;v++)m[v]=parseInt(m[v].length===1?m[v]+m[v]:m[v],16);return d!==void 0&&m.push(d),"rgba("+m.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(c){return parseFloat(c.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(c){return(c=c.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&c.length===4?"#"+("0"+parseInt(c[1],10).toString(16)).slice(-2)+("0"+parseInt(c[2],10).toString(16)).slice(-2)+("0"+parseInt(c[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(c){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(c)}},{key:"getPolygonPos",value:function(c,d){for(var m=[],v=2*Math.PI/d,w=0;w<d;w++){var j={};j.x=c*Math.sin(w*v),j.y=-c*Math.cos(w*v),m.push(j)}return m}},{key:"polarToCartesian",value:function(c,d,m,v){var w=(v-90)*Math.PI/180;return{x:c+m*Math.cos(w),y:d+m*Math.sin(w)}}},{key:"escapeString",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",m=c.toString().slice();return m=m.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,d)}},{key:"negToZero",value:function(c){return c<0?0:c}},{key:"moveIndexInArray",value:function(c,d,m){if(m>=c.length)for(var v=m-c.length+1;v--;)c.push(void 0);return c.splice(m,0,c.splice(d,1)[0]),c}},{key:"extractNumber",value:function(c){return parseFloat(c.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(c,d){for(;(c=c.parentElement)&&!c.classList.contains(d););return c}},{key:"setELstyles",value:function(c,d){for(var m in d)d.hasOwnProperty(m)&&(c.style.key=d[m])}},{key:"isNumber",value:function(c){return!isNaN(c)&&parseFloat(Number(c))===c&&!isNaN(parseInt(c,10))}},{key:"isFloat",value:function(c){return Number(c)===c&&c%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var c=window.navigator.userAgent,d=c.indexOf("MSIE ");if(d>0)return parseInt(c.substring(d+5,c.indexOf(".",d)),10);if(c.indexOf("Trident/")>0){var m=c.indexOf("rv:");return parseInt(c.substring(m+3,c.indexOf(".",m)),10)}var v=c.indexOf("Edge/");return v>0&&parseInt(c.substring(v+5,c.indexOf(".",v)),10)}}]),me}(),M=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.setEasingFunctions()}return l(me,[{key:"setEasingFunctions",value:function(){var c;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":c="-";break;case"easein":c="<";break;case"easeout":c=">";break;case"easeinout":default:c="<>";break;case"swing":c=function(d){var m=1.70158;return(d-=1)*d*((m+1)*d+m)+1};break;case"bounce":c=function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375};break;case"elastic":c=function(d){return d===!!d?d:Math.pow(2,-10*d)*Math.sin((d-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=c}}},{key:"animateLine",value:function(c,d,m,v){c.attr(d).animate(v).attr(m)}},{key:"animateMarker",value:function(c,d,m,v,w,j){d||(d=0),c.attr({r:d,width:d,height:d}).animate(v,w).attr({r:m,width:m.width,height:m.height}).afterAll(function(){j()})}},{key:"animateCircle",value:function(c,d,m,v,w){c.attr({r:d.r,cx:d.cx,cy:d.cy}).animate(v,w).attr({r:m.r,cx:m.cx,cy:m.cy})}},{key:"animateRect",value:function(c,d,m,v,w){c.attr(d).animate(v).attr(m).afterAll(function(){return w()})}},{key:"animatePathsGradually",value:function(c){var d=c.el,m=c.realIndex,v=c.j,w=c.fill,j=c.pathFrom,S=c.pathTo,P=c.speed,I=c.delay,z=this.w,U=0;z.config.chart.animations.animateGradually.enabled&&(U=z.config.chart.animations.animateGradually.delay),z.config.chart.animations.dynamicAnimation.enabled&&z.globals.dataChanged&&z.config.chart.type!=="bar"&&(U=0),this.morphSVG(d,m,v,z.config.chart.type!=="line"||z.globals.comboCharts?w:"stroke",j,S,P,I*U)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(c){var d=c.el;d.classList.remove("apexcharts-element-hidden"),d.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(c){var d=this.w;d.globals.animationEnded||(d.globals.animationEnded=!0,this.showDelayedElements(),typeof d.config.chart.events.animationEnd=="function"&&d.config.chart.events.animationEnd(this.ctx,{el:c,w:d}))}},{key:"morphSVG",value:function(c,d,m,v,w,j,S,P){var I=this,z=this.w;w||(w=c.attr("pathFrom")),j||(j=c.attr("pathTo"));var U=function(X){return z.config.chart.type==="radar"&&(S=1),"M 0 ".concat(z.globals.gridHeight)};(!w||w.indexOf("undefined")>-1||w.indexOf("NaN")>-1)&&(w=U()),(!j||j.indexOf("undefined")>-1||j.indexOf("NaN")>-1)&&(j=U()),z.globals.shouldAnimate||(S=1),c.plot(w).animate(1,z.globals.easing,P).plot(w).animate(S,z.globals.easing,P).plot(j).afterAll(function(){T.isNumber(m)?m===z.globals.series[z.globals.maxValsInArrayIndex].length-2&&z.globals.shouldAnimate&&I.animationCompleted(c):v!=="none"&&z.globals.shouldAnimate&&(!z.globals.comboCharts&&d===z.globals.series.length-1||z.globals.comboCharts)&&I.animationCompleted(c),I.showDelayedElements()})}}]),me}(),B=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"getDefaultFilter",value:function(c,d){var m=this.w;c.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),m.config.states.normal.filter!=="none"?this.applyFilter(c,d,m.config.states.normal.filter.type,m.config.states.normal.filter.value):m.config.chart.dropShadow.enabled&&this.dropShadow(c,m.config.chart.dropShadow,d)}},{key:"addNormalFilter",value:function(c,d){var m=this.w;m.config.chart.dropShadow.enabled&&!c.node.classList.contains("apexcharts-marker")&&this.dropShadow(c,m.config.chart.dropShadow,d)}},{key:"addLightenFilter",value:function(c,d,m){var v=this,w=this.w,j=m.intensity;c.unfilter(!0),new window.SVG.Filter,c.filter(function(S){var P=w.config.chart.dropShadow;(P.enabled?v.addShadow(S,d,P):S).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:j}})}),c.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(c.filterer.node)}},{key:"addDarkenFilter",value:function(c,d,m){var v=this,w=this.w,j=m.intensity;c.unfilter(!0),new window.SVG.Filter,c.filter(function(S){var P=w.config.chart.dropShadow;(P.enabled?v.addShadow(S,d,P):S).componentTransfer({rgb:{type:"linear",slope:j}})}),c.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(c.filterer.node)}},{key:"applyFilter",value:function(c,d,m){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(m){case"none":this.addNormalFilter(c,d);break;case"lighten":this.addLightenFilter(c,d,{intensity:v});break;case"darken":this.addDarkenFilter(c,d,{intensity:v})}}},{key:"addShadow",value:function(c,d,m){var v=m.blur,w=m.top,j=m.left,S=m.color,P=m.opacity,I=c.flood(Array.isArray(S)?S[d]:S,P).composite(c.sourceAlpha,"in").offset(j,w).gaussianBlur(v).merge(c.source);return c.blend(c.source,I)}},{key:"dropShadow",value:function(c,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=d.top,w=d.left,j=d.blur,S=d.color,P=d.opacity,I=d.noUserSpaceOnUse,z=this.w;return c.unfilter(!0),T.isIE()&&z.config.chart.type==="radialBar"||(S=Array.isArray(S)?S[m]:S,c.filter(function(U){var X=null;X=T.isSafari()||T.isFirefox()||T.isIE()?U.flood(S,P).composite(U.sourceAlpha,"in").offset(w,v).gaussianBlur(j):U.flood(S,P).composite(U.sourceAlpha,"in").offset(w,v).gaussianBlur(j).merge(U.source),U.blend(U.source,X)}),I||c.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(c.filterer.node)),c}},{key:"setSelectionFilter",value:function(c,d,m){var v=this.w;if(v.globals.selectedDataPoints[d]!==void 0&&v.globals.selectedDataPoints[d].indexOf(m)>-1){c.node.setAttribute("selected",!0);var w=v.config.states.active.filter;w!=="none"&&this.applyFilter(c,d,w.type,w.value)}}},{key:"_scaleFilterSize",value:function(c){(function(d){for(var m in d)d.hasOwnProperty(m)&&c.setAttribute(m,d[m])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),me}(),F=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"roundPathCorners",value:function(c,d){function m(Le,ze,Fe){var tt=ze.x-Le.x,ft=ze.y-Le.y,mt=Math.sqrt(tt*tt+ft*ft);return v(Le,ze,Math.min(1,Fe/mt))}function v(Le,ze,Fe){return{x:Le.x+(ze.x-Le.x)*Fe,y:Le.y+(ze.y-Le.y)*Fe}}function w(Le,ze){Le.length>2&&(Le[Le.length-2]=ze.x,Le[Le.length-1]=ze.y)}function j(Le){return{x:parseFloat(Le[Le.length-2]),y:parseFloat(Le[Le.length-1])}}c.indexOf("NaN")>-1&&(c="");var S=c.split(/[,\s]/).reduce(function(Le,ze){var Fe=ze.match("([a-zA-Z])(.+)");return Fe?(Le.push(Fe[1]),Le.push(Fe[2])):Le.push(ze),Le},[]).reduce(function(Le,ze){return parseFloat(ze)==ze&&Le.length?Le[Le.length-1].push(ze):Le.push([ze]),Le},[]),P=[];if(S.length>1){var I=j(S[0]),z=null;S[S.length-1][0]=="Z"&&S[0].length>2&&(z=["L",I.x,I.y],S[S.length-1]=z),P.push(S[0]);for(var U=1;U<S.length;U++){var X=P[P.length-1],Q=S[U],te=Q==z?S[1]:S[U+1];if(te&&X&&X.length>2&&Q[0]=="L"&&te.length>2&&te[0]=="L"){var ae,pe,we=j(X),Ce=j(Q),R=j(te);ae=m(Ce,we,d),pe=m(Ce,R,d),w(Q,ae),Q.origPoint=Ce,P.push(Q);var q=v(ae,Ce,.5),se=v(Ce,pe,.5),be=["C",q.x,q.y,se.x,se.y,pe.x,pe.y];be.origPoint=Ce,P.push(be)}else P.push(Q)}if(z){var Pe=j(P[P.length-1]);P.push(["Z"]),w(P[0],Pe)}}else P=S;return P.reduce(function(Le,ze){return Le+ze.join(" ")+" "},"")}},{key:"drawLine",value:function(c,d,m,v){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",j=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,S=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,P=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:c,y1:d,x2:m,y2:v,stroke:w,"stroke-dasharray":j,"stroke-width":S,"stroke-linecap":P})}},{key:"drawRect",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,j=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",S=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,P=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,I=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,z=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,U=this.w.globals.dom.Paper.rect();return U.attr({x:c,y:d,width:m>0?m:0,height:v>0?v:0,rx:w,ry:w,opacity:S,"stroke-width":P!==null?P:0,stroke:I!==null?I:"none","stroke-dasharray":z}),U.node.setAttribute("fill",j),U}},{key:"drawPolygon",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(c).attr({fill:v,stroke:d,"stroke-width":m})}},{key:"drawCircle",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;c<0&&(c=0);var m=this.w.globals.dom.Paper.circle(2*c);return d!==null&&m.attr(d),m}},{key:"drawPath",value:function(c){var d=c.d,m=d===void 0?"":d,v=c.stroke,w=v===void 0?"#a8a8a8":v,j=c.strokeWidth,S=j===void 0?1:j,P=c.fill,I=c.fillOpacity,z=I===void 0?1:I,U=c.strokeOpacity,X=U===void 0?1:U,Q=c.classes,te=c.strokeLinecap,ae=te===void 0?null:te,pe=c.strokeDashArray,we=pe===void 0?0:pe,Ce=this.w;return ae===null&&(ae=Ce.config.stroke.lineCap),(m.indexOf("undefined")>-1||m.indexOf("NaN")>-1)&&(m="M 0 ".concat(Ce.globals.gridHeight)),Ce.globals.dom.Paper.path(m).attr({fill:P,"fill-opacity":z,stroke:w,"stroke-opacity":X,"stroke-linecap":ae,"stroke-width":S,"stroke-dasharray":we,class:Q})}},{key:"group",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=this.w.globals.dom.Paper.group();return c!==null&&d.attr(c),d}},{key:"move",value:function(c,d){var m=["M",c,d].join(" ");return m}},{key:"line",value:function(c,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,v=null;return m===null?v=[" L",c,d].join(" "):m==="H"?v=[" H",c].join(" "):m==="V"&&(v=[" V",d].join(" ")),v}},{key:"curve",value:function(c,d,m,v,w,j){var S=["C",c,d,m,v,w,j].join(" ");return S}},{key:"quadraticCurve",value:function(c,d,m,v){return["Q",c,d,m,v].join(" ")}},{key:"arc",value:function(c,d,m,v,w,j,S){var P="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(P="a");var I=[P,c,d,m,v,w,j,S].join(" ");return I}},{key:"renderPaths",value:function(c){var d,m=c.j,v=c.realIndex,w=c.pathFrom,j=c.pathTo,S=c.stroke,P=c.strokeWidth,I=c.strokeLinecap,z=c.fill,U=c.animationDelay,X=c.initialSpeed,Q=c.dataChangeSpeed,te=c.className,ae=c.shouldClipToGrid,pe=ae===void 0||ae,we=c.bindEventsOnPaths,Ce=we===void 0||we,R=c.drawShadow,q=R===void 0||R,se=this.w,be=new B(this.ctx),Pe=new M(this.ctx),Le=this.w.config.chart.animations.enabled,ze=Le&&this.w.config.chart.animations.dynamicAnimation.enabled,Fe=!!(Le&&!se.globals.resized||ze&&se.globals.dataChanged&&se.globals.shouldAnimate);Fe?d=w:(d=j,se.globals.animationEnded=!0);var tt=se.config.stroke.dashArray,ft=0;ft=Array.isArray(tt)?tt[v]:se.config.stroke.dashArray;var mt=this.drawPath({d,stroke:S,strokeWidth:P,fill:z,fillOpacity:1,classes:te,strokeLinecap:I,strokeDashArray:ft});if(mt.attr("index",v),pe&&mt.attr({"clip-path":"url(#gridRectMask".concat(se.globals.cuid,")")}),se.config.states.normal.filter.type!=="none")be.getDefaultFilter(mt,v);else if(se.config.chart.dropShadow.enabled&&q&&(!se.config.chart.dropShadow.enabledOnSeries||se.config.chart.dropShadow.enabledOnSeries&&se.config.chart.dropShadow.enabledOnSeries.indexOf(v)!==-1)){var vt=se.config.chart.dropShadow;be.dropShadow(mt,vt,v)}Ce&&(mt.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,mt)),mt.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,mt)),mt.node.addEventListener("mousedown",this.pathMouseDown.bind(this,mt))),mt.attr({pathTo:j,pathFrom:w});var Dt={el:mt,j:m,realIndex:v,pathFrom:w,pathTo:j,fill:z,strokeWidth:P,delay:U};return!Le||se.globals.resized||se.globals.dataChanged?!se.globals.resized&&se.globals.dataChanged||Pe.showDelayedElements():Pe.animatePathsGradually(n(n({},Dt),{},{speed:X})),se.globals.dataChanged&&ze&&Fe&&Pe.animatePathsGradually(n(n({},Dt),{},{speed:Q})),mt}},{key:"drawPattern",value:function(c,d,m){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(d,m,function(j){c==="horizontalLines"?j.line(0,0,m,0).stroke({color:v,width:w+1}):c==="verticalLines"?j.line(0,0,0,d).stroke({color:v,width:w+1}):c==="slantedLines"?j.line(0,0,d,m).stroke({color:v,width:w}):c==="squares"?j.rect(d,m).fill("none").stroke({color:v,width:w}):c==="circles"&&j.circle(d).fill("none").stroke({color:v,width:w})})}},{key:"drawGradient",value:function(c,d,m,v,w){var j,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,P=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,I=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,z=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,U=this.w;d.length<9&&d.indexOf("#")===0&&(d=T.hexToRgba(d,v)),m.length<9&&m.indexOf("#")===0&&(m=T.hexToRgba(m,w));var X=0,Q=1,te=1,ae=null;P!==null&&(X=P[0]!==void 0?P[0]/100:0,Q=P[1]!==void 0?P[1]/100:1,te=P[2]!==void 0?P[2]/100:1,ae=P[3]!==void 0?P[3]/100:null);var pe=!(U.config.chart.type!=="donut"&&U.config.chart.type!=="pie"&&U.config.chart.type!=="polarArea"&&U.config.chart.type!=="bubble");if(j=I===null||I.length===0?U.globals.dom.Paper.gradient(pe?"radial":"linear",function(R){R.at(X,d,v),R.at(Q,m,w),R.at(te,m,w),ae!==null&&R.at(ae,d,v)}):U.globals.dom.Paper.gradient(pe?"radial":"linear",function(R){(Array.isArray(I[z])?I[z]:I).forEach(function(q){R.at(q.offset/100,q.color,q.opacity)})}),pe){var we=U.globals.gridWidth/2,Ce=U.globals.gridHeight/2;U.config.chart.type!=="bubble"?j.attr({gradientUnits:"userSpaceOnUse",cx:we,cy:Ce,r:S}):j.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else c==="vertical"?j.from(0,0).to(0,1):c==="diagonal"?j.from(0,0).to(1,1):c==="horizontal"?j.from(0,1).to(1,1):c==="diagonal2"&&j.from(1,0).to(0,1);return j}},{key:"getTextBasedOnMaxWidth",value:function(c){var d=c.text,m=c.maxWidth,v=c.fontSize,w=c.fontFamily,j=this.getTextRects(d,v,w),S=j.width/d.length,P=Math.floor(m/S);return m<j.width?d.slice(0,P-3)+"...":d}},{key:"drawText",value:function(c){var d=this,m=c.x,v=c.y,w=c.text,j=c.textAnchor,S=c.fontSize,P=c.fontFamily,I=c.fontWeight,z=c.foreColor,U=c.opacity,X=c.maxWidth,Q=c.cssClass,te=Q===void 0?"":Q,ae=c.isPlainText,pe=ae===void 0||ae,we=this.w;w===void 0&&(w="");var Ce=w;j||(j="start"),z&&z.length||(z=we.config.chart.foreColor),P=P||we.config.chart.fontFamily,I=I||"regular";var R,q={maxWidth:X,fontSize:S=S||"11px",fontFamily:P};return Array.isArray(w)?R=we.globals.dom.Paper.text(function(se){for(var be=0;be<w.length;be++)Ce=w[be],X&&(Ce=d.getTextBasedOnMaxWidth(n({text:w[be]},q))),be===0?se.tspan(Ce):se.tspan(Ce).newLine()}):(X&&(Ce=this.getTextBasedOnMaxWidth(n({text:w},q))),R=pe?we.globals.dom.Paper.plain(w):we.globals.dom.Paper.text(function(se){return se.tspan(Ce)})),R.attr({x:m,y:v,"text-anchor":j,"dominant-baseline":"auto","font-size":S,"font-family":P,"font-weight":I,fill:z,class:"apexcharts-text "+te}),R.node.style.fontFamily=P,R.node.style.opacity=U,R}},{key:"drawMarker",value:function(c,d,m){c=c||0;var v=m.pSize||0,w=null;if(m.shape==="square"||m.shape==="rect"){var j=m.pRadius===void 0?v/2:m.pRadius;d!==null&&v||(v=0,j=0);var S=1.2*v+j,P=this.drawRect(S,S,S,S,j);P.attr({x:c-S/2,y:d-S/2,cx:c,cy:d,class:m.class?m.class:"",fill:m.pointFillColor,"fill-opacity":m.pointFillOpacity?m.pointFillOpacity:1,stroke:m.pointStrokeColor,"stroke-width":m.pointStrokeWidth?m.pointStrokeWidth:0,"stroke-opacity":m.pointStrokeOpacity?m.pointStrokeOpacity:1}),w=P}else m.shape!=="circle"&&m.shape||(T.isNumber(d)||(v=0,d=0),w=this.drawCircle(v,{cx:c,cy:d,class:m.class?m.class:"",stroke:m.pointStrokeColor,fill:m.pointFillColor,"fill-opacity":m.pointFillOpacity?m.pointFillOpacity:1,"stroke-width":m.pointStrokeWidth?m.pointStrokeWidth:0,"stroke-opacity":m.pointStrokeOpacity?m.pointStrokeOpacity:1}));return w}},{key:"pathMouseEnter",value:function(c,d){var m=this.w,v=new B(this.ctx),w=parseInt(c.node.getAttribute("index"),10),j=parseInt(c.node.getAttribute("j"),10);if(typeof m.config.chart.events.dataPointMouseEnter=="function"&&m.config.chart.events.dataPointMouseEnter(d,this.ctx,{seriesIndex:w,dataPointIndex:j,w:m}),this.ctx.events.fireEvent("dataPointMouseEnter",[d,this.ctx,{seriesIndex:w,dataPointIndex:j,w:m}]),(m.config.states.active.filter.type==="none"||c.node.getAttribute("selected")!=="true")&&m.config.states.hover.filter.type!=="none"&&!m.globals.isTouchDevice){var S=m.config.states.hover.filter;v.applyFilter(c,w,S.type,S.value)}}},{key:"pathMouseLeave",value:function(c,d){var m=this.w,v=new B(this.ctx),w=parseInt(c.node.getAttribute("index"),10),j=parseInt(c.node.getAttribute("j"),10);typeof m.config.chart.events.dataPointMouseLeave=="function"&&m.config.chart.events.dataPointMouseLeave(d,this.ctx,{seriesIndex:w,dataPointIndex:j,w:m}),this.ctx.events.fireEvent("dataPointMouseLeave",[d,this.ctx,{seriesIndex:w,dataPointIndex:j,w:m}]),m.config.states.active.filter.type!=="none"&&c.node.getAttribute("selected")==="true"||m.config.states.hover.filter.type!=="none"&&v.getDefaultFilter(c,w)}},{key:"pathMouseDown",value:function(c,d){var m=this.w,v=new B(this.ctx),w=parseInt(c.node.getAttribute("index"),10),j=parseInt(c.node.getAttribute("j"),10),S="false";if(c.node.getAttribute("selected")==="true"){if(c.node.setAttribute("selected","false"),m.globals.selectedDataPoints[w].indexOf(j)>-1){var P=m.globals.selectedDataPoints[w].indexOf(j);m.globals.selectedDataPoints[w].splice(P,1)}}else{if(!m.config.states.active.allowMultipleDataPointsSelection&&m.globals.selectedDataPoints.length>0){m.globals.selectedDataPoints=[];var I=m.globals.dom.Paper.select(".apexcharts-series path").members,z=m.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,U=function(te){Array.prototype.forEach.call(te,function(ae){ae.node.setAttribute("selected","false"),v.getDefaultFilter(ae,w)})};U(I),U(z)}c.node.setAttribute("selected","true"),S="true",m.globals.selectedDataPoints[w]===void 0&&(m.globals.selectedDataPoints[w]=[]),m.globals.selectedDataPoints[w].push(j)}if(S==="true"){var X=m.config.states.active.filter;if(X!=="none")v.applyFilter(c,w,X.type,X.value);else if(m.config.states.hover.filter!=="none"&&!m.globals.isTouchDevice){var Q=m.config.states.hover.filter;v.applyFilter(c,w,Q.type,Q.value)}}else m.config.states.active.filter.type!=="none"&&(m.config.states.hover.filter.type==="none"||m.globals.isTouchDevice?v.getDefaultFilter(c,w):(Q=m.config.states.hover.filter,v.applyFilter(c,w,Q.type,Q.value)));typeof m.config.chart.events.dataPointSelection=="function"&&m.config.chart.events.dataPointSelection(d,this.ctx,{selectedDataPoints:m.globals.selectedDataPoints,seriesIndex:w,dataPointIndex:j,w:m}),d&&this.ctx.events.fireEvent("dataPointSelection",[d,this.ctx,{selectedDataPoints:m.globals.selectedDataPoints,seriesIndex:w,dataPointIndex:j,w:m}])}},{key:"rotateAroundCenter",value:function(c){var d={};return c&&typeof c.getBBox=="function"&&(d=c.getBBox()),{x:d.x+d.width/2,y:d.y+d.height/2}}},{key:"getTextRects",value:function(c,d,m,v){var w=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],j=this.w,S=this.drawText({x:-200,y:-200,text:c,textAnchor:"start",fontSize:d,fontFamily:m,foreColor:"#fff",opacity:0});v&&S.attr("transform",v),j.globals.dom.Paper.add(S);var P=S.bbox();return w||(P=S.node.getBoundingClientRect()),S.remove(),{width:P.width,height:P.height}}},{key:"placeTextWithEllipsis",value:function(c,d,m){if(typeof c.getComputedTextLength=="function"&&(c.textContent=d,d.length>0&&c.getComputedTextLength()>=m/1.1)){for(var v=d.length-3;v>0;v-=3)if(c.getSubStringLength(0,v)<=m/1.1)return void(c.textContent=d.substring(0,v)+"...");c.textContent="."}}}],[{key:"setAttrs",value:function(c,d){for(var m in d)d.hasOwnProperty(m)&&c.setAttribute(m,d[m])}}]),me}(),V=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"getStackedSeriesTotals",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=this.w,m=[];if(d.globals.series.length===0)return m;for(var v=0;v<d.globals.series[d.globals.maxValsInArrayIndex].length;v++){for(var w=0,j=0;j<d.globals.series.length;j++)d.globals.series[j][v]!==void 0&&c.indexOf(j)===-1&&(w+=d.globals.series[j][v]);m.push(w)}return m}},{key:"getSeriesTotalByIndex",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return c===null?this.w.config.series.reduce(function(d,m){return d+m},0):this.w.globals.series[c].reduce(function(d,m){return d+m},0)}},{key:"isSeriesNull",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(c===null?this.w.config.series.filter(function(d){return d!==null}):this.w.config.series[c].data.filter(function(d){return d!==null})).length===0}},{key:"seriesHaveSameValues",value:function(c){return this.w.globals.series[c].every(function(d,m,v){return d===v[0]})}},{key:"getCategoryLabels",value:function(c){var d=this.w,m=c.slice();return d.config.xaxis.convertedCatToNumeric&&(m=c.map(function(v,w){return d.config.xaxis.labels.formatter(v-d.globals.minX+1)})),m}},{key:"getLargestSeries",value:function(){var c=this.w;c.globals.maxValsInArrayIndex=c.globals.series.map(function(d){return d.length}).indexOf(Math.max.apply(Math,c.globals.series.map(function(d){return d.length})))}},{key:"getLargestMarkerSize",value:function(){var c=this.w,d=0;return c.globals.markers.size.forEach(function(m){d=Math.max(d,m)}),c.config.markers.discrete&&c.config.markers.discrete.length&&c.config.markers.discrete.forEach(function(m){d=Math.max(d,m.size)}),d>0&&(d+=c.config.markers.hover.sizeOffset+1),c.globals.markers.largestSize=d,d}},{key:"getSeriesTotals",value:function(){var c=this.w;c.globals.seriesTotals=c.globals.series.map(function(d,m){var v=0;if(Array.isArray(d))for(var w=0;w<d.length;w++)v+=d[w];else v+=d;return v})}},{key:"getSeriesTotalsXRange",value:function(c,d){var m=this.w;return m.globals.series.map(function(v,w){for(var j=0,S=0;S<v.length;S++)m.globals.seriesX[w][S]>c&&m.globals.seriesX[w][S]<d&&(j+=v[S]);return j})}},{key:"getPercentSeries",value:function(){var c=this.w;c.globals.seriesPercent=c.globals.series.map(function(d,m){var v=[];if(Array.isArray(d))for(var w=0;w<d.length;w++){var j=c.globals.stackedSeriesTotals[w],S=0;j&&(S=100*d[w]/j),v.push(S)}else{var P=100*d/c.globals.seriesTotals.reduce(function(I,z){return I+z},0);v.push(P)}return v})}},{key:"getCalculatedRatios",value:function(){var c,d,m,v,w=this.w.globals,j=[],S=0,P=[],I=.1,z=0;if(w.yRange=[],w.isMultipleYAxis)for(var U=0;U<w.minYArr.length;U++)w.yRange.push(Math.abs(w.minYArr[U]-w.maxYArr[U])),P.push(0);else w.yRange.push(Math.abs(w.minY-w.maxY));w.xRange=Math.abs(w.maxX-w.minX),w.zRange=Math.abs(w.maxZ-w.minZ);for(var X=0;X<w.yRange.length;X++)j.push(w.yRange[X]/w.gridHeight);if(d=w.xRange/w.gridWidth,m=Math.abs(w.initialMaxX-w.initialMinX)/w.gridWidth,c=w.yRange/w.gridWidth,v=w.xRange/w.gridHeight,(S=w.zRange/w.gridHeight*16)||(S=1),w.minY!==Number.MIN_VALUE&&Math.abs(w.minY)!==0&&(w.hasNegs=!0),w.isMultipleYAxis){P=[];for(var Q=0;Q<j.length;Q++)P.push(-w.minYArr[Q]/j[Q])}else P.push(-w.minY/j[0]),w.minY!==Number.MIN_VALUE&&Math.abs(w.minY)!==0&&(I=-w.minY/c,z=w.minX/d);return{yRatio:j,invertedYRatio:c,zRatio:S,xRatio:d,initialXRatio:m,invertedXRatio:v,baseLineInvertedY:I,baseLineY:P,baseLineX:z}}},{key:"getLogSeries",value:function(c){var d=this,m=this.w;return m.globals.seriesLog=c.map(function(v,w){return m.config.yaxis[w]&&m.config.yaxis[w].logarithmic?v.map(function(j){return j===null?null:d.getLogVal(m.config.yaxis[w].logBase,j,w)}):v}),m.globals.invalidLogScale?c:m.globals.seriesLog}},{key:"getBaseLog",value:function(c,d){return Math.log(d)/Math.log(c)}},{key:"getLogVal",value:function(c,d,m){if(d===0)return 0;var v=this.w,w=v.globals.minYArr[m]===0?-1:this.getBaseLog(c,v.globals.minYArr[m]),j=(v.globals.maxYArr[m]===0?0:this.getBaseLog(c,v.globals.maxYArr[m]))-w;return d<1?d/j:(this.getBaseLog(c,d)-w)/j}},{key:"getLogYRatios",value:function(c){var d=this,m=this.w,v=this.w.globals;return v.yLogRatio=c.slice(),v.logYRange=v.yRange.map(function(w,j){if(m.config.yaxis[j]&&d.w.config.yaxis[j].logarithmic){var S,P=-Number.MAX_VALUE,I=Number.MIN_VALUE;return v.seriesLog.forEach(function(z,U){z.forEach(function(X){m.config.yaxis[U]&&m.config.yaxis[U].logarithmic&&(P=Math.max(X,P),I=Math.min(X,I))})}),S=Math.pow(v.yRange[j],Math.abs(I-P)/v.yRange[j]),v.yLogRatio[j]=S/v.gridHeight,S}}),v.invalidLogScale?c.slice():v.yLogRatio}}],[{key:"checkComboSeries",value:function(c){var d=!1,m=0,v=0;return c.length&&c[0].type!==void 0&&c.forEach(function(w){w.type!=="bar"&&w.type!=="column"&&w.type!=="candlestick"&&w.type!=="boxPlot"||m++,w.type!==void 0&&v++}),v>0&&(d=!0),{comboBarCount:m,comboCharts:d}}},{key:"extendArrayProps",value:function(c,d,m){return d.yaxis&&(d=c.extendYAxis(d,m)),d.annotations&&(d.annotations.yaxis&&(d=c.extendYAxisAnnotations(d)),d.annotations.xaxis&&(d=c.extendXAxisAnnotations(d)),d.annotations.points&&(d=c.extendPointAnnotations(d))),d}}]),me}(),H=function(){function me(c){a(this,me),this.w=c.w,this.annoCtx=c}return l(me,[{key:"setOrientations",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=this.w;if(c.label.orientation==="vertical"){var v=d!==null?d:0,w=m.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(v,"']"));if(w!==null){var j=w.getBoundingClientRect();w.setAttribute("x",parseFloat(w.getAttribute("x"))-j.height+4),c.label.position==="top"?w.setAttribute("y",parseFloat(w.getAttribute("y"))+j.width):w.setAttribute("y",parseFloat(w.getAttribute("y"))-j.width);var S=this.annoCtx.graphics.rotateAroundCenter(w),P=S.x,I=S.y;w.setAttribute("transform","rotate(-90 ".concat(P," ").concat(I,")"))}}}},{key:"addBackgroundToAnno",value:function(c,d){var m=this.w;if(!c||d.label.text===void 0||d.label.text!==void 0&&!String(d.label.text).trim())return null;var v=m.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),w=c.getBoundingClientRect(),j=d.label.style.padding.left,S=d.label.style.padding.right,P=d.label.style.padding.top,I=d.label.style.padding.bottom;d.label.orientation==="vertical"&&(P=d.label.style.padding.left,I=d.label.style.padding.right,j=d.label.style.padding.top,S=d.label.style.padding.bottom);var z=w.left-v.left-j,U=w.top-v.top-P,X=this.annoCtx.graphics.drawRect(z-m.globals.barPadForNumericAxis,U,w.width+j+S,w.height+P+I,d.label.borderRadius,d.label.style.background,1,d.label.borderWidth,d.label.borderColor,0);return d.id&&X.node.classList.add(d.id),X}},{key:"annotationsBackground",value:function(){var c=this,d=this.w,m=function(v,w,j){var S=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(j,"-annotations .apexcharts-").concat(j,"-annotation-label[rel='").concat(w,"']"));if(S){var P=S.parentNode,I=c.addBackgroundToAnno(S,v);I&&(P.insertBefore(I.node,S),v.label.mouseEnter&&I.node.addEventListener("mouseenter",v.label.mouseEnter.bind(c,v)),v.label.mouseLeave&&I.node.addEventListener("mouseleave",v.label.mouseLeave.bind(c,v)),v.label.click&&I.node.addEventListener("click",v.label.click.bind(c,v)))}};d.config.annotations.xaxis.map(function(v,w){m(v,w,"xaxis")}),d.config.annotations.yaxis.map(function(v,w){m(v,w,"yaxis")}),d.config.annotations.points.map(function(v,w){m(v,w,"point")})}},{key:"getY1Y2",value:function(c,d){var m,v=c==="y1"?d.y:d.y2,w=this.w;if(this.annoCtx.invertAxis){var j=w.globals.labels.indexOf(v);w.config.xaxis.convertedCatToNumeric&&(j=w.globals.categoryLabels.indexOf(v));var S=w.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(j+1)+")");S&&(m=parseFloat(S.getAttribute("y")))}else{var P;w.config.yaxis[d.yAxisIndex].logarithmic?P=(v=new V(this.annoCtx.ctx).getLogVal(v,d.yAxisIndex))/w.globals.yLogRatio[d.yAxisIndex]:P=(v-w.globals.minYArr[d.yAxisIndex])/(w.globals.yRange[d.yAxisIndex]/w.globals.gridHeight),m=w.globals.gridHeight-P,!d.marker||d.y!==void 0&&d.y!==null||(m=0),w.config.yaxis[d.yAxisIndex]&&w.config.yaxis[d.yAxisIndex].reversed&&(m=P)}return typeof v=="string"&&v.indexOf("px")>-1&&(m=parseFloat(v)),m}},{key:"getX1X2",value:function(c,d){var m=this.w,v=this.annoCtx.invertAxis?m.globals.minY:m.globals.minX,w=this.annoCtx.invertAxis?m.globals.maxY:m.globals.maxX,j=this.annoCtx.invertAxis?m.globals.yRange[0]:m.globals.xRange,S=(d.x-v)/(j/m.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(S=(w-d.x)/(j/m.globals.gridWidth)),m.config.xaxis.type!=="category"&&!m.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||m.globals.dataFormatXNumeric||(S=this.getStringX(d.x));var P=(d.x2-v)/(j/m.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(P=(w-d.x2)/(j/m.globals.gridWidth)),m.config.xaxis.type!=="category"&&!m.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||m.globals.dataFormatXNumeric||(P=this.getStringX(d.x2)),d.x!==void 0&&d.x!==null||!d.marker||(S=m.globals.gridWidth),c==="x1"&&typeof d.x=="string"&&d.x.indexOf("px")>-1&&(S=parseFloat(d.x)),c==="x2"&&typeof d.x2=="string"&&d.x2.indexOf("px")>-1&&(P=parseFloat(d.x2)),c==="x1"?S:P}},{key:"getStringX",value:function(c){var d=this.w,m=c;d.config.xaxis.convertedCatToNumeric&&d.globals.categoryLabels.length&&(c=d.globals.categoryLabels.indexOf(c)+1);var v=d.globals.labels.indexOf(c),w=d.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(v+1)+")");return w&&(m=parseFloat(w.getAttribute("x"))),m}}]),me}(),Z=function(){function me(c){a(this,me),this.w=c.w,this.annoCtx=c,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new H(this.annoCtx)}return l(me,[{key:"addXaxisAnnotation",value:function(c,d,m){var v,w=this.w,j=this.helpers.getX1X2("x1",c),S=c.label.text,P=c.strokeDashArray;if(T.isNumber(j)){if(c.x2===null||c.x2===void 0){var I=this.annoCtx.graphics.drawLine(j+c.offsetX,0+c.offsetY,j+c.offsetX,w.globals.gridHeight+c.offsetY,c.borderColor,P,c.borderWidth);d.appendChild(I.node),c.id&&I.node.classList.add(c.id)}else{if((v=this.helpers.getX1X2("x2",c))<j){var z=j;j=v,v=z}var U=this.annoCtx.graphics.drawRect(j+c.offsetX,0+c.offsetY,v-j,w.globals.gridHeight+c.offsetY,0,c.fillColor,c.opacity,1,c.borderColor,P);U.node.classList.add("apexcharts-annotation-rect"),U.attr("clip-path","url(#gridRectMask".concat(w.globals.cuid,")")),d.appendChild(U.node),c.id&&U.node.classList.add(c.id)}var X=this.annoCtx.graphics.getTextRects(S,parseFloat(c.label.style.fontSize)),Q=c.label.position==="top"?4:c.label.position==="center"?w.globals.gridHeight/2+(c.label.orientation==="vertical"?X.width/2:0):w.globals.gridHeight,te=this.annoCtx.graphics.drawText({x:j+c.label.offsetX,y:Q+c.label.offsetY-(c.label.orientation==="vertical"?c.label.position==="top"?X.width/2-12:-X.width/2:0),text:S,textAnchor:c.label.textAnchor,fontSize:c.label.style.fontSize,fontFamily:c.label.style.fontFamily,fontWeight:c.label.style.fontWeight,foreColor:c.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(c.label.style.cssClass," ").concat(c.id?c.id:"")});te.attr({rel:m}),d.appendChild(te.node),this.annoCtx.helpers.setOrientations(c,m)}}},{key:"drawXAxisAnnotations",value:function(){var c=this,d=this.w,m=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return d.config.annotations.xaxis.map(function(v,w){c.addXaxisAnnotation(v,m.node,w)}),m}}]),me}(),re=function(){function me(c){a(this,me),this.w=c.w,this.annoCtx=c,this.helpers=new H(this.annoCtx)}return l(me,[{key:"addYaxisAnnotation",value:function(c,d,m){var v,w=this.w,j=c.strokeDashArray,S=this.helpers.getY1Y2("y1",c),P=c.label.text;if(c.y2===null||c.y2===void 0){var I=this.annoCtx.graphics.drawLine(0+c.offsetX,S+c.offsetY,this._getYAxisAnnotationWidth(c),S+c.offsetY,c.borderColor,j,c.borderWidth);d.appendChild(I.node),c.id&&I.node.classList.add(c.id)}else{if((v=this.helpers.getY1Y2("y2",c))>S){var z=S;S=v,v=z}var U=this.annoCtx.graphics.drawRect(0+c.offsetX,v+c.offsetY,this._getYAxisAnnotationWidth(c),S-v,0,c.fillColor,c.opacity,1,c.borderColor,j);U.node.classList.add("apexcharts-annotation-rect"),U.attr("clip-path","url(#gridRectMask".concat(w.globals.cuid,")")),d.appendChild(U.node),c.id&&U.node.classList.add(c.id)}var X=c.label.position==="right"?w.globals.gridWidth:c.label.position==="center"?w.globals.gridWidth/2:0,Q=this.annoCtx.graphics.drawText({x:X+c.label.offsetX,y:(v??S)+c.label.offsetY-3,text:P,textAnchor:c.label.textAnchor,fontSize:c.label.style.fontSize,fontFamily:c.label.style.fontFamily,fontWeight:c.label.style.fontWeight,foreColor:c.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(c.label.style.cssClass," ").concat(c.id?c.id:"")});Q.attr({rel:m}),d.appendChild(Q.node)}},{key:"_getYAxisAnnotationWidth",value:function(c){var d=this.w;return d.globals.gridWidth,(c.width.indexOf("%")>-1?d.globals.gridWidth*parseInt(c.width,10)/100:parseInt(c.width,10))+c.offsetX}},{key:"drawYAxisAnnotations",value:function(){var c=this,d=this.w,m=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return d.config.annotations.yaxis.map(function(v,w){c.addYaxisAnnotation(v,m.node,w)}),m}}]),me}(),le=function(){function me(c){a(this,me),this.w=c.w,this.annoCtx=c,this.helpers=new H(this.annoCtx)}return l(me,[{key:"addPointAnnotation",value:function(c,d,m){this.w;var v=this.helpers.getX1X2("x1",c),w=this.helpers.getY1Y2("y1",c);if(T.isNumber(v)){var j={pSize:c.marker.size,pointStrokeWidth:c.marker.strokeWidth,pointFillColor:c.marker.fillColor,pointStrokeColor:c.marker.strokeColor,shape:c.marker.shape,pRadius:c.marker.radius,class:"apexcharts-point-annotation-marker ".concat(c.marker.cssClass," ").concat(c.id?c.id:"")},S=this.annoCtx.graphics.drawMarker(v+c.marker.offsetX,w+c.marker.offsetY,j);d.appendChild(S.node);var P=c.label.text?c.label.text:"",I=this.annoCtx.graphics.drawText({x:v+c.label.offsetX,y:w+c.label.offsetY-c.marker.size-parseFloat(c.label.style.fontSize)/1.6,text:P,textAnchor:c.label.textAnchor,fontSize:c.label.style.fontSize,fontFamily:c.label.style.fontFamily,fontWeight:c.label.style.fontWeight,foreColor:c.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(c.label.style.cssClass," ").concat(c.id?c.id:"")});if(I.attr({rel:m}),d.appendChild(I.node),c.customSVG.SVG){var z=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+c.customSVG.cssClass});z.attr({transform:"translate(".concat(v+c.customSVG.offsetX,", ").concat(w+c.customSVG.offsetY,")")}),z.node.innerHTML=c.customSVG.SVG,d.appendChild(z.node)}if(c.image.path){var U=c.image.width?c.image.width:20,X=c.image.height?c.image.height:20;S=this.annoCtx.addImage({x:v+c.image.offsetX-U/2,y:w+c.image.offsetY-X/2,width:U,height:X,path:c.image.path,appendTo:".apexcharts-point-annotations"})}c.mouseEnter&&S.node.addEventListener("mouseenter",c.mouseEnter.bind(this,c)),c.mouseLeave&&S.node.addEventListener("mouseleave",c.mouseLeave.bind(this,c)),c.click&&S.node.addEventListener("click",c.click.bind(this,c))}}},{key:"drawPointAnnotations",value:function(){var c=this,d=this.w,m=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return d.config.annotations.points.map(function(v,w){c.addPointAnnotation(v,m.node,w)}),m}}]),me}(),ce={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},he=function(){function me(){a(this,me),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return l(me,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[ce],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(c){return new Date(c).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(c){return c}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(c){return c+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(c){return c.globals.seriesTotals.reduce(function(d,m){return d+m},0)/c.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(c){return c}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(c){return c}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(c){return c.globals.seriesTotals.reduce(function(d,m){return d+m},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(c){return c!==null?c:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(c){return c?c+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),me}(),fe=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.graphics=new F(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new H(this),this.xAxisAnnotations=new Z(this),this.yAxisAnnotations=new re(this),this.pointsAnnotations=new le(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return l(me,[{key:"drawAxesAnnotations",value:function(){var c=this.w;if(c.globals.axisCharts){for(var d=this.yAxisAnnotations.drawYAxisAnnotations(),m=this.xAxisAnnotations.drawXAxisAnnotations(),v=this.pointsAnnotations.drawPointAnnotations(),w=c.config.chart.animations.enabled,j=[d,m,v],S=[m.node,d.node,v.node],P=0;P<3;P++)c.globals.dom.elGraphical.add(j[P]),!w||c.globals.resized||c.globals.dataChanged||c.config.chart.type!=="scatter"&&c.config.chart.type!=="bubble"&&c.globals.dataPoints>1&&S[P].classList.add("apexcharts-element-hidden"),c.globals.delayedElements.push({el:S[P],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var c=this;this.w.config.annotations.images.map(function(d,m){c.addImage(d,m)})}},{key:"drawTextAnnos",value:function(){var c=this;this.w.config.annotations.texts.map(function(d,m){c.addText(d,m)})}},{key:"addXaxisAnnotation",value:function(c,d,m){this.xAxisAnnotations.addXaxisAnnotation(c,d,m)}},{key:"addYaxisAnnotation",value:function(c,d,m){this.yAxisAnnotations.addYaxisAnnotation(c,d,m)}},{key:"addPointAnnotation",value:function(c,d,m){this.pointsAnnotations.addPointAnnotation(c,d,m)}},{key:"addText",value:function(c,d){var m=c.x,v=c.y,w=c.text,j=c.textAnchor,S=c.foreColor,P=c.fontSize,I=c.fontFamily,z=c.fontWeight,U=c.cssClass,X=c.backgroundColor,Q=c.borderWidth,te=c.strokeDashArray,ae=c.borderRadius,pe=c.borderColor,we=c.appendTo,Ce=we===void 0?".apexcharts-annotations":we,R=c.paddingLeft,q=R===void 0?4:R,se=c.paddingRight,be=se===void 0?4:se,Pe=c.paddingBottom,Le=Pe===void 0?2:Pe,ze=c.paddingTop,Fe=ze===void 0?2:ze,tt=this.w,ft=this.graphics.drawText({x:m,y:v,text:w,textAnchor:j||"start",fontSize:P||"12px",fontWeight:z||"regular",fontFamily:I||tt.config.chart.fontFamily,foreColor:S||tt.config.chart.foreColor,cssClass:U}),mt=tt.globals.dom.baseEl.querySelector(Ce);mt&&mt.appendChild(ft.node);var vt=ft.bbox();if(w){var Dt=this.graphics.drawRect(vt.x-q,vt.y-Fe,vt.width+q+be,vt.height+Le+Fe,ae,X||"transparent",1,Q,pe,te);mt.insertBefore(Dt.node,ft.node)}}},{key:"addImage",value:function(c,d){var m=this.w,v=c.path,w=c.x,j=w===void 0?0:w,S=c.y,P=S===void 0?0:S,I=c.width,z=I===void 0?20:I,U=c.height,X=U===void 0?20:U,Q=c.appendTo,te=Q===void 0?".apexcharts-annotations":Q,ae=m.globals.dom.Paper.image(v);ae.size(z,X).move(j,P);var pe=m.globals.dom.baseEl.querySelector(te);return pe&&pe.appendChild(ae.node),ae}},{key:"addXaxisAnnotationExternal",value:function(c,d,m){return this.addAnnotationExternal({params:c,pushToMemory:d,context:m,type:"xaxis",contextMethod:m.addXaxisAnnotation}),m}},{key:"addYaxisAnnotationExternal",value:function(c,d,m){return this.addAnnotationExternal({params:c,pushToMemory:d,context:m,type:"yaxis",contextMethod:m.addYaxisAnnotation}),m}},{key:"addPointAnnotationExternal",value:function(c,d,m){return this.invertAxis===void 0&&(this.invertAxis=m.w.globals.isBarHorizontal),this.addAnnotationExternal({params:c,pushToMemory:d,context:m,type:"point",contextMethod:m.addPointAnnotation}),m}},{key:"addAnnotationExternal",value:function(c){var d=c.params,m=c.pushToMemory,v=c.context,w=c.type,j=c.contextMethod,S=v,P=S.w,I=P.globals.dom.baseEl.querySelector(".apexcharts-".concat(w,"-annotations")),z=I.childNodes.length+1,U=new he,X=Object.assign({},w==="xaxis"?U.xAxisAnnotation:w==="yaxis"?U.yAxisAnnotation:U.pointAnnotation),Q=T.extend(X,d);switch(w){case"xaxis":this.addXaxisAnnotation(Q,I,z);break;case"yaxis":this.addYaxisAnnotation(Q,I,z);break;case"point":this.addPointAnnotation(Q,I,z)}var te=P.globals.dom.baseEl.querySelector(".apexcharts-".concat(w,"-annotations .apexcharts-").concat(w,"-annotation-label[rel='").concat(z,"']")),ae=this.helpers.addBackgroundToAnno(te,Q);return ae&&I.insertBefore(ae.node,te),m&&P.globals.memory.methodsToExec.push({context:S,id:Q.id?Q.id:T.randomId(),method:j,label:"addAnnotation",params:d}),v}},{key:"clearAnnotations",value:function(c){var d=c.w,m=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");d.globals.memory.methodsToExec.map(function(v,w){v.label!=="addText"&&v.label!=="addAnnotation"||d.globals.memory.methodsToExec.splice(w,1)}),m=T.listToArray(m),Array.prototype.forEach.call(m,function(v){for(;v.firstChild;)v.removeChild(v.firstChild)})}},{key:"removeAnnotation",value:function(c,d){var m=c.w,v=m.globals.dom.baseEl.querySelectorAll(".".concat(d));v&&(m.globals.memory.methodsToExec.map(function(w,j){w.id===d&&m.globals.memory.methodsToExec.splice(j,1)}),Array.prototype.forEach.call(v,function(w){w.parentElement.removeChild(w)}))}}]),me}(),ee=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return l(me,[{key:"isValidDate",value:function(c){return!isNaN(this.parseDate(c))}},{key:"getTimeStamp",value:function(c){return Date.parse(c)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(c).toISOString().substr(0,25)).getTime():new Date(c).getTime():c}},{key:"getDate",value:function(c){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(c).toUTCString()):new Date(c)}},{key:"parseDate",value:function(c){var d=Date.parse(c);if(!isNaN(d))return this.getTimeStamp(c);var m=Date.parse(c.replace(/-/g,"/").replace(/[a-z]+/gi," "));return m=this.getTimeStamp(m)}},{key:"parseDateWithTimezone",value:function(c){return Date.parse(c.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(c,d){var m=this.w.globals.locale,v=this.w.config.xaxis.labels.datetimeUTC,w=["\0"].concat(k(m.months)),j=[""].concat(k(m.shortMonths)),S=[""].concat(k(m.days)),P=[""].concat(k(m.shortDays));function I(Le,ze){var Fe=Le+"";for(ze=ze||2;Fe.length<ze;)Fe="0"+Fe;return Fe}var z=v?c.getUTCFullYear():c.getFullYear();d=(d=(d=d.replace(/(^|[^\\])yyyy+/g,"$1"+z)).replace(/(^|[^\\])yy/g,"$1"+z.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+z);var U=(v?c.getUTCMonth():c.getMonth())+1;d=(d=(d=(d=d.replace(/(^|[^\\])MMMM+/g,"$1"+w[0])).replace(/(^|[^\\])MMM/g,"$1"+j[0])).replace(/(^|[^\\])MM/g,"$1"+I(U))).replace(/(^|[^\\])M/g,"$1"+U);var X=v?c.getUTCDate():c.getDate();d=(d=(d=(d=d.replace(/(^|[^\\])dddd+/g,"$1"+S[0])).replace(/(^|[^\\])ddd/g,"$1"+P[0])).replace(/(^|[^\\])dd/g,"$1"+I(X))).replace(/(^|[^\\])d/g,"$1"+X);var Q=v?c.getUTCHours():c.getHours(),te=Q>12?Q-12:Q===0?12:Q;d=(d=(d=(d=d.replace(/(^|[^\\])HH+/g,"$1"+I(Q))).replace(/(^|[^\\])H/g,"$1"+Q)).replace(/(^|[^\\])hh+/g,"$1"+I(te))).replace(/(^|[^\\])h/g,"$1"+te);var ae=v?c.getUTCMinutes():c.getMinutes();d=(d=d.replace(/(^|[^\\])mm+/g,"$1"+I(ae))).replace(/(^|[^\\])m/g,"$1"+ae);var pe=v?c.getUTCSeconds():c.getSeconds();d=(d=d.replace(/(^|[^\\])ss+/g,"$1"+I(pe))).replace(/(^|[^\\])s/g,"$1"+pe);var we=v?c.getUTCMilliseconds():c.getMilliseconds();d=d.replace(/(^|[^\\])fff+/g,"$1"+I(we,3)),we=Math.round(we/10),d=d.replace(/(^|[^\\])ff/g,"$1"+I(we)),we=Math.round(we/10);var Ce=Q<12?"AM":"PM";d=(d=(d=d.replace(/(^|[^\\])f/g,"$1"+we)).replace(/(^|[^\\])TT+/g,"$1"+Ce)).replace(/(^|[^\\])T/g,"$1"+Ce.charAt(0));var R=Ce.toLowerCase();d=(d=d.replace(/(^|[^\\])tt+/g,"$1"+R)).replace(/(^|[^\\])t/g,"$1"+R.charAt(0));var q=-c.getTimezoneOffset(),se=v||!q?"Z":q>0?"+":"-";if(!v){var be=(q=Math.abs(q))%60;se+=I(Math.floor(q/60))+":"+I(be)}d=d.replace(/(^|[^\\])K/g,"$1"+se);var Pe=(v?c.getUTCDay():c.getDay())+1;return d=(d=(d=(d=(d=d.replace(new RegExp(S[0],"g"),S[Pe])).replace(new RegExp(P[0],"g"),P[Pe])).replace(new RegExp(w[0],"g"),w[U])).replace(new RegExp(j[0],"g"),j[U])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(c,d,m){var v=this.w;v.config.xaxis.min!==void 0&&(c=v.config.xaxis.min),v.config.xaxis.max!==void 0&&(d=v.config.xaxis.max);var w=this.getDate(c),j=this.getDate(d),S=this.formatDate(w,"yyyy MM dd HH mm ss fff").split(" "),P=this.formatDate(j,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(S[6],10),maxMillisecond:parseInt(P[6],10),minSecond:parseInt(S[5],10),maxSecond:parseInt(P[5],10),minMinute:parseInt(S[4],10),maxMinute:parseInt(P[4],10),minHour:parseInt(S[3],10),maxHour:parseInt(P[3],10),minDate:parseInt(S[2],10),maxDate:parseInt(P[2],10),minMonth:parseInt(S[1],10)-1,maxMonth:parseInt(P[1],10)-1,minYear:parseInt(S[0],10),maxYear:parseInt(P[0],10)}}},{key:"isLeapYear",value:function(c){return c%4==0&&c%100!=0||c%400==0}},{key:"calculcateLastDaysOfMonth",value:function(c,d,m){return this.determineDaysOfMonths(c,d)-m}},{key:"determineDaysOfYear",value:function(c){var d=365;return this.isLeapYear(c)&&(d=366),d}},{key:"determineRemainingDaysOfYear",value:function(c,d,m){var v=this.daysCntOfYear[d]+m;return d>1&&this.isLeapYear()&&v++,v}},{key:"determineDaysOfMonths",value:function(c,d){var m=30;switch(c=T.monthMod(c),!0){case this.months30.indexOf(c)>-1:c===2&&(m=this.isLeapYear(d)?29:28);break;case this.months31.indexOf(c)>-1:default:m=31}return m}}]),me}(),xe=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.tooltipKeyFormat="dd MMM"}return l(me,[{key:"xLabelFormat",value:function(c,d,m,v){var w=this.w;if(w.config.xaxis.type==="datetime"&&w.config.xaxis.labels.formatter===void 0&&w.config.tooltip.x.formatter===void 0){var j=new ee(this.ctx);return j.formatDate(j.getDate(d),w.config.tooltip.x.format)}return c(d,m,v)}},{key:"defaultGeneralFormatter",value:function(c){return Array.isArray(c)?c.map(function(d){return d}):c}},{key:"defaultYFormatter",value:function(c,d,m){var v=this.w;return T.isNumber(c)&&(c=v.globals.yValueDecimal!==0?c.toFixed(d.decimalsInFloat!==void 0?d.decimalsInFloat:v.globals.yValueDecimal):v.globals.maxYArr[m]-v.globals.minYArr[m]<5?c.toFixed(1):c.toFixed(0)),c}},{key:"setLabelFormatters",value:function(){var c=this,d=this.w;return d.globals.xaxisTooltipFormatter=function(m){return c.defaultGeneralFormatter(m)},d.globals.ttKeyFormatter=function(m){return c.defaultGeneralFormatter(m)},d.globals.ttZFormatter=function(m){return m},d.globals.legendFormatter=function(m){return c.defaultGeneralFormatter(m)},d.config.xaxis.labels.formatter!==void 0?d.globals.xLabelFormatter=d.config.xaxis.labels.formatter:d.globals.xLabelFormatter=function(m){if(T.isNumber(m)){if(!d.config.xaxis.convertedCatToNumeric&&d.config.xaxis.type==="numeric"){if(T.isNumber(d.config.xaxis.decimalsInFloat))return m.toFixed(d.config.xaxis.decimalsInFloat);var v=d.globals.maxX-d.globals.minX;return v>0&&v<100?m.toFixed(1):m.toFixed(0)}return d.globals.isBarHorizontal&&d.globals.maxY-d.globals.minYArr<4?m.toFixed(1):m.toFixed(0)}return m},typeof d.config.tooltip.x.formatter=="function"?d.globals.ttKeyFormatter=d.config.tooltip.x.formatter:d.globals.ttKeyFormatter=d.globals.xLabelFormatter,typeof d.config.xaxis.tooltip.formatter=="function"&&(d.globals.xaxisTooltipFormatter=d.config.xaxis.tooltip.formatter),(Array.isArray(d.config.tooltip.y)||d.config.tooltip.y.formatter!==void 0)&&(d.globals.ttVal=d.config.tooltip.y),d.config.tooltip.z.formatter!==void 0&&(d.globals.ttZFormatter=d.config.tooltip.z.formatter),d.config.legend.formatter!==void 0&&(d.globals.legendFormatter=d.config.legend.formatter),d.config.yaxis.forEach(function(m,v){m.labels.formatter!==void 0?d.globals.yLabelFormatters[v]=m.labels.formatter:d.globals.yLabelFormatters[v]=function(w){return d.globals.xyCharts?Array.isArray(w)?w.map(function(j){return c.defaultYFormatter(j,m,v)}):c.defaultYFormatter(w,m,v):w}}),d.globals}},{key:"heatmapLabelFormatters",value:function(){var c=this.w;if(c.config.chart.type==="heatmap"){c.globals.yAxisScale[0].result=c.globals.seriesNames.slice();var d=c.globals.seriesNames.reduce(function(m,v){return m.length>v.length?m:v},0);c.globals.yAxisScale[0].niceMax=d,c.globals.yAxisScale[0].niceMin=d}}}]),me}(),ie=function(me){var c,d=me.isTimeline,m=me.ctx,v=me.seriesIndex,w=me.dataPointIndex,j=me.y1,S=me.y2,P=me.w,I=P.globals.seriesRangeStart[v][w],z=P.globals.seriesRangeEnd[v][w],U=P.globals.labels[w],X=P.config.series[v].name?P.config.series[v].name:"",Q=P.globals.ttKeyFormatter,te=P.config.tooltip.y.title.formatter,ae={w:P,seriesIndex:v,dataPointIndex:w,start:I,end:z};typeof te=="function"&&(X=te(X,ae)),(c=P.config.series[v].data[w])!==null&&c!==void 0&&c.x&&(U=P.config.series[v].data[w].x),d||P.config.xaxis.type==="datetime"&&(U=new xe(m).xLabelFormat(P.globals.ttKeyFormatter,U,U,{i:void 0,dateFormatter:new ee(m).formatDate,w:P})),typeof Q=="function"&&(U=Q(U,ae)),Number.isFinite(j)&&Number.isFinite(S)&&(I=j,z=S);var pe="",we="",Ce=P.globals.colors[v];if(P.config.tooltip.x.formatter===void 0)if(P.config.xaxis.type==="datetime"){var R=new ee(m);pe=R.formatDate(R.getDate(I),P.config.tooltip.x.format),we=R.formatDate(R.getDate(z),P.config.tooltip.x.format)}else pe=I,we=z;else pe=P.config.tooltip.x.formatter(I),we=P.config.tooltip.x.formatter(z);return{start:I,end:z,startVal:pe,endVal:we,ylabel:U,color:Ce,seriesName:X}},ge=function(me){var c=me.color,d=me.seriesName,m=me.ylabel,v=me.start,w=me.end,j=me.seriesIndex,S=me.dataPointIndex,P=me.ctx.tooltip.tooltipLabels.getFormatters(j);v=P.yLbFormatter(v),w=P.yLbFormatter(w);var I=P.yLbFormatter(me.w.globals.series[j][S]),z=`<span class="value start-value">
  `.concat(v,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(w,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+c+'">'+(d||"")+'</span></div><div> <span class="category">'+m+": </span> "+(me.w.globals.comboCharts?me.w.config.series[j].type==="rangeArea"||me.w.config.series[j].type==="rangeBar"?z:"<span>".concat(I,"</span>"):z)+" </div></div>"},G=function(){function me(c){a(this,me),this.opts=c}return l(me,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(c){return this.hideYAxis(),T.extend(c,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),n(n({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var c=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(d){var m=d.seriesIndex,v=d.dataPointIndex,w=d.w;return c._getBoxTooltip(w,m,v,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var c=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(d){var m=d.seriesIndex,v=d.dataPointIndex,w=d.w;return c._getBoxTooltip(w,m,v,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(c,d){d.ctx;var m=d.seriesIndex,v=d.dataPointIndex,w=d.w,j=function(){var S=w.globals.seriesRangeStart[m][v];return w.globals.seriesRangeEnd[m][v]-S};return w.globals.comboCharts?w.config.series[m].type==="rangeBar"||w.config.series[m].type==="rangeArea"?j():c:j()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(c){return c.w.config.plotOptions&&c.w.config.plotOptions.bar&&c.w.config.plotOptions.bar.horizontal?function(d){var m=ie(n(n({},d),{},{isTimeline:!0})),v=m.color,w=m.seriesName,j=m.ylabel,S=m.startVal,P=m.endVal;return ge(n(n({},d),{},{color:v,seriesName:w,ylabel:j,start:S,end:P}))}(c):function(d){var m=ie(d),v=m.color,w=m.seriesName,j=m.ylabel,S=m.start,P=m.end;return ge(n(n({},d),{},{color:v,seriesName:w,ylabel:j,start:S,end:P}))}(c)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(c){var d,m;return(d=c.plotOptions.bar)!==null&&d!==void 0&&d.barHeight||(c.plotOptions.bar.barHeight=2),(m=c.plotOptions.bar)!==null&&m!==void 0&&m.columnWidth||(c.plotOptions.bar.columnWidth=2),c}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(c){return function(d){var m=ie(d),v=m.color,w=m.seriesName,j=m.ylabel,S=m.start,P=m.end;return ge(n(n({},d),{},{color:v,seriesName:w,ylabel:j,start:S,end:P}))}(c)}}}}},{key:"brush",value:function(c){return T.extend(c,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(c){c.dataLabels=c.dataLabels||{},c.dataLabels.formatter=c.dataLabels.formatter||void 0;var d=c.dataLabels.formatter;return c.yaxis.forEach(function(m,v){c.yaxis[v].min=0,c.yaxis[v].max=100}),c.chart.type==="bar"&&(c.dataLabels.formatter=d||function(m){return typeof m=="number"&&m?m.toFixed(0)+"%":m}),c}},{key:"stackedBars",value:function(){var c=this.bar();return n(n({},c),{},{plotOptions:n(n({},c.plotOptions),{},{bar:n(n({},c.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(c){return c.xaxis.convertedCatToNumeric=!0,c}},{key:"convertCatToNumericXaxis",value:function(c,d,m){c.xaxis.type="numeric",c.xaxis.labels=c.xaxis.labels||{},c.xaxis.labels.formatter=c.xaxis.labels.formatter||function(j){return T.isNumber(j)?Math.floor(j):j};var v=c.xaxis.labels.formatter,w=c.xaxis.categories&&c.xaxis.categories.length?c.xaxis.categories:c.labels;return m&&m.length&&(w=m.map(function(j){return Array.isArray(j)?j:String(j)})),w&&w.length&&(c.xaxis.labels.formatter=function(j){return T.isNumber(j)?v(w[Math.floor(j)-1]):v(j)}),c.xaxis.categories=[],c.labels=[],c.xaxis.tickAmount=c.xaxis.tickAmount||"dataPoints",c}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(c){return c.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(c){return c.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(c){return c.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(c){return c},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(c,d,m,v,w){var j=c.globals.seriesCandleO[d][m],S=c.globals.seriesCandleH[d][m],P=c.globals.seriesCandleM[d][m],I=c.globals.seriesCandleL[d][m],z=c.globals.seriesCandleC[d][m];return c.config.series[d].type&&c.config.series[d].type!==w?`<div class="apexcharts-custom-tooltip">
          `.concat(c.config.series[d].name?c.config.series[d].name:"series-"+(d+1),": <strong>").concat(c.globals.series[d][m],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(c.config.chart.type,'">')+"<div>".concat(v[0],': <span class="value">')+j+"</span></div>"+"<div>".concat(v[1],': <span class="value">')+S+"</span></div>"+(P?"<div>".concat(v[2],': <span class="value">')+P+"</span></div>":"")+"<div>".concat(v[3],': <span class="value">')+I+"</span></div>"+"<div>".concat(v[4],': <span class="value">')+z+"</span></div></div>"}}]),me}(),ue=function(){function me(c){a(this,me),this.opts=c}return l(me,[{key:"init",value:function(c){var d=c.responsiveOverride,m=this.opts,v=new he,w=new G(m);this.chartType=m.chart.type,m=this.extendYAxis(m),m=this.extendAnnotations(m);var j=v.init(),S={};if(m&&i(m)==="object"){var P,I,z,U,X,Q,te,ae,pe,we,Ce={};Ce=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(m.chart.type)!==-1?w[m.chart.type]():w.line(),(P=m.plotOptions)!==null&&P!==void 0&&(I=P.bar)!==null&&I!==void 0&&I.isFunnel&&(Ce=w.funnel()),m.chart.stacked&&m.chart.type==="bar"&&(Ce=w.stackedBars()),(z=m.chart.brush)!==null&&z!==void 0&&z.enabled&&(Ce=w.brush(Ce)),m.chart.stacked&&m.chart.stackType==="100%"&&(m=w.stacked100(m)),(U=m.plotOptions)!==null&&U!==void 0&&(X=U.bar)!==null&&X!==void 0&&X.isDumbbell&&(m=w.dumbbell(m)),((Q=m)===null||Q===void 0||(te=Q.stroke)===null||te===void 0?void 0:te.curve)==="monotoneCubic"&&(m.stroke.curve="smooth"),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(m),m.xaxis=m.xaxis||window.Apex.xaxis||{},d||(m.xaxis.convertedCatToNumeric=!1),((ae=(m=this.checkForCatToNumericXAxis(this.chartType,Ce,m)).chart.sparkline)!==null&&ae!==void 0&&ae.enabled||(pe=window.Apex.chart)!==null&&pe!==void 0&&(we=pe.sparkline)!==null&&we!==void 0&&we.enabled)&&(Ce=w.sparkline(Ce)),S=T.extend(j,Ce)}var R=T.extend(S,window.Apex);return j=T.extend(R,m),j=this.handleUserInputErrors(j)}},{key:"checkForCatToNumericXAxis",value:function(c,d,m){var v,w,j=new G(m),S=(c==="bar"||c==="boxPlot")&&((v=m.plotOptions)===null||v===void 0||(w=v.bar)===null||w===void 0?void 0:w.horizontal),P=c==="pie"||c==="polarArea"||c==="donut"||c==="radar"||c==="radialBar"||c==="heatmap",I=m.xaxis.type!=="datetime"&&m.xaxis.type!=="numeric",z=m.xaxis.tickPlacement?m.xaxis.tickPlacement:d.xaxis&&d.xaxis.tickPlacement;return S||P||!I||z==="between"||(m=j.convertCatToNumeric(m)),m}},{key:"extendYAxis",value:function(c,d){var m=new he;(c.yaxis===void 0||!c.yaxis||Array.isArray(c.yaxis)&&c.yaxis.length===0)&&(c.yaxis={}),c.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(c.yaxis=T.extend(c.yaxis,window.Apex.yaxis)),c.yaxis.constructor!==Array?c.yaxis=[T.extend(m.yAxis,c.yaxis)]:c.yaxis=T.extendArray(c.yaxis,m.yAxis);var v=!1;c.yaxis.forEach(function(j){j.logarithmic&&(v=!0)});var w=c.series;return d&&!w&&(w=d.config.series),v&&w.length!==c.yaxis.length&&w.length&&(c.yaxis=w.map(function(j,S){if(j.name||(w[S].name="series-".concat(S+1)),c.yaxis[S])return c.yaxis[S].seriesName=w[S].name,c.yaxis[S];var P=T.extend(m.yAxis,c.yaxis[0]);return P.show=!1,P})),v&&w.length>1&&w.length!==c.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),c}},{key:"extendAnnotations",value:function(c){return c.annotations===void 0&&(c.annotations={},c.annotations.yaxis=[],c.annotations.xaxis=[],c.annotations.points=[]),c=this.extendYAxisAnnotations(c),c=this.extendXAxisAnnotations(c),c=this.extendPointAnnotations(c)}},{key:"extendYAxisAnnotations",value:function(c){var d=new he;return c.annotations.yaxis=T.extendArray(c.annotations.yaxis!==void 0?c.annotations.yaxis:[],d.yAxisAnnotation),c}},{key:"extendXAxisAnnotations",value:function(c){var d=new he;return c.annotations.xaxis=T.extendArray(c.annotations.xaxis!==void 0?c.annotations.xaxis:[],d.xAxisAnnotation),c}},{key:"extendPointAnnotations",value:function(c){var d=new he;return c.annotations.points=T.extendArray(c.annotations.points!==void 0?c.annotations.points:[],d.pointAnnotation),c}},{key:"checkForDarkTheme",value:function(c){c.theme&&c.theme.mode==="dark"&&(c.tooltip||(c.tooltip={}),c.tooltip.theme!=="light"&&(c.tooltip.theme="dark"),c.chart.foreColor||(c.chart.foreColor="#f6f7f8"),c.chart.background||(c.chart.background="#424242"),c.theme.palette||(c.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(c){var d=c;if(d.tooltip.shared&&d.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(d.chart.type==="bar"&&d.plotOptions.bar.horizontal){if(d.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");d.yaxis[0].reversed&&(d.yaxis[0].opposite=!0),d.xaxis.tooltip.enabled=!1,d.yaxis[0].tooltip.enabled=!1,d.chart.zoom.enabled=!1}return d.chart.type!=="bar"&&d.chart.type!=="rangeBar"||d.tooltip.shared&&d.xaxis.crosshairs.width==="barWidth"&&d.series.length>1&&(d.xaxis.crosshairs.width="tickWidth"),d.chart.type!=="candlestick"&&d.chart.type!=="boxPlot"||d.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(d.chart.type," chart is not supported.")),d.yaxis[0].reversed=!1),d}}]),me}(),ke=function(){function me(){a(this,me)}return l(me,[{key:"initGlobalVars",value:function(c){c.series=[],c.seriesCandleO=[],c.seriesCandleH=[],c.seriesCandleM=[],c.seriesCandleL=[],c.seriesCandleC=[],c.seriesRangeStart=[],c.seriesRangeEnd=[],c.seriesRange=[],c.seriesPercent=[],c.seriesGoals=[],c.seriesX=[],c.seriesZ=[],c.seriesNames=[],c.seriesTotals=[],c.seriesLog=[],c.seriesColors=[],c.stackedSeriesTotals=[],c.seriesXvalues=[],c.seriesYvalues=[],c.labels=[],c.hasXaxisGroups=!1,c.groups=[],c.hasSeriesGroups=!1,c.seriesGroups=[],c.categoryLabels=[],c.timescaleLabels=[],c.noLabelsProvided=!1,c.resizeTimer=null,c.selectionResizeTimer=null,c.delayedElements=[],c.pointsArray=[],c.dataLabelsRects=[],c.isXNumeric=!1,c.skipLastTimelinelabel=!1,c.skipFirstTimelinelabel=!1,c.isDataXYZ=!1,c.isMultiLineX=!1,c.isMultipleYAxis=!1,c.maxY=-Number.MAX_VALUE,c.minY=Number.MIN_VALUE,c.minYArr=[],c.maxYArr=[],c.maxX=-Number.MAX_VALUE,c.minX=Number.MAX_VALUE,c.initialMaxX=-Number.MAX_VALUE,c.initialMinX=Number.MAX_VALUE,c.maxDate=0,c.minDate=Number.MAX_VALUE,c.minZ=Number.MAX_VALUE,c.maxZ=-Number.MAX_VALUE,c.minXDiff=Number.MAX_VALUE,c.yAxisScale=[],c.xAxisScale=null,c.xAxisTicksPositions=[],c.yLabelsCoords=[],c.yTitleCoords=[],c.barPadForNumericAxis=0,c.padHorizontal=0,c.xRange=0,c.yRange=[],c.zRange=0,c.dataPoints=0,c.xTickAmount=0}},{key:"globalVars",value:function(c){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:c.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:c.chart.toolbar.autoSelected==="zoom"&&c.chart.toolbar.tools.zoom&&c.chart.zoom.enabled,panEnabled:c.chart.toolbar.autoSelected==="pan"&&c.chart.toolbar.tools.pan,selectionEnabled:c.chart.toolbar.autoSelected==="selection"&&c.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(c){var d=this.globalVars(c);return this.initGlobalVars(d),d.initialConfig=T.extend({},c),d.initialSeries=T.clone(c.series),d.lastXAxis=T.clone(d.initialConfig.xaxis),d.lastYAxis=T.clone(d.initialConfig.yaxis),d}}]),me}(),ve=function(){function me(c){a(this,me),this.opts=c}return l(me,[{key:"init",value:function(){var c=new ue(this.opts).init({responsiveOverride:!1});return{config:c,globals:new ke().init(c)}}}]),me}(),Se=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.opts=null,this.seriesIndex=0}return l(me,[{key:"clippedImgArea",value:function(c){var d=this.w,m=d.config,v=parseInt(d.globals.gridWidth,10),w=parseInt(d.globals.gridHeight,10),j=v>w?v:w,S=c.image,P=0,I=0;c.width===void 0&&c.height===void 0?m.fill.image.width!==void 0&&m.fill.image.height!==void 0?(P=m.fill.image.width+1,I=m.fill.image.height):(P=j+1,I=j):(P=c.width,I=c.height);var z=document.createElementNS(d.globals.SVGNS,"pattern");F.setAttrs(z,{id:c.patternID,patternUnits:c.patternUnits?c.patternUnits:"userSpaceOnUse",width:P+"px",height:I+"px"});var U=document.createElementNS(d.globals.SVGNS,"image");z.appendChild(U),U.setAttributeNS(window.SVG.xlink,"href",S),F.setAttrs(U,{x:0,y:0,preserveAspectRatio:"none",width:P+"px",height:I+"px"}),U.style.opacity=c.opacity,d.globals.dom.elDefs.node.appendChild(z)}},{key:"getSeriesIndex",value:function(c){var d=this.w,m=d.config.chart.type;return(m==="bar"||m==="rangeBar")&&d.config.plotOptions.bar.distributed||m==="heatmap"||m==="treemap"?this.seriesIndex=c.seriesNumber:this.seriesIndex=c.seriesNumber%d.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(c){var d=this.w;this.opts=c;var m,v,w,j=this.w.config;this.seriesIndex=this.getSeriesIndex(c);var S=this.getFillColors()[this.seriesIndex];d.globals.seriesColors[this.seriesIndex]!==void 0&&(S=d.globals.seriesColors[this.seriesIndex]),typeof S=="function"&&(S=S({seriesIndex:this.seriesIndex,dataPointIndex:c.dataPointIndex,value:c.value,w:d}));var P=c.fillType?c.fillType:this.getFillType(this.seriesIndex),I=Array.isArray(j.fill.opacity)?j.fill.opacity[this.seriesIndex]:j.fill.opacity;c.color&&(S=c.color),S||(S="#fff",console.warn("undefined color - ApexCharts"));var z=S;if(S.indexOf("rgb")===-1?S.length<9&&(z=T.hexToRgba(S,I)):S.indexOf("rgba")>-1&&(I=T.getOpacityFromRGBA(S)),c.opacity&&(I=c.opacity),P==="pattern"&&(v=this.handlePatternFill({fillConfig:c.fillConfig,patternFill:v,fillColor:S,fillOpacity:I,defaultColor:z})),P==="gradient"&&(w=this.handleGradientFill({fillConfig:c.fillConfig,fillColor:S,fillOpacity:I,i:this.seriesIndex})),P==="image"){var U=j.fill.image.src,X=c.patternID?c.patternID:"";this.clippedImgArea({opacity:I,image:Array.isArray(U)?c.seriesNumber<U.length?U[c.seriesNumber]:U[0]:U,width:c.width?c.width:void 0,height:c.height?c.height:void 0,patternUnits:c.patternUnits,patternID:"pattern".concat(d.globals.cuid).concat(c.seriesNumber+1).concat(X)}),m="url(#pattern".concat(d.globals.cuid).concat(c.seriesNumber+1).concat(X,")")}else m=P==="gradient"?w:P==="pattern"?v:z;return c.solid&&(m=z),m}},{key:"getFillType",value:function(c){var d=this.w;return Array.isArray(d.config.fill.type)?d.config.fill.type[c]:d.config.fill.type}},{key:"getFillColors",value:function(){var c=this.w,d=c.config,m=this.opts,v=[];return c.globals.comboCharts?c.config.series[this.seriesIndex].type==="line"?Array.isArray(c.globals.stroke.colors)?v=c.globals.stroke.colors:v.push(c.globals.stroke.colors):Array.isArray(c.globals.fill.colors)?v=c.globals.fill.colors:v.push(c.globals.fill.colors):d.chart.type==="line"?Array.isArray(c.globals.stroke.colors)?v=c.globals.stroke.colors:v.push(c.globals.stroke.colors):Array.isArray(c.globals.fill.colors)?v=c.globals.fill.colors:v.push(c.globals.fill.colors),m.fillColors!==void 0&&(v=[],Array.isArray(m.fillColors)?v=m.fillColors.slice():v.push(m.fillColors)),v}},{key:"handlePatternFill",value:function(c){var d=c.fillConfig,m=c.patternFill,v=c.fillColor,w=c.fillOpacity,j=c.defaultColor,S=this.w.config.fill;d&&(S=d);var P=this.opts,I=new F(this.ctx),z=Array.isArray(S.pattern.strokeWidth)?S.pattern.strokeWidth[this.seriesIndex]:S.pattern.strokeWidth,U=v;return Array.isArray(S.pattern.style)?m=S.pattern.style[P.seriesNumber]!==void 0?I.drawPattern(S.pattern.style[P.seriesNumber],S.pattern.width,S.pattern.height,U,z,w):j:m=I.drawPattern(S.pattern.style,S.pattern.width,S.pattern.height,U,z,w),m}},{key:"handleGradientFill",value:function(c){var d=c.fillColor,m=c.fillOpacity,v=c.fillConfig,w=c.i,j=this.w.config.fill;v&&(j=n(n({},j),v));var S,P=this.opts,I=new F(this.ctx),z=new T,U=j.gradient.type,X=d,Q=j.gradient.opacityFrom===void 0?m:Array.isArray(j.gradient.opacityFrom)?j.gradient.opacityFrom[w]:j.gradient.opacityFrom;X.indexOf("rgba")>-1&&(Q=T.getOpacityFromRGBA(X));var te=j.gradient.opacityTo===void 0?m:Array.isArray(j.gradient.opacityTo)?j.gradient.opacityTo[w]:j.gradient.opacityTo;if(j.gradient.gradientToColors===void 0||j.gradient.gradientToColors.length===0)S=j.gradient.shade==="dark"?z.shadeColor(-1*parseFloat(j.gradient.shadeIntensity),d.indexOf("rgb")>-1?T.rgb2hex(d):d):z.shadeColor(parseFloat(j.gradient.shadeIntensity),d.indexOf("rgb")>-1?T.rgb2hex(d):d);else if(j.gradient.gradientToColors[P.seriesNumber]){var ae=j.gradient.gradientToColors[P.seriesNumber];S=ae,ae.indexOf("rgba")>-1&&(te=T.getOpacityFromRGBA(ae))}else S=d;if(j.gradient.gradientFrom&&(X=j.gradient.gradientFrom),j.gradient.gradientTo&&(S=j.gradient.gradientTo),j.gradient.inverseColors){var pe=X;X=S,S=pe}return X.indexOf("rgb")>-1&&(X=T.rgb2hex(X)),S.indexOf("rgb")>-1&&(S=T.rgb2hex(S)),I.drawGradient(U,X,S,Q,te,P.size,j.gradient.stops,j.gradient.colorStops,w)}}]),me}(),He=function(){function me(c,d){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"setGlobalMarkerSize",value:function(){var c=this.w;if(c.globals.markers.size=Array.isArray(c.config.markers.size)?c.config.markers.size:[c.config.markers.size],c.globals.markers.size.length>0){if(c.globals.markers.size.length<c.globals.series.length+1)for(var d=0;d<=c.globals.series.length;d++)c.globals.markers.size[d]===void 0&&c.globals.markers.size.push(c.globals.markers.size[0])}else c.globals.markers.size=c.config.series.map(function(m){return c.config.markers.size})}},{key:"plotChartMarkers",value:function(c,d,m,v){var w,j=arguments.length>4&&arguments[4]!==void 0&&arguments[4],S=this.w,P=d,I=c,z=null,U=new F(this.ctx),X=S.config.markers.discrete&&S.config.markers.discrete.length;if((S.globals.markers.size[d]>0||j||X)&&(z=U.group({class:j||X?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(S.globals.cuid,")")),Array.isArray(I.x))for(var Q=0;Q<I.x.length;Q++){var te=m;m===1&&Q===0&&(te=0),m===1&&Q===1&&(te=1);var ae="apexcharts-marker";if(S.config.chart.type!=="line"&&S.config.chart.type!=="area"||S.globals.comboCharts||S.config.tooltip.intersect||(ae+=" no-pointer-events"),(Array.isArray(S.config.markers.size)?S.globals.markers.size[d]>0:S.config.markers.size>0)||j||X){T.isNumber(I.y[Q])?ae+=" w".concat(T.randomId()):ae="apexcharts-nullpoint";var pe=this.getMarkerConfig({cssClass:ae,seriesIndex:d,dataPointIndex:te});S.config.series[P].data[te]&&(S.config.series[P].data[te].fillColor&&(pe.pointFillColor=S.config.series[P].data[te].fillColor),S.config.series[P].data[te].strokeColor&&(pe.pointStrokeColor=S.config.series[P].data[te].strokeColor)),v&&(pe.pSize=v),(I.x[Q]<0||I.x[Q]>S.globals.gridWidth||I.y[Q]<-S.globals.markers.largestSize||I.y[Q]>S.globals.gridHeight+S.globals.markers.largestSize)&&(pe.pSize=0),(w=U.drawMarker(I.x[Q],I.y[Q],pe)).attr("rel",te),w.attr("j",te),w.attr("index",d),w.node.setAttribute("default-marker-size",pe.pSize),new B(this.ctx).setSelectionFilter(w,d,te),this.addEvents(w),z&&z.add(w)}else S.globals.pointsArray[d]===void 0&&(S.globals.pointsArray[d]=[]),S.globals.pointsArray[d].push([I.x[Q],I.y[Q]])}return z}},{key:"getMarkerConfig",value:function(c){var d=c.cssClass,m=c.seriesIndex,v=c.dataPointIndex,w=v===void 0?null:v,j=c.finishRadius,S=j===void 0?null:j,P=this.w,I=this.getMarkerStyle(m),z=P.globals.markers.size[m],U=P.config.markers;return w!==null&&U.discrete.length&&U.discrete.map(function(X){X.seriesIndex===m&&X.dataPointIndex===w&&(I.pointStrokeColor=X.strokeColor,I.pointFillColor=X.fillColor,z=X.size,I.pointShape=X.shape)}),{pSize:S===null?z:S,pRadius:U.radius,width:Array.isArray(U.width)?U.width[m]:U.width,height:Array.isArray(U.height)?U.height[m]:U.height,pointStrokeWidth:Array.isArray(U.strokeWidth)?U.strokeWidth[m]:U.strokeWidth,pointStrokeColor:I.pointStrokeColor,pointFillColor:I.pointFillColor,shape:I.pointShape||(Array.isArray(U.shape)?U.shape[m]:U.shape),class:d,pointStrokeOpacity:Array.isArray(U.strokeOpacity)?U.strokeOpacity[m]:U.strokeOpacity,pointStrokeDashArray:Array.isArray(U.strokeDashArray)?U.strokeDashArray[m]:U.strokeDashArray,pointFillOpacity:Array.isArray(U.fillOpacity)?U.fillOpacity[m]:U.fillOpacity,seriesIndex:m}}},{key:"addEvents",value:function(c){var d=this.w,m=new F(this.ctx);c.node.addEventListener("mouseenter",m.pathMouseEnter.bind(this.ctx,c)),c.node.addEventListener("mouseleave",m.pathMouseLeave.bind(this.ctx,c)),c.node.addEventListener("mousedown",m.pathMouseDown.bind(this.ctx,c)),c.node.addEventListener("click",d.config.markers.onClick),c.node.addEventListener("dblclick",d.config.markers.onDblClick),c.node.addEventListener("touchstart",m.pathMouseDown.bind(this.ctx,c),{passive:!0})}},{key:"getMarkerStyle",value:function(c){var d=this.w,m=d.globals.markers.colors,v=d.config.markers.strokeColor||d.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(v)?v[c]:v,pointFillColor:Array.isArray(m)?m[c]:m}}}]),me}(),De=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return l(me,[{key:"draw",value:function(c,d,m){var v=this.w,w=new F(this.ctx),j=m.realIndex,S=m.pointsPos,P=m.zRatio,I=m.elParent,z=w.group({class:"apexcharts-series-markers apexcharts-series-".concat(v.config.chart.type)});if(z.attr("clip-path","url(#gridRectMarkerMask".concat(v.globals.cuid,")")),Array.isArray(S.x))for(var U=0;U<S.x.length;U++){var X=d+1,Q=!0;d===0&&U===0&&(X=0),d===0&&U===1&&(X=1);var te=0,ae=v.globals.markers.size[j];if(P!==1/0){var pe=v.config.plotOptions.bubble;ae=v.globals.seriesZ[j][X],pe.zScaling&&(ae/=P),pe.minBubbleRadius&&ae<pe.minBubbleRadius&&(ae=pe.minBubbleRadius),pe.maxBubbleRadius&&ae>pe.maxBubbleRadius&&(ae=pe.maxBubbleRadius)}v.config.chart.animations.enabled||(te=ae);var we=S.x[U],Ce=S.y[U];if(te=te||0,Ce!==null&&v.globals.series[j][X]!==void 0||(Q=!1),Q){var R=this.drawPoint(we,Ce,te,ae,j,X,d);z.add(R)}I.add(z)}}},{key:"drawPoint",value:function(c,d,m,v,w,j,S){var P=this.w,I=w,z=new M(this.ctx),U=new B(this.ctx),X=new Se(this.ctx),Q=new He(this.ctx),te=new F(this.ctx),ae=Q.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:I,dataPointIndex:j,finishRadius:P.config.chart.type==="bubble"||P.globals.comboCharts&&P.config.series[w]&&P.config.series[w].type==="bubble"?v:null});v=ae.pSize;var pe,we=X.fillPath({seriesNumber:w,dataPointIndex:j,color:ae.pointFillColor,patternUnits:"objectBoundingBox",value:P.globals.series[w][S]});if(ae.shape==="circle"?pe=te.drawCircle(m):ae.shape!=="square"&&ae.shape!=="rect"||(pe=te.drawRect(0,0,ae.width-ae.pointStrokeWidth/2,ae.height-ae.pointStrokeWidth/2,ae.pRadius)),P.config.series[I].data[j]&&P.config.series[I].data[j].fillColor&&(we=P.config.series[I].data[j].fillColor),pe.attr({x:c-ae.width/2-ae.pointStrokeWidth/2,y:d-ae.height/2-ae.pointStrokeWidth/2,cx:c,cy:d,fill:we,"fill-opacity":ae.pointFillOpacity,stroke:ae.pointStrokeColor,r:v,"stroke-width":ae.pointStrokeWidth,"stroke-dasharray":ae.pointStrokeDashArray,"stroke-opacity":ae.pointStrokeOpacity}),P.config.chart.dropShadow.enabled){var Ce=P.config.chart.dropShadow;U.dropShadow(pe,Ce,w)}if(!this.initialAnim||P.globals.dataChanged||P.globals.resized)P.globals.animationEnded=!0;else{var R=P.config.chart.animations.speed;z.animateMarker(pe,0,ae.shape==="circle"?v:{width:ae.width,height:ae.height},R,P.globals.easing,function(){window.setTimeout(function(){z.animationCompleted(pe)},100)})}if(P.globals.dataChanged&&ae.shape==="circle")if(this.dynamicAnim){var q,se,be,Pe,Le=P.config.chart.animations.dynamicAnimation.speed;(Pe=P.globals.previousPaths[w]&&P.globals.previousPaths[w][S])!=null&&(q=Pe.x,se=Pe.y,be=Pe.r!==void 0?Pe.r:v);for(var ze=0;ze<P.globals.collapsedSeries.length;ze++)P.globals.collapsedSeries[ze].index===w&&(Le=1,v=0);c===0&&d===0&&(v=0),z.animateCircle(pe,{cx:q,cy:se,r:be},{cx:c,cy:d,r:v},Le,P.globals.easing)}else pe.attr({r:v});return pe.attr({rel:j,j,index:w,"default-marker-size":v}),U.setSelectionFilter(pe,w,j),Q.addEvents(pe),pe.node.classList.add("apexcharts-marker"),pe}},{key:"centerTextInBubble",value:function(c){var d=this.w;return{y:c+=parseInt(d.config.dataLabels.style.fontSize,10)/4}}}]),me}(),$e=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"dataLabelsCorrection",value:function(c,d,m,v,w,j,S){var P=this.w,I=!1,z=new F(this.ctx).getTextRects(m,S),U=z.width,X=z.height;d<0&&(d=0),d>P.globals.gridHeight+X&&(d=P.globals.gridHeight+X/2),P.globals.dataLabelsRects[v]===void 0&&(P.globals.dataLabelsRects[v]=[]),P.globals.dataLabelsRects[v].push({x:c,y:d,width:U,height:X});var Q=P.globals.dataLabelsRects[v].length-2,te=P.globals.lastDrawnDataLabelsIndexes[v]!==void 0?P.globals.lastDrawnDataLabelsIndexes[v][P.globals.lastDrawnDataLabelsIndexes[v].length-1]:0;if(P.globals.dataLabelsRects[v][Q]!==void 0){var ae=P.globals.dataLabelsRects[v][te];(c>ae.x+ae.width||d>ae.y+ae.height||d+X<ae.y||c+U<ae.x)&&(I=!0)}return(w===0||j)&&(I=!0),{x:c,y:d,textRects:z,drawnextLabel:I}}},{key:"drawDataLabel",value:function(c){var d=this,m=c.type,v=c.pos,w=c.i,j=c.j,S=c.isRangeStart,P=c.strokeWidth,I=P===void 0?2:P,z=this.w,U=new F(this.ctx),X=z.config.dataLabels,Q=0,te=0,ae=j,pe=null;if(!X.enabled||!Array.isArray(v.x))return pe;pe=U.group({class:"apexcharts-data-labels"});for(var we=0;we<v.x.length;we++)if(Q=v.x[we]+X.offsetX,te=v.y[we]+X.offsetY+I,!isNaN(Q)){j===1&&we===0&&(ae=0),j===1&&we===1&&(ae=1);var Ce=z.globals.series[w][ae];m==="rangeArea"&&(Ce=S?z.globals.seriesRangeStart[w][ae]:z.globals.seriesRangeEnd[w][ae]);var R="",q=function(se){return z.config.dataLabels.formatter(se,{ctx:d.ctx,seriesIndex:w,dataPointIndex:ae,w:z})};z.config.chart.type==="bubble"?(R=q(Ce=z.globals.seriesZ[w][ae]),te=v.y[we],te=new De(this.ctx).centerTextInBubble(te,w,ae).y):Ce!==void 0&&(R=q(Ce)),this.plotDataLabelsText({x:Q,y:te,text:R,i:w,j:ae,parent:pe,offsetCorrection:!0,dataLabelsConfig:z.config.dataLabels})}return pe}},{key:"plotDataLabelsText",value:function(c){var d=this.w,m=new F(this.ctx),v=c.x,w=c.y,j=c.i,S=c.j,P=c.text,I=c.textAnchor,z=c.fontSize,U=c.parent,X=c.dataLabelsConfig,Q=c.color,te=c.alwaysDrawDataLabel,ae=c.offsetCorrection;if(!(Array.isArray(d.config.dataLabels.enabledOnSeries)&&d.config.dataLabels.enabledOnSeries.indexOf(j)<0)){var pe={x:v,y:w,drawnextLabel:!0,textRects:null};ae&&(pe=this.dataLabelsCorrection(v,w,P,j,S,te,parseInt(X.style.fontSize,10))),d.globals.zoomed||(v=pe.x,w=pe.y),pe.textRects&&(v<-10-pe.textRects.width||v>d.globals.gridWidth+pe.textRects.width+10)&&(P="");var we=d.globals.dataLabels.style.colors[j];((d.config.chart.type==="bar"||d.config.chart.type==="rangeBar")&&d.config.plotOptions.bar.distributed||d.config.dataLabels.distributed)&&(we=d.globals.dataLabels.style.colors[S]),typeof we=="function"&&(we=we({series:d.globals.series,seriesIndex:j,dataPointIndex:S,w:d})),Q&&(we=Q);var Ce=X.offsetX,R=X.offsetY;if(d.config.chart.type!=="bar"&&d.config.chart.type!=="rangeBar"||(Ce=0,R=0),pe.drawnextLabel){var q=m.drawText({width:100,height:parseInt(X.style.fontSize,10),x:v+Ce,y:w+R,foreColor:we,textAnchor:I||X.textAnchor,text:P,fontSize:z||X.style.fontSize,fontFamily:X.style.fontFamily,fontWeight:X.style.fontWeight||"normal"});if(q.attr({class:"apexcharts-datalabel",cx:v,cy:w}),X.dropShadow.enabled){var se=X.dropShadow;new B(this.ctx).dropShadow(q,se)}U.add(q),d.globals.lastDrawnDataLabelsIndexes[j]===void 0&&(d.globals.lastDrawnDataLabelsIndexes[j]=[]),d.globals.lastDrawnDataLabelsIndexes[j].push(S)}}}},{key:"addBackgroundToDataLabel",value:function(c,d){var m=this.w,v=m.config.dataLabels.background,w=v.padding,j=v.padding/2,S=d.width,P=d.height,I=new F(this.ctx).drawRect(d.x-w,d.y-j/2,S+2*w,P+j,v.borderRadius,m.config.chart.background==="transparent"?"#fff":m.config.chart.background,v.opacity,v.borderWidth,v.borderColor);return v.dropShadow.enabled&&new B(this.ctx).dropShadow(I,v.dropShadow),I}},{key:"dataLabelsBackground",value:function(){var c=this.w;if(c.config.chart.type!=="bubble")for(var d=c.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),m=0;m<d.length;m++){var v=d[m],w=v.getBBox(),j=null;if(w.width&&w.height&&(j=this.addBackgroundToDataLabel(v,w)),j){v.parentNode.insertBefore(j.node,v);var S=v.getAttribute("fill");c.config.chart.animations.enabled&&!c.globals.resized&&!c.globals.dataChanged?j.animate().attr({fill:S}):j.attr({fill:S}),v.setAttribute("fill",c.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var c=this.w,d=c.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),m=c.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),v=0;v<d.length;v++)m&&m.insertBefore(d[v],m.nextSibling)}}]),me}(),Ue=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.legendInactiveClass="legend-mouseover-inactive"}return l(me,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(c){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(T.escapeString(c),"']"))}},{key:"isSeriesHidden",value:function(c){var d=this.getSeriesByName(c),m=parseInt(d.getAttribute("data:realIndex"),10);return{isHidden:d.classList.contains("apexcharts-series-collapsed"),realIndex:m}}},{key:"addCollapsedClassToSeries",value:function(c,d){var m=this.w;function v(w){for(var j=0;j<w.length;j++)w[j].index===d&&c.node.classList.add("apexcharts-series-collapsed")}v(m.globals.collapsedSeries),v(m.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(c){var d=this.isSeriesHidden(c);return this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,d.isHidden),d.isHidden}},{key:"showSeries",value:function(c){var d=this.isSeriesHidden(c);d.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,!0)}},{key:"hideSeries",value:function(c){var d=this.isSeriesHidden(c);d.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(d.realIndex,!1)}},{key:"resetSeries",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],m=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=this.w,w=T.clone(v.globals.initialSeries);v.globals.previousPaths=[],m?(v.globals.collapsedSeries=[],v.globals.ancillaryCollapsedSeries=[],v.globals.collapsedSeriesIndices=[],v.globals.ancillaryCollapsedSeriesIndices=[]):w=this.emptyCollapsedSeries(w),v.config.series=w,c&&(d&&(v.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(w,v.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(c){for(var d=this.w,m=0;m<c.length;m++)d.globals.collapsedSeriesIndices.indexOf(m)>-1&&(c[m].data=[]);return c}},{key:"toggleSeriesOnHover",value:function(c,d){var m=this.w;d||(d=c.target);var v=m.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(c.type==="mousemove"){var w=parseInt(d.getAttribute("rel"),10)-1,j=null,S=null;m.globals.axisCharts||m.config.chart.type==="radialBar"?m.globals.axisCharts?(j=m.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(w,"']")),S=m.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(w,"']"))):j=m.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(w+1,"']")):j=m.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(w+1,"'] path"));for(var P=0;P<v.length;P++)v[P].classList.add(this.legendInactiveClass);j!==null&&(m.globals.axisCharts||j.parentNode.classList.remove(this.legendInactiveClass),j.classList.remove(this.legendInactiveClass),S!==null&&S.classList.remove(this.legendInactiveClass))}else if(c.type==="mouseout")for(var I=0;I<v.length;I++)v[I].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(c,d){var m=this,v=this.w,w=v.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),j=function(P){for(var I=0;I<w.length;I++)w[I].classList[P](m.legendInactiveClass)};if(c.type==="mousemove"){var S=parseInt(d.getAttribute("rel"),10)-1;j("add"),function(P){for(var I=0;I<w.length;I++){var z=parseInt(w[I].getAttribute("val"),10);z>=P.from&&z<=P.to&&w[I].classList.remove(m.legendInactiveClass)}}(v.config.plotOptions.heatmap.colorScale.ranges[S])}else c.type==="mouseout"&&j("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=this.w,v=0;if(m.config.series.length>1){for(var w=m.config.series.map(function(S,P){return S.data&&S.data.length>0&&m.globals.collapsedSeriesIndices.indexOf(P)===-1&&(!m.globals.comboCharts||d.length===0||d.length&&d.indexOf(m.config.series[P].type)>-1)?P:-1}),j=c==="asc"?0:w.length-1;c==="asc"?j<w.length:j>=0;c==="asc"?j++:j--)if(w[j]!==-1){v=w[j];break}}return v}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(c,d){return c.type==="bar"||c.type==="column"?d:-1}).filter(function(c){return c!==-1}):this.w.config.series.map(function(c,d){return d})}},{key:"getPreviousPaths",value:function(){var c=this.w;function d(j,S,P){for(var I=j[S].childNodes,z={type:P,paths:[],realIndex:j[S].getAttribute("data:realIndex")},U=0;U<I.length;U++)if(I[U].hasAttribute("pathTo")){var X=I[U].getAttribute("pathTo");z.paths.push({d:X})}c.globals.previousPaths.push(z)}c.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(j){for(var S,P=(S=j,c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(S,"-series .apexcharts-series"))),I=0;I<P.length;I++)d(P,I,j)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var m=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c.config.chart.type," .apexcharts-series"));if(m.length>0)for(var v=function(j){for(var S=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(j,"'] rect")),P=[],I=function(U){var X=function(te){return S[U].getAttribute(te)},Q={x:parseFloat(X("x")),y:parseFloat(X("y")),width:parseFloat(X("width")),height:parseFloat(X("height"))};P.push({rect:Q,color:S[U].getAttribute("color")})},z=0;z<S.length;z++)I(z);c.globals.previousPaths.push(P)},w=0;w<m.length;w++)v(w);c.globals.axisCharts||(c.globals.previousPaths=c.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(c){var d=this.w,m=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c,"-series .apexcharts-series"));if(m.length>0)for(var v=0;v<m.length;v++){for(var w=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c,"-series .apexcharts-series[data\\:realIndex='").concat(v,"'] circle")),j=[],S=0;S<w.length;S++)j.push({x:w[S].getAttribute("cx"),y:w[S].getAttribute("cy"),r:w[S].getAttribute("r")});d.globals.previousPaths.push(j)}}},{key:"clearPreviousPaths",value:function(){var c=this.w;c.globals.previousPaths=[],c.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var c=this.w,d=c.config.noData,m=new F(this.ctx),v=c.globals.svgWidth/2,w=c.globals.svgHeight/2,j="middle";if(c.globals.noData=!0,c.globals.animationEnded=!0,d.align==="left"?(v=10,j="start"):d.align==="right"&&(v=c.globals.svgWidth-10,j="end"),d.verticalAlign==="top"?w=50:d.verticalAlign==="bottom"&&(w=c.globals.svgHeight-50),v+=d.offsetX,w=w+parseInt(d.style.fontSize,10)+2+d.offsetY,d.text!==void 0&&d.text!==""){var S=m.drawText({x:v,y:w,text:d.text,textAnchor:j,fontSize:d.style.fontSize,fontFamily:d.style.fontFamily,foreColor:d.style.color,opacity:1,class:"apexcharts-text-nodata"});c.globals.dom.Paper.add(S)}}},{key:"setNullSeriesToZeroValues",value:function(c){for(var d=this.w,m=0;m<c.length;m++)if(c[m].length===0)for(var v=0;v<c[d.globals.maxValsInArrayIndex].length;v++)c[m].push(0);return c}},{key:"hasAllSeriesEqualX",value:function(){for(var c=!0,d=this.w,m=this.filteredSeriesX(),v=0;v<m.length-1;v++)if(m[v][0]!==m[v+1][0]){c=!1;break}return d.globals.allSeriesHasEqualX=c,c}},{key:"filteredSeriesX",value:function(){var c=this.w.globals.seriesX.map(function(d){return d.length>0?d:[]});return c}}]),me}(),Ke=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new V(this.ctx)}return l(me,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var c=this.w.config.series.slice(),d=new Ue(this.ctx);if(this.activeSeriesIndex=d.getActiveConfigSeriesIndex(),c[this.activeSeriesIndex].data!==void 0&&c[this.activeSeriesIndex].data.length>0&&c[this.activeSeriesIndex].data[0]!==null&&c[this.activeSeriesIndex].data[0].x!==void 0&&c[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var c=this.w.config.series.slice(),d=new Ue(this.ctx);if(this.activeSeriesIndex=d.getActiveConfigSeriesIndex(),c[this.activeSeriesIndex].data!==void 0&&c[this.activeSeriesIndex].data.length>0&&c[this.activeSeriesIndex].data[0]!==void 0&&c[this.activeSeriesIndex].data[0]!==null&&c[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(c,d){for(var m=this.w.config,v=this.w.globals,w=m.chart.type==="boxPlot"||m.series[d].type==="boxPlot",j=0;j<c[d].data.length;j++)if(c[d].data[j][1]!==void 0&&(Array.isArray(c[d].data[j][1])&&c[d].data[j][1].length===4&&!w?this.twoDSeries.push(T.parseNumber(c[d].data[j][1][3])):c[d].data[j].length>=5?this.twoDSeries.push(T.parseNumber(c[d].data[j][4])):this.twoDSeries.push(T.parseNumber(c[d].data[j][1])),v.dataFormatXNumeric=!0),m.xaxis.type==="datetime"){var S=new Date(c[d].data[j][0]);S=new Date(S).getTime(),this.twoDSeriesX.push(S)}else this.twoDSeriesX.push(c[d].data[j][0]);for(var P=0;P<c[d].data.length;P++)c[d].data[P][2]!==void 0&&(this.threeDSeries.push(c[d].data[P][2]),v.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(c,d){var m=this.w.config,v=this.w.globals,w=new ee(this.ctx),j=d;v.collapsedSeriesIndices.indexOf(d)>-1&&(j=this.activeSeriesIndex);for(var S=0;S<c[d].data.length;S++)c[d].data[S].y!==void 0&&(Array.isArray(c[d].data[S].y)?this.twoDSeries.push(T.parseNumber(c[d].data[S].y[c[d].data[S].y.length-1])):this.twoDSeries.push(T.parseNumber(c[d].data[S].y))),c[d].data[S].goals!==void 0&&Array.isArray(c[d].data[S].goals)?(this.seriesGoals[d]===void 0&&(this.seriesGoals[d]=[]),this.seriesGoals[d].push(c[d].data[S].goals)):(this.seriesGoals[d]===void 0&&(this.seriesGoals[d]=[]),this.seriesGoals[d].push(null));for(var P=0;P<c[j].data.length;P++){var I=typeof c[j].data[P].x=="string",z=Array.isArray(c[j].data[P].x),U=!z&&!!w.isValidDate(c[j].data[P].x.toString());if(I||U)if(I||m.xaxis.convertedCatToNumeric){var X=v.isBarHorizontal&&v.isRangeData;m.xaxis.type!=="datetime"||X?(this.fallbackToCategory=!0,this.twoDSeriesX.push(c[j].data[P].x),isNaN(c[j].data[P].x)||this.w.config.xaxis.type==="category"||typeof c[j].data[P].x=="string"||(v.isXNumeric=!0)):this.twoDSeriesX.push(w.parseDate(c[j].data[P].x))}else m.xaxis.type==="datetime"?this.twoDSeriesX.push(w.parseDate(c[j].data[P].x.toString())):(v.dataFormatXNumeric=!0,v.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(c[j].data[P].x)));else z?(this.fallbackToCategory=!0,this.twoDSeriesX.push(c[j].data[P].x)):(v.isXNumeric=!0,v.dataFormatXNumeric=!0,this.twoDSeriesX.push(c[j].data[P].x))}if(c[d].data[0]&&c[d].data[0].z!==void 0){for(var Q=0;Q<c[d].data.length;Q++)this.threeDSeries.push(c[d].data[Q].z);v.isDataXYZ=!0}}},{key:"handleRangeData",value:function(c,d){var m=this.w.globals,v={};return this.isFormat2DArray()?v=this.handleRangeDataFormat("array",c,d):this.isFormatXY()&&(v=this.handleRangeDataFormat("xy",c,d)),m.seriesRangeStart.push(v.start),m.seriesRangeEnd.push(v.end),m.seriesRange.push(v.rangeUniques),m.seriesRange.forEach(function(w,j){w&&w.forEach(function(S,P){S.y.forEach(function(I,z){for(var U=0;U<S.y.length;U++)if(z!==U){var X=I.y1,Q=I.y2,te=S.y[U].y1;X<=S.y[U].y2&&te<=Q&&(S.overlaps.indexOf(I.rangeName)<0&&S.overlaps.push(I.rangeName),S.overlaps.indexOf(S.y[U].rangeName)<0&&S.overlaps.push(S.y[U].rangeName))}})})}),v}},{key:"handleCandleStickBoxData",value:function(c,d){var m=this.w.globals,v={};return this.isFormat2DArray()?v=this.handleCandleStickBoxDataFormat("array",c,d):this.isFormatXY()&&(v=this.handleCandleStickBoxDataFormat("xy",c,d)),m.seriesCandleO[d]=v.o,m.seriesCandleH[d]=v.h,m.seriesCandleM[d]=v.m,m.seriesCandleL[d]=v.l,m.seriesCandleC[d]=v.c,v}},{key:"handleRangeDataFormat",value:function(c,d,m){var v=[],w=[],j=d[m].data.filter(function(z,U,X){return U===X.findIndex(function(Q){return Q.x===z.x})}).map(function(z,U){return{x:z.x,overlaps:[],y:[]}});if(c==="array")for(var S=0;S<d[m].data.length;S++)Array.isArray(d[m].data[S])?(v.push(d[m].data[S][1][0]),w.push(d[m].data[S][1][1])):(v.push(d[m].data[S]),w.push(d[m].data[S]));else if(c==="xy")for(var P=function(z){var U=Array.isArray(d[m].data[z].y),X=T.randomId(),Q=d[m].data[z].x,te={y1:U?d[m].data[z].y[0]:d[m].data[z].y,y2:U?d[m].data[z].y[1]:d[m].data[z].y,rangeName:X};d[m].data[z].rangeName=X;var ae=j.findIndex(function(pe){return pe.x===Q});j[ae].y.push(te),v.push(te.y1),w.push(te.y2)},I=0;I<d[m].data.length;I++)P(I);return{start:v,end:w,rangeUniques:j}}},{key:"handleCandleStickBoxDataFormat",value:function(c,d,m){var v=this.w,w=v.config.chart.type==="boxPlot"||v.config.series[m].type==="boxPlot",j=[],S=[],P=[],I=[],z=[];if(c==="array")if(w&&d[m].data[0].length===6||!w&&d[m].data[0].length===5)for(var U=0;U<d[m].data.length;U++)j.push(d[m].data[U][1]),S.push(d[m].data[U][2]),w?(P.push(d[m].data[U][3]),I.push(d[m].data[U][4]),z.push(d[m].data[U][5])):(I.push(d[m].data[U][3]),z.push(d[m].data[U][4]));else for(var X=0;X<d[m].data.length;X++)Array.isArray(d[m].data[X][1])&&(j.push(d[m].data[X][1][0]),S.push(d[m].data[X][1][1]),w?(P.push(d[m].data[X][1][2]),I.push(d[m].data[X][1][3]),z.push(d[m].data[X][1][4])):(I.push(d[m].data[X][1][2]),z.push(d[m].data[X][1][3])));else if(c==="xy")for(var Q=0;Q<d[m].data.length;Q++)Array.isArray(d[m].data[Q].y)&&(j.push(d[m].data[Q].y[0]),S.push(d[m].data[Q].y[1]),w?(P.push(d[m].data[Q].y[2]),I.push(d[m].data[Q].y[3]),z.push(d[m].data[Q].y[4])):(I.push(d[m].data[Q].y[2]),z.push(d[m].data[Q].y[3])));return{o:j,h:S,m:P,l:I,c:z}}},{key:"parseDataAxisCharts",value:function(c){var d,m=this,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,w=this.w.config,j=this.w.globals,S=new ee(v),P=w.labels.length>0?w.labels.slice():w.xaxis.categories.slice();if(j.isRangeBar=w.chart.type==="rangeBar"&&j.isBarHorizontal,j.hasXaxisGroups=w.xaxis.type==="category"&&w.xaxis.group.groups.length>0,j.hasXaxisGroups&&(j.groups=w.xaxis.group.groups),j.hasSeriesGroups=(d=c[0])===null||d===void 0?void 0:d.group,j.hasSeriesGroups){var I=[],z=k(new Set(c.map(function(te){return te.group})));c.forEach(function(te,ae){var pe=z.indexOf(te.group);I[pe]||(I[pe]=[]),I[pe].push(te.name)}),j.seriesGroups=I}for(var U=function(){for(var te=0;te<P.length;te++)if(typeof P[te]=="string"){if(!S.isValidDate(P[te]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");m.twoDSeriesX.push(S.parseDate(P[te]))}else m.twoDSeriesX.push(P[te])},X=0;X<c.length;X++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],c[X].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(w.chart.type!=="rangeBar"&&w.chart.type!=="rangeArea"&&c[X].type!=="rangeBar"&&c[X].type!=="rangeArea"||(j.isRangeData=!0,j.isComboCharts?c[X].type!=="rangeBar"&&c[X].type!=="rangeArea"||this.handleRangeData(c,X):w.chart.type!=="rangeBar"&&w.chart.type!=="rangeArea"||this.handleRangeData(c,X)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(c,X):this.isFormatXY()&&this.handleFormatXY(c,X),w.chart.type!=="candlestick"&&c[X].type!=="candlestick"&&w.chart.type!=="boxPlot"&&c[X].type!=="boxPlot"||this.handleCandleStickBoxData(c,X),j.series.push(this.twoDSeries),j.labels.push(this.twoDSeriesX),j.seriesX.push(this.twoDSeriesX),j.seriesGoals=this.seriesGoals,X!==this.activeSeriesIndex||this.fallbackToCategory||(j.isXNumeric=!0);else{w.xaxis.type==="datetime"?(j.isXNumeric=!0,U(),j.seriesX.push(this.twoDSeriesX)):w.xaxis.type==="numeric"&&(j.isXNumeric=!0,P.length>0&&(this.twoDSeriesX=P,j.seriesX.push(this.twoDSeriesX))),j.labels.push(this.twoDSeriesX);var Q=c[X].data.map(function(te){return T.parseNumber(te)});j.series.push(Q)}j.seriesZ.push(this.threeDSeries),c[X].name!==void 0?j.seriesNames.push(c[X].name):j.seriesNames.push("series-"+parseInt(X+1,10)),c[X].color!==void 0?j.seriesColors.push(c[X].color):j.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(c){var d=this.w.globals,m=this.w.config;d.series=c.slice(),d.seriesNames=m.labels.slice();for(var v=0;v<d.series.length;v++)d.seriesNames[v]===void 0&&d.seriesNames.push("series-"+(v+1));return this.w}},{key:"handleExternalLabelsData",value:function(c){var d=this.w.config,m=this.w.globals;d.xaxis.categories.length>0?m.labels=d.xaxis.categories:d.labels.length>0?m.labels=d.labels.slice():this.fallbackToCategory?(m.labels=m.labels[0],m.seriesRange.length&&(m.seriesRange.map(function(v){v.forEach(function(w){m.labels.indexOf(w.x)<0&&w.x&&m.labels.push(w.x)})}),m.labels=Array.from(new Set(m.labels.map(JSON.stringify)),JSON.parse)),d.xaxis.convertedCatToNumeric&&(new G(d).convertCatToNumericXaxis(d,this.ctx,m.seriesX[0]),this._generateExternalLabels(c))):this._generateExternalLabels(c)}},{key:"_generateExternalLabels",value:function(c){var d=this.w.globals,m=this.w.config,v=[];if(d.axisCharts){if(d.series.length>0)if(this.isFormatXY())for(var w=m.series.map(function(U,X){return U.data.filter(function(Q,te,ae){return ae.findIndex(function(pe){return pe.x===Q.x})===te})}),j=w.reduce(function(U,X,Q,te){return te[U].length>X.length?U:Q},0),S=0;S<w[j].length;S++)v.push(S+1);else for(var P=0;P<d.series[d.maxValsInArrayIndex].length;P++)v.push(P+1);d.seriesX=[];for(var I=0;I<c.length;I++)d.seriesX.push(v);this.w.globals.isBarHorizontal||(d.isXNumeric=!0)}if(v.length===0){v=d.axisCharts?[]:d.series.map(function(U,X){return X+1});for(var z=0;z<c.length;z++)d.seriesX.push(v)}d.labels=v,m.xaxis.convertedCatToNumeric&&(d.categoryLabels=v.map(function(U){return m.xaxis.labels.formatter(U)})),d.noLabelsProvided=!0}},{key:"parseData",value:function(c){var d=this.w,m=d.config,v=d.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),v.axisCharts?(this.parseDataAxisCharts(c),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(c),m.chart.stacked){var w=new Ue(this.ctx);v.series=w.setNullSeriesToZeroValues(v.series)}this.coreUtils.getSeriesTotals(),v.axisCharts&&(v.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),v.dataFormatXNumeric||v.isXNumeric&&(m.xaxis.type!=="numeric"||m.labels.length!==0||m.xaxis.categories.length!==0)||this.handleExternalLabelsData(c);for(var j=this.coreUtils.getCategoryLabels(v.labels),S=0;S<j.length;S++)if(Array.isArray(j[S])){v.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var c=this,d=this.w;d.globals.ignoreYAxisIndexes=d.globals.collapsedSeries.map(function(m,v){if(c.w.globals.isMultipleYAxis&&!d.config.chart.stacked)return m.index})}}]),me}(),nt=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"getLabel",value:function(c,d,m,v){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],j=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",S=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],P=this.w,I=c[v]===void 0?"":c[v],z=I,U=P.globals.xLabelFormatter,X=P.config.xaxis.labels.formatter,Q=!1,te=new xe(this.ctx),ae=I;S&&(z=te.xLabelFormat(U,I,ae,{i:v,dateFormatter:new ee(this.ctx).formatDate,w:P}),X!==void 0&&(z=X(I,c[v],{i:v,dateFormatter:new ee(this.ctx).formatDate,w:P})));var pe,we;d.length>0?(pe=d[v].unit,we=null,d.forEach(function(se){se.unit==="month"?we="year":se.unit==="day"?we="month":se.unit==="hour"?we="day":se.unit==="minute"&&(we="hour")}),Q=we===pe,m=d[v].position,z=d[v].value):P.config.xaxis.type==="datetime"&&X===void 0&&(z=""),z===void 0&&(z=""),z=Array.isArray(z)?z:z.toString();var Ce=new F(this.ctx),R={};R=P.globals.rotateXLabels&&S?Ce.getTextRects(z,parseInt(j,10),null,"rotate(".concat(P.config.xaxis.labels.rotate," 0 0)"),!1):Ce.getTextRects(z,parseInt(j,10));var q=!P.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(z)&&(z.indexOf("NaN")===0||z.toLowerCase().indexOf("invalid")===0||z.toLowerCase().indexOf("infinity")>=0||w.indexOf(z)>=0&&q)&&(z=""),{x:m,text:z,textRect:R,isBold:Q}}},{key:"checkLabelBasedOnTickamount",value:function(c,d,m){var v=this.w,w=v.config.xaxis.tickAmount;return w==="dataPoints"&&(w=Math.round(v.globals.gridWidth/120)),w>m||c%Math.round(m/(w+1))==0||(d.text=""),d}},{key:"checkForOverflowingLabels",value:function(c,d,m,v,w){var j=this.w;if(c===0&&j.globals.skipFirstTimelinelabel&&(d.text=""),c===m-1&&j.globals.skipLastTimelinelabel&&(d.text=""),j.config.xaxis.labels.hideOverlappingLabels&&v.length>0){var S=w[w.length-1];d.x<S.textRect.width/(j.globals.rotateXLabels?Math.abs(j.config.xaxis.labels.rotate)/12:1.01)+S.x&&(d.text="")}return d}},{key:"checkForReversedLabels",value:function(c,d){var m=this.w;return m.config.yaxis[c]&&m.config.yaxis[c].reversed&&d.reverse(),d}},{key:"isYAxisHidden",value:function(c){var d=this.w,m=new V(this.ctx);return!d.config.yaxis[c].show||!d.config.yaxis[c].showForNullSeries&&m.isSeriesNull(c)&&d.globals.collapsedSeriesIndices.indexOf(c)===-1}},{key:"getYAxisForeColor",value:function(c,d){var m=this.w;return Array.isArray(c)&&m.globals.yAxisScale[d]&&this.ctx.theme.pushExtraColors(c,m.globals.yAxisScale[d].result.length,!1),c}},{key:"drawYAxisTicks",value:function(c,d,m,v,w,j,S){var P=this.w,I=new F(this.ctx),z=P.globals.translateY;if(v.show&&d>0){P.config.yaxis[w].opposite===!0&&(c+=v.width);for(var U=d;U>=0;U--){var X=z+d/10+P.config.yaxis[w].labels.offsetY-1;P.globals.isBarHorizontal&&(X=j*U),P.config.chart.type==="heatmap"&&(X+=j/2);var Q=I.drawLine(c+m.offsetX-v.width+v.offsetX,X+v.offsetY,c+m.offsetX+v.offsetX,X+v.offsetY,v.color);S.add(Q),z+=j}}}}]),me}(),Me=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"scaleSvgNode",value:function(c,d){var m=parseFloat(c.getAttributeNS(null,"width")),v=parseFloat(c.getAttributeNS(null,"height"));c.setAttributeNS(null,"width",m*d),c.setAttributeNS(null,"height",v*d),c.setAttributeNS(null,"viewBox","0 0 "+m+" "+v)}},{key:"fixSvgStringForIe11",value:function(c){if(!T.isIE11())return c.replace(/&nbsp;/g,"&#160;");var d=0,m=c.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(v){return++d===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':v});return m=(m=m.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(c){c==null&&(c=1);var d=this.w.globals.dom.Paper.svg();if(c!==1){var m=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(m,c),d=new XMLSerializer().serializeToString(m)}return this.fixSvgStringForIe11(d)}},{key:"cleanup",value:function(){var c=this.w,d=c.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),m=c.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),v=c.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(v,function(w){w.setAttribute("width",0)}),d&&d[0]&&(d[0].setAttribute("x",-500),d[0].setAttribute("x1",-500),d[0].setAttribute("x2",-500)),m&&m[0]&&(m[0].setAttribute("y",-100),m[0].setAttribute("y1",-100),m[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var c=this.getSvgString(),d=new Blob([c],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(d)}},{key:"dataURI",value:function(c){var d=this;return new Promise(function(m){var v=d.w,w=c?c.scale||c.width/v.globals.svgWidth:1;d.cleanup();var j=document.createElement("canvas");j.width=v.globals.svgWidth*w,j.height=parseInt(v.globals.dom.elWrap.style.height,10)*w;var S=v.config.chart.background==="transparent"?"#fff":v.config.chart.background,P=j.getContext("2d");P.fillStyle=S,P.fillRect(0,0,j.width*w,j.height*w);var I=d.getSvgString(w);if(window.canvg&&T.isIE11()){var z=window.canvg.Canvg.fromString(P,I,{ignoreClear:!0,ignoreDimensions:!0});z.start();var U=j.msToBlob();z.stop(),m({blob:U})}else{var X="data:image/svg+xml,"+encodeURIComponent(I),Q=new Image;Q.crossOrigin="anonymous",Q.onload=function(){if(P.drawImage(Q,0,0),j.msToBlob){var te=j.msToBlob();m({blob:te})}else{var ae=j.toDataURL("image/png");m({imgURI:ae})}},Q.src=X}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var c=this;this.dataURI().then(function(d){var m=d.imgURI,v=d.blob;v?navigator.msSaveOrOpenBlob(v,c.w.globals.chartID+".png"):c.triggerDownload(m,c.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(c){var d=this,m=c.series,v=c.fileName,w=c.columnDelimiter,j=w===void 0?",":w,S=c.lineDelimiter,P=S===void 0?`
`:S,I=this.w;m||(m=I.config.series);var z=[],U=[],X="",Q=I.globals.series.map(function(R,q){return I.globals.collapsedSeriesIndices.indexOf(q)===-1?R:[]}),te=Math.max.apply(Math,k(m.map(function(R){return R.data?R.data.length:0}))),ae=new Ke(this.ctx),pe=new nt(this.ctx),we=function(R){var q="";if(I.globals.axisCharts){if(I.config.xaxis.type==="category"||I.config.xaxis.convertedCatToNumeric)if(I.globals.isBarHorizontal){var se=I.globals.yLabelFormatters[0],be=new Ue(d.ctx).getActiveConfigSeriesIndex();q=se(I.globals.labels[R],{seriesIndex:be,dataPointIndex:R,w:I})}else q=pe.getLabel(I.globals.labels,I.globals.timescaleLabels,0,R).text;I.config.xaxis.type==="datetime"&&(I.config.xaxis.categories.length?q=I.config.xaxis.categories[R]:I.config.labels.length&&(q=I.config.labels[R]))}else q=I.config.labels[R];return Array.isArray(q)&&(q=q.join(" ")),T.isNumber(q)?q:q.split(j).join("")},Ce=function(R,q){if(z.length&&q===0&&U.push(z.join(j)),R.data){R.data=R.data.length&&R.data||k(Array(te)).map(function(){return""});for(var se=0;se<R.data.length;se++){z=[];var be=we(se);if(be||(ae.isFormatXY()?be=m[q].data[se].x:ae.isFormat2DArray()&&(be=m[q].data[se]?m[q].data[se][0]:"")),q===0){z.push((ze=be,I.config.xaxis.type==="datetime"&&String(ze).length>=10?I.config.chart.toolbar.export.csv.dateFormatter(be):T.isNumber(be)?be:be.split(j).join("")));for(var Pe=0;Pe<I.globals.series.length;Pe++){var Le;ae.isFormatXY()?z.push((Le=m[Pe].data[se])===null||Le===void 0?void 0:Le.y):z.push(Q[Pe][se])}}(I.config.chart.type==="candlestick"||R.type&&R.type==="candlestick")&&(z.pop(),z.push(I.globals.seriesCandleO[q][se]),z.push(I.globals.seriesCandleH[q][se]),z.push(I.globals.seriesCandleL[q][se]),z.push(I.globals.seriesCandleC[q][se])),(I.config.chart.type==="boxPlot"||R.type&&R.type==="boxPlot")&&(z.pop(),z.push(I.globals.seriesCandleO[q][se]),z.push(I.globals.seriesCandleH[q][se]),z.push(I.globals.seriesCandleM[q][se]),z.push(I.globals.seriesCandleL[q][se]),z.push(I.globals.seriesCandleC[q][se])),I.config.chart.type==="rangeBar"&&(z.pop(),z.push(I.globals.seriesRangeStart[q][se]),z.push(I.globals.seriesRangeEnd[q][se])),z.length&&U.push(z.join(j))}}var ze};z.push(I.config.chart.toolbar.export.csv.headerCategory),I.config.chart.type==="boxPlot"?(z.push("minimum"),z.push("q1"),z.push("median"),z.push("q3"),z.push("maximum")):I.config.chart.type==="candlestick"?(z.push("open"),z.push("high"),z.push("low"),z.push("close")):I.config.chart.type==="rangeBar"?(z.push("minimum"),z.push("maximum")):m.map(function(R,q){var se=(R.name?R.name:"series-".concat(q))+"";I.globals.axisCharts&&z.push(se.split(j).join("")?se.split(j).join(""):"series-".concat(q))}),I.globals.axisCharts||(z.push(I.config.chart.toolbar.export.csv.headerValue),U.push(z.join(j))),m.map(function(R,q){I.globals.axisCharts?Ce(R,q):((z=[]).push(I.globals.labels[q].split(j).join("")),z.push(Q[q]),U.push(z.join(j)))}),X+=U.join(P),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+X),v||I.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(c,d,m){var v=document.createElement("a");v.href=c,v.download=(d||this.w.globals.chartID)+m,document.body.appendChild(v),v.click(),document.body.removeChild(v)}}]),me}(),qe=function(){function me(c,d){a(this,me),this.ctx=c,this.elgrid=d,this.w=c.w;var m=this.w;this.axesUtils=new nt(c),this.xaxisLabels=m.globals.labels.slice(),m.globals.timescaleLabels.length>0&&!m.globals.isBarHorizontal&&(this.xaxisLabels=m.globals.timescaleLabels.slice()),m.config.xaxis.overwriteCategories&&(this.xaxisLabels=m.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],m.config.xaxis.position==="top"?this.offY=0:this.offY=m.globals.gridHeight+1,this.offY=this.offY+m.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=m.config.chart.type==="bar"&&m.config.plotOptions.bar.horizontal,this.xaxisFontSize=m.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=m.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=m.config.xaxis.labels.style.colors,this.xaxisBorderWidth=m.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=m.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=m.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=m.config.xaxis.axisBorder.height,this.yaxis=m.config.yaxis[0]}return l(me,[{key:"drawXaxis",value:function(){var c=this.w,d=new F(this.ctx),m=d.group({class:"apexcharts-xaxis",transform:"translate(".concat(c.config.xaxis.offsetX,", ").concat(c.config.xaxis.offsetY,")")}),v=d.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(c.globals.translateXAxisX,", ").concat(c.globals.translateXAxisY,")")});m.add(v);for(var w=[],j=0;j<this.xaxisLabels.length;j++)w.push(this.xaxisLabels[j]);if(this.drawXAxisLabelAndGroup(!0,d,v,w,c.globals.isXNumeric,function(te,ae){return ae}),c.globals.hasXaxisGroups){var S=c.globals.groups;w=[];for(var P=0;P<S.length;P++)w.push(S[P].title);var I={};c.config.xaxis.group.style&&(I.xaxisFontSize=c.config.xaxis.group.style.fontSize,I.xaxisFontFamily=c.config.xaxis.group.style.fontFamily,I.xaxisForeColors=c.config.xaxis.group.style.colors,I.fontWeight=c.config.xaxis.group.style.fontWeight,I.cssClass=c.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,d,v,w,!1,function(te,ae){return S[te].cols*ae},I)}if(c.config.xaxis.title.text!==void 0){var z=d.group({class:"apexcharts-xaxis-title"}),U=d.drawText({x:c.globals.gridWidth/2+c.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(c.config.xaxis.position==="bottom"?c.globals.xAxisLabelsHeight:-c.globals.xAxisLabelsHeight-10)+c.config.xaxis.title.offsetY,text:c.config.xaxis.title.text,textAnchor:"middle",fontSize:c.config.xaxis.title.style.fontSize,fontFamily:c.config.xaxis.title.style.fontFamily,fontWeight:c.config.xaxis.title.style.fontWeight,foreColor:c.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+c.config.xaxis.title.style.cssClass});z.add(U),m.add(z)}if(c.config.xaxis.axisBorder.show){var X=c.globals.barPadForNumericAxis,Q=d.drawLine(c.globals.padHorizontal+c.config.xaxis.axisBorder.offsetX-X,this.offY,this.xaxisBorderWidth+X,this.offY,c.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&c.config.grid.show?this.elgrid.elGridBorders.add(Q):m.add(Q)}return m}},{key:"drawXAxisLabelAndGroup",value:function(c,d,m,v,w,j){var S,P=this,I=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},z=[],U=[],X=this.w,Q=I.xaxisFontSize||this.xaxisFontSize,te=I.xaxisFontFamily||this.xaxisFontFamily,ae=I.xaxisForeColors||this.xaxisForeColors,pe=I.fontWeight||X.config.xaxis.labels.style.fontWeight,we=I.cssClass||X.config.xaxis.labels.style.cssClass,Ce=X.globals.padHorizontal,R=v.length,q=X.config.xaxis.type==="category"?X.globals.dataPoints:R;if(q===0&&R>q&&(q=R),w){var se=q>1?q-1:q;S=X.globals.gridWidth/Math.min(se,R-1),Ce=Ce+j(0,S)/2+X.config.xaxis.labels.offsetX}else S=X.globals.gridWidth/q,Ce=Ce+j(0,S)+X.config.xaxis.labels.offsetX;for(var be=function(Le){var ze=Ce-j(Le,S)/2+X.config.xaxis.labels.offsetX;Le===0&&R===1&&S/2===Ce&&q===1&&(ze=X.globals.gridWidth/2);var Fe=P.axesUtils.getLabel(v,X.globals.timescaleLabels,ze,Le,z,Q,c),tt=28;if(X.globals.rotateXLabels&&c&&(tt=22),X.config.xaxis.title.text&&X.config.xaxis.position==="top"&&(tt+=parseFloat(X.config.xaxis.title.style.fontSize)+2),c||(tt=tt+parseFloat(Q)+(X.globals.xAxisLabelsHeight-X.globals.xAxisGroupLabelsHeight)+(X.globals.rotateXLabels?10:0)),Fe=X.config.xaxis.tickAmount!==void 0&&X.config.xaxis.tickAmount!=="dataPoints"&&X.config.xaxis.type!=="datetime"?P.axesUtils.checkLabelBasedOnTickamount(Le,Fe,R):P.axesUtils.checkForOverflowingLabels(Le,Fe,R,z,U),X.config.xaxis.labels.show){var ft=d.drawText({x:Fe.x,y:P.offY+X.config.xaxis.labels.offsetY+tt-(X.config.xaxis.position==="top"?X.globals.xAxisHeight+X.config.xaxis.axisTicks.height-2:0),text:Fe.text,textAnchor:"middle",fontWeight:Fe.isBold?600:pe,fontSize:Q,fontFamily:te,foreColor:Array.isArray(ae)?c&&X.config.xaxis.convertedCatToNumeric?ae[X.globals.minX+Le-1]:ae[Le]:ae,isPlainText:!1,cssClass:(c?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+we});if(m.add(ft),ft.on("click",function(vt){if(typeof X.config.chart.events.xAxisLabelClick=="function"){var Dt=Object.assign({},X,{labelIndex:Le});X.config.chart.events.xAxisLabelClick(vt,P.ctx,Dt)}}),c){var mt=document.createElementNS(X.globals.SVGNS,"title");mt.textContent=Array.isArray(Fe.text)?Fe.text.join(" "):Fe.text,ft.node.appendChild(mt),Fe.text!==""&&(z.push(Fe.text),U.push(Fe))}}Le<R-1&&(Ce+=j(Le+1,S))},Pe=0;Pe<=R-1;Pe++)be(Pe)}},{key:"drawXaxisInversed",value:function(c){var d,m,v=this,w=this.w,j=new F(this.ctx),S=w.config.yaxis[0].opposite?w.globals.translateYAxisX[c]:0,P=j.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:c}),I=j.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+S+", 0)"});P.add(I);var z=[];if(w.config.yaxis[c].show)for(var U=0;U<this.xaxisLabels.length;U++)z.push(this.xaxisLabels[U]);d=w.globals.gridHeight/z.length,m=-d/2.2;var X=w.globals.yLabelFormatters[0],Q=w.config.yaxis[0].labels;if(Q.show)for(var te=function(se){var be=z[se]===void 0?"":z[se];be=X(be,{seriesIndex:c,dataPointIndex:se,w});var Pe=v.axesUtils.getYAxisForeColor(Q.style.colors,c),Le=0;Array.isArray(be)&&(Le=be.length/2*parseInt(Q.style.fontSize,10));var ze=Q.offsetX-15,Fe="end";v.yaxis.opposite&&(Fe="start"),w.config.yaxis[0].labels.align==="left"?(ze=Q.offsetX,Fe="start"):w.config.yaxis[0].labels.align==="center"?(ze=Q.offsetX,Fe="middle"):w.config.yaxis[0].labels.align==="right"&&(Fe="end");var tt=j.drawText({x:ze,y:m+d+Q.offsetY-Le,text:be,textAnchor:Fe,foreColor:Array.isArray(Pe)?Pe[se]:Pe,fontSize:Q.style.fontSize,fontFamily:Q.style.fontFamily,fontWeight:Q.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+Q.style.cssClass,maxWidth:Q.maxWidth});I.add(tt),tt.on("click",function(vt){if(typeof w.config.chart.events.xAxisLabelClick=="function"){var Dt=Object.assign({},w,{labelIndex:se});w.config.chart.events.xAxisLabelClick(vt,v.ctx,Dt)}});var ft=document.createElementNS(w.globals.SVGNS,"title");if(ft.textContent=Array.isArray(be)?be.join(" "):be,tt.node.appendChild(ft),w.config.yaxis[c].labels.rotate!==0){var mt=j.rotateAroundCenter(tt.node);tt.node.setAttribute("transform","rotate(".concat(w.config.yaxis[c].labels.rotate," 0 ").concat(mt.y,")"))}m+=d},ae=0;ae<=z.length-1;ae++)te(ae);if(w.config.yaxis[0].title.text!==void 0){var pe=j.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+S+", 0)"}),we=j.drawText({x:w.config.yaxis[0].title.offsetX,y:w.globals.gridHeight/2+w.config.yaxis[0].title.offsetY,text:w.config.yaxis[0].title.text,textAnchor:"middle",foreColor:w.config.yaxis[0].title.style.color,fontSize:w.config.yaxis[0].title.style.fontSize,fontWeight:w.config.yaxis[0].title.style.fontWeight,fontFamily:w.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+w.config.yaxis[0].title.style.cssClass});pe.add(we),P.add(pe)}var Ce=0;this.isCategoryBarHorizontal&&w.config.yaxis[0].opposite&&(Ce=w.globals.gridWidth);var R=w.config.xaxis.axisBorder;if(R.show){var q=j.drawLine(w.globals.padHorizontal+R.offsetX+Ce,1+R.offsetY,w.globals.padHorizontal+R.offsetX+Ce,w.globals.gridHeight+R.offsetY,R.color,0);this.elgrid&&this.elgrid.elGridBorders&&w.config.grid.show?this.elgrid.elGridBorders.add(q):P.add(q)}return w.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Ce,z.length,w.config.yaxis[0].axisBorder,w.config.yaxis[0].axisTicks,0,d,P),P}},{key:"drawXaxisTicks",value:function(c,d,m){var v=this.w,w=c;if(!(c<0||c-2>v.globals.gridWidth)){var j=this.offY+v.config.xaxis.axisTicks.offsetY;if(d=d+j+v.config.xaxis.axisTicks.height,v.config.xaxis.position==="top"&&(d=j-v.config.xaxis.axisTicks.height),v.config.xaxis.axisTicks.show){var S=new F(this.ctx).drawLine(c+v.config.xaxis.axisTicks.offsetX,j+v.config.xaxis.offsetY,w+v.config.xaxis.axisTicks.offsetX,d+v.config.xaxis.offsetY,v.config.xaxis.axisTicks.color);m.add(S),S.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var c=this.w,d=[],m=this.xaxisLabels.length,v=c.globals.padHorizontal;if(c.globals.timescaleLabels.length>0)for(var w=0;w<m;w++)v=this.xaxisLabels[w].position,d.push(v);else for(var j=m,S=0;S<j;S++){var P=j;c.globals.isXNumeric&&c.config.chart.type!=="bar"&&(P-=1),v+=c.globals.gridWidth/P,d.push(v)}return d}},{key:"xAxisLabelCorrections",value:function(){var c=this.w,d=new F(this.ctx),m=c.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),v=c.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),w=c.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),j=c.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(c.globals.rotateXLabels||c.config.xaxis.labels.rotateAlways)for(var S=0;S<v.length;S++){var P=d.rotateAroundCenter(v[S]);P.y=P.y-1,P.x=P.x+1,v[S].setAttribute("transform","rotate(".concat(c.config.xaxis.labels.rotate," ").concat(P.x," ").concat(P.y,")")),v[S].setAttribute("text-anchor","end"),m.setAttribute("transform","translate(0, ".concat(-10,")"));var I=v[S].childNodes;c.config.xaxis.labels.trim&&Array.prototype.forEach.call(I,function(Q){d.placeTextWithEllipsis(Q,Q.textContent,c.globals.xAxisLabelsHeight-(c.config.legend.position==="bottom"?20:10))})}else(function(){for(var Q=c.globals.gridWidth/(c.globals.labels.length+1),te=0;te<v.length;te++){var ae=v[te].childNodes;c.config.xaxis.labels.trim&&c.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(ae,function(pe){d.placeTextWithEllipsis(pe,pe.textContent,Q)})}})();if(w.length>0){var z=w[w.length-1].getBBox(),U=w[0].getBBox();z.x<-20&&w[w.length-1].parentNode.removeChild(w[w.length-1]),U.x+U.width>c.globals.gridWidth&&!c.globals.isBarHorizontal&&w[0].parentNode.removeChild(w[0]);for(var X=0;X<j.length;X++)d.placeTextWithEllipsis(j[X],j[X].textContent,c.config.yaxis[0].labels.maxWidth-(c.config.yaxis[0].title.text?2*parseFloat(c.config.yaxis[0].title.style.fontSize):0)-15)}}}]),me}(),ht=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w;var d=this.w;this.xaxisLabels=d.globals.labels.slice(),this.axesUtils=new nt(c),this.isRangeBar=d.globals.seriesRange.length&&d.globals.isBarHorizontal,d.globals.timescaleLabels.length>0&&(this.xaxisLabels=d.globals.timescaleLabels.slice())}return l(me,[{key:"drawGridArea",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=this.w,m=new F(this.ctx);c===null&&(c=m.group({class:"apexcharts-grid"}));var v=m.drawLine(d.globals.padHorizontal,1,d.globals.padHorizontal,d.globals.gridHeight,"transparent"),w=m.drawLine(d.globals.padHorizontal,d.globals.gridHeight,d.globals.gridWidth,d.globals.gridHeight,"transparent");return c.add(w),c.add(v),c}},{key:"drawGrid",value:function(){var c=null;return this.w.globals.axisCharts&&(c=this.renderGrid(),this.drawGridArea(c.el)),c}},{key:"createGridMask",value:function(){var c=this.w,d=c.globals,m=new F(this.ctx),v=Array.isArray(c.config.stroke.width)?0:c.config.stroke.width;if(Array.isArray(c.config.stroke.width)){var w=0;c.config.stroke.width.forEach(function(U){w=Math.max(w,U)}),v=w}d.dom.elGridRectMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(d.cuid)),d.dom.elGridRectMarkerMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(d.cuid)),d.dom.elForecastMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elForecastMask.setAttribute("id","forecastMask".concat(d.cuid)),d.dom.elNonForecastMask=document.createElementNS(d.SVGNS,"clipPath"),d.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(d.cuid));var j=c.config.chart.type,S=0,P=0;(j==="bar"||j==="rangeBar"||j==="candlestick"||j==="boxPlot"||c.globals.comboBarCount>0)&&c.globals.isXNumeric&&!c.globals.isBarHorizontal&&(S=c.config.grid.padding.left,P=c.config.grid.padding.right,d.barPadForNumericAxis>S&&(S=d.barPadForNumericAxis,P=d.barPadForNumericAxis)),d.dom.elGridRect=m.drawRect(-v-S-2,2*-v-2,d.gridWidth+v+P+S+4,d.gridHeight+4*v+4,0,"#fff");var I=c.globals.markers.largestSize+1;d.dom.elGridRectMarker=m.drawRect(2*-I,2*-I,d.gridWidth+4*I,d.gridHeight+4*I,0,"#fff"),d.dom.elGridRectMask.appendChild(d.dom.elGridRect.node),d.dom.elGridRectMarkerMask.appendChild(d.dom.elGridRectMarker.node);var z=d.dom.baseEl.querySelector("defs");z.appendChild(d.dom.elGridRectMask),z.appendChild(d.dom.elForecastMask),z.appendChild(d.dom.elNonForecastMask),z.appendChild(d.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(c){var d=c.i,m=c.x1,v=c.y1,w=c.x2,j=c.y2,S=c.xCount,P=c.parent,I=this.w;if(!(d===0&&I.globals.skipFirstTimelinelabel||d===S-1&&I.globals.skipLastTimelinelabel&&!I.config.xaxis.labels.formatter||I.config.chart.type==="radar")){I.config.grid.xaxis.lines.show&&this._drawGridLine({i:d,x1:m,y1:v,x2:w,y2:j,xCount:S,parent:P});var z=0;if(I.globals.hasXaxisGroups&&I.config.xaxis.tickPlacement==="between"){var U=I.globals.groups;if(U){for(var X=0,Q=0;X<d&&Q<U.length;Q++)X+=U[Q].cols;X===d&&(z=.6*I.globals.xAxisLabelsHeight)}}new qe(this.ctx).drawXaxisTicks(m,z,I.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(c){var d=c.i,m=c.x1,v=c.y1,w=c.x2,j=c.y2,S=c.xCount,P=c.parent,I=this.w,z=!1,U=P.node.classList.contains("apexcharts-gridlines-horizontal"),X=I.config.grid.strokeDashArray,Q=I.globals.barPadForNumericAxis;(v===0&&j===0||m===0&&w===0)&&(z=!0),v===I.globals.gridHeight&&j===I.globals.gridHeight&&(z=!0),!I.globals.isBarHorizontal||d!==0&&d!==S-1||(z=!0);var te=new F(this).drawLine(m-(U?Q:0),v,w+(U?Q:0),j,I.config.grid.borderColor,X);te.node.classList.add("apexcharts-gridline"),z&&I.config.grid.show?this.elGridBorders.add(te):P.add(te)}},{key:"_drawGridBandRect",value:function(c){var d=c.c,m=c.x1,v=c.y1,w=c.x2,j=c.y2,S=c.type,P=this.w,I=new F(this.ctx),z=P.globals.barPadForNumericAxis;if(S!=="column"||P.config.xaxis.type!=="datetime"){var U=P.config.grid[S].colors[d],X=I.drawRect(m-(S==="row"?z:0),v,w+(S==="row"?2*z:0),j,0,U,P.config.grid[S].opacity);this.elg.add(X),X.attr("clip-path","url(#gridRectMask".concat(P.globals.cuid,")")),X.node.classList.add("apexcharts-grid-".concat(S))}}},{key:"_drawXYLines",value:function(c){var d=this,m=c.xCount,v=c.tickAmount,w=this.w;if(w.config.grid.xaxis.lines.show||w.config.xaxis.axisTicks.show){var j,S=w.globals.padHorizontal,P=w.globals.gridHeight;w.globals.timescaleLabels.length?function(te){for(var ae=te.xC,pe=te.x1,we=te.y1,Ce=te.x2,R=te.y2,q=0;q<ae;q++)pe=d.xaxisLabels[q].position,Ce=d.xaxisLabels[q].position,d._drawGridLines({i:q,x1:pe,y1:we,x2:Ce,y2:R,xCount:m,parent:d.elgridLinesV})}({xC:m,x1:S,y1:0,x2:j,y2:P}):(w.globals.isXNumeric&&(m=w.globals.xAxisScale.result.length),function(te){for(var ae=te.xC,pe=te.x1,we=te.y1,Ce=te.x2,R=te.y2,q=0;q<ae+(w.globals.isXNumeric?0:1);q++)q===0&&ae===1&&w.globals.dataPoints===1&&(Ce=pe=w.globals.gridWidth/2),d._drawGridLines({i:q,x1:pe,y1:we,x2:Ce,y2:R,xCount:m,parent:d.elgridLinesV}),Ce=pe+=w.globals.gridWidth/(w.globals.isXNumeric?ae-1:ae)}({xC:m,x1:S,y1:0,x2:j,y2:P}))}if(w.config.grid.yaxis.lines.show){var I=0,z=0,U=w.globals.gridWidth,X=v+1;this.isRangeBar&&(X=w.globals.labels.length);for(var Q=0;Q<X+(this.isRangeBar?1:0);Q++)this._drawGridLine({i:Q,xCount:X+(this.isRangeBar?1:0),x1:0,y1:I,x2:U,y2:z,parent:this.elgridLinesH}),z=I+=w.globals.gridHeight/(this.isRangeBar?X:v)}}},{key:"_drawInvertedXYLines",value:function(c){var d=c.xCount,m=this.w;if(m.config.grid.xaxis.lines.show||m.config.xaxis.axisTicks.show)for(var v,w=m.globals.padHorizontal,j=m.globals.gridHeight,S=0;S<d+1;S++)m.config.grid.xaxis.lines.show&&this._drawGridLine({i:S,xCount:d+1,x1:w,y1:0,x2:v,y2:j,parent:this.elgridLinesV}),new qe(this.ctx).drawXaxisTicks(w,0,m.globals.dom.elGraphical),v=w=w+m.globals.gridWidth/d+.3;if(m.config.grid.yaxis.lines.show)for(var P=0,I=0,z=m.globals.gridWidth,U=0;U<m.globals.dataPoints+1;U++)this._drawGridLine({i:U,xCount:m.globals.dataPoints+1,x1:0,y1:P,x2:z,y2:I,parent:this.elgridLinesH}),I=P+=m.globals.gridHeight/m.globals.dataPoints}},{key:"renderGrid",value:function(){var c=this.w,d=new F(this.ctx);this.elg=d.group({class:"apexcharts-grid"}),this.elgridLinesH=d.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=d.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=d.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),c.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var m,v=c.globals.yAxisScale.length?c.globals.yAxisScale[0].result.length-1:5,w=0;w<c.globals.series.length&&(c.globals.yAxisScale[w]!==void 0&&(v=c.globals.yAxisScale[w].result.length-1),!(v>2));w++);return!c.globals.isBarHorizontal||this.isRangeBar?(m=this.xaxisLabels.length,this.isRangeBar&&(m--,v=c.globals.labels.length,c.config.xaxis.tickAmount&&c.config.xaxis.labels.formatter&&(m=c.config.xaxis.tickAmount)),this._drawXYLines({xCount:m,tickAmount:v})):(m=v,v=c.globals.xTickAmount,this._drawInvertedXYLines({xCount:m,tickAmount:v})),this.drawGridBands(m,v),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:c.globals.gridWidth/m}}},{key:"drawGridBands",value:function(c,d){var m=this.w;if(m.config.grid.row.colors!==void 0&&m.config.grid.row.colors.length>0)for(var v=0,w=m.globals.gridHeight/d,j=m.globals.gridWidth,S=0,P=0;S<d;S++,P++)P>=m.config.grid.row.colors.length&&(P=0),this._drawGridBandRect({c:P,x1:0,y1:v,x2:j,y2:w,type:"row"}),v+=m.globals.gridHeight/d;if(m.config.grid.column.colors!==void 0&&m.config.grid.column.colors.length>0)for(var I=m.globals.isBarHorizontal||m.config.xaxis.tickPlacement!=="on"||m.config.xaxis.type!=="category"&&!m.config.xaxis.convertedCatToNumeric?c:c-1,z=m.globals.padHorizontal,U=m.globals.padHorizontal+m.globals.gridWidth/I,X=m.globals.gridHeight,Q=0,te=0;Q<c;Q++,te++)te>=m.config.grid.column.colors.length&&(te=0),this._drawGridBandRect({c:te,x1:z,y1:0,x2:U,y2:X,type:"column"}),z+=m.globals.gridWidth/I}}]),me}(),ye=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"niceScale",value:function(c,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,w=arguments.length>4?arguments[4]:void 0,j=this.w,S=Math.abs(d-c);if((m=this._adjustTicksForSmallRange(m,v,S))==="dataPoints"&&(m=j.globals.dataPoints-1),c===Number.MIN_VALUE&&d===0||!T.isNumber(c)&&!T.isNumber(d)||c===Number.MIN_VALUE&&d===-Number.MAX_VALUE)return c=0,d=m,this.linearScale(c,d,m);c>d?(console.warn("axis.min cannot be greater than axis.max"),d=c+.1):c===d&&(c=c===0?0:c-.5,d=d===0?2:d+.5);var P=[];S<1&&w&&(j.config.chart.type==="candlestick"||j.config.series[v].type==="candlestick"||j.config.chart.type==="boxPlot"||j.config.series[v].type==="boxPlot"||j.globals.isRangeData)&&(d*=1.01);var I=m+1;I<2?I=2:I>2&&(I-=2);var z=S/I,U=Math.floor(T.log10(z)),X=Math.pow(10,U),Q=Math.round(z/X);Q<1&&(Q=1);var te=Q*X,ae=te*Math.floor(c/te),pe=te*Math.ceil(d/te),we=ae;if(w&&S>2){for(;P.push(T.stripNumber(we,7)),!((we+=te)>pe););return{result:P,niceMin:P[0],niceMax:P[P.length-1]}}var Ce=c;(P=[]).push(T.stripNumber(Ce,7));for(var R=Math.abs(d-c)/m,q=0;q<=m;q++)Ce+=R,P.push(Ce);return P[P.length-2]>=d&&P.pop(),{result:P,niceMin:P[0],niceMax:P[P.length-1]}}},{key:"linearScale",value:function(c,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,v=arguments.length>3?arguments[3]:void 0,w=Math.abs(d-c);(m=this._adjustTicksForSmallRange(m,v,w))==="dataPoints"&&(m=this.w.globals.dataPoints-1);var j=w/m;m===Number.MAX_VALUE&&(m=10,j=1);for(var S=[],P=c;m>=0;)S.push(P),P+=j,m-=1;return{result:S,niceMin:S[0],niceMax:S[S.length-1]}}},{key:"logarithmicScaleNice",value:function(c,d,m){d<=0&&(d=Math.max(c,m)),c<=0&&(c=Math.min(d,m));for(var v=[],w=Math.ceil(Math.log(d)/Math.log(m)+1),j=Math.floor(Math.log(c)/Math.log(m));j<w;j++)v.push(Math.pow(m,j));return{result:v,niceMin:v[0],niceMax:v[v.length-1]}}},{key:"logarithmicScale",value:function(c,d,m){d<=0&&(d=Math.max(c,m)),c<=0&&(c=Math.min(d,m));for(var v=[],w=Math.log(d)/Math.log(m),j=Math.log(c)/Math.log(m),S=w-j,P=Math.round(S),I=S/P,z=0,U=j;z<P;z++,U+=I)v.push(Math.pow(m,U));return v.push(Math.pow(m,w)),{result:v,niceMin:c,niceMax:d}}},{key:"_adjustTicksForSmallRange",value:function(c,d,m){var v=c;if(d!==void 0&&this.w.config.yaxis[d].labels.formatter&&this.w.config.yaxis[d].tickAmount===void 0){var w=Number(this.w.config.yaxis[d].labels.formatter(1));T.isNumber(w)&&this.w.globals.yValueDecimal===0&&(v=Math.ceil(m))}return v<c?v:c}},{key:"setYScaleForIndex",value:function(c,d,m){var v=this.w.globals,w=this.w.config,j=v.isBarHorizontal?w.xaxis:w.yaxis[c];v.yAxisScale[c]===void 0&&(v.yAxisScale[c]=[]);var S=Math.abs(m-d);if(j.logarithmic&&S<=5&&(v.invalidLogScale=!0),j.logarithmic&&S>5)v.allSeriesCollapsed=!1,v.yAxisScale[c]=this.logarithmicScale(d,m,j.logBase),v.yAxisScale[c]=j.forceNiceScale?this.logarithmicScaleNice(d,m,j.logBase):this.logarithmicScale(d,m,j.logBase);else if(m!==-Number.MAX_VALUE&&T.isNumber(m))if(v.allSeriesCollapsed=!1,j.min===void 0&&j.max===void 0||j.forceNiceScale){var P=w.yaxis[c].max===void 0&&w.yaxis[c].min===void 0||w.yaxis[c].forceNiceScale;v.yAxisScale[c]=this.niceScale(d,m,j.tickAmount?j.tickAmount:S<5&&S>1?S+1:5,c,P)}else v.yAxisScale[c]=this.linearScale(d,m,j.tickAmount,c);else v.yAxisScale[c]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(c,d){var m=this.w,v=m.globals,w=m.config.xaxis,j=Math.abs(d-c);return d!==-Number.MAX_VALUE&&T.isNumber(d)?v.xAxisScale=this.linearScale(c,d,w.tickAmount?w.tickAmount:j<5&&j>1?j+1:5,0):v.xAxisScale=this.linearScale(0,5,5),v.xAxisScale}},{key:"setMultipleYScales",value:function(){var c=this,d=this.w.globals,m=this.w.config,v=d.minYArr.concat([]),w=d.maxYArr.concat([]),j=[];m.yaxis.forEach(function(S,P){var I=P;m.series.forEach(function(X,Q){X.name===S.seriesName&&(I=Q,P!==Q?j.push({index:Q,similarIndex:P,alreadyExists:!0}):j.push({index:Q}))});var z=v[I],U=w[I];c.setYScaleForIndex(P,z,U)}),this.sameScaleInMultipleAxes(v,w,j)}},{key:"sameScaleInMultipleAxes",value:function(c,d,m){var v=this,w=this.w.config,j=this.w.globals,S=[];m.forEach(function(ae){ae.alreadyExists&&(S[ae.index]===void 0&&(S[ae.index]=[]),S[ae.index].push(ae.index),S[ae.index].push(ae.similarIndex))}),j.yAxisSameScaleIndices=S,S.forEach(function(ae,pe){S.forEach(function(we,Ce){var R,q;pe!==Ce&&(R=ae,q=we,R.filter(function(se){return q.indexOf(se)!==-1})).length>0&&(S[pe]=S[pe].concat(S[Ce]))})});var P=S.map(function(ae){return ae.filter(function(pe,we){return ae.indexOf(pe)===we})}).map(function(ae){return ae.sort()});S=S.filter(function(ae){return!!ae});var I=P.slice(),z=I.map(function(ae){return JSON.stringify(ae)});I=I.filter(function(ae,pe){return z.indexOf(JSON.stringify(ae))===pe});var U=[],X=[];c.forEach(function(ae,pe){I.forEach(function(we,Ce){we.indexOf(pe)>-1&&(U[Ce]===void 0&&(U[Ce]=[],X[Ce]=[]),U[Ce].push({key:pe,value:ae}),X[Ce].push({key:pe,value:d[pe]}))})});var Q=Array.apply(null,Array(I.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),te=Array.apply(null,Array(I.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);U.forEach(function(ae,pe){ae.forEach(function(we,Ce){Q[pe]=Math.min(we.value,Q[pe])})}),X.forEach(function(ae,pe){ae.forEach(function(we,Ce){te[pe]=Math.max(we.value,te[pe])})}),c.forEach(function(ae,pe){X.forEach(function(we,Ce){var R=Q[Ce],q=te[Ce];w.chart.stacked&&(q=0,we.forEach(function(se,be){se.value!==-Number.MAX_VALUE&&(q+=se.value),R!==Number.MIN_VALUE&&(R+=U[Ce][be].value)})),we.forEach(function(se,be){we[be].key===pe&&(w.yaxis[pe].min!==void 0&&(R=typeof w.yaxis[pe].min=="function"?w.yaxis[pe].min(j.minY):w.yaxis[pe].min),w.yaxis[pe].max!==void 0&&(q=typeof w.yaxis[pe].max=="function"?w.yaxis[pe].max(j.maxY):w.yaxis[pe].max),v.setYScaleForIndex(pe,R,q))})})})}},{key:"autoScaleY",value:function(c,d,m){c||(c=this);var v=c.w;if(v.globals.isMultipleYAxis||v.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),d;var w=v.globals.seriesX[0],j=v.config.chart.stacked;return d.forEach(function(S,P){for(var I=0,z=0;z<w.length;z++)if(w[z]>=m.xaxis.min){I=z;break}var U,X,Q=v.globals.minYArr[P],te=v.globals.maxYArr[P],ae=v.globals.stackedSeriesTotals;v.globals.series.forEach(function(pe,we){var Ce=pe[I];j?(Ce=ae[I],U=X=Ce,ae.forEach(function(R,q){w[q]<=m.xaxis.max&&w[q]>=m.xaxis.min&&(R>X&&R!==null&&(X=R),pe[q]<U&&pe[q]!==null&&(U=pe[q]))})):(U=X=Ce,pe.forEach(function(R,q){if(w[q]<=m.xaxis.max&&w[q]>=m.xaxis.min){var se=R,be=R;v.globals.series.forEach(function(Pe,Le){R!==null&&(se=Math.min(Pe[q],se),be=Math.max(Pe[q],be))}),be>X&&be!==null&&(X=be),se<U&&se!==null&&(U=se)}})),U===void 0&&X===void 0&&(U=Q,X=te),X*=X<0?.9:1.1,(U*=U<0?1.1:.9)===0&&X===0&&(U=-1,X=1),X<0&&X<te&&(X=te),U<0&&U>Q&&(U=Q),d.length>1?(d[we].min=S.min===void 0?U:S.min,d[we].max=S.max===void 0?X:S.max):(d[0].min=S.min===void 0?U:S.min,d[0].max=S.max===void 0?X:S.max)})}),d}}]),me}(),Xe=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.scales=new ye(c)}return l(me,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,w=this.w.config,j=this.w.globals,S=-Number.MAX_VALUE,P=Number.MIN_VALUE;v===null&&(v=c+1);var I=j.series,z=I,U=I;w.chart.type==="candlestick"?(z=j.seriesCandleL,U=j.seriesCandleH):w.chart.type==="boxPlot"?(z=j.seriesCandleO,U=j.seriesCandleC):j.isRangeData&&(z=j.seriesRangeStart,U=j.seriesRangeEnd);for(var X=c;X<v;X++){j.dataPoints=Math.max(j.dataPoints,I[X].length),j.categoryLabels.length&&(j.dataPoints=j.categoryLabels.filter(function(ae){return ae!==void 0}).length),j.labels.length&&w.xaxis.type!=="datetime"&&j.series.reduce(function(ae,pe){return ae+pe.length},0)!==0&&(j.dataPoints=Math.max(j.dataPoints,j.labels.length));for(var Q=0;Q<j.series[X].length;Q++){var te=I[X][Q];te!==null&&T.isNumber(te)?(U[X][Q]!==void 0&&(S=Math.max(S,U[X][Q]),d=Math.min(d,U[X][Q])),z[X][Q]!==void 0&&(d=Math.min(d,z[X][Q]),m=Math.max(m,z[X][Q])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||j.seriesCandleC[X][Q]!==void 0&&(S=Math.max(S,j.seriesCandleO[X][Q]),S=Math.max(S,j.seriesCandleH[X][Q]),S=Math.max(S,j.seriesCandleL[X][Q]),S=Math.max(S,j.seriesCandleC[X][Q]),this.w.config.chart.type==="boxPlot"&&(S=Math.max(S,j.seriesCandleM[X][Q]))),!w.series[X].type||w.series[X].type==="candlestick"&&w.series[X].type==="boxPlot"&&w.series[X].type==="rangeArea"&&w.series[X].type==="rangeBar"||(S=Math.max(S,j.series[X][Q]),d=Math.min(d,j.series[X][Q])),m=S),j.seriesGoals[X]&&j.seriesGoals[X][Q]&&Array.isArray(j.seriesGoals[X][Q])&&j.seriesGoals[X][Q].forEach(function(ae){P!==Number.MIN_VALUE&&(P=Math.min(P,ae.value),d=P),S=Math.max(S,ae.value),m=S}),T.isFloat(te)&&(te=T.noExponents(te),j.yValueDecimal=Math.max(j.yValueDecimal,te.toString().split(".")[1].length)),P>z[X][Q]&&z[X][Q]<0&&(P=z[X][Q])):j.hasNullValues=!0}}return w.chart.type==="rangeBar"&&j.seriesRangeStart.length&&j.isBarHorizontal&&(P=d),w.chart.type==="bar"&&(P<0&&S<0&&(S=0),P===Number.MIN_VALUE&&(P=0)),{minY:P,maxY:S,lowestY:d,highestY:m}}},{key:"setYRange",value:function(){var c=this.w.globals,d=this.w.config;c.maxY=-Number.MAX_VALUE,c.minY=Number.MIN_VALUE;var m=Number.MAX_VALUE;if(c.isMultipleYAxis)for(var v=0;v<c.series.length;v++){var w=this.getMinYMaxY(v,m,null,v+1);c.minYArr.push(w.minY),c.maxYArr.push(w.maxY),m=w.lowestY}var j=this.getMinYMaxY(0,m,null,c.series.length);if(c.minY=j.minY,c.maxY=j.maxY,m=j.lowestY,d.chart.stacked&&this._setStackedMinMax(),(d.chart.type==="line"||d.chart.type==="area"||d.chart.type==="candlestick"||d.chart.type==="boxPlot"||d.chart.type==="rangeBar"&&!c.isBarHorizontal)&&c.minY===Number.MIN_VALUE&&m!==-Number.MAX_VALUE&&m!==c.maxY){var S=c.maxY-m;(m>=0&&m<=10||d.yaxis[0].min!==void 0||d.yaxis[0].max!==void 0)&&(S=0),c.minY=m-5*S/100,m>0&&c.minY<0&&(c.minY=0),c.maxY=c.maxY+5*S/100}return d.yaxis.forEach(function(P,I){P.max!==void 0&&(typeof P.max=="number"?c.maxYArr[I]=P.max:typeof P.max=="function"&&(c.maxYArr[I]=P.max(c.isMultipleYAxis?c.maxYArr[I]:c.maxY)),c.maxY=c.maxYArr[I]),P.min!==void 0&&(typeof P.min=="number"?c.minYArr[I]=P.min:typeof P.min=="function"&&(c.minYArr[I]=P.min(c.isMultipleYAxis?c.minYArr[I]===Number.MIN_VALUE?0:c.minYArr[I]:c.minY)),c.minY=c.minYArr[I])}),c.isBarHorizontal&&["min","max"].forEach(function(P){d.xaxis[P]!==void 0&&typeof d.xaxis[P]=="number"&&(P==="min"?c.minY=d.xaxis[P]:c.maxY=d.xaxis[P])}),c.isMultipleYAxis?(this.scales.setMultipleYScales(),c.minY=m,c.yAxisScale.forEach(function(P,I){c.minYArr[I]=P.niceMin,c.maxYArr[I]=P.niceMax})):(this.scales.setYScaleForIndex(0,c.minY,c.maxY),c.minY=c.yAxisScale[0].niceMin,c.maxY=c.yAxisScale[0].niceMax,c.minYArr[0]=c.yAxisScale[0].niceMin,c.maxYArr[0]=c.yAxisScale[0].niceMax),{minY:c.minY,maxY:c.maxY,minYArr:c.minYArr,maxYArr:c.maxYArr,yAxisScale:c.yAxisScale}}},{key:"setXRange",value:function(){var c=this.w.globals,d=this.w.config,m=d.xaxis.type==="numeric"||d.xaxis.type==="datetime"||d.xaxis.type==="category"&&!c.noLabelsProvided||c.noLabelsProvided||c.isXNumeric;if(c.isXNumeric&&function(){for(var S=0;S<c.series.length;S++)if(c.labels[S])for(var P=0;P<c.labels[S].length;P++)c.labels[S][P]!==null&&T.isNumber(c.labels[S][P])&&(c.maxX=Math.max(c.maxX,c.labels[S][P]),c.initialMaxX=Math.max(c.maxX,c.labels[S][P]),c.minX=Math.min(c.minX,c.labels[S][P]),c.initialMinX=Math.min(c.minX,c.labels[S][P]))}(),c.noLabelsProvided&&d.xaxis.categories.length===0&&(c.maxX=c.labels[c.labels.length-1],c.initialMaxX=c.labels[c.labels.length-1],c.minX=1,c.initialMinX=1),c.isXNumeric||c.noLabelsProvided||c.dataFormatXNumeric){var v;if(d.xaxis.tickAmount===void 0?(v=Math.round(c.svgWidth/150),d.xaxis.type==="numeric"&&c.dataPoints<30&&(v=c.dataPoints-1),v>c.dataPoints&&c.dataPoints!==0&&(v=c.dataPoints-1)):d.xaxis.tickAmount==="dataPoints"?(c.series.length>1&&(v=c.series[c.maxValsInArrayIndex].length-1),c.isXNumeric&&(v=c.maxX-c.minX-1)):v=d.xaxis.tickAmount,c.xTickAmount=v,d.xaxis.max!==void 0&&typeof d.xaxis.max=="number"&&(c.maxX=d.xaxis.max),d.xaxis.min!==void 0&&typeof d.xaxis.min=="number"&&(c.minX=d.xaxis.min),d.xaxis.range!==void 0&&(c.minX=c.maxX-d.xaxis.range),c.minX!==Number.MAX_VALUE&&c.maxX!==-Number.MAX_VALUE)if(d.xaxis.convertedCatToNumeric&&!c.dataFormatXNumeric){for(var w=[],j=c.minX-1;j<c.maxX;j++)w.push(j+1);c.xAxisScale={result:w,niceMin:w[0],niceMax:w[w.length-1]}}else c.xAxisScale=this.scales.setXScale(c.minX,c.maxX);else c.xAxisScale=this.scales.linearScale(0,v,v),c.noLabelsProvided&&c.labels.length>0&&(c.xAxisScale=this.scales.linearScale(1,c.labels.length,v-1),c.seriesX=c.labels.slice());m&&(c.labels=c.xAxisScale.result.slice())}return c.isBarHorizontal&&c.labels.length&&(c.xTickAmount=c.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:c.minX,maxX:c.maxX}}},{key:"setZRange",value:function(){var c=this.w.globals;if(c.isDataXYZ){for(var d=0;d<c.series.length;d++)if(c.seriesZ[d]!==void 0)for(var m=0;m<c.seriesZ[d].length;m++)c.seriesZ[d][m]!==null&&T.isNumber(c.seriesZ[d][m])&&(c.maxZ=Math.max(c.maxZ,c.seriesZ[d][m]),c.minZ=Math.min(c.minZ,c.seriesZ[d][m]))}}},{key:"_handleSingleDataPoint",value:function(){var c=this.w.globals,d=this.w.config;if(c.minX===c.maxX){var m=new ee(this.ctx);if(d.xaxis.type==="datetime"){var v=m.getDate(c.minX);d.xaxis.labels.datetimeUTC?v.setUTCDate(v.getUTCDate()-2):v.setDate(v.getDate()-2),c.minX=new Date(v).getTime();var w=m.getDate(c.maxX);d.xaxis.labels.datetimeUTC?w.setUTCDate(w.getUTCDate()+2):w.setDate(w.getDate()+2),c.maxX=new Date(w).getTime()}else(d.xaxis.type==="numeric"||d.xaxis.type==="category"&&!c.noLabelsProvided)&&(c.minX=c.minX-2,c.initialMinX=c.minX,c.maxX=c.maxX+2,c.initialMaxX=c.maxX)}}},{key:"_getMinXDiff",value:function(){var c=this.w.globals;c.isXNumeric&&c.seriesX.forEach(function(d,m){d.length===1&&d.push(c.seriesX[c.maxValsInArrayIndex][c.seriesX[c.maxValsInArrayIndex].length-1]);var v=d.slice();v.sort(function(w,j){return w-j}),v.forEach(function(w,j){if(j>0){var S=w-v[j-1];S>0&&(c.minXDiff=Math.min(S,c.minXDiff))}}),c.dataPoints!==1&&c.minXDiff!==Number.MAX_VALUE||(c.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var c=this,d=this.w.globals;if(d.series.length){var m=d.seriesGroups;m.length||(m=[this.w.config.series.map(function(j){return j.name})]);var v={},w={};m.forEach(function(j){v[j]=[],w[j]=[],c.w.config.series.map(function(S,P){return j.indexOf(S.name)>-1?P:null}).filter(function(S){return S!==null}).forEach(function(S){for(var P=0;P<d.series[d.maxValsInArrayIndex].length;P++)v[j][P]===void 0&&(v[j][P]=0,w[j][P]=0),d.series[S][P]!==null&&T.isNumber(d.series[S][P])&&(d.series[S][P]>0?v[j][P]+=parseFloat(d.series[S][P])+1e-4:w[j][P]+=parseFloat(d.series[S][P]))})}),Object.entries(v).forEach(function(j){var S=_(j,1)[0];v[S].forEach(function(P,I){d.maxY=Math.max(d.maxY,v[S][I]),d.minY=Math.min(d.minY,w[S][I])})})}}}]),me}(),dt=function(){function me(c,d){a(this,me),this.ctx=c,this.elgrid=d,this.w=c.w;var m=this.w;this.xaxisFontSize=m.config.xaxis.labels.style.fontSize,this.axisFontFamily=m.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=m.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=m.config.chart.type==="bar"&&m.config.plotOptions.bar.horizontal,this.xAxisoffX=0,m.config.xaxis.position==="bottom"&&(this.xAxisoffX=m.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new nt(c)}return l(me,[{key:"drawYaxis",value:function(c){var d=this,m=this.w,v=new F(this.ctx),w=m.config.yaxis[c].labels.style,j=w.fontSize,S=w.fontFamily,P=w.fontWeight,I=v.group({class:"apexcharts-yaxis",rel:c,transform:"translate("+m.globals.translateYAxisX[c]+", 0)"});if(this.axesUtils.isYAxisHidden(c))return I;var z=v.group({class:"apexcharts-yaxis-texts-g"});I.add(z);var U=m.globals.yAxisScale[c].result.length-1,X=m.globals.gridHeight/U,Q=m.globals.translateY,te=m.globals.yLabelFormatters[c],ae=m.globals.yAxisScale[c].result.slice();ae=this.axesUtils.checkForReversedLabels(c,ae);var pe="";if(m.config.yaxis[c].labels.show)for(var we=function(ze){var Fe=ae[ze];Fe=te(Fe,ze,m);var tt=m.config.yaxis[c].labels.padding;m.config.yaxis[c].opposite&&m.config.yaxis.length!==0&&(tt*=-1);var ft="end";m.config.yaxis[c].opposite&&(ft="start"),m.config.yaxis[c].labels.align==="left"?ft="start":m.config.yaxis[c].labels.align==="center"?ft="middle":m.config.yaxis[c].labels.align==="right"&&(ft="end");var mt=d.axesUtils.getYAxisForeColor(w.colors,c),vt=m.config.yaxis[c].labels.offsetY;m.config.chart.type==="heatmap"&&(vt-=(m.globals.gridHeight/m.globals.series.length-1)/2);var Dt=v.drawText({x:tt,y:Q+U/10+vt+1,text:Fe,textAnchor:ft,fontSize:j,fontFamily:S,fontWeight:P,maxWidth:m.config.yaxis[c].labels.maxWidth,foreColor:Array.isArray(mt)?mt[ze]:mt,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+w.cssClass});ze===U&&(pe=Dt),z.add(Dt);var ur=document.createElementNS(m.globals.SVGNS,"title");if(ur.textContent=Array.isArray(Fe)?Fe.join(" "):Fe,Dt.node.appendChild(ur),m.config.yaxis[c].labels.rotate!==0){var wr=v.rotateAroundCenter(pe.node),zr=v.rotateAroundCenter(Dt.node);Dt.node.setAttribute("transform","rotate(".concat(m.config.yaxis[c].labels.rotate," ").concat(wr.x," ").concat(zr.y,")"))}Q+=X},Ce=U;Ce>=0;Ce--)we(Ce);if(m.config.yaxis[c].title.text!==void 0){var R=v.group({class:"apexcharts-yaxis-title"}),q=0;m.config.yaxis[c].opposite&&(q=m.globals.translateYAxisX[c]);var se=v.drawText({x:q,y:m.globals.gridHeight/2+m.globals.translateY+m.config.yaxis[c].title.offsetY,text:m.config.yaxis[c].title.text,textAnchor:"end",foreColor:m.config.yaxis[c].title.style.color,fontSize:m.config.yaxis[c].title.style.fontSize,fontWeight:m.config.yaxis[c].title.style.fontWeight,fontFamily:m.config.yaxis[c].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+m.config.yaxis[c].title.style.cssClass});R.add(se),I.add(R)}var be=m.config.yaxis[c].axisBorder,Pe=31+be.offsetX;if(m.config.yaxis[c].opposite&&(Pe=-31-be.offsetX),be.show){var Le=v.drawLine(Pe,m.globals.translateY+be.offsetY-2,Pe,m.globals.gridHeight+m.globals.translateY+be.offsetY+2,be.color,0,be.width);I.add(Le)}return m.config.yaxis[c].axisTicks.show&&this.axesUtils.drawYAxisTicks(Pe,U,be,m.config.yaxis[c].axisTicks,c,X,I),I}},{key:"drawYaxisInversed",value:function(c){var d=this.w,m=new F(this.ctx),v=m.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),w=m.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(d.globals.translateXAxisX,", ").concat(d.globals.translateXAxisY,")")});v.add(w);var j=d.globals.yAxisScale[c].result.length-1,S=d.globals.gridWidth/j+.1,P=S+d.config.xaxis.labels.offsetX,I=d.globals.xLabelFormatter,z=d.globals.yAxisScale[c].result.slice(),U=d.globals.timescaleLabels;U.length>0&&(this.xaxisLabels=U.slice(),j=(z=U.slice()).length),z=this.axesUtils.checkForReversedLabels(c,z);var X=U.length;if(d.config.xaxis.labels.show)for(var Q=X?0:j;X?Q<X:Q>=0;X?Q++:Q--){var te=z[Q];te=I(te,Q,d);var ae=d.globals.gridWidth+d.globals.padHorizontal-(P-S+d.config.xaxis.labels.offsetX);if(U.length){var pe=this.axesUtils.getLabel(z,U,ae,Q,this.drawnLabels,this.xaxisFontSize);ae=pe.x,te=pe.text,this.drawnLabels.push(pe.text),Q===0&&d.globals.skipFirstTimelinelabel&&(te=""),Q===z.length-1&&d.globals.skipLastTimelinelabel&&(te="")}var we=m.drawText({x:ae,y:this.xAxisoffX+d.config.xaxis.labels.offsetY+30-(d.config.xaxis.position==="top"?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:te,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[c]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:d.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+d.config.xaxis.labels.style.cssClass});w.add(we),we.tspan(te);var Ce=document.createElementNS(d.globals.SVGNS,"title");Ce.textContent=te,we.node.appendChild(Ce),P+=S}return this.inversedYAxisTitleText(v),this.inversedYAxisBorder(v),v}},{key:"inversedYAxisBorder",value:function(c){var d=this.w,m=new F(this.ctx),v=d.config.xaxis.axisBorder;if(v.show){var w=0;d.config.chart.type==="bar"&&d.globals.isXNumeric&&(w-=15);var j=m.drawLine(d.globals.padHorizontal+w+v.offsetX,this.xAxisoffX,d.globals.gridWidth,this.xAxisoffX,v.color,0,v.height);this.elgrid&&this.elgrid.elGridBorders&&d.config.grid.show?this.elgrid.elGridBorders.add(j):c.add(j)}}},{key:"inversedYAxisTitleText",value:function(c){var d=this.w,m=new F(this.ctx);if(d.config.xaxis.title.text!==void 0){var v=m.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),w=m.drawText({x:d.globals.gridWidth/2+d.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(d.config.xaxis.title.style.fontSize)+d.config.xaxis.title.offsetY+20,text:d.config.xaxis.title.text,textAnchor:"middle",fontSize:d.config.xaxis.title.style.fontSize,fontFamily:d.config.xaxis.title.style.fontFamily,fontWeight:d.config.xaxis.title.style.fontWeight,foreColor:d.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+d.config.xaxis.title.style.cssClass});v.add(w),c.add(v)}}},{key:"yAxisTitleRotate",value:function(c,d){var m=this.w,v=new F(this.ctx),w={width:0,height:0},j={width:0,height:0},S=m.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g"));S!==null&&(w=S.getBoundingClientRect());var P=m.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-title text"));if(P!==null&&(j=P.getBoundingClientRect()),P!==null){var I=this.xPaddingForYAxisTitle(c,w,j,d);P.setAttribute("x",I.xPos-(d?10:0))}if(P!==null){var z=v.rotateAroundCenter(P);P.setAttribute("transform","rotate(".concat(d?-1*m.config.yaxis[c].title.rotate:m.config.yaxis[c].title.rotate," ").concat(z.x," ").concat(z.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(c,d,m,v){var w=this.w,j=0,S=0,P=10;return w.config.yaxis[c].title.text===void 0||c<0?{xPos:S,padd:0}:(v?(S=d.width+w.config.yaxis[c].title.offsetX+m.width/2+P/2,(j+=1)===0&&(S-=P/2)):(S=-1*d.width+w.config.yaxis[c].title.offsetX+P/2+m.width/2,w.globals.isBarHorizontal&&(P=25,S=-1*d.width-w.config.yaxis[c].title.offsetX-P)),{xPos:S,padd:P})}},{key:"setYAxisXPosition",value:function(c,d){var m=this.w,v=0,w=0,j=18,S=1;m.config.yaxis.length>1&&(this.multipleYs=!0),m.config.yaxis.map(function(P,I){var z=m.globals.ignoreYAxisIndexes.indexOf(I)>-1||!P.show||P.floating||c[I].width===0,U=c[I].width+d[I].width;P.opposite?m.globals.isBarHorizontal?(w=m.globals.gridWidth+m.globals.translateX-1,m.globals.translateYAxisX[I]=w-P.labels.offsetX):(w=m.globals.gridWidth+m.globals.translateX+S,z||(S=S+U+20),m.globals.translateYAxisX[I]=w-P.labels.offsetX+20):(v=m.globals.translateX-j,z||(j=j+U+20),m.globals.translateYAxisX[I]=v+P.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var c=this.w,d=c.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(d=T.listToArray(d)).forEach(function(m,v){var w=c.config.yaxis[v];if(w&&!w.floating&&w.labels.align!==void 0){var j=c.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(v,"'] .apexcharts-yaxis-texts-g")),S=c.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(v,"'] .apexcharts-yaxis-label"));S=T.listToArray(S);var P=j.getBoundingClientRect();w.labels.align==="left"?(S.forEach(function(I,z){I.setAttribute("text-anchor","start")}),w.opposite||j.setAttribute("transform","translate(-".concat(P.width,", 0)"))):w.labels.align==="center"?(S.forEach(function(I,z){I.setAttribute("text-anchor","middle")}),j.setAttribute("transform","translate(".concat(P.width/2*(w.opposite?1:-1),", 0)"))):w.labels.align==="right"&&(S.forEach(function(I,z){I.setAttribute("text-anchor","end")}),w.opposite&&j.setAttribute("transform","translate(".concat(P.width,", 0)")))}})}}]),me}(),Tt=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.documentEvent=T.bind(this.documentEvent,this)}return l(me,[{key:"addEventListener",value:function(c,d){var m=this.w;m.globals.events.hasOwnProperty(c)?m.globals.events[c].push(d):m.globals.events[c]=[d]}},{key:"removeEventListener",value:function(c,d){var m=this.w;if(m.globals.events.hasOwnProperty(c)){var v=m.globals.events[c].indexOf(d);v!==-1&&m.globals.events[c].splice(v,1)}}},{key:"fireEvent",value:function(c,d){var m=this.w;if(m.globals.events.hasOwnProperty(c)){d&&d.length||(d=[]);for(var v=m.globals.events[c],w=v.length,j=0;j<w;j++)v[j].apply(null,d)}}},{key:"setupEventHandlers",value:function(){var c=this,d=this.w,m=this.ctx,v=d.globals.dom.baseEl.querySelector(d.globals.chartClass);this.ctx.eventList.forEach(function(w){v.addEventListener(w,function(j){var S=Object.assign({},d,{seriesIndex:d.globals.capturedSeriesIndex,dataPointIndex:d.globals.capturedDataPointIndex});j.type==="mousemove"||j.type==="touchmove"?typeof d.config.chart.events.mouseMove=="function"&&d.config.chart.events.mouseMove(j,m,S):j.type==="mouseleave"||j.type==="touchleave"?typeof d.config.chart.events.mouseLeave=="function"&&d.config.chart.events.mouseLeave(j,m,S):(j.type==="mouseup"&&j.which===1||j.type==="touchend")&&(typeof d.config.chart.events.click=="function"&&d.config.chart.events.click(j,m,S),m.ctx.events.fireEvent("click",[j,m,S]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(w){d.globals.dom.baseEl.addEventListener(w,c.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(c){var d=this.w,m=c.target.className;if(c.type==="click"){var v=d.globals.dom.baseEl.querySelector(".apexcharts-menu");v&&v.classList.contains("apexcharts-menu-open")&&m!=="apexcharts-menu-icon"&&v.classList.remove("apexcharts-menu-open")}d.globals.clientX=c.type==="touchmove"?c.touches[0].clientX:c.clientX,d.globals.clientY=c.type==="touchmove"?c.touches[0].clientY:c.clientY}}]),me}(),Ct=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"setCurrentLocaleValues",value:function(c){var d=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(d=this.w.config.chart.locales.concat(window.Apex.chart.locales));var m=d.filter(function(w){return w.name===c})[0];if(!m)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var v=T.extend(ce,m);this.w.globals.locale=v.options}}]),me}(),or=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"drawAxis",value:function(c,d){var m,v,w=this,j=this.w.globals,S=this.w.config,P=new qe(this.ctx,d),I=new dt(this.ctx,d);j.axisCharts&&c!=="radar"&&(j.isBarHorizontal?(v=I.drawYaxisInversed(0),m=P.drawXaxisInversed(0),j.dom.elGraphical.add(m),j.dom.elGraphical.add(v)):(m=P.drawXaxis(),j.dom.elGraphical.add(m),S.yaxis.map(function(z,U){if(j.ignoreYAxisIndexes.indexOf(U)===-1&&(v=I.drawYaxis(U),j.dom.Paper.add(v),w.w.config.grid.position==="back")){var X=j.dom.Paper.children()[1];X.remove(),j.dom.Paper.add(X)}})))}}]),me}(),Cr=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"drawXCrosshairs",value:function(){var c=this.w,d=new F(this.ctx),m=new B(this.ctx),v=c.config.xaxis.crosshairs.fill.gradient,w=c.config.xaxis.crosshairs.dropShadow,j=c.config.xaxis.crosshairs.fill.type,S=v.colorFrom,P=v.colorTo,I=v.opacityFrom,z=v.opacityTo,U=v.stops,X=w.enabled,Q=w.left,te=w.top,ae=w.blur,pe=w.color,we=w.opacity,Ce=c.config.xaxis.crosshairs.fill.color;if(c.config.xaxis.crosshairs.show){j==="gradient"&&(Ce=d.drawGradient("vertical",S,P,I,z,null,U,null));var R=d.drawRect();c.config.xaxis.crosshairs.width===1&&(R=d.drawLine());var q=c.globals.gridHeight;(!T.isNumber(q)||q<0)&&(q=0);var se=c.config.xaxis.crosshairs.width;(!T.isNumber(se)||se<0)&&(se=0),R.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:q,width:se,height:q,fill:Ce,filter:"none","fill-opacity":c.config.xaxis.crosshairs.opacity,stroke:c.config.xaxis.crosshairs.stroke.color,"stroke-width":c.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":c.config.xaxis.crosshairs.stroke.dashArray}),X&&(R=m.dropShadow(R,{left:Q,top:te,blur:ae,color:pe,opacity:we})),c.globals.dom.elGraphical.add(R)}}},{key:"drawYCrosshairs",value:function(){var c=this.w,d=new F(this.ctx),m=c.config.yaxis[0].crosshairs,v=c.globals.barPadForNumericAxis;if(c.config.yaxis[0].crosshairs.show){var w=d.drawLine(-v,0,c.globals.gridWidth+v,0,m.stroke.color,m.stroke.dashArray,m.stroke.width);w.attr({class:"apexcharts-ycrosshairs"}),c.globals.dom.elGraphical.add(w)}var j=d.drawLine(-v,0,c.globals.gridWidth+v,0,m.stroke.color,0,0);j.attr({class:"apexcharts-ycrosshairs-hidden"}),c.globals.dom.elGraphical.add(j)}}]),me}(),cs=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"checkResponsiveConfig",value:function(c){var d=this,m=this.w,v=m.config;if(v.responsive.length!==0){var w=v.responsive.slice();w.sort(function(I,z){return I.breakpoint>z.breakpoint?1:z.breakpoint>I.breakpoint?-1:0}).reverse();var j=new ue({}),S=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=w[0].breakpoint,U=window.innerWidth>0?window.innerWidth:screen.width;if(U>z){var X=V.extendArrayProps(j,m.globals.initialConfig,m);I=T.extend(X,I),I=T.extend(m.config,I),d.overrideResponsiveOptions(I)}else for(var Q=0;Q<w.length;Q++)U<w[Q].breakpoint&&(I=V.extendArrayProps(j,w[Q].options,m),I=T.extend(m.config,I),d.overrideResponsiveOptions(I))};if(c){var P=V.extendArrayProps(j,c,m);P=T.extend(m.config,P),S(P=T.extend(P,c))}else S({})}}},{key:"overrideResponsiveOptions",value:function(c){var d=new ue(c).init({responsiveOverride:!0});this.w.config=d}}]),me}(),Ie=function(){function me(c){a(this,me),this.ctx=c,this.colors=[],this.w=c.w;var d=this.w;this.isColorFn=!1,this.isHeatmapDistributed=d.config.chart.type==="treemap"&&d.config.plotOptions.treemap.distributed||d.config.chart.type==="heatmap"&&d.config.plotOptions.heatmap.distributed,this.isBarDistributed=d.config.plotOptions.bar.distributed&&(d.config.chart.type==="bar"||d.config.chart.type==="rangeBar")}return l(me,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var c,d=this,m=this.w,v=new T;if(m.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(m.config.theme.mode)),m.config.colors===void 0||((c=m.config.colors)===null||c===void 0?void 0:c.length)===0?m.globals.colors=this.predefined():(m.globals.colors=m.config.colors,Array.isArray(m.config.colors)&&m.config.colors.length>0&&typeof m.config.colors[0]=="function"&&(m.globals.colors=m.config.series.map(function(te,ae){var pe=m.config.colors[ae];return pe||(pe=m.config.colors[0]),typeof pe=="function"?(d.isColorFn=!0,pe({value:m.globals.axisCharts?m.globals.series[ae][0]?m.globals.series[ae][0]:0:m.globals.series[ae],seriesIndex:ae,dataPointIndex:ae,w:m})):pe}))),m.globals.seriesColors.map(function(te,ae){te&&(m.globals.colors[ae]=te)}),m.config.theme.monochrome.enabled){var w=[],j=m.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(j=m.globals.series[0].length*m.globals.series.length);for(var S=m.config.theme.monochrome.color,P=1/(j/m.config.theme.monochrome.shadeIntensity),I=m.config.theme.monochrome.shadeTo,z=0,U=0;U<j;U++){var X=void 0;I==="dark"?(X=v.shadeColor(-1*z,S),z+=P):(X=v.shadeColor(z,S),z+=P),w.push(X)}m.globals.colors=w.slice()}var Q=m.globals.colors.slice();this.pushExtraColors(m.globals.colors),["fill","stroke"].forEach(function(te){m.config[te].colors===void 0?m.globals[te].colors=d.isColorFn?m.config.colors:Q:m.globals[te].colors=m.config[te].colors.slice(),d.pushExtraColors(m.globals[te].colors)}),m.config.dataLabels.style.colors===void 0?m.globals.dataLabels.style.colors=Q:m.globals.dataLabels.style.colors=m.config.dataLabels.style.colors.slice(),this.pushExtraColors(m.globals.dataLabels.style.colors,50),m.config.plotOptions.radar.polygons.fill.colors===void 0?m.globals.radarPolygons.fill.colors=[m.config.theme.mode==="dark"?"#424242":"none"]:m.globals.radarPolygons.fill.colors=m.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(m.globals.radarPolygons.fill.colors,20),m.config.markers.colors===void 0?m.globals.markers.colors=Q:m.globals.markers.colors=m.config.markers.colors.slice(),this.pushExtraColors(m.globals.markers.colors)}},{key:"pushExtraColors",value:function(c,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,v=this.w,w=d||v.globals.series.length;if(m===null&&(m=this.isBarDistributed||this.isHeatmapDistributed||v.config.chart.type==="heatmap"&&v.config.plotOptions.heatmap.colorScale.inverse),m&&v.globals.series.length&&(w=v.globals.series[v.globals.maxValsInArrayIndex].length*v.globals.series.length),c.length<w)for(var j=w-c.length,S=0;S<j;S++)c.push(c[S])}},{key:"updateThemeOptions",value:function(c){c.chart=c.chart||{},c.tooltip=c.tooltip||{};var d=c.theme.mode||"light",m=c.theme.palette?c.theme.palette:d==="dark"?"palette4":"palette1",v=c.chart.foreColor?c.chart.foreColor:d==="dark"?"#f6f7f8":"#373d3f";return c.tooltip.theme=d,c.chart.foreColor=v,c.theme.palette=m,c}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),me}(),Ge=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(c){var d=this.w,m=c==="title"?d.config.title:d.config.subtitle,v=d.globals.svgWidth/2,w=m.offsetY,j="middle";if(m.align==="left"?(v=10,j="start"):m.align==="right"&&(v=d.globals.svgWidth-10,j="end"),v+=m.offsetX,w=w+parseInt(m.style.fontSize,10)+m.margin/2,m.text!==void 0){var S=new F(this.ctx).drawText({x:v,y:w,text:m.text,textAnchor:j,fontSize:m.style.fontSize,fontFamily:m.style.fontFamily,fontWeight:m.style.fontWeight,foreColor:m.style.color,opacity:1});S.node.setAttribute("class","apexcharts-".concat(c,"-text")),d.globals.dom.Paper.add(S)}}}]),me}(),it=function(){function me(c){a(this,me),this.w=c.w,this.dCtx=c}return l(me,[{key:"getTitleSubtitleCoords",value:function(c){var d=this.w,m=0,v=0,w=c==="title"?d.config.title.floating:d.config.subtitle.floating,j=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(c,"-text"));if(j!==null&&!w){var S=j.getBoundingClientRect();m=S.width,v=d.globals.axisCharts?S.height+5:S.height}return{width:m,height:v}}},{key:"getLegendsRect",value:function(){var c=this.w,d=c.globals.dom.elLegendWrap;c.config.legend.height||c.config.legend.position!=="top"&&c.config.legend.position!=="bottom"||(d.style.maxHeight=c.globals.svgHeight/2+"px");var m=Object.assign({},T.getBoundingClientRect(d));return d!==null&&!c.config.legend.floating&&c.config.legend.show?this.dCtx.lgRect={x:m.x,y:m.y,height:m.height,width:m.height===0?0:m.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},c.config.legend.position!=="left"&&c.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>c.globals.svgWidth&&(this.dCtx.lgRect.width=c.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(c,d){var m=c;if(this.w.globals.isMultiLineX){var v=d.map(function(j,S){return Array.isArray(j)?j.length:1}),w=Math.max.apply(Math,k(v));m=d[v.indexOf(w)]}return m}}]),me}(),kt=function(){function me(c){a(this,me),this.w=c.w,this.dCtx=c}return l(me,[{key:"getxAxisLabelsCoords",value:function(){var c,d=this.w,m=d.globals.labels.slice();if(d.config.xaxis.convertedCatToNumeric&&m.length===0&&(m=d.globals.categoryLabels),d.globals.timescaleLabels.length>0){var v=this.getxAxisTimeScaleLabelsCoords();c={width:v.width,height:v.height},d.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=d.config.legend.position!=="left"&&d.config.legend.position!=="right"||d.config.legend.floating?0:this.dCtx.lgRect.width;var w=d.globals.xLabelFormatter,j=T.getLargestStringFromArr(m),S=this.dCtx.dimHelpers.getLargestStringFromMultiArr(j,m);d.globals.isBarHorizontal&&(S=j=d.globals.yAxisScale[0].result.reduce(function(te,ae){return te.length>ae.length?te:ae},0));var P=new xe(this.dCtx.ctx),I=j;j=P.xLabelFormat(w,j,I,{i:void 0,dateFormatter:new ee(this.dCtx.ctx).formatDate,w:d}),S=P.xLabelFormat(w,S,I,{i:void 0,dateFormatter:new ee(this.dCtx.ctx).formatDate,w:d}),(d.config.xaxis.convertedCatToNumeric&&j===void 0||String(j).trim()==="")&&(S=j="1");var z=new F(this.dCtx.ctx),U=z.getTextRects(j,d.config.xaxis.labels.style.fontSize),X=U;if(j!==S&&(X=z.getTextRects(S,d.config.xaxis.labels.style.fontSize)),(c={width:U.width>=X.width?U.width:X.width,height:U.height>=X.height?U.height:X.height}).width*m.length>d.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&d.config.xaxis.labels.rotate!==0||d.config.xaxis.labels.rotateAlways){if(!d.globals.isBarHorizontal){d.globals.rotateXLabels=!0;var Q=function(te){return z.getTextRects(te,d.config.xaxis.labels.style.fontSize,d.config.xaxis.labels.style.fontFamily,"rotate(".concat(d.config.xaxis.labels.rotate," 0 0)"),!1)};U=Q(j),j!==S&&(X=Q(S)),c.height=(U.height>X.height?U.height:X.height)/1.5,c.width=U.width>X.width?U.width:X.width}}else d.globals.rotateXLabels=!1}return d.config.xaxis.labels.show||(c={width:0,height:0}),{width:c.width,height:c.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var c,d=this.w;if(!d.globals.hasXaxisGroups)return{width:0,height:0};var m,v=((c=d.config.xaxis.group.style)===null||c===void 0?void 0:c.fontSize)||d.config.xaxis.labels.style.fontSize,w=d.globals.groups.map(function(U){return U.title}),j=T.getLargestStringFromArr(w),S=this.dCtx.dimHelpers.getLargestStringFromMultiArr(j,w),P=new F(this.dCtx.ctx),I=P.getTextRects(j,v),z=I;return j!==S&&(z=P.getTextRects(S,v)),m={width:I.width>=z.width?I.width:z.width,height:I.height>=z.height?I.height:z.height},d.config.xaxis.labels.show||(m={width:0,height:0}),{width:m.width,height:m.height}}},{key:"getxAxisTitleCoords",value:function(){var c=this.w,d=0,m=0;if(c.config.xaxis.title.text!==void 0){var v=new F(this.dCtx.ctx).getTextRects(c.config.xaxis.title.text,c.config.xaxis.title.style.fontSize);d=v.width,m=v.height}return{width:d,height:m}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var c,d=this.w;this.dCtx.timescaleLabels=d.globals.timescaleLabels.slice();var m=this.dCtx.timescaleLabels.map(function(w){return w.value}),v=m.reduce(function(w,j){return w===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):w.length>j.length?w:j},0);return 1.05*(c=new F(this.dCtx.ctx).getTextRects(v,d.config.xaxis.labels.style.fontSize)).width*m.length>d.globals.gridWidth&&d.config.xaxis.labels.rotate!==0&&(d.globals.overlappingXLabels=!0),c}},{key:"additionalPaddingXLabels",value:function(c){var d=this,m=this.w,v=m.globals,w=m.config,j=w.xaxis.type,S=c.width;v.skipLastTimelinelabel=!1,v.skipFirstTimelinelabel=!1;var P=m.config.yaxis[0].opposite&&m.globals.isBarHorizontal,I=function(z,U){w.yaxis.length>1&&function(X){return v.collapsedSeriesIndices.indexOf(X)!==-1}(U)||function(X){if(d.dCtx.timescaleLabels&&d.dCtx.timescaleLabels.length){var Q=d.dCtx.timescaleLabels[0],te=d.dCtx.timescaleLabels[d.dCtx.timescaleLabels.length-1].position+S/1.75-d.dCtx.yAxisWidthRight,ae=Q.position-S/1.75+d.dCtx.yAxisWidthLeft,pe=m.config.legend.position==="right"&&d.dCtx.lgRect.width>0?d.dCtx.lgRect.width:0;te>v.svgWidth-v.translateX-pe&&(v.skipLastTimelinelabel=!0),ae<-(X.show&&!X.floating||w.chart.type!=="bar"&&w.chart.type!=="candlestick"&&w.chart.type!=="rangeBar"&&w.chart.type!=="boxPlot"?10:S/1.75)&&(v.skipFirstTimelinelabel=!0)}else j==="datetime"?d.dCtx.gridPad.right<S&&!v.rotateXLabels&&(v.skipLastTimelinelabel=!0):j!=="datetime"&&d.dCtx.gridPad.right<S/2-d.dCtx.yAxisWidthRight&&!v.rotateXLabels&&!m.config.xaxis.labels.trim&&(m.config.xaxis.tickPlacement!=="between"||m.globals.isBarHorizontal)&&(d.dCtx.xPadRight=S/2+1)}(z)};w.yaxis.forEach(function(z,U){P?(d.dCtx.gridPad.left<S&&(d.dCtx.xPadLeft=S/2+1),d.dCtx.xPadRight=S/2+1):I(z,U)})}}]),me}(),jt=function(){function me(c){a(this,me),this.w=c.w,this.dCtx=c}return l(me,[{key:"getyAxisLabelsCoords",value:function(){var c=this,d=this.w,m=[],v=10,w=new nt(this.dCtx.ctx);return d.config.yaxis.map(function(j,S){var P={seriesIndex:S,dataPointIndex:-1,w:d},I=d.globals.yAxisScale[S],z=0;if(!w.isYAxisHidden(S)&&j.labels.show&&j.labels.minWidth!==void 0&&(z=j.labels.minWidth),!w.isYAxisHidden(S)&&j.labels.show&&I.result.length){var U=d.globals.yLabelFormatters[S],X=I.niceMin===Number.MIN_VALUE?0:I.niceMin,Q=I.result.reduce(function(q,se){var be,Pe;return((be=String(U(q,P)))===null||be===void 0?void 0:be.length)>((Pe=String(U(se,P)))===null||Pe===void 0?void 0:Pe.length)?q:se},X),te=Q=U(Q,P);if(Q!==void 0&&Q.length!==0||(Q=I.niceMax),d.globals.isBarHorizontal){v=0;var ae=d.globals.labels.slice();Q=T.getLargestStringFromArr(ae),Q=U(Q,{seriesIndex:S,dataPointIndex:-1,w:d}),te=c.dCtx.dimHelpers.getLargestStringFromMultiArr(Q,ae)}var pe=new F(c.dCtx.ctx),we="rotate(".concat(j.labels.rotate," 0 0)"),Ce=pe.getTextRects(Q,j.labels.style.fontSize,j.labels.style.fontFamily,we,!1),R=Ce;Q!==te&&(R=pe.getTextRects(te,j.labels.style.fontSize,j.labels.style.fontFamily,we,!1)),m.push({width:(z>R.width||z>Ce.width?z:R.width>Ce.width?R.width:Ce.width)+v,height:R.height>Ce.height?R.height:Ce.height})}else m.push({width:0,height:0})}),m}},{key:"getyAxisTitleCoords",value:function(){var c=this,d=this.w,m=[];return d.config.yaxis.map(function(v,w){if(v.show&&v.title.text!==void 0){var j=new F(c.dCtx.ctx),S="rotate(".concat(v.title.rotate," 0 0)"),P=j.getTextRects(v.title.text,v.title.style.fontSize,v.title.style.fontFamily,S,!1);m.push({width:P.width,height:P.height})}else m.push({width:0,height:0})}),m}},{key:"getTotalYAxisWidth",value:function(){var c=this.w,d=0,m=0,v=0,w=c.globals.yAxisScale.length>1?10:0,j=new nt(this.dCtx.ctx),S=function(P,I){var z=c.config.yaxis[I].floating,U=0;P.width>0&&!z?(U=P.width+w,function(X){return c.globals.ignoreYAxisIndexes.indexOf(X)>-1}(I)&&(U=U-P.width-w)):U=z||j.isYAxisHidden(I)?0:5,c.config.yaxis[I].opposite?v+=U:m+=U,d+=U};return c.globals.yLabelsCoords.map(function(P,I){S(P,I)}),c.globals.yTitleCoords.map(function(P,I){S(P,I)}),c.globals.isBarHorizontal&&!c.config.yaxis[0].floating&&(d=c.globals.yLabelsCoords[0].width+c.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=m,this.dCtx.yAxisWidthRight=v,d}}]),me}(),bt=function(){function me(c){a(this,me),this.w=c.w,this.dCtx=c}return l(me,[{key:"gridPadForColumnsInNumericAxis",value:function(c){var d=this.w;if(d.globals.noData||d.globals.allSeriesCollapsed)return 0;var m=function(z){return z==="bar"||z==="rangeBar"||z==="candlestick"||z==="boxPlot"},v=d.config.chart.type,w=0,j=m(v)?d.config.series.length:1;if(d.globals.comboBarCount>0&&(j=d.globals.comboBarCount),d.globals.collapsedSeries.forEach(function(z){m(z.type)&&(j-=1)}),d.config.chart.stacked&&(j=1),(m(v)||d.globals.comboBarCount>0)&&d.globals.isXNumeric&&!d.globals.isBarHorizontal&&j>0){var S,P,I=Math.abs(d.globals.initialMaxX-d.globals.initialMinX);I<=3&&(I=d.globals.dataPoints),S=I/c,d.globals.minXDiff&&d.globals.minXDiff/S>0&&(P=d.globals.minXDiff/S),P>c/2&&(P/=2),(w=P/j*parseInt(d.config.plotOptions.bar.columnWidth,10)/100)<1&&(w=1),w=w/(j>1?1:1.5)+5,d.globals.barPadForNumericAxis=w}return w}},{key:"gridPadFortitleSubtitle",value:function(){var c=this,d=this.w,m=d.globals,v=this.dCtx.isSparkline||!d.globals.axisCharts?0:10;["title","subtitle"].forEach(function(S){d.config[S].text!==void 0?v+=d.config[S].margin:v+=c.dCtx.isSparkline||!d.globals.axisCharts?0:5}),!d.config.legend.show||d.config.legend.position!=="bottom"||d.config.legend.floating||d.globals.axisCharts||(v+=10);var w=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),j=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");m.gridHeight=m.gridHeight-w.height-j.height-v,m.translateY=m.translateY+w.height+j.height+v}},{key:"setGridXPosForDualYAxis",value:function(c,d){var m=this.w,v=new nt(this.dCtx.ctx);m.config.yaxis.map(function(w,j){m.globals.ignoreYAxisIndexes.indexOf(j)!==-1||w.floating||v.isYAxisHidden(j)||(w.opposite&&(m.globals.translateX=m.globals.translateX-(d[j].width+c[j].width)-parseInt(m.config.yaxis[j].labels.style.fontSize,10)/1.2-12),m.globals.translateX<2&&(m.globals.translateX=2))})}}]),me}(),Ot=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new it(this),this.dimYAxis=new jt(this),this.dimXAxis=new kt(this),this.dimGrid=new bt(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return l(me,[{key:"plotCoords",value:function(){var c=this,d=this.w,m=d.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&((d.config.markers.discrete.length>0||d.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(w){var j=_(w,2),S=j[0],P=j[1];c.gridPad[S]=Math.max(P,c.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(d.config.stroke.width/2,this.gridPad.top),this.gridPad.bottom=Math.max(d.config.stroke.width/2,this.gridPad.bottom)),m.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),m.gridHeight=m.gridHeight-this.gridPad.top-this.gridPad.bottom,m.gridWidth=m.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var v=this.dimGrid.gridPadForColumnsInNumericAxis(m.gridWidth);m.gridWidth=m.gridWidth-2*v,m.translateX=m.translateX+this.gridPad.left+this.xPadLeft+(v>0?v+4:0),m.translateY=m.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var c=this,d=this.w,m=d.globals,v=this.dimYAxis.getyAxisLabelsCoords(),w=this.dimYAxis.getyAxisTitleCoords();d.globals.yLabelsCoords=[],d.globals.yTitleCoords=[],d.config.yaxis.map(function(Q,te){d.globals.yLabelsCoords.push({width:v[te].width,index:te}),d.globals.yTitleCoords.push({width:w[te].width,index:te})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var j=this.dimXAxis.getxAxisLabelsCoords(),S=this.dimXAxis.getxAxisGroupLabelsCoords(),P=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(j,P,S),m.translateXAxisY=d.globals.rotateXLabels?this.xAxisHeight/8:-4,m.translateXAxisX=d.globals.rotateXLabels&&d.globals.isXNumeric&&d.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,d.globals.isBarHorizontal&&(m.rotateXLabels=!1,m.translateXAxisY=parseInt(d.config.xaxis.labels.style.fontSize,10)/1.5*-1),m.translateXAxisY=m.translateXAxisY+d.config.xaxis.labels.offsetY,m.translateXAxisX=m.translateXAxisX+d.config.xaxis.labels.offsetX;var I=this.yAxisWidth,z=this.xAxisHeight;m.xAxisLabelsHeight=this.xAxisHeight-P.height,m.xAxisGroupLabelsHeight=m.xAxisLabelsHeight-j.height,m.xAxisLabelsWidth=this.xAxisWidth,m.xAxisHeight=this.xAxisHeight;var U=10;(d.config.chart.type==="radar"||this.isSparkline)&&(I=0,z=m.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||d.config.chart.type==="treemap")&&(I=0,z=0,U=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(j);var X=function(){m.translateX=I,m.gridHeight=m.svgHeight-c.lgRect.height-z-(c.isSparkline||d.config.chart.type==="treemap"?0:d.globals.rotateXLabels?10:15),m.gridWidth=m.svgWidth-I};switch(d.config.xaxis.position==="top"&&(U=m.xAxisHeight-d.config.xaxis.axisTicks.height-5),d.config.legend.position){case"bottom":m.translateY=U,X();break;case"top":m.translateY=this.lgRect.height+U,X();break;case"left":m.translateY=U,m.translateX=this.lgRect.width+I,m.gridHeight=m.svgHeight-z-12,m.gridWidth=m.svgWidth-this.lgRect.width-I;break;case"right":m.translateY=U,m.translateX=I,m.gridHeight=m.svgHeight-z-12,m.gridWidth=m.svgWidth-this.lgRect.width-I-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(w,v),new dt(this.ctx).setYAxisXPosition(v,w)}},{key:"setDimensionsForNonAxisCharts",value:function(){var c=this.w,d=c.globals,m=c.config,v=0;c.config.legend.show&&!c.config.legend.floating&&(v=20);var w=m.chart.type==="pie"||m.chart.type==="polarArea"||m.chart.type==="donut"?"pie":"radialBar",j=m.plotOptions[w].offsetY,S=m.plotOptions[w].offsetX;if(!m.legend.show||m.legend.floating)return d.gridHeight=d.svgHeight-m.grid.padding.left+m.grid.padding.right,d.gridWidth=d.gridHeight,d.translateY=j,void(d.translateX=S+(d.svgWidth-d.gridWidth)/2);switch(m.legend.position){case"bottom":d.gridHeight=d.svgHeight-this.lgRect.height-d.goldenPadding,d.gridWidth=d.svgWidth,d.translateY=j-10,d.translateX=S+(d.svgWidth-d.gridWidth)/2;break;case"top":d.gridHeight=d.svgHeight-this.lgRect.height-d.goldenPadding,d.gridWidth=d.svgWidth,d.translateY=this.lgRect.height+j+10,d.translateX=S+(d.svgWidth-d.gridWidth)/2;break;case"left":d.gridWidth=d.svgWidth-this.lgRect.width-v,d.gridHeight=m.chart.height!=="auto"?d.svgHeight:d.gridWidth,d.translateY=j,d.translateX=S+this.lgRect.width+v;break;case"right":d.gridWidth=d.svgWidth-this.lgRect.width-v-5,d.gridHeight=m.chart.height!=="auto"?d.svgHeight:d.gridWidth,d.translateY=j,d.translateX=S+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(c,d,m){var v=this.w,w=v.globals.hasXaxisGroups?2:1,j=m.height+c.height+d.height,S=v.globals.isMultiLineX?1.2:v.globals.LINE_HEIGHT_RATIO,P=v.globals.rotateXLabels?22:10,I=v.globals.rotateXLabels&&v.config.legend.position==="bottom"?10:0;this.xAxisHeight=j*S+w*P+I,this.xAxisWidth=c.width,this.xAxisHeight-d.height>v.config.xaxis.labels.maxHeight&&(this.xAxisHeight=v.config.xaxis.labels.maxHeight),v.config.xaxis.labels.minHeight&&this.xAxisHeight<v.config.xaxis.labels.minHeight&&(this.xAxisHeight=v.config.xaxis.labels.minHeight),v.config.xaxis.floating&&(this.xAxisHeight=0);var z=0,U=0;v.config.yaxis.forEach(function(X){z+=X.labels.minWidth,U+=X.labels.maxWidth}),this.yAxisWidth<z&&(this.yAxisWidth=z),this.yAxisWidth>U&&(this.yAxisWidth=U)}}]),me}(),rr=function(){function me(c){a(this,me),this.w=c.w,this.lgCtx=c}return l(me,[{key:"getLegendStyles",value:function(){var c=document.createElement("style");c.setAttribute("type","text/css");var d=document.createTextNode(`	
    	
      .apexcharts-legend {	
        display: flex;	
        overflow: auto;	
        padding: 0 10px;	
      }	
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
        flex-wrap: wrap	
      }	
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        flex-direction: column;	
        bottom: 0;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        justify-content: flex-start;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
        justify-content: center;  	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
        justify-content: flex-end;	
      }	
      .apexcharts-legend-series {	
        cursor: pointer;	
        line-height: normal;	
      }	
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
        display: flex;	
        align-items: center;	
      }	
      .apexcharts-legend-text {	
        position: relative;	
        font-size: 14px;	
      }	
      .apexcharts-legend-text *, .apexcharts-legend-marker * {	
        pointer-events: none;	
      }	
      .apexcharts-legend-marker {	
        position: relative;	
        display: inline-block;	
        cursor: pointer;	
        margin-right: 3px;	
        border-style: solid;
      }	
      	
      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
        display: inline-block;	
      }	
      .apexcharts-legend-series.apexcharts-no-click {	
        cursor: auto;	
      }	
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
        display: none !important;	
      }	
      .apexcharts-inactive-legend {	
        opacity: 0.45;	
      }`);return c.appendChild(d),c}},{key:"getLegendBBox",value:function(){var c=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),d=c.width;return{clwh:c.height,clww:d}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(c,d){var m=this,v=this.w;if(v.globals.axisCharts||v.config.chart.type==="radialBar"){v.globals.resized=!0;var w=null,j=null;v.globals.risingSeries=[],v.globals.axisCharts?(w=v.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(c,"']")),j=parseInt(w.getAttribute("data:realIndex"),10)):(w=v.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(c+1,"']")),j=parseInt(w.getAttribute("rel"),10)-1),d?[{cs:v.globals.collapsedSeries,csi:v.globals.collapsedSeriesIndices},{cs:v.globals.ancillaryCollapsedSeries,csi:v.globals.ancillaryCollapsedSeriesIndices}].forEach(function(z){m.riseCollapsedSeries(z.cs,z.csi,j)}):this.hideSeries({seriesEl:w,realIndex:j})}else{var S=v.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(c+1,"'] path")),P=v.config.chart.type;if(P==="pie"||P==="polarArea"||P==="donut"){var I=v.config.plotOptions.pie.donut.labels;new F(this.lgCtx.ctx).pathMouseDown(S.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(S.members[0].node,I)}S.fire("click")}}},{key:"hideSeries",value:function(c){var d=c.seriesEl,m=c.realIndex,v=this.w,w=T.clone(v.config.series);if(v.globals.axisCharts){var j=!1;if(v.config.yaxis[m]&&v.config.yaxis[m].show&&v.config.yaxis[m].showAlways&&(j=!0,v.globals.ancillaryCollapsedSeriesIndices.indexOf(m)<0&&(v.globals.ancillaryCollapsedSeries.push({index:m,data:w[m].data.slice(),type:d.parentNode.className.baseVal.split("-")[1]}),v.globals.ancillaryCollapsedSeriesIndices.push(m))),!j){v.globals.collapsedSeries.push({index:m,data:w[m].data.slice(),type:d.parentNode.className.baseVal.split("-")[1]}),v.globals.collapsedSeriesIndices.push(m);var S=v.globals.risingSeries.indexOf(m);v.globals.risingSeries.splice(S,1)}}else v.globals.collapsedSeries.push({index:m,data:w[m]}),v.globals.collapsedSeriesIndices.push(m);for(var P=d.childNodes,I=0;I<P.length;I++)P[I].classList.contains("apexcharts-series-markers-wrap")&&(P[I].classList.contains("apexcharts-hide")?P[I].classList.remove("apexcharts-hide"):P[I].classList.add("apexcharts-hide"));v.globals.allSeriesCollapsed=v.globals.collapsedSeries.length===v.config.series.length,w=this._getSeriesBasedOnCollapsedState(w),this.lgCtx.ctx.updateHelpers._updateSeries(w,v.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(c,d,m){var v=this.w,w=T.clone(v.config.series);if(c.length>0){for(var j=0;j<c.length;j++)c[j].index===m&&(v.globals.axisCharts?(w[m].data=c[j].data.slice(),c.splice(j,1),d.splice(j,1),v.globals.risingSeries.push(m)):(w[m]=c[j].data,c.splice(j,1),d.splice(j,1),v.globals.risingSeries.push(m)));w=this._getSeriesBasedOnCollapsedState(w),this.lgCtx.ctx.updateHelpers._updateSeries(w,v.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(c){var d=this.w;return d.globals.axisCharts?c.forEach(function(m,v){d.globals.collapsedSeriesIndices.indexOf(v)>-1&&(c[v].data=[])}):c.forEach(function(m,v){d.globals.collapsedSeriesIndices.indexOf(v)>-1&&(c[v]=0)}),c}}]),me}(),lr=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new rr(this)}return l(me,[{key:"init",value:function(){var c=this.w,d=c.globals,m=c.config;if((m.legend.showForSingleSeries&&d.series.length===1||this.isBarsDistributed||d.series.length>1||!d.axisCharts)&&m.legend.show){for(;d.dom.elLegendWrap.firstChild;)d.dom.elLegendWrap.removeChild(d.dom.elLegendWrap.firstChild);this.drawLegends(),T.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),m.legend.position==="bottom"||m.legend.position==="top"?this.legendAlignHorizontal():m.legend.position!=="right"&&m.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var c=this,d=this.w,m=d.config.legend.fontFamily,v=d.globals.seriesNames,w=d.globals.colors.slice();if(d.config.chart.type==="heatmap"){var j=d.config.plotOptions.heatmap.colorScale.ranges;v=j.map(function(mt){return mt.name?mt.name:mt.from+" - "+mt.to}),w=j.map(function(mt){return mt.color})}else this.isBarsDistributed&&(v=d.globals.labels.slice());d.config.legend.customLegendItems.length&&(v=d.config.legend.customLegendItems);for(var S=d.globals.legendFormatter,P=d.config.legend.inverseOrder,I=P?v.length-1:0;P?I>=0:I<=v.length-1;P?I--:I++){var z,U=S(v[I],{seriesIndex:I,w:d}),X=!1,Q=!1;if(d.globals.collapsedSeries.length>0)for(var te=0;te<d.globals.collapsedSeries.length;te++)d.globals.collapsedSeries[te].index===I&&(X=!0);if(d.globals.ancillaryCollapsedSeriesIndices.length>0)for(var ae=0;ae<d.globals.ancillaryCollapsedSeriesIndices.length;ae++)d.globals.ancillaryCollapsedSeriesIndices[ae]===I&&(Q=!0);var pe=document.createElement("span");pe.classList.add("apexcharts-legend-marker");var we=d.config.legend.markers.offsetX,Ce=d.config.legend.markers.offsetY,R=d.config.legend.markers.height,q=d.config.legend.markers.width,se=d.config.legend.markers.strokeWidth,be=d.config.legend.markers.strokeColor,Pe=d.config.legend.markers.radius,Le=pe.style;Le.background=w[I],Le.color=w[I],Le.setProperty("background",w[I],"important"),d.config.legend.markers.fillColors&&d.config.legend.markers.fillColors[I]&&(Le.background=d.config.legend.markers.fillColors[I]),d.globals.seriesColors[I]!==void 0&&(Le.background=d.globals.seriesColors[I],Le.color=d.globals.seriesColors[I]),Le.height=Array.isArray(R)?parseFloat(R[I])+"px":parseFloat(R)+"px",Le.width=Array.isArray(q)?parseFloat(q[I])+"px":parseFloat(q)+"px",Le.left=(Array.isArray(we)?parseFloat(we[I]):parseFloat(we))+"px",Le.top=(Array.isArray(Ce)?parseFloat(Ce[I]):parseFloat(Ce))+"px",Le.borderWidth=Array.isArray(se)?se[I]:se,Le.borderColor=Array.isArray(be)?be[I]:be,Le.borderRadius=Array.isArray(Pe)?parseFloat(Pe[I])+"px":parseFloat(Pe)+"px",d.config.legend.markers.customHTML&&(Array.isArray(d.config.legend.markers.customHTML)?d.config.legend.markers.customHTML[I]&&(pe.innerHTML=d.config.legend.markers.customHTML[I]()):pe.innerHTML=d.config.legend.markers.customHTML()),F.setAttrs(pe,{rel:I+1,"data:collapsed":X||Q}),(X||Q)&&pe.classList.add("apexcharts-inactive-legend");var ze=document.createElement("div"),Fe=document.createElement("span");Fe.classList.add("apexcharts-legend-text"),Fe.innerHTML=Array.isArray(U)?U.join(" "):U;var tt=d.config.legend.labels.useSeriesColors?d.globals.colors[I]:Array.isArray(d.config.legend.labels.colors)?(z=d.config.legend.labels.colors)===null||z===void 0?void 0:z[I]:d.config.legend.labels.colors;tt||(tt=d.config.chart.foreColor),Fe.style.color=tt,Fe.style.fontSize=parseFloat(d.config.legend.fontSize)+"px",Fe.style.fontWeight=d.config.legend.fontWeight,Fe.style.fontFamily=m||d.config.chart.fontFamily,F.setAttrs(Fe,{rel:I+1,i:I,"data:default-text":encodeURIComponent(U),"data:collapsed":X||Q}),ze.appendChild(pe),ze.appendChild(Fe);var ft=new V(this.ctx);d.config.legend.showForZeroSeries||ft.getSeriesTotalByIndex(I)===0&&ft.seriesHaveSameValues(I)&&!ft.isSeriesNull(I)&&d.globals.collapsedSeriesIndices.indexOf(I)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(I)===-1&&ze.classList.add("apexcharts-hidden-zero-series"),d.config.legend.showForNullSeries||ft.isSeriesNull(I)&&d.globals.collapsedSeriesIndices.indexOf(I)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(I)===-1&&ze.classList.add("apexcharts-hidden-null-series"),d.globals.dom.elLegendWrap.appendChild(ze),d.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(d.config.legend.horizontalAlign)),d.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+d.config.legend.position),ze.classList.add("apexcharts-legend-series"),ze.style.margin="".concat(d.config.legend.itemMargin.vertical,"px ").concat(d.config.legend.itemMargin.horizontal,"px"),d.globals.dom.elLegendWrap.style.width=d.config.legend.width?d.config.legend.width+"px":"",d.globals.dom.elLegendWrap.style.height=d.config.legend.height?d.config.legend.height+"px":"",F.setAttrs(ze,{rel:I+1,seriesName:T.escapeString(v[I]),"data:collapsed":X||Q}),(X||Q)&&ze.classList.add("apexcharts-inactive-legend"),d.config.legend.onItemClick.toggleDataSeries||ze.classList.add("apexcharts-no-click")}d.globals.dom.elWrap.addEventListener("click",c.onLegendClick,!0),d.config.legend.onItemHover.highlightDataSeries&&d.config.legend.customLegendItems.length===0&&(d.globals.dom.elWrap.addEventListener("mousemove",c.onLegendHovered,!0),d.globals.dom.elWrap.addEventListener("mouseout",c.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(c,d){var m=this.w,v=m.globals.dom.elLegendWrap,w=v.getBoundingClientRect(),j=0,S=0;if(m.config.legend.position==="bottom")S+=m.globals.svgHeight-w.height/2;else if(m.config.legend.position==="top"){var P=new Ot(this.ctx),I=P.dimHelpers.getTitleSubtitleCoords("title").height,z=P.dimHelpers.getTitleSubtitleCoords("subtitle").height;S=S+(I>0?I-10:0)+(z>0?z-10:0)}v.style.position="absolute",j=j+c+m.config.legend.offsetX,S=S+d+m.config.legend.offsetY,v.style.left=j+"px",v.style.top=S+"px",m.config.legend.position==="bottom"?(v.style.top="auto",v.style.bottom=5-m.config.legend.offsetY+"px"):m.config.legend.position==="right"&&(v.style.left="auto",v.style.right=25+m.config.legend.offsetX+"px"),["width","height"].forEach(function(U){v.style[U]&&(v.style[U]=parseInt(m.config.legend[U],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var c=this.w;c.globals.dom.elLegendWrap.style.right=0;var d=this.legendHelpers.getLegendBBox(),m=new Ot(this.ctx),v=m.dimHelpers.getTitleSubtitleCoords("title"),w=m.dimHelpers.getTitleSubtitleCoords("subtitle"),j=0;c.config.legend.position==="bottom"?j=-d.clwh/1.8:c.config.legend.position==="top"&&(j=v.height+w.height+c.config.title.margin+c.config.subtitle.margin-10),this.setLegendWrapXY(20,j)}},{key:"legendAlignVertical",value:function(){var c=this.w,d=this.legendHelpers.getLegendBBox(),m=0;c.config.legend.position==="left"&&(m=20),c.config.legend.position==="right"&&(m=c.globals.svgWidth-d.clww-10),this.setLegendWrapXY(m,20)}},{key:"onLegendHovered",value:function(c){var d=this.w,m=c.target.classList.contains("apexcharts-legend-series")||c.target.classList.contains("apexcharts-legend-text")||c.target.classList.contains("apexcharts-legend-marker");if(d.config.chart.type==="heatmap"||this.isBarsDistributed){if(m){var v=parseInt(c.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,v,this.w]),new Ue(this.ctx).highlightRangeInSeries(c,c.target)}}else!c.target.classList.contains("apexcharts-inactive-legend")&&m&&new Ue(this.ctx).toggleSeriesOnHover(c,c.target)}},{key:"onLegendClick",value:function(c){var d=this.w;if(!d.config.legend.customLegendItems.length&&(c.target.classList.contains("apexcharts-legend-series")||c.target.classList.contains("apexcharts-legend-text")||c.target.classList.contains("apexcharts-legend-marker"))){var m=parseInt(c.target.getAttribute("rel"),10)-1,v=c.target.getAttribute("data:collapsed")==="true",w=this.w.config.chart.events.legendClick;typeof w=="function"&&w(this.ctx,m,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,m,this.w]);var j=this.w.config.legend.markers.onClick;typeof j=="function"&&c.target.classList.contains("apexcharts-legend-marker")&&(j(this.ctx,m,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,m,this.w])),d.config.chart.type!=="treemap"&&d.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&d.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(m,v)}}}]),me}(),Er=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w;var d=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=d.globals.minX,this.maxX=d.globals.maxX}return l(me,[{key:"createToolbar",value:function(){var c=this,d=this.w,m=function(){return document.createElement("div")},v=m();if(v.setAttribute("class","apexcharts-toolbar"),v.style.top=d.config.chart.toolbar.offsetY+"px",v.style.right=3-d.config.chart.toolbar.offsetX+"px",d.globals.dom.elWrap.appendChild(v),this.elZoom=m(),this.elZoomIn=m(),this.elZoomOut=m(),this.elPan=m(),this.elSelection=m(),this.elZoomReset=m(),this.elMenuIcon=m(),this.elMenu=m(),this.elCustomIcons=[],this.t=d.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var w=0;w<this.t.customIcons.length;w++)this.elCustomIcons.push(m());var j=[],S=function(U,X,Q){var te=U.toLowerCase();c.t[te]&&d.config.chart.zoom.enabled&&j.push({el:X,icon:typeof c.t[te]=="string"?c.t[te]:Q,title:c.localeValues[U],class:"apexcharts-".concat(te,"-icon")})};S("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),S("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var P=function(U){c.t[U]&&d.config.chart[U].enabled&&j.push({el:U==="zoom"?c.elZoom:c.elSelection,icon:typeof c.t[U]=="string"?c.t[U]:U==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:c.localeValues[U==="zoom"?"selectionZoom":"selection"],class:d.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(U,"-icon")})};P("zoom"),P("selection"),this.t.pan&&d.config.chart.zoom.enabled&&j.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:d.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),S("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&j.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var I=0;I<this.elCustomIcons.length;I++)j.push({el:this.elCustomIcons[I],icon:this.t.customIcons[I].icon,title:this.t.customIcons[I].title,index:this.t.customIcons[I].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[I].class});j.forEach(function(U,X){U.index&&T.moveIndexInArray(j,X,U.index)});for(var z=0;z<j.length;z++)F.setAttrs(j[z].el,{class:j[z].class,title:j[z].title}),j[z].el.innerHTML=j[z].icon,v.appendChild(j[z].el);this._createHamburgerMenu(v),d.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):d.globals.panEnabled?this.elPan.classList.add(this.selectedClass):d.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(c){this.elMenuItems=[],c.appendChild(this.elMenu),F.setAttrs(this.elMenu,{class:"apexcharts-menu"});var d=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||d.splice(2,1);for(var m=0;m<d.length;m++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[m].innerHTML=d[m].title,F.setAttrs(this.elMenuItems[m],{class:"apexcharts-menu-item ".concat(d[m].name),title:d[m].title}),this.elMenu.appendChild(this.elMenuItems[m])}},{key:"addToolbarEventListeners",value:function(){var c=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(m){m.classList.contains("exportSVG")?m.addEventListener("click",c.handleDownload.bind(c,"svg")):m.classList.contains("exportPNG")?m.addEventListener("click",c.handleDownload.bind(c,"png")):m.classList.contains("exportCSV")&&m.addEventListener("click",c.handleDownload.bind(c,"csv"))});for(var d=0;d<this.t.customIcons.length;d++)this.elCustomIcons[d].addEventListener("click",this.t.customIcons[d].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(c){this.ctx.getSyncedCharts().forEach(function(d){d.ctx.toolbar.toggleOtherControls();var m=c==="selection"?d.ctx.toolbar.elSelection:d.ctx.toolbar.elZoom,v=c==="selection"?"selectionEnabled":"zoomEnabled";d.w.globals[v]=!d.w.globals[v],m.classList.contains(d.ctx.toolbar.selectedClass)?m.classList.remove(d.ctx.toolbar.selectedClass):m.classList.add(d.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var c=this.w;this.elZoom||(this.elZoom=c.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=c.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=c.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(c){this.toggleOtherControls(),c==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var d=c==="pan"?this.elPan:this.elZoom,m=c==="pan"?this.elZoom:this.elPan;d&&d.classList.add(this.selectedClass),m&&m.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(c){c.ctx.toolbar.toggleOtherControls(),c.w.globals.panEnabled=!c.w.globals.panEnabled,c.ctx.toolbar.elPan.classList.contains(c.ctx.toolbar.selectedClass)?c.ctx.toolbar.elPan.classList.remove(c.ctx.toolbar.selectedClass):c.ctx.toolbar.elPan.classList.add(c.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var c=this,d=this.w;d.globals.panEnabled=!1,d.globals.zoomEnabled=!1,d.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(m){m&&m.classList.remove(c.selectedClass)})}},{key:"handleZoomIn",value:function(){var c=this.w;c.globals.isRangeBar&&(this.minX=c.globals.minY,this.maxX=c.globals.maxY);var d=(this.minX+this.maxX)/2,m=(this.minX+d)/2,v=(this.maxX+d)/2,w=this._getNewMinXMaxX(m,v);c.globals.disableZoomIn||this.zoomUpdateOptions(w.minX,w.maxX)}},{key:"handleZoomOut",value:function(){var c=this.w;if(c.globals.isRangeBar&&(this.minX=c.globals.minY,this.maxX=c.globals.maxY),!(c.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var d=(this.minX+this.maxX)/2,m=this.minX-(d-this.minX),v=this.maxX-(d-this.maxX),w=this._getNewMinXMaxX(m,v);c.globals.disableZoomOut||this.zoomUpdateOptions(w.minX,w.maxX)}}},{key:"_getNewMinXMaxX",value:function(c,d){var m=this.w.config.xaxis.convertedCatToNumeric;return{minX:m?Math.floor(c):c,maxX:m?Math.floor(d):d}}},{key:"zoomUpdateOptions",value:function(c,d){var m=this.w;if(c!==void 0||d!==void 0){if(!(m.config.xaxis.convertedCatToNumeric&&(c<1&&(c=1,d=m.globals.dataPoints),d-c<2))){var v={min:c,max:d},w=this.getBeforeZoomRange(v);w&&(v=w.xaxis);var j={xaxis:v},S=T.clone(m.globals.initialConfig.yaxis);m.config.chart.zoom.autoScaleYaxis&&(S=new ye(this.ctx).autoScaleY(this.ctx,S,{xaxis:v})),m.config.chart.group||(j.yaxis=S),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(j,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(v,S)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(c,d){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:c,yaxis:d})}},{key:"getBeforeZoomRange",value:function(c,d){var m=null;return typeof this.ev.beforeZoom=="function"&&(m=this.ev.beforeZoom(this,{xaxis:c,yaxis:d})),m}},{key:"toggleMenu",value:function(){var c=this;window.setTimeout(function(){c.elMenu.classList.contains("apexcharts-menu-open")?c.elMenu.classList.remove("apexcharts-menu-open"):c.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(c){var d=this.w,m=new Me(this.ctx);switch(c){case"svg":m.exportToSVG(this.ctx);break;case"png":m.exportToPng(this.ctx);break;case"csv":m.exportToCSV({series:d.config.series,columnDelimiter:d.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(c){this.ctx.getSyncedCharts().forEach(function(d){var m=d.w;if(m.globals.lastXAxis.min=m.globals.initialConfig.xaxis.min,m.globals.lastXAxis.max=m.globals.initialConfig.xaxis.max,d.updateHelpers.revertDefaultAxisMinMax(),typeof m.config.chart.events.beforeResetZoom=="function"){var v=m.config.chart.events.beforeResetZoom(d,m);v&&d.updateHelpers.revertDefaultAxisMinMax(v)}typeof m.config.chart.events.zoomed=="function"&&d.ctx.toolbar.zoomCallback({min:m.config.xaxis.min,max:m.config.xaxis.max}),m.globals.zoomed=!1;var w=d.ctx.series.emptyCollapsedSeries(T.clone(m.globals.initialSeries));d.updateHelpers._updateSeries(w,m.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),me}(),_s=function(me){h(d,Er);var c=N(d);function d(m){var v;return a(this,d),(v=c.call(this,m)).ctx=m,v.w=m.w,v.dragged=!1,v.graphics=new F(v.ctx),v.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],v.clientX=0,v.clientY=0,v.startX=0,v.endX=0,v.dragX=0,v.startY=0,v.endY=0,v.dragY=0,v.moveDirection="none",v}return l(d,[{key:"init",value:function(m){var v=this,w=m.xyRatios,j=this.w,S=this;this.xyRatios=w,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=j.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),j.globals.dom.elGraphical.add(this.zoomRect),j.globals.dom.elGraphical.add(this.selectionRect),j.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:j.globals.gridWidth,maxY:j.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):j.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:j.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=j.globals.dom.baseEl.querySelector("".concat(j.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(P){v.hoverArea.addEventListener(P,S.svgMouseEvents.bind(S,w),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(m,v){var w=this.w,j=this,S=this.ctx.toolbar,P=w.globals.zoomEnabled?w.config.chart.zoom.type:w.config.chart.selection.type,I=w.config.chart.toolbar.autoSelected;if(v.shiftKey?(this.shiftWasPressed=!0,S.enableZoomPanFromToolbar(I==="pan"?"zoom":"pan")):this.shiftWasPressed&&(S.enableZoomPanFromToolbar(I),this.shiftWasPressed=!1),v.target){var z,U=v.target.classList;if(v.target.parentNode&&v.target.parentNode!==null&&(z=v.target.parentNode.classList),!(U.contains("apexcharts-selection-rect")||U.contains("apexcharts-legend-marker")||U.contains("apexcharts-legend-text")||z&&z.contains("apexcharts-toolbar"))){if(j.clientX=v.type==="touchmove"||v.type==="touchstart"?v.touches[0].clientX:v.type==="touchend"?v.changedTouches[0].clientX:v.clientX,j.clientY=v.type==="touchmove"||v.type==="touchstart"?v.touches[0].clientY:v.type==="touchend"?v.changedTouches[0].clientY:v.clientY,v.type==="mousedown"&&v.which===1){var X=j.gridRect.getBoundingClientRect();j.startX=j.clientX-X.left,j.startY=j.clientY-X.top,j.dragged=!1,j.w.globals.mousedown=!0}if((v.type==="mousemove"&&v.which===1||v.type==="touchmove")&&(j.dragged=!0,w.globals.panEnabled?(w.globals.selection=null,j.w.globals.mousedown&&j.panDragging({context:j,zoomtype:P,xyRatios:m})):(j.w.globals.mousedown&&w.globals.zoomEnabled||j.w.globals.mousedown&&w.globals.selectionEnabled)&&(j.selection=j.selectionDrawing({context:j,zoomtype:P}))),v.type==="mouseup"||v.type==="touchend"||v.type==="mouseleave"){var Q=j.gridRect.getBoundingClientRect();j.w.globals.mousedown&&(j.endX=j.clientX-Q.left,j.endY=j.clientY-Q.top,j.dragX=Math.abs(j.endX-j.startX),j.dragY=Math.abs(j.endY-j.startY),(w.globals.zoomEnabled||w.globals.selectionEnabled)&&j.selectionDrawn({context:j,zoomtype:P}),w.globals.panEnabled&&w.config.xaxis.convertedCatToNumeric&&j.delayedPanScrolled()),w.globals.zoomEnabled&&j.hideSelectionRect(this.selectionRect),j.dragged=!1,j.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var m=this.w;if(this.selectionRect){var v=this.selectionRect.node.getBoundingClientRect();v.width>0&&v.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:m.globals.gridWidth,maxY:m.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var m=this.w,v=this.xyRatios;if(!m.globals.zoomEnabled){if(m.globals.selection!==void 0&&m.globals.selection!==null)this.drawSelectionRect(m.globals.selection);else if(m.config.chart.selection.xaxis.min!==void 0&&m.config.chart.selection.xaxis.max!==void 0){var w=(m.config.chart.selection.xaxis.min-m.globals.minX)/v.xRatio,j={x:w,y:0,width:m.globals.gridWidth-(m.globals.maxX-m.config.chart.selection.xaxis.max)/v.xRatio-w,height:m.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(j),this.makeSelectionRectDraggable(),typeof m.config.chart.events.selection=="function"&&m.config.chart.events.selection(this.ctx,{xaxis:{min:m.config.chart.selection.xaxis.min,max:m.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(m){var v=m.x,w=m.y,j=m.width,S=m.height,P=m.translateX,I=P===void 0?0:P,z=m.translateY,U=z===void 0?0:z,X=this.w,Q=this.zoomRect,te=this.selectionRect;if(this.dragged||X.globals.selection!==null){var ae={transform:"translate("+I+", "+U+")"};X.globals.zoomEnabled&&this.dragged&&(j<0&&(j=1),Q.attr({x:v,y:w,width:j,height:S,fill:X.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":X.config.chart.zoom.zoomedArea.fill.opacity,stroke:X.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":X.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":X.config.chart.zoom.zoomedArea.stroke.opacity}),F.setAttrs(Q.node,ae)),X.globals.selectionEnabled&&(te.attr({x:v,y:w,width:j>0?j:0,height:S>0?S:0,fill:X.config.chart.selection.fill.color,"fill-opacity":X.config.chart.selection.fill.opacity,stroke:X.config.chart.selection.stroke.color,"stroke-width":X.config.chart.selection.stroke.width,"stroke-dasharray":X.config.chart.selection.stroke.dashArray,"stroke-opacity":X.config.chart.selection.stroke.opacity}),F.setAttrs(te.node,ae))}}},{key:"hideSelectionRect",value:function(m){m&&m.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(m){var v=m.context,w=m.zoomtype,j=this.w,S=v,P=this.gridRect.getBoundingClientRect(),I=S.startX-1,z=S.startY,U=!1,X=!1,Q=S.clientX-P.left-I,te=S.clientY-P.top-z,ae={};return Math.abs(Q+I)>j.globals.gridWidth?Q=j.globals.gridWidth-I:S.clientX-P.left<0&&(Q=I),I>S.clientX-P.left&&(U=!0,Q=Math.abs(Q)),z>S.clientY-P.top&&(X=!0,te=Math.abs(te)),ae=w==="x"?{x:U?I-Q:I,y:0,width:Q,height:j.globals.gridHeight}:w==="y"?{x:0,y:X?z-te:z,width:j.globals.gridWidth,height:te}:{x:U?I-Q:I,y:X?z-te:z,width:Q,height:te},S.drawSelectionRect(ae),S.selectionDragging("resizing"),ae}},{key:"selectionDragging",value:function(m,v){var w=this,j=this.w,S=this.xyRatios,P=this.selectionRect,I=0;m==="resizing"&&(I=30);var z=function(X){return parseFloat(P.node.getAttribute(X))},U={x:z("x"),y:z("y"),width:z("width"),height:z("height")};j.globals.selection=U,typeof j.config.chart.events.selection=="function"&&j.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var X=w.gridRect.getBoundingClientRect(),Q=P.node.getBoundingClientRect(),te={xaxis:{min:j.globals.xAxisScale.niceMin+(Q.left-X.left)*S.xRatio,max:j.globals.xAxisScale.niceMin+(Q.right-X.left)*S.xRatio},yaxis:{min:j.globals.yAxisScale[0].niceMin+(X.bottom-Q.bottom)*S.yRatio[0],max:j.globals.yAxisScale[0].niceMax-(Q.top-X.top)*S.yRatio[0]}};j.config.chart.events.selection(w.ctx,te),j.config.chart.brush.enabled&&j.config.chart.events.brushScrolled!==void 0&&j.config.chart.events.brushScrolled(w.ctx,te)},I))}},{key:"selectionDrawn",value:function(m){var v=m.context,w=m.zoomtype,j=this.w,S=v,P=this.xyRatios,I=this.ctx.toolbar;if(S.startX>S.endX){var z=S.startX;S.startX=S.endX,S.endX=z}if(S.startY>S.endY){var U=S.startY;S.startY=S.endY,S.endY=U}var X=void 0,Q=void 0;j.globals.isRangeBar?(X=j.globals.yAxisScale[0].niceMin+S.startX*P.invertedYRatio,Q=j.globals.yAxisScale[0].niceMin+S.endX*P.invertedYRatio):(X=j.globals.xAxisScale.niceMin+S.startX*P.xRatio,Q=j.globals.xAxisScale.niceMin+S.endX*P.xRatio);var te=[],ae=[];if(j.config.yaxis.forEach(function(Pe,Le){te.push(j.globals.yAxisScale[Le].niceMax-P.yRatio[Le]*S.startY),ae.push(j.globals.yAxisScale[Le].niceMax-P.yRatio[Le]*S.endY)}),S.dragged&&(S.dragX>10||S.dragY>10)&&X!==Q){if(j.globals.zoomEnabled){var pe=T.clone(j.globals.initialConfig.yaxis),we=T.clone(j.globals.initialConfig.xaxis);if(j.globals.zoomed=!0,j.config.xaxis.convertedCatToNumeric&&(X=Math.floor(X),Q=Math.floor(Q),X<1&&(X=1,Q=j.globals.dataPoints),Q-X<2&&(Q=X+1)),w!=="xy"&&w!=="x"||(we={min:X,max:Q}),w!=="xy"&&w!=="y"||pe.forEach(function(Pe,Le){pe[Le].min=ae[Le],pe[Le].max=te[Le]}),j.config.chart.zoom.autoScaleYaxis){var Ce=new ye(S.ctx);pe=Ce.autoScaleY(S.ctx,pe,{xaxis:we})}if(I){var R=I.getBeforeZoomRange(we,pe);R&&(we=R.xaxis?R.xaxis:we,pe=R.yaxis?R.yaxis:pe)}var q={xaxis:we};j.config.chart.group||(q.yaxis=pe),S.ctx.updateHelpers._updateOptions(q,!1,S.w.config.chart.animations.dynamicAnimation.enabled),typeof j.config.chart.events.zoomed=="function"&&I.zoomCallback(we,pe)}else if(j.globals.selectionEnabled){var se,be=null;se={min:X,max:Q},w!=="xy"&&w!=="y"||(be=T.clone(j.config.yaxis)).forEach(function(Pe,Le){be[Le].min=ae[Le],be[Le].max=te[Le]}),j.globals.selection=S.selection,typeof j.config.chart.events.selection=="function"&&j.config.chart.events.selection(S.ctx,{xaxis:se,yaxis:be})}}}},{key:"panDragging",value:function(m){var v=m.context,w=this.w,j=v;if(w.globals.lastClientPosition.x!==void 0){var S=w.globals.lastClientPosition.x-j.clientX,P=w.globals.lastClientPosition.y-j.clientY;Math.abs(S)>Math.abs(P)&&S>0?this.moveDirection="left":Math.abs(S)>Math.abs(P)&&S<0?this.moveDirection="right":Math.abs(P)>Math.abs(S)&&P>0?this.moveDirection="up":Math.abs(P)>Math.abs(S)&&P<0&&(this.moveDirection="down")}w.globals.lastClientPosition={x:j.clientX,y:j.clientY};var I=w.globals.isRangeBar?w.globals.minY:w.globals.minX,z=w.globals.isRangeBar?w.globals.maxY:w.globals.maxX;w.config.xaxis.convertedCatToNumeric||j.panScrolled(I,z)}},{key:"delayedPanScrolled",value:function(){var m=this.w,v=m.globals.minX,w=m.globals.maxX,j=(m.globals.maxX-m.globals.minX)/2;this.moveDirection==="left"?(v=m.globals.minX+j,w=m.globals.maxX+j):this.moveDirection==="right"&&(v=m.globals.minX-j,w=m.globals.maxX-j),v=Math.floor(v),w=Math.floor(w),this.updateScrolledChart({xaxis:{min:v,max:w}},v,w)}},{key:"panScrolled",value:function(m,v){var w=this.w,j=this.xyRatios,S=T.clone(w.globals.initialConfig.yaxis),P=j.xRatio,I=w.globals.minX,z=w.globals.maxX;w.globals.isRangeBar&&(P=j.invertedYRatio,I=w.globals.minY,z=w.globals.maxY),this.moveDirection==="left"?(m=I+w.globals.gridWidth/15*P,v=z+w.globals.gridWidth/15*P):this.moveDirection==="right"&&(m=I-w.globals.gridWidth/15*P,v=z-w.globals.gridWidth/15*P),w.globals.isRangeBar||(m<w.globals.initialMinX||v>w.globals.initialMaxX)&&(m=I,v=z);var U={min:m,max:v};w.config.chart.zoom.autoScaleYaxis&&(S=new ye(this.ctx).autoScaleY(this.ctx,S,{xaxis:U}));var X={xaxis:{min:m,max:v}};w.config.chart.group||(X.yaxis=S),this.updateScrolledChart(X,m,v)}},{key:"updateScrolledChart",value:function(m,v,w){var j=this.w;this.ctx.updateHelpers._updateOptions(m,!1,!1),typeof j.config.chart.events.scrolled=="function"&&j.config.chart.events.scrolled(this.ctx,{xaxis:{min:v,max:w}})}}]),d}(),Ee=function(){function me(c){a(this,me),this.w=c.w,this.ttCtx=c,this.ctx=c.ctx}return l(me,[{key:"getNearestValues",value:function(c){var d=c.hoverArea,m=c.elGrid,v=c.clientX,w=c.clientY,j=this.w,S=m.getBoundingClientRect(),P=S.width,I=S.height,z=P/(j.globals.dataPoints-1),U=I/j.globals.dataPoints,X=this.hasBars();!j.globals.comboCharts&&!X||j.config.xaxis.convertedCatToNumeric||(z=P/j.globals.dataPoints);var Q=v-S.left-j.globals.barPadForNumericAxis,te=w-S.top;Q<0||te<0||Q>P||te>I?(d.classList.remove("hovering-zoom"),d.classList.remove("hovering-pan")):j.globals.zoomEnabled?(d.classList.remove("hovering-pan"),d.classList.add("hovering-zoom")):j.globals.panEnabled&&(d.classList.remove("hovering-zoom"),d.classList.add("hovering-pan"));var ae=Math.round(Q/z),pe=Math.floor(te/U);X&&!j.config.xaxis.convertedCatToNumeric&&(ae=Math.ceil(Q/z),ae-=1);var we=null,Ce=null,R=j.globals.seriesXvalues.map(function(Le){return Le.filter(function(ze){return T.isNumber(ze)})}),q=j.globals.seriesYvalues.map(function(Le){return Le.filter(function(ze){return T.isNumber(ze)})});if(j.globals.isXNumeric){var se=this.ttCtx.getElGrid().getBoundingClientRect(),be=Q*(se.width/P),Pe=te*(se.height/I);we=(Ce=this.closestInMultiArray(be,Pe,R,q)).index,ae=Ce.j,we!==null&&(R=j.globals.seriesXvalues[we],ae=(Ce=this.closestInArray(be,R)).index)}return j.globals.capturedSeriesIndex=we===null?-1:we,(!ae||ae<1)&&(ae=0),j.globals.isBarHorizontal?j.globals.capturedDataPointIndex=pe:j.globals.capturedDataPointIndex=ae,{capturedSeries:we,j:j.globals.isBarHorizontal?pe:ae,hoverX:Q,hoverY:te}}},{key:"closestInMultiArray",value:function(c,d,m,v){var w=this.w,j=0,S=null,P=-1;w.globals.series.length>1?j=this.getFirstActiveXArray(m):S=0;var I=m[j][0],z=Math.abs(c-I);if(m.forEach(function(Q){Q.forEach(function(te,ae){var pe=Math.abs(c-te);pe<=z&&(z=pe,P=ae)})}),P!==-1){var U=v[j][P],X=Math.abs(d-U);S=j,v.forEach(function(Q,te){var ae=Math.abs(d-Q[P]);ae<=X&&(X=ae,S=te)})}return{index:S,j:P}}},{key:"getFirstActiveXArray",value:function(c){for(var d=this.w,m=0,v=c.map(function(j,S){return j.length>0?S:-1}),w=0;w<v.length;w++)if(v[w]!==-1&&d.globals.collapsedSeriesIndices.indexOf(w)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(w)===-1){m=v[w];break}return m}},{key:"closestInArray",value:function(c,d){for(var m=d[0],v=null,w=Math.abs(c-m),j=0;j<d.length;j++){var S=Math.abs(c-d[j]);S<w&&(w=S,v=j)}return{index:v}}},{key:"isXoverlap",value:function(c){var d=[],m=this.w.globals.seriesX.filter(function(w){return w[0]!==void 0});if(m.length>0)for(var v=0;v<m.length-1;v++)m[v][c]!==void 0&&m[v+1][c]!==void 0&&m[v][c]!==m[v+1][c]&&d.push("unEqual");return d.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var c=!0,d=this.w.globals.initialSeries,m=0;m<d.length-1;m++)if(d[m].data.length!==d[m+1].data.length){c=!1;break}return c}},{key:"getBarsHeight",value:function(c){return k(c).reduce(function(d,m){return d+m.getBBox().height},0)}},{key:"getElMarkers",value:function(c){return typeof c=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(c,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var c=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(c=k(c)).sort(function(m,v){var w=Number(m.getAttribute("data:realIndex")),j=Number(v.getAttribute("data:realIndex"));return j<w?1:j>w?-1:0});var d=[];return c.forEach(function(m){d.push(m.querySelector(".apexcharts-marker"))}),d}},{key:"hasMarkers",value:function(c){return this.getElMarkers(c).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(c){var d=this.w,m=d.config.markers.hover.size;return m===void 0&&(m=d.globals.markers.size[c]+d.config.markers.hover.sizeOffset),m}},{key:"toggleAllTooltipSeriesGroups",value:function(c){var d=this.w,m=this.ttCtx;m.allTooltipSeriesGroups.length===0&&(m.allTooltipSeriesGroups=d.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var v=m.allTooltipSeriesGroups,w=0;w<v.length;w++)c==="enable"?(v[w].classList.add("apexcharts-active"),v[w].style.display=d.config.tooltip.items.display):(v[w].classList.remove("apexcharts-active"),v[w].style.display="none")}}]),me}(),yt=function(){function me(c){a(this,me),this.w=c.w,this.ctx=c.ctx,this.ttCtx=c,this.tooltipUtil=new Ee(c)}return l(me,[{key:"drawSeriesTexts",value:function(c){var d=c.shared,m=d===void 0||d,v=c.ttItems,w=c.i,j=w===void 0?0:w,S=c.j,P=S===void 0?null:S,I=c.y1,z=c.y2,U=c.e,X=this.w;X.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:j,j:P,y1:I,y2:z,w:X}):this.toggleActiveInactiveSeries(m);var Q=this.getValuesToPrint({i:j,j:P});this.printLabels({i:j,j:P,values:Q,ttItems:v,shared:m,e:U});var te=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=te.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=te.getBoundingClientRect().height}},{key:"printLabels",value:function(c){var d,m=this,v=c.i,w=c.j,j=c.values,S=c.ttItems,P=c.shared,I=c.e,z=this.w,U=[],X=function(se){return z.globals.seriesGoals[se]&&z.globals.seriesGoals[se][w]&&Array.isArray(z.globals.seriesGoals[se][w])},Q=j.xVal,te=j.zVal,ae=j.xAxisTTVal,pe="",we=z.globals.colors[v];w!==null&&z.config.plotOptions.bar.distributed&&(we=z.globals.colors[w]);for(var Ce=function(se,be){var Pe=m.getFormatters(v);pe=m.getSeriesName({fn:Pe.yLbTitleFormatter,index:v,seriesIndex:v,j:w}),z.config.chart.type==="treemap"&&(pe=Pe.yLbTitleFormatter(String(z.config.series[v].data[w].x),{series:z.globals.series,seriesIndex:v,dataPointIndex:w,w:z}));var Le=z.config.tooltip.inverseOrder?be:se;if(z.globals.axisCharts){var ze=function(ft){var mt,vt,Dt,ur;return z.globals.isRangeData?Pe.yLbFormatter((mt=z.globals.seriesRangeStart)===null||mt===void 0||(vt=mt[ft])===null||vt===void 0?void 0:vt[w],{series:z.globals.seriesRangeStart,seriesIndex:ft,dataPointIndex:w,w:z})+" - "+Pe.yLbFormatter((Dt=z.globals.seriesRangeEnd)===null||Dt===void 0||(ur=Dt[ft])===null||ur===void 0?void 0:ur[w],{series:z.globals.seriesRangeEnd,seriesIndex:ft,dataPointIndex:w,w:z}):Pe.yLbFormatter(z.globals.series[ft][w],{series:z.globals.series,seriesIndex:ft,dataPointIndex:w,w:z})};if(P)Pe=m.getFormatters(Le),pe=m.getSeriesName({fn:Pe.yLbTitleFormatter,index:Le,seriesIndex:v,j:w}),we=z.globals.colors[Le],d=ze(Le),X(Le)&&(U=z.globals.seriesGoals[Le][w].map(function(ft){return{attrs:ft,val:Pe.yLbFormatter(ft.value,{seriesIndex:Le,dataPointIndex:w,w:z})}}));else{var Fe,tt=I==null||(Fe=I.target)===null||Fe===void 0?void 0:Fe.getAttribute("fill");tt&&(we=tt.indexOf("url")!==-1?document.querySelector(tt.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):tt),d=ze(v),X(v)&&Array.isArray(z.globals.seriesGoals[v][w])&&(U=z.globals.seriesGoals[v][w].map(function(ft){return{attrs:ft,val:Pe.yLbFormatter(ft.value,{seriesIndex:v,dataPointIndex:w,w:z})}}))}}w===null&&(d=Pe.yLbFormatter(z.globals.series[v],n(n({},z),{},{seriesIndex:v,dataPointIndex:v}))),m.DOMHandling({i:v,t:Le,j:w,ttItems:S,values:{val:d,goalVals:U,xVal:Q,xAxisTTVal:ae,zVal:te},seriesName:pe,shared:P,pColor:we})},R=0,q=z.globals.series.length-1;R<z.globals.series.length;R++,q--)Ce(R,q)}},{key:"getFormatters",value:function(c){var d,m=this.w,v=m.globals.yLabelFormatters[c];return m.globals.ttVal!==void 0?Array.isArray(m.globals.ttVal)?(v=m.globals.ttVal[c]&&m.globals.ttVal[c].formatter,d=m.globals.ttVal[c]&&m.globals.ttVal[c].title&&m.globals.ttVal[c].title.formatter):(v=m.globals.ttVal.formatter,typeof m.globals.ttVal.title.formatter=="function"&&(d=m.globals.ttVal.title.formatter)):d=m.config.tooltip.y.title.formatter,typeof v!="function"&&(v=m.globals.yLabelFormatters[0]?m.globals.yLabelFormatters[0]:function(w){return w}),typeof d!="function"&&(d=function(w){return w}),{yLbFormatter:v,yLbTitleFormatter:d}}},{key:"getSeriesName",value:function(c){var d=c.fn,m=c.index,v=c.seriesIndex,w=c.j,j=this.w;return d(String(j.globals.seriesNames[m]),{series:j.globals.series,seriesIndex:v,dataPointIndex:w,w:j})}},{key:"DOMHandling",value:function(c){c.i;var d=c.t,m=c.j,v=c.ttItems,w=c.values,j=c.seriesName,S=c.shared,P=c.pColor,I=this.w,z=this.ttCtx,U=w.val,X=w.goalVals,Q=w.xVal,te=w.xAxisTTVal,ae=w.zVal,pe=null;pe=v[d].children,I.config.tooltip.fillSeriesColor&&(v[d].style.backgroundColor=P,pe[0].style.display="none"),z.showTooltipTitle&&(z.tooltipTitle===null&&(z.tooltipTitle=I.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),z.tooltipTitle.innerHTML=Q),z.isXAxisTooltipEnabled&&(z.xaxisTooltipText.innerHTML=te!==""?te:Q);var we=v[d].querySelector(".apexcharts-tooltip-text-y-label");we&&(we.innerHTML=j||"");var Ce=v[d].querySelector(".apexcharts-tooltip-text-y-value");Ce&&(Ce.innerHTML=U!==void 0?U:""),pe[0]&&pe[0].classList.contains("apexcharts-tooltip-marker")&&(I.config.tooltip.marker.fillColors&&Array.isArray(I.config.tooltip.marker.fillColors)&&(P=I.config.tooltip.marker.fillColors[d]),pe[0].style.backgroundColor=P),I.config.tooltip.marker.show||(pe[0].style.display="none");var R=v[d].querySelector(".apexcharts-tooltip-text-goals-label"),q=v[d].querySelector(".apexcharts-tooltip-text-goals-value");if(X.length&&I.globals.seriesGoals[d]){var se=function(){var be="<div >",Pe="<div>";X.forEach(function(Le,ze){be+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Le.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Le.attrs.name,"</div>"),Pe+="<div>".concat(Le.val,"</div>")}),R.innerHTML=be+"</div>",q.innerHTML=Pe+"</div>"};S?I.globals.seriesGoals[d][m]&&Array.isArray(I.globals.seriesGoals[d][m])?se():(R.innerHTML="",q.innerHTML=""):se()}else R.innerHTML="",q.innerHTML="";ae!==null&&(v[d].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=I.config.tooltip.z.title,v[d].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=ae!==void 0?ae:""),S&&pe[0]&&(U==null||I.globals.ancillaryCollapsedSeriesIndices.indexOf(d)>-1||I.globals.collapsedSeriesIndices.indexOf(d)>-1?pe[0].parentNode.style.display="none":pe[0].parentNode.style.display=I.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(c){var d=this.w;if(c)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var m=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");m&&(m.classList.add("apexcharts-active"),m.style.display=d.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(c){var d=c.i,m=c.j,v=this.w,w=this.ctx.series.filteredSeriesX(),j="",S="",P=null,I=null,z={series:v.globals.series,seriesIndex:d,dataPointIndex:m,w:v},U=v.globals.ttZFormatter;m===null?I=v.globals.series[d]:v.globals.isXNumeric&&v.config.chart.type!=="treemap"?(j=w[d][m],w[d].length===0&&(j=w[this.tooltipUtil.getFirstActiveXArray(w)][m])):j=v.globals.labels[m]!==void 0?v.globals.labels[m]:"";var X=j;return v.globals.isXNumeric&&v.config.xaxis.type==="datetime"?j=new xe(this.ctx).xLabelFormat(v.globals.ttKeyFormatter,X,X,{i:void 0,dateFormatter:new ee(this.ctx).formatDate,w:this.w}):j=v.globals.isBarHorizontal?v.globals.yLabelFormatters[0](X,z):v.globals.xLabelFormatter(X,z),v.config.tooltip.x.formatter!==void 0&&(j=v.globals.ttKeyFormatter(X,z)),v.globals.seriesZ.length>0&&v.globals.seriesZ[d].length>0&&(P=U(v.globals.seriesZ[d][m],v)),S=typeof v.config.xaxis.tooltip.formatter=="function"?v.globals.xaxisTooltipFormatter(X,z):j,{val:Array.isArray(I)?I.join(" "):I,xVal:Array.isArray(j)?j.join(" "):j,xAxisTTVal:Array.isArray(S)?S.join(" "):S,zVal:P}}},{key:"handleCustomTooltip",value:function(c){var d=c.i,m=c.j,v=c.y1,w=c.y2,j=c.w,S=this.ttCtx.getElTooltip(),P=j.config.tooltip.custom;Array.isArray(P)&&P[d]&&(P=P[d]),S.innerHTML=P({ctx:this.ctx,series:j.globals.series,seriesIndex:d,dataPointIndex:m,y1:v,y2:w,w:j})}}]),me}(),zt=function(){function me(c){a(this,me),this.ttCtx=c,this.ctx=c.ctx,this.w=c.w}return l(me,[{key:"moveXCrosshairs",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=this.ttCtx,v=this.w,w=m.getElXCrosshairs(),j=c-m.xcrosshairsWidth/2,S=v.globals.labels.slice().length;if(d!==null&&(j=v.globals.gridWidth/S*d),w===null||v.globals.isBarHorizontal||(w.setAttribute("x",j),w.setAttribute("x1",j),w.setAttribute("x2",j),w.setAttribute("y2",v.globals.gridHeight),w.classList.add("apexcharts-active")),j<0&&(j=0),j>v.globals.gridWidth&&(j=v.globals.gridWidth),m.isXAxisTooltipEnabled){var P=j;v.config.xaxis.crosshairs.width!=="tickWidth"&&v.config.xaxis.crosshairs.width!=="barWidth"||(P=j+m.xcrosshairsWidth/2),this.moveXAxisTooltip(P)}}},{key:"moveYCrosshairs",value:function(c){var d=this.ttCtx;d.ycrosshairs!==null&&F.setAttrs(d.ycrosshairs,{y1:c,y2:c}),d.ycrosshairsHidden!==null&&F.setAttrs(d.ycrosshairsHidden,{y1:c,y2:c})}},{key:"moveXAxisTooltip",value:function(c){var d=this.w,m=this.ttCtx;if(m.xaxisTooltip!==null&&m.xcrosshairsWidth!==0){m.xaxisTooltip.classList.add("apexcharts-active");var v=m.xaxisOffY+d.config.xaxis.tooltip.offsetY+d.globals.translateY+1+d.config.xaxis.offsetY;if(c-=m.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(c)){c+=d.globals.translateX;var w;w=new F(this.ctx).getTextRects(m.xaxisTooltipText.innerHTML),m.xaxisTooltipText.style.minWidth=w.width+"px",m.xaxisTooltip.style.left=c+"px",m.xaxisTooltip.style.top=v+"px"}}}},{key:"moveYAxisTooltip",value:function(c){var d=this.w,m=this.ttCtx;m.yaxisTTEls===null&&(m.yaxisTTEls=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var v=parseInt(m.ycrosshairsHidden.getAttribute("y1"),10),w=d.globals.translateY+v,j=m.yaxisTTEls[c].getBoundingClientRect().height,S=d.globals.translateYAxisX[c]-2;d.config.yaxis[c].opposite&&(S-=26),w-=j/2,d.globals.ignoreYAxisIndexes.indexOf(c)===-1?(m.yaxisTTEls[c].classList.add("apexcharts-active"),m.yaxisTTEls[c].style.top=w+"px",m.yaxisTTEls[c].style.left=S+d.config.yaxis[c].tooltip.offsetX+"px"):m.yaxisTTEls[c].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(c,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,v=this.w,w=this.ttCtx,j=w.getElTooltip(),S=w.tooltipRect,P=m!==null?parseFloat(m):1,I=parseFloat(c)+P+5,z=parseFloat(d)+P/2;if(I>v.globals.gridWidth/2&&(I=I-S.ttWidth-P-10),I>v.globals.gridWidth-S.ttWidth-10&&(I=v.globals.gridWidth-S.ttWidth),I<-20&&(I=-20),v.config.tooltip.followCursor){var U=w.getElGrid().getBoundingClientRect();(I=w.e.clientX-U.left)>v.globals.gridWidth/2&&(I-=w.tooltipRect.ttWidth),(z=w.e.clientY+v.globals.translateY-U.top)>v.globals.gridHeight/2&&(z-=w.tooltipRect.ttHeight)}else v.globals.isBarHorizontal||S.ttHeight/2+z>v.globals.gridHeight&&(z=v.globals.gridHeight-S.ttHeight+v.globals.translateY);isNaN(I)||(I+=v.globals.translateX,j.style.left=I+"px",j.style.top=z+"px")}},{key:"moveMarkers",value:function(c,d){var m=this.w,v=this.ttCtx;if(m.globals.markers.size[c]>0)for(var w=m.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(c,"'] .apexcharts-marker")),j=0;j<w.length;j++)parseInt(w[j].getAttribute("rel"),10)===d&&(v.marker.resetPointsSize(),v.marker.enlargeCurrentPoint(d,w[j]));else v.marker.resetPointsSize(),this.moveDynamicPointOnHover(d,c)}},{key:"moveDynamicPointOnHover",value:function(c,d){var m,v,w=this.w,j=this.ttCtx,S=w.globals.pointsArray,P=j.tooltipUtil.getHoverMarkerSize(d),I=w.config.series[d].type;if(!I||I!=="column"&&I!=="candlestick"&&I!=="boxPlot"){m=S[d][c][0],v=S[d][c][1]?S[d][c][1]:0;var z=w.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(d,"'] .apexcharts-series-markers circle"));z&&v<w.globals.gridHeight&&v>0&&(z.setAttribute("r",P),z.setAttribute("cx",m),z.setAttribute("cy",v)),this.moveXCrosshairs(m),j.fixedTooltip||this.moveTooltip(m,v,P)}}},{key:"moveDynamicPointsOnHover",value:function(c){var d,m=this.ttCtx,v=m.w,w=0,j=0,S=v.globals.pointsArray;d=new Ue(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var P=m.tooltipUtil.getHoverMarkerSize(d);S[d]&&(w=S[d][c][0],j=S[d][c][1]);var I=m.tooltipUtil.getAllMarkers();if(I!==null)for(var z=0;z<v.globals.series.length;z++){var U=S[z];if(v.globals.comboCharts&&U===void 0&&I.splice(z,0,null),U&&U.length){var X=S[z][c][1],Q=void 0;if(I[z].setAttribute("cx",w),v.config.chart.type==="rangeArea"&&!v.globals.comboCharts){var te=c+v.globals.series[z].length;Q=S[z][te][1],X-=Math.abs(X-Q)/2}X!==null&&!isNaN(X)&&X<v.globals.gridHeight+P&&X+P>0?(I[z]&&I[z].setAttribute("r",P),I[z]&&I[z].setAttribute("cy",X)):I[z]&&I[z].setAttribute("r",0)}}this.moveXCrosshairs(w),m.fixedTooltip||this.moveTooltip(w,j||v.globals.gridHeight,P)}},{key:"moveStickyTooltipOverBars",value:function(c,d){var m=this.w,v=this.ttCtx,w=m.globals.columnSeries?m.globals.columnSeries.length:m.globals.series.length,j=w>=2&&w%2==0?Math.floor(w/2):Math.floor(w/2)+1;m.globals.isBarHorizontal&&(j=new Ue(this.ctx).getActiveConfigSeriesIndex("desc")+1);var S=m.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(j,"'] path[j='").concat(c,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(j,"'] path[j='").concat(c,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(j,"'] path[j='").concat(c,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(j,"'] path[j='").concat(c,"']"));S||typeof d!="number"||(S=m.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(d,"'] path[j='").concat(c,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(d,"'] path[j='").concat(c,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(d,"'] path[j='").concat(c,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(d,"'] path[j='").concat(c,"']")));var P=S?parseFloat(S.getAttribute("cx")):0,I=S?parseFloat(S.getAttribute("cy")):0,z=S?parseFloat(S.getAttribute("barWidth")):0,U=v.getElGrid().getBoundingClientRect(),X=S&&(S.classList.contains("apexcharts-candlestick-area")||S.classList.contains("apexcharts-boxPlot-area"));m.globals.isXNumeric?(S&&!X&&(P-=w%2!=0?z/2:0),S&&X&&m.globals.comboCharts&&(P-=z/2)):m.globals.isBarHorizontal||(P=v.xAxisTicksPositions[c-1]+v.dataPointsDividedWidth/2,isNaN(P)&&(P=v.xAxisTicksPositions[c]-v.dataPointsDividedWidth/2)),m.globals.isBarHorizontal?I-=v.tooltipRect.ttHeight:m.config.tooltip.followCursor?I=v.e.clientY-U.top-v.tooltipRect.ttHeight/2:I+v.tooltipRect.ttHeight+15>m.globals.gridHeight&&(I=m.globals.gridHeight),m.globals.isBarHorizontal||this.moveXCrosshairs(P),v.fixedTooltip||this.moveTooltip(P,I||m.globals.gridHeight)}}]),me}(),ts=function(){function me(c){a(this,me),this.w=c.w,this.ttCtx=c,this.ctx=c.ctx,this.tooltipPosition=new zt(c)}return l(me,[{key:"drawDynamicPoints",value:function(){var c=this.w,d=new F(this.ctx),m=new He(this.ctx),v=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series");v=k(v),c.config.chart.stacked&&v.sort(function(U,X){return parseFloat(U.getAttribute("data:realIndex"))-parseFloat(X.getAttribute("data:realIndex"))});for(var w=0;w<v.length;w++){var j=v[w].querySelector(".apexcharts-series-markers-wrap");if(j!==null){var S=void 0,P="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));c.config.chart.type!=="line"&&c.config.chart.type!=="area"||c.globals.comboCharts||c.config.tooltip.intersect||(P+=" no-pointer-events");var I=m.getMarkerConfig({cssClass:P,seriesIndex:Number(j.getAttribute("data:realIndex"))});(S=d.drawMarker(0,0,I)).node.setAttribute("default-marker-size",0);var z=document.createElementNS(c.globals.SVGNS,"g");z.classList.add("apexcharts-series-markers"),z.appendChild(S.node),j.appendChild(z)}}}},{key:"enlargeCurrentPoint",value:function(c,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,w=this.w;w.config.chart.type!=="bubble"&&this.newPointSize(c,d);var j=d.getAttribute("cx"),S=d.getAttribute("cy");if(m!==null&&v!==null&&(j=m,S=v),this.tooltipPosition.moveXCrosshairs(j),!this.fixedTooltip){if(w.config.chart.type==="radar"){var P=this.ttCtx.getElGrid().getBoundingClientRect();j=this.ttCtx.e.clientX-P.left}this.tooltipPosition.moveTooltip(j,S,w.config.markers.hover.size)}}},{key:"enlargePoints",value:function(c){for(var d=this.w,m=this,v=this.ttCtx,w=c,j=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),S=d.config.markers.hover.size,P=0;P<j.length;P++){var I=j[P].getAttribute("rel"),z=j[P].getAttribute("index");if(S===void 0&&(S=d.globals.markers.size[z]+d.config.markers.hover.sizeOffset),w===parseInt(I,10)){m.newPointSize(w,j[P]);var U=j[P].getAttribute("cx"),X=j[P].getAttribute("cy");m.tooltipPosition.moveXCrosshairs(U),v.fixedTooltip||m.tooltipPosition.moveTooltip(U,X,S)}else m.oldPointSize(j[P])}}},{key:"newPointSize",value:function(c,d){var m=this.w,v=m.config.markers.hover.size,w=c===0?d.parentNode.firstChild:d.parentNode.lastChild;if(w.getAttribute("default-marker-size")!=="0"){var j=parseInt(w.getAttribute("index"),10);v===void 0&&(v=m.globals.markers.size[j]+m.config.markers.hover.sizeOffset),v<0&&(v=0),w.setAttribute("r",v)}}},{key:"oldPointSize",value:function(c){var d=parseFloat(c.getAttribute("default-marker-size"));c.setAttribute("r",d)}},{key:"resetPointsSize",value:function(){for(var c=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),d=0;d<c.length;d++){var m=parseFloat(c[d].getAttribute("default-marker-size"));T.isNumber(m)&&m>=0?c[d].setAttribute("r",m):c[d].setAttribute("r",0)}}}]),me}(),An=function(){function me(c){a(this,me),this.w=c.w;var d=this.w;this.ttCtx=c,this.isVerticalGroupedRangeBar=!d.globals.isBarHorizontal&&d.config.chart.type==="rangeBar"&&d.config.plotOptions.bar.rangeBarGroupRows}return l(me,[{key:"getAttr",value:function(c,d){return parseFloat(c.target.getAttribute(d))}},{key:"handleHeatTreeTooltip",value:function(c){var d=c.e,m=c.opt,v=c.x,w=c.y,j=c.type,S=this.ttCtx,P=this.w;if(d.target.classList.contains("apexcharts-".concat(j,"-rect"))){var I=this.getAttr(d,"i"),z=this.getAttr(d,"j"),U=this.getAttr(d,"cx"),X=this.getAttr(d,"cy"),Q=this.getAttr(d,"width"),te=this.getAttr(d,"height");if(S.tooltipLabels.drawSeriesTexts({ttItems:m.ttItems,i:I,j:z,shared:!1,e:d}),P.globals.capturedSeriesIndex=I,P.globals.capturedDataPointIndex=z,v=U+S.tooltipRect.ttWidth/2+Q,w=X+S.tooltipRect.ttHeight/2-te/2,S.tooltipPosition.moveXCrosshairs(U+Q/2),v>P.globals.gridWidth/2&&(v=U-S.tooltipRect.ttWidth/2+Q),S.w.config.tooltip.followCursor){var ae=P.globals.dom.elWrap.getBoundingClientRect();v=P.globals.clientX-ae.left-(v>P.globals.gridWidth/2?S.tooltipRect.ttWidth:0),w=P.globals.clientY-ae.top-(w>P.globals.gridHeight/2?S.tooltipRect.ttHeight:0)}}return{x:v,y:w}}},{key:"handleMarkerTooltip",value:function(c){var d,m,v=c.e,w=c.opt,j=c.x,S=c.y,P=this.w,I=this.ttCtx;if(v.target.classList.contains("apexcharts-marker")){var z=parseInt(w.paths.getAttribute("cx"),10),U=parseInt(w.paths.getAttribute("cy"),10),X=parseFloat(w.paths.getAttribute("val"));if(m=parseInt(w.paths.getAttribute("rel"),10),d=parseInt(w.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,I.intersect){var Q=T.findAncestor(w.paths,"apexcharts-series");Q&&(d=parseInt(Q.getAttribute("data:realIndex"),10))}if(I.tooltipLabels.drawSeriesTexts({ttItems:w.ttItems,i:d,j:m,shared:!I.showOnIntersect&&P.config.tooltip.shared,e:v}),v.type==="mouseup"&&I.markerClick(v,d,m),P.globals.capturedSeriesIndex=d,P.globals.capturedDataPointIndex=m,j=z,S=U+P.globals.translateY-1.4*I.tooltipRect.ttHeight,I.w.config.tooltip.followCursor){var te=I.getElGrid().getBoundingClientRect();S=I.e.clientY+P.globals.translateY-te.top}X<0&&(S=U),I.marker.enlargeCurrentPoint(m,w.paths,j,S)}return{x:j,y:S}}},{key:"handleBarTooltip",value:function(c){var d,m,v=c.e,w=c.opt,j=this.w,S=this.ttCtx,P=S.getElTooltip(),I=0,z=0,U=0,X=this.getBarTooltipXY({e:v,opt:w});d=X.i;var Q=X.barHeight,te=X.j;j.globals.capturedSeriesIndex=d,j.globals.capturedDataPointIndex=te,j.globals.isBarHorizontal&&S.tooltipUtil.hasBars()||!j.config.tooltip.shared?(z=X.x,U=X.y,m=Array.isArray(j.config.stroke.width)?j.config.stroke.width[d]:j.config.stroke.width,I=z):j.globals.comboCharts||j.config.tooltip.shared||(I/=2),isNaN(U)&&(U=j.globals.svgHeight-S.tooltipRect.ttHeight);var ae=parseInt(w.paths.parentNode.getAttribute("data:realIndex"),10),pe=j.globals.isMultipleYAxis?j.config.yaxis[ae]&&j.config.yaxis[ae].reversed:j.config.yaxis[0].reversed;if(z+S.tooltipRect.ttWidth>j.globals.gridWidth&&!pe?z-=S.tooltipRect.ttWidth:z<0&&(z=0),S.w.config.tooltip.followCursor){var we=S.getElGrid().getBoundingClientRect();U=S.e.clientY-we.top}S.tooltip===null&&(S.tooltip=j.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),j.config.tooltip.shared||(j.globals.comboBarCount>0?S.tooltipPosition.moveXCrosshairs(I+m/2):S.tooltipPosition.moveXCrosshairs(I)),!S.fixedTooltip&&(!j.config.tooltip.shared||j.globals.isBarHorizontal&&S.tooltipUtil.hasBars())&&(pe&&(z-=S.tooltipRect.ttWidth)<0&&(z=0),!pe||j.globals.isBarHorizontal&&S.tooltipUtil.hasBars()||(U=U+Q-2*(j.globals.series[d][te]<0?Q:0)),U=U+j.globals.translateY-S.tooltipRect.ttHeight/2,P.style.left=z+j.globals.translateX+"px",P.style.top=U+"px")}},{key:"getBarTooltipXY",value:function(c){var d=this,m=c.e,v=c.opt,w=this.w,j=null,S=this.ttCtx,P=0,I=0,z=0,U=0,X=0,Q=m.target.classList;if(Q.contains("apexcharts-bar-area")||Q.contains("apexcharts-candlestick-area")||Q.contains("apexcharts-boxPlot-area")||Q.contains("apexcharts-rangebar-area")){var te=m.target,ae=te.getBoundingClientRect(),pe=v.elGrid.getBoundingClientRect(),we=ae.height;X=ae.height;var Ce=ae.width,R=parseInt(te.getAttribute("cx"),10),q=parseInt(te.getAttribute("cy"),10);U=parseFloat(te.getAttribute("barWidth"));var se=m.type==="touchmove"?m.touches[0].clientX:m.clientX;j=parseInt(te.getAttribute("j"),10),P=parseInt(te.parentNode.getAttribute("rel"),10)-1;var be=te.getAttribute("data-range-y1"),Pe=te.getAttribute("data-range-y2");w.globals.comboCharts&&(P=parseInt(te.parentNode.getAttribute("data:realIndex"),10));var Le=function(Fe){return w.globals.isXNumeric?R-Ce/2:d.isVerticalGroupedRangeBar?R+Ce/2:R-S.dataPointsDividedWidth+Ce/2},ze=function(){return q-S.dataPointsDividedHeight+we/2-S.tooltipRect.ttHeight/2};S.tooltipLabels.drawSeriesTexts({ttItems:v.ttItems,i:P,j,y1:be?parseInt(be,10):null,y2:Pe?parseInt(Pe,10):null,shared:!S.showOnIntersect&&w.config.tooltip.shared,e:m}),w.config.tooltip.followCursor?w.globals.isBarHorizontal?(I=se-pe.left+15,z=ze()):(I=Le(),z=m.clientY-pe.top-S.tooltipRect.ttHeight/2-15):w.globals.isBarHorizontal?((I=R)<S.xyRatios.baseLineInvertedY&&(I=R-S.tooltipRect.ttWidth),z=ze()):(I=Le(),z=q)}return{x:I,y:z,barHeight:X,barWidth:U,i:P,j}}}]),me}(),qs=function(){function me(c){a(this,me),this.w=c.w,this.ttCtx=c}return l(me,[{key:"drawXaxisTooltip",value:function(){var c=this.w,d=this.ttCtx,m=c.config.xaxis.position==="bottom";d.xaxisOffY=m?c.globals.gridHeight+1:-c.globals.xAxisHeight-c.config.xaxis.axisTicks.height+3;var v=m?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",w=c.globals.dom.elWrap;d.isXAxisTooltipEnabled&&c.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(d.xaxisTooltip=document.createElement("div"),d.xaxisTooltip.setAttribute("class",v+" apexcharts-theme-"+c.config.tooltip.theme),w.appendChild(d.xaxisTooltip),d.xaxisTooltipText=document.createElement("div"),d.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),d.xaxisTooltipText.style.fontFamily=c.config.xaxis.tooltip.style.fontFamily||c.config.chart.fontFamily,d.xaxisTooltipText.style.fontSize=c.config.xaxis.tooltip.style.fontSize,d.xaxisTooltip.appendChild(d.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var c=this.w,d=this.ttCtx,m=function(w){var j=c.config.yaxis[w].opposite||c.config.yaxis[w].crosshairs.opposite;d.yaxisOffX=j?c.globals.gridWidth+1:1;var S="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(w,j?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");c.globals.yAxisSameScaleIndices.map(function(I,z){I.map(function(U,X){X===w&&(S+=c.config.yaxis[X].show?" ":" apexcharts-yaxistooltip-hidden")})});var P=c.globals.dom.elWrap;c.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(w))===null&&(d.yaxisTooltip=document.createElement("div"),d.yaxisTooltip.setAttribute("class",S+" apexcharts-theme-"+c.config.tooltip.theme),P.appendChild(d.yaxisTooltip),w===0&&(d.yaxisTooltipText=[]),d.yaxisTooltipText[w]=document.createElement("div"),d.yaxisTooltipText[w].classList.add("apexcharts-yaxistooltip-text"),d.yaxisTooltip.appendChild(d.yaxisTooltipText[w]))},v=0;v<c.config.yaxis.length;v++)m(v)}},{key:"setXCrosshairWidth",value:function(){var c=this.w,d=this.ttCtx,m=d.getElXCrosshairs();if(d.xcrosshairsWidth=parseInt(c.config.xaxis.crosshairs.width,10),c.globals.comboCharts){var v=c.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(v!==null&&c.config.xaxis.crosshairs.width==="barWidth"){var w=parseFloat(v.getAttribute("barWidth"));d.xcrosshairsWidth=w}else if(c.config.xaxis.crosshairs.width==="tickWidth"){var j=c.globals.labels.length;d.xcrosshairsWidth=c.globals.gridWidth/j}}else if(c.config.xaxis.crosshairs.width==="tickWidth"){var S=c.globals.labels.length;d.xcrosshairsWidth=c.globals.gridWidth/S}else if(c.config.xaxis.crosshairs.width==="barWidth"){var P=c.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(P!==null){var I=parseFloat(P.getAttribute("barWidth"));d.xcrosshairsWidth=I}else d.xcrosshairsWidth=1}c.globals.isBarHorizontal&&(d.xcrosshairsWidth=0),m!==null&&d.xcrosshairsWidth>0&&m.setAttribute("width",d.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var c=this.w,d=this.ttCtx;d.ycrosshairs=c.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),d.ycrosshairsHidden=c.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(c,d,m){var v=this.ttCtx,w=this.w,j=w.globals.yLabelFormatters[c];if(v.yaxisTooltips[c]){var S=v.getElGrid().getBoundingClientRect(),P=(d-S.top)*m.yRatio[c],I=w.globals.maxYArr[c]-w.globals.minYArr[c],z=w.globals.minYArr[c]+(I-P);v.tooltipPosition.moveYCrosshairs(d-S.top),v.yaxisTooltipText[c].innerHTML=j(z),v.tooltipPosition.moveYAxisTooltip(c)}}}]),me}(),Ts=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w;var d=this.w;this.tConfig=d.config.tooltip,this.tooltipUtil=new Ee(this),this.tooltipLabels=new yt(this),this.tooltipPosition=new zt(this),this.marker=new ts(this),this.intersect=new An(this),this.axesTooltip=new qs(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!d.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return l(me,[{key:"getElTooltip",value:function(c){return c||(c=this),c.w.globals.dom.baseEl?c.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(c){var d=this.w;this.xyRatios=c,this.isXAxisTooltipEnabled=d.config.xaxis.tooltip.enabled&&d.globals.axisCharts,this.yaxisTooltips=d.config.yaxis.map(function(j,S){return!!(j.show&&j.tooltip.enabled&&d.globals.axisCharts)}),this.allTooltipSeriesGroups=[],d.globals.axisCharts||(this.showTooltipTitle=!1);var m=document.createElement("div");if(m.classList.add("apexcharts-tooltip"),d.config.tooltip.cssClass&&m.classList.add(d.config.tooltip.cssClass),m.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),d.globals.dom.elWrap.appendChild(m),d.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var v=new qe(this.ctx);this.xAxisTicksPositions=v.getXAxisTicksPositions()}if(!d.globals.comboCharts&&!this.tConfig.intersect&&d.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),d.config.markers.size!==0&&d.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),d.globals.collapsedSeries.length!==d.globals.series.length){this.dataPointsDividedHeight=d.globals.gridHeight/d.globals.dataPoints,this.dataPointsDividedWidth=d.globals.gridWidth/d.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||d.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,m.appendChild(this.tooltipTitle));var w=d.globals.series.length;(d.globals.xyCharts||d.globals.comboCharts)&&this.tConfig.shared&&(w=this.showOnIntersect?1:d.globals.series.length),this.legendLabels=d.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(w),this.addSVGEvents()}}},{key:"createTTElements",value:function(c){for(var d=this,m=this.w,v=[],w=this.getElTooltip(),j=function(P){var I=document.createElement("div");I.classList.add("apexcharts-tooltip-series-group"),I.style.order=m.config.tooltip.inverseOrder?c-P:P+1,d.tConfig.shared&&d.tConfig.enabledOnSeries&&Array.isArray(d.tConfig.enabledOnSeries)&&d.tConfig.enabledOnSeries.indexOf(P)<0&&I.classList.add("apexcharts-tooltip-series-group-hidden");var z=document.createElement("span");z.classList.add("apexcharts-tooltip-marker"),z.style.backgroundColor=m.globals.colors[P],I.appendChild(z);var U=document.createElement("div");U.classList.add("apexcharts-tooltip-text"),U.style.fontFamily=d.tConfig.style.fontFamily||m.config.chart.fontFamily,U.style.fontSize=d.tConfig.style.fontSize,["y","goals","z"].forEach(function(X){var Q=document.createElement("div");Q.classList.add("apexcharts-tooltip-".concat(X,"-group"));var te=document.createElement("span");te.classList.add("apexcharts-tooltip-text-".concat(X,"-label")),Q.appendChild(te);var ae=document.createElement("span");ae.classList.add("apexcharts-tooltip-text-".concat(X,"-value")),Q.appendChild(ae),U.appendChild(Q)}),I.appendChild(U),w.appendChild(I),v.push(I)},S=0;S<c;S++)j(S);return v}},{key:"addSVGEvents",value:function(){var c=this.w,d=c.config.chart.type,m=this.getElTooltip(),v=!(d!=="bar"&&d!=="candlestick"&&d!=="boxPlot"&&d!=="rangeBar"),w=d==="area"||d==="line"||d==="scatter"||d==="bubble"||d==="radar",j=c.globals.dom.Paper.node,S=this.getElGrid();S&&(this.seriesBound=S.getBoundingClientRect());var P,I=[],z=[],U={hoverArea:j,elGrid:S,tooltipEl:m,tooltipY:I,tooltipX:z,ttItems:this.ttItems};if(c.globals.axisCharts&&(w?P=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):v?P=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):d!=="heatmap"&&d!=="treemap"||(P=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),P&&P.length))for(var X=0;X<P.length;X++)I.push(P[X].getAttribute("cy")),z.push(P[X].getAttribute("cx"));if(c.globals.xyCharts&&!this.showOnIntersect||c.globals.comboCharts&&!this.showOnIntersect||v&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([j],U);else if(v&&!c.globals.comboCharts||w&&this.showOnIntersect)this.addDatapointEventsListeners(U);else if(!c.globals.axisCharts||d==="heatmap"||d==="treemap"){var Q=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(Q,U)}if(this.showOnIntersect){var te=c.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");te.length>0&&this.addPathsEventListeners(te,U),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(U)}}},{key:"drawFixedTooltipRect",value:function(){var c=this.w,d=this.getElTooltip(),m=d.getBoundingClientRect(),v=m.width+10,w=m.height+10,j=this.tConfig.fixed.offsetX,S=this.tConfig.fixed.offsetY,P=this.tConfig.fixed.position.toLowerCase();return P.indexOf("right")>-1&&(j=j+c.globals.svgWidth-v+10),P.indexOf("bottom")>-1&&(S=S+c.globals.svgHeight-w-10),d.style.left=j+"px",d.style.top=S+"px",{x:j,y:S,ttWidth:v,ttHeight:w}}},{key:"addDatapointEventsListeners",value:function(c){var d=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(d,c)}},{key:"addPathsEventListeners",value:function(c,d){for(var m=this,v=function(j){var S={paths:c[j],tooltipEl:d.tooltipEl,tooltipY:d.tooltipY,tooltipX:d.tooltipX,elGrid:d.elGrid,hoverArea:d.hoverArea,ttItems:d.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(P){return c[j].addEventListener(P,m.onSeriesHover.bind(m,S),{capture:!1,passive:!0})})},w=0;w<c.length;w++)v(w)}},{key:"onSeriesHover",value:function(c,d){var m=this,v=Date.now()-this.lastHoverTime;v>=100?this.seriesHover(c,d):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){m.seriesHover(c,d)},100-v))}},{key:"seriesHover",value:function(c,d){var m=this;this.lastHoverTime=Date.now();var v=[],w=this.w;w.config.chart.group&&(v=this.ctx.getGroupedCharts()),w.globals.axisCharts&&(w.globals.minX===-1/0&&w.globals.maxX===1/0||w.globals.dataPoints===0)||(v.length?v.forEach(function(j){var S=m.getElTooltip(j),P={paths:c.paths,tooltipEl:S,tooltipY:c.tooltipY,tooltipX:c.tooltipX,elGrid:c.elGrid,hoverArea:c.hoverArea,ttItems:j.w.globals.tooltip.ttItems};j.w.globals.minX===m.w.globals.minX&&j.w.globals.maxX===m.w.globals.maxX&&j.w.globals.tooltip.seriesHoverByContext({chartCtx:j,ttCtx:j.w.globals.tooltip,opt:P,e:d})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:c,e:d}))}},{key:"seriesHoverByContext",value:function(c){var d=c.chartCtx,m=c.ttCtx,v=c.opt,w=c.e,j=d.w,S=this.getElTooltip();S&&(m.tooltipRect={x:0,y:0,ttWidth:S.getBoundingClientRect().width,ttHeight:S.getBoundingClientRect().height},m.e=w,m.tooltipUtil.hasBars()&&!j.globals.comboCharts&&!m.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ue(d).toggleSeriesOnHover(w,w.target.parentNode),m.fixedTooltip&&m.drawFixedTooltipRect(),j.globals.axisCharts?m.axisChartsTooltips({e:w,opt:v,tooltipRect:m.tooltipRect}):m.nonAxisChartsTooltips({e:w,opt:v,tooltipRect:m.tooltipRect}))}},{key:"axisChartsTooltips",value:function(c){var d,m,v=c.e,w=c.opt,j=this.w,S=w.elGrid.getBoundingClientRect(),P=v.type==="touchmove"?v.touches[0].clientX:v.clientX,I=v.type==="touchmove"?v.touches[0].clientY:v.clientY;if(this.clientY=I,this.clientX=P,j.globals.capturedSeriesIndex=-1,j.globals.capturedDataPointIndex=-1,I<S.top||I>S.top+S.height)this.handleMouseOut(w);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!j.config.tooltip.shared){var z=parseInt(w.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(z)<0)return void this.handleMouseOut(w)}var U=this.getElTooltip(),X=this.getElXCrosshairs(),Q=j.globals.xyCharts||j.config.chart.type==="bar"&&!j.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||j.globals.comboCharts&&this.tooltipUtil.hasBars();if(v.type==="mousemove"||v.type==="touchmove"||v.type==="mouseup"){if(j.globals.collapsedSeries.length+j.globals.ancillaryCollapsedSeries.length===j.globals.series.length)return;X!==null&&X.classList.add("apexcharts-active");var te=this.yaxisTooltips.filter(function(we){return we===!0});if(this.ycrosshairs!==null&&te.length&&this.ycrosshairs.classList.add("apexcharts-active"),Q&&!this.showOnIntersect)this.handleStickyTooltip(v,P,I,w);else if(j.config.chart.type==="heatmap"||j.config.chart.type==="treemap"){var ae=this.intersect.handleHeatTreeTooltip({e:v,opt:w,x:d,y:m,type:j.config.chart.type});d=ae.x,m=ae.y,U.style.left=d+"px",U.style.top=m+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:v,opt:w}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:v,opt:w,x:d,y:m});if(this.yaxisTooltips.length)for(var pe=0;pe<j.config.yaxis.length;pe++)this.axesTooltip.drawYaxisTooltipText(pe,I,this.xyRatios);w.tooltipEl.classList.add("apexcharts-active")}else v.type!=="mouseout"&&v.type!=="touchend"||this.handleMouseOut(w)}}},{key:"nonAxisChartsTooltips",value:function(c){var d=c.e,m=c.opt,v=c.tooltipRect,w=this.w,j=m.paths.getAttribute("rel"),S=this.getElTooltip(),P=w.globals.dom.elWrap.getBoundingClientRect();if(d.type==="mousemove"||d.type==="touchmove"){S.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:m.ttItems,i:parseInt(j,10)-1,shared:!1});var I=w.globals.clientX-P.left-v.ttWidth/2,z=w.globals.clientY-P.top-v.ttHeight-10;if(S.style.left=I+"px",S.style.top=z+"px",w.config.legend.tooltipHoverFormatter){var U=j-1,X=(0,w.config.legend.tooltipHoverFormatter)(this.legendLabels[U].getAttribute("data:default-text"),{seriesIndex:U,dataPointIndex:U,w});this.legendLabels[U].innerHTML=X}}else d.type!=="mouseout"&&d.type!=="touchend"||(S.classList.remove("apexcharts-active"),w.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(Q){var te=Q.getAttribute("data:default-text");Q.innerHTML=decodeURIComponent(te)}))}},{key:"handleStickyTooltip",value:function(c,d,m,v){var w=this.w,j=this.tooltipUtil.getNearestValues({context:this,hoverArea:v.hoverArea,elGrid:v.elGrid,clientX:d,clientY:m}),S=j.j,P=j.capturedSeries;w.globals.collapsedSeriesIndices.includes(P)&&(P=null);var I=v.elGrid.getBoundingClientRect();if(j.hoverX<0||j.hoverX>I.width)this.handleMouseOut(v);else if(P!==null)this.handleStickyCapturedSeries(c,P,v,S);else if(this.tooltipUtil.isXoverlap(S)||w.globals.isBarHorizontal){var z=w.globals.series.findIndex(function(U,X){return!w.globals.collapsedSeriesIndices.includes(X)});this.create(c,this,z,S,v.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(c,d,m,v){var w=this.w;if(!this.tConfig.shared&&w.globals.series[d][v]===null)return void this.handleMouseOut(m);if(w.globals.series[d][v]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(v)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(c,this,d,v,m.ttItems):this.create(c,this,d,v,m.ttItems,!1);else if(this.tooltipUtil.isXoverlap(v)){var j=w.globals.series.findIndex(function(S,P){return!w.globals.collapsedSeriesIndices.includes(P)});this.create(c,this,j,v,m.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var c=this.w,d=new F(this.ctx),m=c.globals.dom.Paper.select(".apexcharts-bar-area"),v=0;v<m.length;v++)d.pathMouseLeave(m[v])}},{key:"handleMouseOut",value:function(c){var d=this.w,m=this.getElXCrosshairs();if(c.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),d.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),m!==null&&m.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var v=0;v<this.yaxisTTEls.length;v++)this.yaxisTTEls[v].classList.remove("apexcharts-active")}d.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(w){var j=w.getAttribute("data:default-text");w.innerHTML=decodeURIComponent(j)})}},{key:"markerClick",value:function(c,d,m){var v=this.w;typeof v.config.chart.events.markerClick=="function"&&v.config.chart.events.markerClick(c,this.ctx,{seriesIndex:d,dataPointIndex:m,w:v}),this.ctx.events.fireEvent("markerClick",[c,this.ctx,{seriesIndex:d,dataPointIndex:m,w:v}])}},{key:"create",value:function(c,d,m,v,w){var j,S,P,I,z,U,X,Q,te,ae,pe,we,Ce,R,q,se,be=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Pe=this.w,Le=d;c.type==="mouseup"&&this.markerClick(c,m,v),be===null&&(be=this.tConfig.shared);var ze=this.tooltipUtil.hasMarkers(m),Fe=this.tooltipUtil.getElBars();if(Pe.config.legend.tooltipHoverFormatter){var tt=Pe.config.legend.tooltipHoverFormatter,ft=Array.from(this.legendLabels);ft.forEach(function(Cn){var wn=Cn.getAttribute("data:default-text");Cn.innerHTML=decodeURIComponent(wn)});for(var mt=0;mt<ft.length;mt++){var vt=ft[mt],Dt=parseInt(vt.getAttribute("i"),10),ur=decodeURIComponent(vt.getAttribute("data:default-text")),wr=tt(ur,{seriesIndex:be?Dt:m,dataPointIndex:v,w:Pe});if(be)vt.innerHTML=Pe.globals.collapsedSeriesIndices.indexOf(Dt)<0?wr:ur;else if(vt.innerHTML=Dt===m?wr:ur,m===Dt)break}}var zr=n(n({ttItems:w,i:m,j:v},((j=Pe.globals.seriesRange)===null||j===void 0||(S=j[m])===null||S===void 0||(P=S[v])===null||P===void 0||(I=P.y[0])===null||I===void 0?void 0:I.y1)!==void 0&&{y1:(z=Pe.globals.seriesRange)===null||z===void 0||(U=z[m])===null||U===void 0||(X=U[v])===null||X===void 0||(Q=X.y[0])===null||Q===void 0?void 0:Q.y1}),((te=Pe.globals.seriesRange)===null||te===void 0||(ae=te[m])===null||ae===void 0||(pe=ae[v])===null||pe===void 0||(we=pe.y[0])===null||we===void 0?void 0:we.y2)!==void 0&&{y2:(Ce=Pe.globals.seriesRange)===null||Ce===void 0||(R=Ce[m])===null||R===void 0||(q=R[v])===null||q===void 0||(se=q.y[0])===null||se===void 0?void 0:se.y2});if(be){if(Le.tooltipLabels.drawSeriesTexts(n(n({},zr),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),ze)Pe.globals.markers.largestSize>0?Le.marker.enlargePoints(v):Le.tooltipPosition.moveDynamicPointsOnHover(v);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(Fe),this.barSeriesHeight>0)){var ds=new F(this.ctx),Jr=Pe.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(v,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(v,m);for(var us=0;us<Jr.length;us++)ds.pathMouseEnter(Jr[us])}}else Le.tooltipLabels.drawSeriesTexts(n({shared:!1},zr)),this.tooltipUtil.hasBars()&&Le.tooltipPosition.moveStickyTooltipOverBars(v,m),ze&&Le.tooltipPosition.moveMarkers(m,v)}}]),me}(),pi=function(){function me(c){a(this,me),this.w=c.w,this.barCtx=c,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return l(me,[{key:"handleBarDataLabels",value:function(c){var d=c.x,m=c.y,v=c.y1,w=c.y2,j=c.i,S=c.j,P=c.realIndex,I=c.groupIndex,z=c.series,U=c.barHeight,X=c.barWidth,Q=c.barXPosition,te=c.barYPosition,ae=c.visibleSeries,pe=c.renderedPath,we=this.w,Ce=new F(this.barCtx.ctx),R=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[P]:this.barCtx.strokeWidth,q=d+parseFloat(X*ae),se=m+parseFloat(U*ae);we.globals.isXNumeric&&!we.globals.isBarHorizontal&&(q=d+parseFloat(X*(ae+1)),se=m+parseFloat(U*(ae+1))-R);var be,Pe=null,Le=d,ze=m,Fe={},tt=we.config.dataLabels,ft=this.barCtx.barOptions.dataLabels,mt=this.barCtx.barOptions.dataLabels.total;te!==void 0&&this.barCtx.isRangeBar&&(se=te,ze=te),Q!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(q=Q,Le=Q);var vt=tt.offsetX,Dt=tt.offsetY,ur={width:0,height:0};if(we.config.dataLabels.enabled){var wr=this.barCtx.series[j][S];ur=Ce.getTextRects(we.globals.yLabelFormatters[0](wr),parseFloat(tt.style.fontSize))}var zr={x:d,y:m,i:j,j:S,realIndex:P,groupIndex:I||-1,renderedPath:pe,bcx:q,bcy:se,barHeight:U,barWidth:X,textRects:ur,strokeWidth:R,dataLabelsX:Le,dataLabelsY:ze,dataLabelsConfig:tt,barDataLabelsConfig:ft,barTotalDataLabelsConfig:mt,offX:vt,offY:Dt};return Fe=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(zr):this.calculateColumnsDataLabelsPosition(zr),pe.attr({cy:Fe.bcy,cx:Fe.bcx,j:S,val:z[j][S],barHeight:U,barWidth:X}),be=this.drawCalculatedDataLabels({x:Fe.dataLabelsX,y:Fe.dataLabelsY,val:this.barCtx.isRangeBar?[v,w]:z[j][S],i:P,j:S,barWidth:X,barHeight:U,textRects:ur,dataLabelsConfig:tt}),we.config.chart.stacked&&mt.enabled&&(Pe=this.drawTotalDataLabels({x:Fe.totalDataLabelsX,y:Fe.totalDataLabelsY,realIndex:P,textAnchor:Fe.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:P,j:S}),dataLabelsConfig:tt,barTotalDataLabelsConfig:mt})),{dataLabels:be,totalDataLabels:Pe}}},{key:"getStackedTotalDataLabel",value:function(c){var d=c.realIndex,m=c.j,v=this.w,w=this.barCtx.stackedSeriesTotals[m];return this.totalFormatter&&(w=this.totalFormatter(w,n(n({},v),{},{seriesIndex:d,dataPointIndex:m,w:v}))),w}},{key:"calculateColumnsDataLabelsPosition",value:function(c){var d,m,v=this.w,w=c.i,j=c.j,S=c.realIndex,P=c.groupIndex,I=c.y,z=c.bcx,U=c.barWidth,X=c.barHeight,Q=c.textRects,te=c.dataLabelsX,ae=c.dataLabelsY,pe=c.dataLabelsConfig,we=c.barDataLabelsConfig,Ce=c.barTotalDataLabelsConfig,R=c.strokeWidth,q=c.offX,se=c.offY;X=Math.abs(X);var be=v.config.plotOptions.bar.dataLabels.orientation==="vertical",Pe=this.barCtx.barHelpers.getZeroValueEncounters({i:w,j}).zeroEncounters;z=z-R/2+(P!==-1?P*U:0);var Le=v.globals.gridWidth/v.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?te+=U/2:(te=v.globals.isXNumeric?z-U/2+q:z-Le+U/2+q,Pe>0&&v.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(te-=U*Pe)),be&&(te=te+Q.height/2-R/2-2);var ze=this.barCtx.series[w][j]<0,Fe=I;switch(this.barCtx.isReversed&&(Fe=I-X+(ze?2*X:0),I-=X),we.position){case"center":ae=be?ze?Fe-X/2+se:Fe+X/2-se:ze?Fe-X/2+Q.height/2+se:Fe+X/2+Q.height/2-se;break;case"bottom":ae=be?ze?Fe-X+se:Fe+X-se:ze?Fe-X+Q.height+R+se:Fe+X-Q.height/2+R-se;break;case"top":ae=be?ze?Fe+se:Fe-se:ze?Fe-Q.height/2-se:Fe+Q.height+se}if(this.barCtx.lastActiveBarSerieIndex===S&&Ce.enabled){var tt=new F(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:S,j}),pe.fontSize);d=ze?Fe-tt.height/2-se-Ce.offsetY+18:Fe+tt.height+se+Ce.offsetY-18,m=te+Ce.offsetX}return v.config.chart.stacked||(ae<0?ae=0+R:ae+Q.height/3>v.globals.gridHeight&&(ae=v.globals.gridHeight-R)),{bcx:z,bcy:I,dataLabelsX:te,dataLabelsY:ae,totalDataLabelsX:m,totalDataLabelsY:d,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(c){var d=this.w,m=c.x,v=c.i,w=c.j,j=c.realIndex,S=c.groupIndex,P=c.bcy,I=c.barHeight,z=c.barWidth,U=c.textRects,X=c.dataLabelsX,Q=c.strokeWidth,te=c.dataLabelsConfig,ae=c.barDataLabelsConfig,pe=c.barTotalDataLabelsConfig,we=c.offX,Ce=c.offY,R=d.globals.gridHeight/d.globals.dataPoints;z=Math.abs(z);var q,se,be=(P+=S!==-1?S*I:0)-(this.barCtx.isRangeBar?0:R)+I/2+U.height/2+Ce-3,Pe="start",Le=this.barCtx.series[v][w]<0,ze=m;switch(this.barCtx.isReversed&&(ze=m+z-(Le?2*z:0),m=d.globals.gridWidth-z),ae.position){case"center":X=Le?ze+z/2-we:Math.max(U.width/2,ze-z/2)+we;break;case"bottom":X=Le?ze+z-Q-Math.round(U.width/2)-we:ze-z+Q+Math.round(U.width/2)+we;break;case"top":X=Le?ze-Q+Math.round(U.width/2)-we:ze-Q-Math.round(U.width/2)+we}if(this.barCtx.lastActiveBarSerieIndex===j&&pe.enabled){var Fe=new F(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:j,j:w}),te.fontSize);Le?(q=ze-Q+Math.round(Fe.width/2)-we-pe.offsetX-15,Pe="end"):q=ze-Q-Math.round(Fe.width/2)+we+pe.offsetX+15,se=be+pe.offsetY}return d.config.chart.stacked||(X<0?X=X+U.width+Q:X+U.width/2>d.globals.gridWidth&&(X=d.globals.gridWidth-U.width-Q)),{bcx:m,bcy:P,dataLabelsX:X,dataLabelsY:be,totalDataLabelsX:q,totalDataLabelsY:se,totalDataLabelsAnchor:Pe}}},{key:"drawCalculatedDataLabels",value:function(c){var d=c.x,m=c.y,v=c.val,w=c.i,j=c.j,S=c.textRects,P=c.barHeight,I=c.barWidth,z=c.dataLabelsConfig,U=this.w,X="rotate(0)";U.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(X="rotate(-90, ".concat(d,", ").concat(m,")"));var Q=new $e(this.barCtx.ctx),te=new F(this.barCtx.ctx),ae=z.formatter,pe=null,we=U.globals.collapsedSeriesIndices.indexOf(w)>-1;if(z.enabled&&!we){pe=te.group({class:"apexcharts-data-labels",transform:X});var Ce="";v!==void 0&&(Ce=ae(v,n(n({},U),{},{seriesIndex:w,dataPointIndex:j,w:U}))),!v&&U.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Ce="");var R=U.globals.series[w][j]<0,q=U.config.plotOptions.bar.dataLabels.position;U.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(q==="top"&&(z.textAnchor=R?"end":"start"),q==="center"&&(z.textAnchor="middle"),q==="bottom"&&(z.textAnchor=R?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&I<te.getTextRects(Ce,parseFloat(z.style.fontSize)).width&&(Ce=""),U.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?S.width/1.6>Math.abs(I)&&(Ce=""):S.height/1.6>Math.abs(P)&&(Ce=""));var se=n({},z);this.barCtx.isHorizontal&&v<0&&(z.textAnchor==="start"?se.textAnchor="end":z.textAnchor==="end"&&(se.textAnchor="start")),Q.plotDataLabelsText({x:d,y:m,text:Ce,i:w,j,parent:pe,dataLabelsConfig:se,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return pe}},{key:"drawTotalDataLabels",value:function(c){var d,m=c.x,v=c.y,w=c.val,j=c.realIndex,S=c.textAnchor,P=c.barTotalDataLabelsConfig,I=new F(this.barCtx.ctx);return P.enabled&&m!==void 0&&v!==void 0&&this.barCtx.lastActiveBarSerieIndex===j&&(d=I.drawText({x:m,y:v,foreColor:P.style.color,text:w,textAnchor:S,fontFamily:P.style.fontFamily,fontSize:P.style.fontSize,fontWeight:P.style.fontWeight})),d}}]),me}(),xa=function(){function me(c){a(this,me),this.w=c.w,this.barCtx=c}return l(me,[{key:"initVariables",value:function(c){var d=this.w;this.barCtx.series=c,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var m=0;m<c.length;m++)if(c[m].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=c[m].length),d.globals.isXNumeric)for(var v=0;v<c[m].length;v++)d.globals.seriesX[m][v]>d.globals.minX&&d.globals.seriesX[m][v]<d.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=d.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],d.globals.comboCharts||this.checkZeroSeries({series:c})}},{key:"initialPositions",value:function(){var c,d,m,v,w,j,S,P,I=this.w,z=I.globals.dataPoints;this.barCtx.isRangeBar&&(z=I.globals.labels.length);var U=this.barCtx.seriesLen;if(I.config.plotOptions.bar.rangeBarGroupRows&&(U=1),this.barCtx.isHorizontal)w=(m=I.globals.gridHeight/z)/U,I.globals.isXNumeric&&(w=(m=I.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),w=w*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(w=parseInt(this.barCtx.barOptions.barHeight,10)),P=this.barCtx.baseLineInvertedY+I.globals.padHorizontal+(this.barCtx.isReversed?I.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(P=I.globals.gridWidth/2),d=(m-w*this.barCtx.seriesLen)/2;else{if(v=I.globals.gridWidth/this.barCtx.visibleItems,I.config.xaxis.convertedCatToNumeric&&(v=I.globals.gridWidth/I.globals.dataPoints),j=v/U*parseInt(this.barCtx.barOptions.columnWidth,10)/100,I.globals.isXNumeric){var X=this.barCtx.xRatio;I.config.xaxis.convertedCatToNumeric&&(X=this.barCtx.initialXRatio),I.globals.minXDiff&&I.globals.minXDiff!==.5&&I.globals.minXDiff/X>0&&(v=I.globals.minXDiff/X),(j=v/U*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(j=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(j=parseInt(this.barCtx.barOptions.columnWidth,10)),S=I.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?I.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),c=I.globals.padHorizontal+(v-j*this.barCtx.seriesLen)/2}return{x:c,y:d,yDivision:m,xDivision:v,barHeight:w,barWidth:j,zeroH:S,zeroW:P}}},{key:"initializeStackedPrevVars",value:function(c){var d=c.w;d.globals.hasSeriesGroups?d.globals.seriesGroups.forEach(function(m){c[m]||(c[m]={}),c[m].prevY=[],c[m].prevX=[],c[m].prevYF=[],c[m].prevXF=[],c[m].prevYVal=[],c[m].prevXVal=[]}):(c.prevY=[],c.prevX=[],c.prevYF=[],c.prevXF=[],c.prevYVal=[],c.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(c){var d=c.w;d.globals.hasSeriesGroups?d.globals.seriesGroups.forEach(function(m){c[m]||(c[m]={}),c[m].xArrj=[],c[m].xArrjF=[],c[m].xArrjVal=[],c[m].yArrj=[],c[m].yArrjF=[],c[m].yArrjVal=[]}):(c.xArrj=[],c.xArrjF=[],c.xArrjVal=[],c.yArrj=[],c.yArrjF=[],c.yArrjVal=[])}},{key:"getPathFillColor",value:function(c,d,m,v){var w,j,S,P,I=this.w,z=new Se(this.barCtx.ctx),U=null,X=this.barCtx.barOptions.distributed?m:d;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(Q){c[d][m]>=Q.from&&c[d][m]<=Q.to&&(U=Q.color)}),I.config.series[d].data[m]&&I.config.series[d].data[m].fillColor&&(U=I.config.series[d].data[m].fillColor),z.fillPath({seriesNumber:this.barCtx.barOptions.distributed?X:v,dataPointIndex:m,color:U,value:c[d][m],fillConfig:(w=I.config.series[d].data[m])===null||w===void 0?void 0:w.fill,fillType:(j=I.config.series[d].data[m])!==null&&j!==void 0&&(S=j.fill)!==null&&S!==void 0&&S.type?(P=I.config.series[d].data[m])===null||P===void 0?void 0:P.fill.type:I.config.fill.type})}},{key:"getStrokeWidth",value:function(c,d,m){var v=0,w=this.w;return this.barCtx.series[c][d]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,w.config.stroke.show&&(this.barCtx.isNullValue||(v=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[m]:this.barCtx.strokeWidth)),v}},{key:"shouldApplyRadius",value:function(c){var d=this.w,m=!1;return d.config.plotOptions.bar.borderRadius>0&&(d.config.chart.stacked&&d.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===c&&(m=!0):m=!0),m}},{key:"barBackground",value:function(c){var d=c.j,m=c.i,v=c.x1,w=c.x2,j=c.y1,S=c.y2,P=c.elSeries,I=this.w,z=new F(this.barCtx.ctx),U=new Ue(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&U===m){d>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(d%=this.barCtx.barOptions.colors.backgroundBarColors.length);var X=this.barCtx.barOptions.colors.backgroundBarColors[d],Q=z.drawRect(v!==void 0?v:0,j!==void 0?j:0,w!==void 0?w:I.globals.gridWidth,S!==void 0?S:I.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,X,this.barCtx.barOptions.colors.backgroundBarOpacity);P.add(Q),Q.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(c){var d,m=c.barWidth,v=c.barXPosition,w=c.y1,j=c.y2,S=c.strokeWidth,P=c.seriesGroup,I=c.realIndex,z=c.i,U=c.j,X=c.w,Q=new F(this.barCtx.ctx);(S=Array.isArray(S)?S[I]:S)||(S=0);var te=m,ae=v;(d=X.config.series[I].data[U])!==null&&d!==void 0&&d.columnWidthOffset&&(ae=v-X.config.series[I].data[U].columnWidthOffset/2,te=m+X.config.series[I].data[U].columnWidthOffset);var pe=ae,we=ae+te;w+=.001,j+=.001;var Ce=Q.move(pe,w),R=Q.move(pe,w),q=Q.line(we-S,w);if(X.globals.previousPaths.length>0&&(R=this.barCtx.getPreviousPath(I,U,!1)),Ce=Ce+Q.line(pe,j)+Q.line(we-S,j)+Q.line(we-S,w)+(X.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),R=R+Q.line(pe,w)+q+q+q+q+q+Q.line(pe,w)+(X.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(I)&&(Ce=Q.roundPathCorners(Ce,X.config.plotOptions.bar.borderRadius)),X.config.chart.stacked){var se=this.barCtx;X.globals.hasSeriesGroups&&P&&(se=this.barCtx[P]),se.yArrj.push(j),se.yArrjF.push(Math.abs(w-j)),se.yArrjVal.push(this.barCtx.series[z][U])}return{pathTo:Ce,pathFrom:R}}},{key:"getBarpaths",value:function(c){var d,m=c.barYPosition,v=c.barHeight,w=c.x1,j=c.x2,S=c.strokeWidth,P=c.seriesGroup,I=c.realIndex,z=c.i,U=c.j,X=c.w,Q=new F(this.barCtx.ctx);(S=Array.isArray(S)?S[I]:S)||(S=0);var te=m,ae=v;(d=X.config.series[I].data[U])!==null&&d!==void 0&&d.barHeightOffset&&(te=m-X.config.series[I].data[U].barHeightOffset/2,ae=v+X.config.series[I].data[U].barHeightOffset);var pe=te,we=te+ae;w+=.001,j+=.001;var Ce=Q.move(w,pe),R=Q.move(w,pe);X.globals.previousPaths.length>0&&(R=this.barCtx.getPreviousPath(I,U,!1));var q=Q.line(w,we-S);if(Ce=Ce+Q.line(j,pe)+Q.line(j,we-S)+q+(X.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),R=R+Q.line(w,pe)+q+q+q+q+q+Q.line(w,pe)+(X.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(I)&&(Ce=Q.roundPathCorners(Ce,X.config.plotOptions.bar.borderRadius)),X.config.chart.stacked){var se=this.barCtx;X.globals.hasSeriesGroups&&P&&(se=this.barCtx[P]),se.xArrj.push(j),se.xArrjF.push(Math.abs(w-j)),se.xArrjVal.push(this.barCtx.series[z][U])}return{pathTo:Ce,pathFrom:R}}},{key:"checkZeroSeries",value:function(c){for(var d=c.series,m=this.w,v=0;v<d.length;v++){for(var w=0,j=0;j<d[m.globals.maxValsInArrayIndex].length;j++)w+=d[v][j];w===0&&this.barCtx.zeroSerieses.push(v)}}},{key:"getXForValue",value:function(c,d){var m=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?d:null;return c!=null&&(m=d+c/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?c/this.barCtx.invertedYRatio:0)),m}},{key:"getYForValue",value:function(c,d){var m=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?d:null;return c!=null&&(m=d-c/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?c/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),m}},{key:"getGoalValues",value:function(c,d,m,v,w){var j=this,S=this.w,P=[],I=function(X,Q){var te;P.push((u(te={},c,c==="x"?j.getXForValue(X,d,!1):j.getYForValue(X,m,!1)),u(te,"attrs",Q),te))};if(S.globals.seriesGoals[v]&&S.globals.seriesGoals[v][w]&&Array.isArray(S.globals.seriesGoals[v][w])&&S.globals.seriesGoals[v][w].forEach(function(X){I(X.value,X)}),this.barCtx.barOptions.isDumbbell&&S.globals.seriesRange.length){var z=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:S.globals.colors,U={strokeHeight:c==="x"?0:S.globals.markers.size[v],strokeWidth:c==="x"?S.globals.markers.size[v]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(z[v])?z[v][0]:z[v]};I(S.globals.seriesRangeStart[v][w],U),I(S.globals.seriesRangeEnd[v][w],n(n({},U),{},{strokeColor:Array.isArray(z[v])?z[v][1]:z[v]}))}return P}},{key:"drawGoalLine",value:function(c){var d=c.barXPosition,m=c.barYPosition,v=c.goalX,w=c.goalY,j=c.barWidth,S=c.barHeight,P=new F(this.barCtx.ctx),I=P.group({className:"apexcharts-bar-goals-groups"});I.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:I.node}),I.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var z=null;return this.barCtx.isHorizontal?Array.isArray(v)&&v.forEach(function(U){var X=U.attrs.strokeHeight!==void 0?U.attrs.strokeHeight:S/2,Q=m+X+S/2;z=P.drawLine(U.x,Q-2*X,U.x,Q,U.attrs.strokeColor?U.attrs.strokeColor:void 0,U.attrs.strokeDashArray,U.attrs.strokeWidth?U.attrs.strokeWidth:2,U.attrs.strokeLineCap),I.add(z)}):Array.isArray(w)&&w.forEach(function(U){var X=U.attrs.strokeWidth!==void 0?U.attrs.strokeWidth:j/2,Q=d+X+j/2;z=P.drawLine(Q-2*X,U.y,Q,U.y,U.attrs.strokeColor?U.attrs.strokeColor:void 0,U.attrs.strokeDashArray,U.attrs.strokeHeight?U.attrs.strokeHeight:2,U.attrs.strokeLineCap),I.add(z)}),I}},{key:"drawBarShadow",value:function(c){var d=c.prevPaths,m=c.currPaths,v=c.color,w=this.w,j=d.x,S=d.x1,P=d.barYPosition,I=m.x,z=m.x1,U=m.barYPosition,X=P+m.barHeight,Q=new F(this.barCtx.ctx),te=new T,ae=Q.move(S,X)+Q.line(j,X)+Q.line(I,U)+Q.line(z,U)+Q.line(S,X)+(w.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z");return Q.drawPath({d:ae,fill:te.shadeColor(.5,T.rgb2hex(v)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(c){var d=c.i,m=c.j,v=this.w,w=0,j=0;return v.globals.seriesPercent.forEach(function(S,P){S[m]&&w++,P<d&&S[m]===0&&j++}),{nonZeroColumns:w,zeroEncounters:j}}}]),me}(),ei=function(){function me(c,d){a(this,me),this.ctx=c,this.w=c.w;var m=this.w;this.barOptions=m.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=m.config.stroke.width,this.isNullValue=!1,this.isRangeBar=m.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!m.globals.isBarHorizontal&&m.globals.seriesRange.length&&m.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=d,this.xyRatios!==null&&(this.xRatio=d.xRatio,this.initialXRatio=d.initialXRatio,this.yRatio=d.yRatio,this.invertedXRatio=d.invertedXRatio,this.invertedYRatio=d.invertedYRatio,this.baseLineY=d.baseLineY,this.baseLineInvertedY=d.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var v=new Ue(this.ctx);this.lastActiveBarSerieIndex=v.getActiveConfigSeriesIndex("desc",["bar","column"]);var w=v.getBarSeriesIndices(),j=new V(this.ctx);this.stackedSeriesTotals=j.getStackedSeriesTotals(this.w.config.series.map(function(S,P){return w.indexOf(P)===-1?P:-1}).filter(function(S){return S!==-1})),this.barHelpers=new xa(this)}return l(me,[{key:"draw",value:function(c,d){var m=this.w,v=new F(this.ctx),w=new V(this.ctx,m);c=w.getLogSeries(c),this.series=c,this.yRatio=w.getLogYRatios(this.yRatio),this.barHelpers.initVariables(c);var j=v.group({class:"apexcharts-bar-series apexcharts-plot-series"});m.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var S=0,P=0;S<c.length;S++,P++){var I,z,U,X,Q=void 0,te=void 0,ae=[],pe=[],we=m.globals.comboCharts?d[S]:S,Ce=v.group({class:"apexcharts-series",rel:S+1,seriesName:T.escapeString(m.globals.seriesNames[we]),"data:realIndex":we});this.ctx.series.addCollapsedClassToSeries(Ce,we),c[S].length>0&&(this.visibleI=this.visibleI+1);var R=0,q=0;this.yRatio.length>1&&(this.yaxisIndex=we),this.isReversed=m.config.yaxis[this.yaxisIndex]&&m.config.yaxis[this.yaxisIndex].reversed;var se=this.barHelpers.initialPositions();te=se.y,R=se.barHeight,z=se.yDivision,X=se.zeroW,Q=se.x,q=se.barWidth,I=se.xDivision,U=se.zeroH,this.horizontal||pe.push(Q+q/2);var be=v.group({class:"apexcharts-datalabels","data:realIndex":we});m.globals.delayedElements.push({el:be.node}),be.node.classList.add("apexcharts-element-hidden");var Pe=v.group({class:"apexcharts-bar-goals-markers"}),Le=v.group({class:"apexcharts-bar-shadows"});m.globals.delayedElements.push({el:Le.node}),Le.node.classList.add("apexcharts-element-hidden");for(var ze=0;ze<m.globals.dataPoints;ze++){var Fe=this.barHelpers.getStrokeWidth(S,ze,we),tt=null,ft={indexes:{i:S,j:ze,realIndex:we,bc:P},x:Q,y:te,strokeWidth:Fe,elSeries:Ce};this.isHorizontal?(tt=this.drawBarPaths(n(n({},ft),{},{barHeight:R,zeroW:X,yDivision:z})),q=this.series[S][ze]/this.invertedYRatio):(tt=this.drawColumnPaths(n(n({},ft),{},{xDivision:I,barWidth:q,zeroH:U})),R=this.series[S][ze]/this.yRatio[this.yaxisIndex]);var mt=this.barHelpers.getPathFillColor(c,S,ze,we);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&ze>0){var vt=this.barHelpers.drawBarShadow({color:typeof mt=="string"&&(mt==null?void 0:mt.indexOf("url"))===-1?mt:T.hexToRgba(m.globals.colors[S]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:tt});vt&&Le.add(vt)}this.pathArr.push(tt);var Dt=this.barHelpers.drawGoalLine({barXPosition:tt.barXPosition,barYPosition:tt.barYPosition,goalX:tt.goalX,goalY:tt.goalY,barHeight:R,barWidth:q});Dt&&Pe.add(Dt),te=tt.y,Q=tt.x,ze>0&&pe.push(Q+q/2),ae.push(te),this.renderSeries({realIndex:we,pathFill:mt,j:ze,i:S,pathFrom:tt.pathFrom,pathTo:tt.pathTo,strokeWidth:Fe,elSeries:Ce,x:Q,y:te,series:c,barHeight:tt.barHeight?tt.barHeight:R,barWidth:tt.barWidth?tt.barWidth:q,elDataLabelsWrap:be,elGoalsMarkers:Pe,elBarShadows:Le,visibleSeries:this.visibleI,type:"bar"})}m.globals.seriesXvalues[we]=pe,m.globals.seriesYvalues[we]=ae,j.add(Ce)}return j}},{key:"renderSeries",value:function(c){var d=c.realIndex,m=c.pathFill,v=c.lineFill,w=c.j,j=c.i,S=c.groupIndex,P=c.pathFrom,I=c.pathTo,z=c.strokeWidth,U=c.elSeries,X=c.x,Q=c.y,te=c.y1,ae=c.y2,pe=c.series,we=c.barHeight,Ce=c.barWidth,R=c.barXPosition,q=c.barYPosition,se=c.elDataLabelsWrap,be=c.elGoalsMarkers,Pe=c.elBarShadows,Le=c.visibleSeries,ze=c.type,Fe=this.w,tt=new F(this.ctx);v||(v=this.barOptions.distributed?Fe.globals.stroke.colors[w]:Fe.globals.stroke.colors[d]),Fe.config.series[j].data[w]&&Fe.config.series[j].data[w].strokeColor&&(v=Fe.config.series[j].data[w].strokeColor),this.isNullValue&&(m="none");var ft=w/Fe.config.chart.animations.animateGradually.delay*(Fe.config.chart.animations.speed/Fe.globals.dataPoints)/2.4,mt=tt.renderPaths({i:j,j:w,realIndex:d,pathFrom:P,pathTo:I,stroke:v,strokeWidth:z,strokeLineCap:Fe.config.stroke.lineCap,fill:m,animationDelay:ft,initialSpeed:Fe.config.chart.animations.speed,dataChangeSpeed:Fe.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(ze,"-area")});mt.attr("clip-path","url(#gridRectMask".concat(Fe.globals.cuid,")"));var vt=Fe.config.forecastDataPoints;vt.count>0&&w>=Fe.globals.dataPoints-vt.count&&(mt.node.setAttribute("stroke-dasharray",vt.dashArray),mt.node.setAttribute("stroke-width",vt.strokeWidth),mt.node.setAttribute("fill-opacity",vt.fillOpacity)),te!==void 0&&ae!==void 0&&(mt.attr("data-range-y1",te),mt.attr("data-range-y2",ae)),new B(this.ctx).setSelectionFilter(mt,d,w),U.add(mt);var Dt=new pi(this).handleBarDataLabels({x:X,y:Q,y1:te,y2:ae,i:j,j:w,series:pe,realIndex:d,groupIndex:S,barHeight:we,barWidth:Ce,barXPosition:R,barYPosition:q,renderedPath:mt,visibleSeries:Le});return Dt.dataLabels!==null&&se.add(Dt.dataLabels),Dt.totalDataLabels&&se.add(Dt.totalDataLabels),U.add(se),be&&U.add(be),Pe&&U.add(Pe),U}},{key:"drawBarPaths",value:function(c){var d,m=c.indexes,v=c.barHeight,w=c.strokeWidth,j=c.zeroW,S=c.x,P=c.y,I=c.yDivision,z=c.elSeries,U=this.w,X=m.i,Q=m.j;if(U.globals.isXNumeric)d=(P=(U.globals.seriesX[X][Q]-U.globals.minX)/this.invertedXRatio-v)+v*this.visibleI;else if(U.config.plotOptions.bar.hideZeroBarsWhenGrouped){var te=0,ae=0;U.globals.seriesPercent.forEach(function(we,Ce){we[Q]&&te++,Ce<X&&we[Q]===0&&ae++}),te>0&&(v=this.seriesLen*v/te),d=P+v*this.visibleI,d-=v*ae}else d=P+v*this.visibleI;this.isFunnel&&(j-=(this.barHelpers.getXForValue(this.series[X][Q],j)-j)/2),S=this.barHelpers.getXForValue(this.series[X][Q],j);var pe=this.barHelpers.getBarpaths({barYPosition:d,barHeight:v,x1:j,x2:S,strokeWidth:w,series:this.series,realIndex:m.realIndex,i:X,j:Q,w:U});return U.globals.isXNumeric||(P+=I),this.barHelpers.barBackground({j:Q,i:X,y1:d-v*this.visibleI,y2:v*this.seriesLen,elSeries:z}),{pathTo:pe.pathTo,pathFrom:pe.pathFrom,x1:j,x:S,y:P,goalX:this.barHelpers.getGoalValues("x",j,null,X,Q),barYPosition:d,barHeight:v}}},{key:"drawColumnPaths",value:function(c){var d,m=c.indexes,v=c.x,w=c.y,j=c.xDivision,S=c.barWidth,P=c.zeroH,I=c.strokeWidth,z=c.elSeries,U=this.w,X=m.realIndex,Q=m.i,te=m.j,ae=m.bc;if(U.globals.isXNumeric){var pe=this.getBarXForNumericXAxis({x:v,j:te,realIndex:X,barWidth:S});v=pe.x,d=pe.barXPosition}else if(U.config.plotOptions.bar.hideZeroBarsWhenGrouped){var we=this.barHelpers.getZeroValueEncounters({i:Q,j:te}),Ce=we.nonZeroColumns,R=we.zeroEncounters;Ce>0&&(S=this.seriesLen*S/Ce),d=v+S*this.visibleI,d-=S*R}else d=v+S*this.visibleI;w=this.barHelpers.getYForValue(this.series[Q][te],P);var q=this.barHelpers.getColumnPaths({barXPosition:d,barWidth:S,y1:P,y2:w,strokeWidth:I,series:this.series,realIndex:m.realIndex,i:Q,j:te,w:U});return U.globals.isXNumeric||(v+=j),this.barHelpers.barBackground({bc:ae,j:te,i:Q,x1:d-I/2-S*this.visibleI,x2:S*this.seriesLen+I/2,elSeries:z}),{pathTo:q.pathTo,pathFrom:q.pathFrom,x:v,y:w,goalY:this.barHelpers.getGoalValues("y",null,P,Q,te),barXPosition:d,barWidth:S}}},{key:"getBarXForNumericXAxis",value:function(c){var d=c.x,m=c.barWidth,v=c.realIndex,w=c.j,j=this.w,S=v;return j.globals.seriesX[v].length||(S=j.globals.maxValsInArrayIndex),j.globals.seriesX[S][w]&&(d=(j.globals.seriesX[S][w]-j.globals.minX)/this.xRatio-m*this.seriesLen/2),{barXPosition:d+m*this.visibleI,x:d}}},{key:"getPreviousPath",value:function(c,d){for(var m,v=this.w,w=0;w<v.globals.previousPaths.length;w++){var j=v.globals.previousPaths[w];j.paths&&j.paths.length>0&&parseInt(j.realIndex,10)===parseInt(c,10)&&v.globals.previousPaths[w].paths[d]!==void 0&&(m=v.globals.previousPaths[w].paths[d].d)}return m}}]),me}(),ti=function(me){h(d,ei);var c=N(d);function d(){return a(this,d),c.apply(this,arguments)}return l(d,[{key:"draw",value:function(m,v){var w=this,j=this.w;this.graphics=new F(this.ctx),this.bar=new ei(this.ctx,this.xyRatios);var S=new V(this.ctx,j);m=S.getLogSeries(m),this.yRatio=S.getLogYRatios(this.yRatio),this.barHelpers.initVariables(m),j.config.chart.stackType==="100%"&&(m=j.globals.seriesPercent.slice()),this.series=m,this.barHelpers.initializeStackedPrevVars(this);for(var P=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),I=0,z=0,U=function(te,ae){var pe=void 0,we=void 0,Ce=void 0,R=void 0,q=-1;w.groupCtx=w,j.globals.seriesGroups.forEach(function(Jr,us){Jr.indexOf(j.config.series[te].name)>-1&&(q=us)}),q!==-1&&(w.groupCtx=w[j.globals.seriesGroups[q]]);var se=[],be=[],Pe=j.globals.comboCharts?v[te]:te;w.yRatio.length>1&&(w.yaxisIndex=Pe),w.isReversed=j.config.yaxis[w.yaxisIndex]&&j.config.yaxis[w.yaxisIndex].reversed;var Le=w.graphics.group({class:"apexcharts-series",seriesName:T.escapeString(j.globals.seriesNames[Pe]),rel:te+1,"data:realIndex":Pe});w.ctx.series.addCollapsedClassToSeries(Le,Pe);var ze=w.graphics.group({class:"apexcharts-datalabels","data:realIndex":Pe}),Fe=w.graphics.group({class:"apexcharts-bar-goals-markers"}),tt=0,ft=0,mt=w.initialPositions(I,z,pe,we,Ce,R);z=mt.y,tt=mt.barHeight,we=mt.yDivision,R=mt.zeroW,I=mt.x,ft=mt.barWidth,pe=mt.xDivision,Ce=mt.zeroH,w.barHelpers.initializeStackedXYVars(w),w.groupCtx.prevY.length===1&&w.groupCtx.prevY[0].every(function(Jr){return isNaN(Jr)})&&(w.groupCtx.prevY[0]=w.groupCtx.prevY[0].map(function(Jr){return Ce}),w.groupCtx.prevYF[0]=w.groupCtx.prevYF[0].map(function(Jr){return 0}));for(var vt=0;vt<j.globals.dataPoints;vt++){var Dt=w.barHelpers.getStrokeWidth(te,vt,Pe),ur={indexes:{i:te,j:vt,realIndex:Pe,bc:ae},strokeWidth:Dt,x:I,y:z,elSeries:Le,groupIndex:q,seriesGroup:j.globals.seriesGroups[q]},wr=null;w.isHorizontal?(wr=w.drawStackedBarPaths(n(n({},ur),{},{zeroW:R,barHeight:tt,yDivision:we})),ft=w.series[te][vt]/w.invertedYRatio):(wr=w.drawStackedColumnPaths(n(n({},ur),{},{xDivision:pe,barWidth:ft,zeroH:Ce})),tt=w.series[te][vt]/w.yRatio[w.yaxisIndex]);var zr=w.barHelpers.drawGoalLine({barXPosition:wr.barXPosition,barYPosition:wr.barYPosition,goalX:wr.goalX,goalY:wr.goalY,barHeight:tt,barWidth:ft});zr&&Fe.add(zr),z=wr.y,I=wr.x,se.push(I),be.push(z);var ds=w.barHelpers.getPathFillColor(m,te,vt,Pe);Le=w.renderSeries({realIndex:Pe,pathFill:ds,j:vt,i:te,groupIndex:q,pathFrom:wr.pathFrom,pathTo:wr.pathTo,strokeWidth:Dt,elSeries:Le,x:I,y:z,series:m,barHeight:tt,barWidth:ft,elDataLabelsWrap:ze,elGoalsMarkers:Fe,type:"bar",visibleSeries:0})}j.globals.seriesXvalues[Pe]=se,j.globals.seriesYvalues[Pe]=be,w.groupCtx.prevY.push(w.groupCtx.yArrj),w.groupCtx.prevYF.push(w.groupCtx.yArrjF),w.groupCtx.prevYVal.push(w.groupCtx.yArrjVal),w.groupCtx.prevX.push(w.groupCtx.xArrj),w.groupCtx.prevXF.push(w.groupCtx.xArrjF),w.groupCtx.prevXVal.push(w.groupCtx.xArrjVal),P.add(Le)},X=0,Q=0;X<m.length;X++,Q++)U(X,Q);return P}},{key:"initialPositions",value:function(m,v,w,j,S,P){var I,z,U,X,Q=this.w;return this.isHorizontal?(U=(U=j=Q.globals.gridHeight/Q.globals.dataPoints)*parseInt(Q.config.plotOptions.bar.barHeight,10)/100,String(Q.config.plotOptions.bar.barHeight).indexOf("%")===-1&&(U=parseInt(Q.config.plotOptions.bar.barHeight,10)),P=this.baseLineInvertedY+Q.globals.padHorizontal+(this.isReversed?Q.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),v=(j-U)/2):(X=w=Q.globals.gridWidth/Q.globals.dataPoints,X=Q.globals.isXNumeric&&Q.globals.dataPoints>1?(w=Q.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:X*parseInt(Q.config.plotOptions.bar.columnWidth,10)/100,String(Q.config.plotOptions.bar.columnWidth).indexOf("%")===-1&&(X=parseInt(Q.config.plotOptions.bar.columnWidth,10)),S=Q.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?Q.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),m=Q.globals.padHorizontal+(w-X)/2),{x:m,y:v,yDivision:j,xDivision:w,barHeight:(I=Q.globals.seriesGroups)!==null&&I!==void 0&&I.length?U/Q.globals.seriesGroups.length:U,barWidth:(z=Q.globals.seriesGroups)!==null&&z!==void 0&&z.length?X/Q.globals.seriesGroups.length:X,zeroH:S,zeroW:P}}},{key:"drawStackedBarPaths",value:function(m){for(var v,w=m.indexes,j=m.barHeight,S=m.strokeWidth,P=m.zeroW,I=m.x,z=m.y,U=m.groupIndex,X=m.seriesGroup,Q=m.yDivision,te=m.elSeries,ae=this.w,pe=z+(U!==-1?U*j:0),we=w.i,Ce=w.j,R=0,q=0;q<this.groupCtx.prevXF.length;q++)R+=this.groupCtx.prevXF[q][Ce];var se=we;if(X&&(se=X.indexOf(ae.config.series[we].name)),se>0){var be=P;this.groupCtx.prevXVal[se-1][Ce]<0?be=this.series[we][Ce]>=0?this.groupCtx.prevX[se-1][Ce]+R-2*(this.isReversed?R:0):this.groupCtx.prevX[se-1][Ce]:this.groupCtx.prevXVal[se-1][Ce]>=0&&(be=this.series[we][Ce]>=0?this.groupCtx.prevX[se-1][Ce]:this.groupCtx.prevX[se-1][Ce]-R+2*(this.isReversed?R:0)),v=be}else v=P;I=this.series[we][Ce]===null?v:v+this.series[we][Ce]/this.invertedYRatio-2*(this.isReversed?this.series[we][Ce]/this.invertedYRatio:0);var Pe=this.barHelpers.getBarpaths({barYPosition:pe,barHeight:j,x1:v,x2:I,strokeWidth:S,series:this.series,realIndex:w.realIndex,seriesGroup:X,i:we,j:Ce,w:ae});return this.barHelpers.barBackground({j:Ce,i:we,y1:pe,y2:j,elSeries:te}),z+=Q,{pathTo:Pe.pathTo,pathFrom:Pe.pathFrom,goalX:this.barHelpers.getGoalValues("x",P,null,we,Ce),barYPosition:pe,x:I,y:z}}},{key:"drawStackedColumnPaths",value:function(m){var v=m.indexes,w=m.x,j=m.y,S=m.xDivision,P=m.barWidth,I=m.zeroH,z=m.groupIndex,U=m.seriesGroup,X=m.elSeries,Q=this.w,te=v.i,ae=v.j,pe=v.bc;if(Q.globals.isXNumeric){var we=Q.globals.seriesX[te][ae];we||(we=0),w=(we-Q.globals.minX)/this.xRatio-P/2,Q.globals.seriesGroups.length&&(w=(we-Q.globals.minX)/this.xRatio-P/2*Q.globals.seriesGroups.length)}for(var Ce,R=w+(z!==-1?z*P:0),q=0,se=0;se<this.groupCtx.prevYF.length;se++)q+=isNaN(this.groupCtx.prevYF[se][ae])?0:this.groupCtx.prevYF[se][ae];var be=te;if(U&&(be=U.indexOf(Q.config.series[te].name)),be>0&&!Q.globals.isXNumeric||be>0&&Q.globals.isXNumeric&&Q.globals.seriesX[te-1][ae]===Q.globals.seriesX[te][ae]){var Pe,Le,ze,Fe=Math.min(this.yRatio.length+1,te+1);if(this.groupCtx.prevY[be-1]!==void 0&&this.groupCtx.prevY[be-1].length)for(var tt=1;tt<Fe;tt++){var ft;if(!isNaN((ft=this.groupCtx.prevY[be-tt])===null||ft===void 0?void 0:ft[ae])){ze=this.groupCtx.prevY[be-tt][ae];break}}for(var mt=1;mt<Fe;mt++){var vt,Dt;if(((vt=this.groupCtx.prevYVal[be-mt])===null||vt===void 0?void 0:vt[ae])<0){Le=this.series[te][ae]>=0?ze-q+2*(this.isReversed?q:0):ze;break}if(((Dt=this.groupCtx.prevYVal[be-mt])===null||Dt===void 0?void 0:Dt[ae])>=0){Le=this.series[te][ae]>=0?ze:ze+q-2*(this.isReversed?q:0);break}}Le===void 0&&(Le=Q.globals.gridHeight),Ce=(Pe=this.groupCtx.prevYF[0])!==null&&Pe!==void 0&&Pe.every(function(wr){return wr===0})&&this.groupCtx.prevYF.slice(1,be).every(function(wr){return wr.every(function(zr){return isNaN(zr)})})?I:Le}else Ce=I;j=this.series[te][ae]?Ce-this.series[te][ae]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[te][ae]/this.yRatio[this.yaxisIndex]:0):Ce;var ur=this.barHelpers.getColumnPaths({barXPosition:R,barWidth:P,y1:Ce,y2:j,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:U,realIndex:v.realIndex,i:te,j:ae,w:Q});return this.barHelpers.barBackground({bc:pe,j:ae,i:te,x1:R,x2:P,elSeries:X}),w+=S,{pathTo:ur.pathTo,pathFrom:ur.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,I,te,ae),barXPosition:R,x:Q.globals.isXNumeric?w-S:w,y:j}}}]),d}(),zn=function(me){h(d,ei);var c=N(d);function d(){return a(this,d),c.apply(this,arguments)}return l(d,[{key:"draw",value:function(m,v,w){var j=this,S=this.w,P=new F(this.ctx),I=S.globals.comboCharts?v:S.config.chart.type,z=new Se(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=S.config.plotOptions.bar.horizontal;var U=new V(this.ctx,S);m=U.getLogSeries(m),this.series=m,this.yRatio=U.getLogYRatios(this.yRatio),this.barHelpers.initVariables(m);for(var X=P.group({class:"apexcharts-".concat(I,"-series apexcharts-plot-series")}),Q=function(ae){j.isBoxPlot=S.config.chart.type==="boxPlot"||S.config.series[ae].type==="boxPlot";var pe,we,Ce,R,q=void 0,se=void 0,be=[],Pe=[],Le=S.globals.comboCharts?w[ae]:ae,ze=P.group({class:"apexcharts-series",seriesName:T.escapeString(S.globals.seriesNames[Le]),rel:ae+1,"data:realIndex":Le});j.ctx.series.addCollapsedClassToSeries(ze,Le),m[ae].length>0&&(j.visibleI=j.visibleI+1);var Fe,tt;j.yRatio.length>1&&(j.yaxisIndex=Le);var ft=j.barHelpers.initialPositions();se=ft.y,Fe=ft.barHeight,we=ft.yDivision,R=ft.zeroW,q=ft.x,tt=ft.barWidth,pe=ft.xDivision,Ce=ft.zeroH,Pe.push(q+tt/2);for(var mt=P.group({class:"apexcharts-datalabels","data:realIndex":Le}),vt=function(ur){var wr=j.barHelpers.getStrokeWidth(ae,ur,Le),zr=null,ds={indexes:{i:ae,j:ur,realIndex:Le},x:q,y:se,strokeWidth:wr,elSeries:ze};zr=j.isHorizontal?j.drawHorizontalBoxPaths(n(n({},ds),{},{yDivision:we,barHeight:Fe,zeroW:R})):j.drawVerticalBoxPaths(n(n({},ds),{},{xDivision:pe,barWidth:tt,zeroH:Ce})),se=zr.y,q=zr.x,ur>0&&Pe.push(q+tt/2),be.push(se),zr.pathTo.forEach(function(Jr,us){var Cn=!j.isBoxPlot&&j.candlestickOptions.wick.useFillColor?zr.color[us]:S.globals.stroke.colors[ae],wn=z.fillPath({seriesNumber:Le,dataPointIndex:ur,color:zr.color[us],value:m[ae][ur]});j.renderSeries({realIndex:Le,pathFill:wn,lineFill:Cn,j:ur,i:ae,pathFrom:zr.pathFrom,pathTo:Jr,strokeWidth:wr,elSeries:ze,x:q,y:se,series:m,barHeight:Fe,barWidth:tt,elDataLabelsWrap:mt,visibleSeries:j.visibleI,type:S.config.chart.type})})},Dt=0;Dt<S.globals.dataPoints;Dt++)vt(Dt);S.globals.seriesXvalues[Le]=Pe,S.globals.seriesYvalues[Le]=be,X.add(ze)},te=0;te<m.length;te++)Q(te);return X}},{key:"drawVerticalBoxPaths",value:function(m){var v=m.indexes,w=m.x;m.y;var j=m.xDivision,S=m.barWidth,P=m.zeroH,I=m.strokeWidth,z=this.w,U=new F(this.ctx),X=v.i,Q=v.j,te=!0,ae=z.config.plotOptions.candlestick.colors.upward,pe=z.config.plotOptions.candlestick.colors.downward,we="";this.isBoxPlot&&(we=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Ce=this.yRatio[this.yaxisIndex],R=v.realIndex,q=this.getOHLCValue(R,Q),se=P,be=P;q.o>q.c&&(te=!1);var Pe=Math.min(q.o,q.c),Le=Math.max(q.o,q.c),ze=q.m;z.globals.isXNumeric&&(w=(z.globals.seriesX[R][Q]-z.globals.minX)/this.xRatio-S/2);var Fe=w+S*this.visibleI;this.series[X][Q]===void 0||this.series[X][Q]===null?(Pe=P,Le=P):(Pe=P-Pe/Ce,Le=P-Le/Ce,se=P-q.h/Ce,be=P-q.l/Ce,ze=P-q.m/Ce);var tt=U.move(Fe,P),ft=U.move(Fe+S/2,Pe);return z.globals.previousPaths.length>0&&(ft=this.getPreviousPath(R,Q,!0)),tt=this.isBoxPlot?[U.move(Fe,Pe)+U.line(Fe+S/2,Pe)+U.line(Fe+S/2,se)+U.line(Fe+S/4,se)+U.line(Fe+S-S/4,se)+U.line(Fe+S/2,se)+U.line(Fe+S/2,Pe)+U.line(Fe+S,Pe)+U.line(Fe+S,ze)+U.line(Fe,ze)+U.line(Fe,Pe+I/2),U.move(Fe,ze)+U.line(Fe+S,ze)+U.line(Fe+S,Le)+U.line(Fe+S/2,Le)+U.line(Fe+S/2,be)+U.line(Fe+S-S/4,be)+U.line(Fe+S/4,be)+U.line(Fe+S/2,be)+U.line(Fe+S/2,Le)+U.line(Fe,Le)+U.line(Fe,ze)+"z"]:[U.move(Fe,Le)+U.line(Fe+S/2,Le)+U.line(Fe+S/2,se)+U.line(Fe+S/2,Le)+U.line(Fe+S,Le)+U.line(Fe+S,Pe)+U.line(Fe+S/2,Pe)+U.line(Fe+S/2,be)+U.line(Fe+S/2,Pe)+U.line(Fe,Pe)+U.line(Fe,Le-I/2)],ft+=U.move(Fe,Pe),z.globals.isXNumeric||(w+=j),{pathTo:tt,pathFrom:ft,x:w,y:Le,barXPosition:Fe,color:this.isBoxPlot?we:te?[ae]:[pe]}}},{key:"drawHorizontalBoxPaths",value:function(m){var v=m.indexes;m.x;var w=m.y,j=m.yDivision,S=m.barHeight,P=m.zeroW,I=m.strokeWidth,z=this.w,U=new F(this.ctx),X=v.i,Q=v.j,te=this.boxOptions.colors.lower;this.isBoxPlot&&(te=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var ae=this.invertedYRatio,pe=v.realIndex,we=this.getOHLCValue(pe,Q),Ce=P,R=P,q=Math.min(we.o,we.c),se=Math.max(we.o,we.c),be=we.m;z.globals.isXNumeric&&(w=(z.globals.seriesX[pe][Q]-z.globals.minX)/this.invertedXRatio-S/2);var Pe=w+S*this.visibleI;this.series[X][Q]===void 0||this.series[X][Q]===null?(q=P,se=P):(q=P+q/ae,se=P+se/ae,Ce=P+we.h/ae,R=P+we.l/ae,be=P+we.m/ae);var Le=U.move(P,Pe),ze=U.move(q,Pe+S/2);return z.globals.previousPaths.length>0&&(ze=this.getPreviousPath(pe,Q,!0)),Le=[U.move(q,Pe)+U.line(q,Pe+S/2)+U.line(Ce,Pe+S/2)+U.line(Ce,Pe+S/2-S/4)+U.line(Ce,Pe+S/2+S/4)+U.line(Ce,Pe+S/2)+U.line(q,Pe+S/2)+U.line(q,Pe+S)+U.line(be,Pe+S)+U.line(be,Pe)+U.line(q+I/2,Pe),U.move(be,Pe)+U.line(be,Pe+S)+U.line(se,Pe+S)+U.line(se,Pe+S/2)+U.line(R,Pe+S/2)+U.line(R,Pe+S-S/4)+U.line(R,Pe+S/4)+U.line(R,Pe+S/2)+U.line(se,Pe+S/2)+U.line(se,Pe)+U.line(be,Pe)+"z"],ze+=U.move(q,Pe),z.globals.isXNumeric||(w+=j),{pathTo:Le,pathFrom:ze,x:se,y:w,barYPosition:Pe,color:te}}},{key:"getOHLCValue",value:function(m,v){var w=this.w;return{o:this.isBoxPlot?w.globals.seriesCandleH[m][v]:w.globals.seriesCandleO[m][v],h:this.isBoxPlot?w.globals.seriesCandleO[m][v]:w.globals.seriesCandleH[m][v],m:w.globals.seriesCandleM[m][v],l:this.isBoxPlot?w.globals.seriesCandleC[m][v]:w.globals.seriesCandleL[m][v],c:this.isBoxPlot?w.globals.seriesCandleL[m][v]:w.globals.seriesCandleC[m][v]}}}]),d}(),xl=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"checkColorRange",value:function(){var c=this.w,d=!1,m=c.config.plotOptions[c.config.chart.type];return m.colorScale.ranges.length>0&&m.colorScale.ranges.map(function(v,w){v.from<=0&&(d=!0)}),d}},{key:"getShadeColor",value:function(c,d,m,v){var w=this.w,j=1,S=w.config.plotOptions[c].shadeIntensity,P=this.determineColor(c,d,m);w.globals.hasNegs||v?j=w.config.plotOptions[c].reverseNegativeShade?P.percent<0?P.percent/100*(1.25*S):(1-P.percent/100)*(1.25*S):P.percent<=0?1-(1+P.percent/100)*S:(1-P.percent/100)*S:(j=1-P.percent/100,c==="treemap"&&(j=(1-P.percent/100)*(1.25*S)));var I=P.color,z=new T;return w.config.plotOptions[c].enableShades&&(I=this.w.config.theme.mode==="dark"?T.hexToRgba(z.shadeColor(-1*j,P.color),w.config.fill.opacity):T.hexToRgba(z.shadeColor(j,P.color),w.config.fill.opacity)),{color:I,colorProps:P}}},{key:"determineColor",value:function(c,d,m){var v=this.w,w=v.globals.series[d][m],j=v.config.plotOptions[c],S=j.colorScale.inverse?m:d;j.distributed&&v.config.chart.type==="treemap"&&(S=m);var P=v.globals.colors[S],I=null,z=Math.min.apply(Math,k(v.globals.series[d])),U=Math.max.apply(Math,k(v.globals.series[d]));j.distributed||c!=="heatmap"||(z=v.globals.minY,U=v.globals.maxY),j.colorScale.min!==void 0&&(z=j.colorScale.min<v.globals.minY?j.colorScale.min:v.globals.minY,U=j.colorScale.max>v.globals.maxY?j.colorScale.max:v.globals.maxY);var X=Math.abs(U)+Math.abs(z),Q=100*w/(X===0?X-1e-6:X);return j.colorScale.ranges.length>0&&j.colorScale.ranges.map(function(te,ae){if(w>=te.from&&w<=te.to){P=te.color,I=te.foreColor?te.foreColor:null,z=te.from,U=te.to;var pe=Math.abs(U)+Math.abs(z);Q=100*w/(pe===0?pe-1e-6:pe)}}),{color:P,foreColor:I,percent:Q}}},{key:"calculateDataLabels",value:function(c){var d=c.text,m=c.x,v=c.y,w=c.i,j=c.j,S=c.colorProps,P=c.fontSize,I=this.w.config.dataLabels,z=new F(this.ctx),U=new $e(this.ctx),X=null;if(I.enabled){X=z.group({class:"apexcharts-data-labels"});var Q=I.offsetX,te=I.offsetY,ae=m+Q,pe=v+parseFloat(I.style.fontSize)/3+te;U.plotDataLabelsText({x:ae,y:pe,text:d,i:w,j,color:S.foreColor,parent:X,fontSize:P,dataLabelsConfig:I})}return X}},{key:"addListeners",value:function(c){var d=new F(this.ctx);c.node.addEventListener("mouseenter",d.pathMouseEnter.bind(this,c)),c.node.addEventListener("mouseleave",d.pathMouseLeave.bind(this,c)),c.node.addEventListener("mousedown",d.pathMouseDown.bind(this,c))}}]),me}(),Mo=function(){function me(c,d){a(this,me),this.ctx=c,this.w=c.w,this.xRatio=d.xRatio,this.yRatio=d.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new xl(c),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return l(me,[{key:"draw",value:function(c){var d=this.w,m=new F(this.ctx),v=m.group({class:"apexcharts-heatmap"});v.attr("clip-path","url(#gridRectMask".concat(d.globals.cuid,")"));var w=d.globals.gridWidth/d.globals.dataPoints,j=d.globals.gridHeight/d.globals.series.length,S=0,P=!1;this.negRange=this.helpers.checkColorRange();var I=c.slice();d.config.yaxis[0].reversed&&(P=!0,I.reverse());for(var z=P?0:I.length-1;P?z<I.length:z>=0;P?z++:z--){var U=m.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:T.escapeString(d.globals.seriesNames[z]),rel:z+1,"data:realIndex":z});if(this.ctx.series.addCollapsedClassToSeries(U,z),d.config.chart.dropShadow.enabled){var X=d.config.chart.dropShadow;new B(this.ctx).dropShadow(U,X,z)}for(var Q=0,te=d.config.plotOptions.heatmap.shadeIntensity,ae=0;ae<I[z].length;ae++){var pe=this.helpers.getShadeColor(d.config.chart.type,z,ae,this.negRange),we=pe.color,Ce=pe.colorProps;d.config.fill.type==="image"&&(we=new Se(this.ctx).fillPath({seriesNumber:z,dataPointIndex:ae,opacity:d.globals.hasNegs?Ce.percent<0?1-(1+Ce.percent/100):te+Ce.percent/100:Ce.percent/100,patternID:T.randomId(),width:d.config.fill.image.width?d.config.fill.image.width:w,height:d.config.fill.image.height?d.config.fill.image.height:j}));var R=this.rectRadius,q=m.drawRect(Q,S,w,j,R);if(q.attr({cx:Q,cy:S}),q.node.classList.add("apexcharts-heatmap-rect"),U.add(q),q.attr({fill:we,i:z,index:z,j:ae,val:I[z][ae],"stroke-width":this.strokeWidth,stroke:d.config.plotOptions.heatmap.useFillColorAsStroke?we:d.globals.stroke.colors[0],color:we}),this.helpers.addListeners(q),d.config.chart.animations.enabled&&!d.globals.dataChanged){var se=1;d.globals.resized||(se=d.config.chart.animations.speed),this.animateHeatMap(q,Q,S,w,j,se)}if(d.globals.dataChanged){var be=1;if(this.dynamicAnim.enabled&&d.globals.shouldAnimate){be=this.dynamicAnim.speed;var Pe=d.globals.previousPaths[z]&&d.globals.previousPaths[z][ae]&&d.globals.previousPaths[z][ae].color;Pe||(Pe="rgba(255, 255, 255, 0)"),this.animateHeatColor(q,T.isColorHex(Pe)?Pe:T.rgb2hex(Pe),T.isColorHex(we)?we:T.rgb2hex(we),be)}}var Le=(0,d.config.dataLabels.formatter)(d.globals.series[z][ae],{value:d.globals.series[z][ae],seriesIndex:z,dataPointIndex:ae,w:d}),ze=this.helpers.calculateDataLabels({text:Le,x:Q+w/2,y:S+j/2,i:z,j:ae,colorProps:Ce,series:I});ze!==null&&U.add(ze),Q+=w}S+=j,v.add(U)}var Fe=d.globals.yAxisScale[0].result.slice();return d.config.yaxis[0].reversed?Fe.unshift(""):Fe.push(""),d.globals.yAxisScale[0].result=Fe,v}},{key:"animateHeatMap",value:function(c,d,m,v,w,j){var S=new M(this.ctx);S.animateRect(c,{x:d+v/2,y:m+w/2,width:0,height:0},{x:d,y:m,width:v,height:w},j,function(){S.animationCompleted(c)})}},{key:"animateHeatColor",value:function(c,d,m,v){c.attr({fill:d}).animate(v).attr({fill:m})}}]),me}(),yl=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"drawYAxisTexts",value:function(c,d,m,v){var w=this.w,j=w.config.yaxis[0],S=w.globals.yLabelFormatters[0];return new F(this.ctx).drawText({x:c+j.labels.offsetX,y:d+j.labels.offsetY,text:S(v,m),textAnchor:"middle",fontSize:j.labels.style.fontSize,fontFamily:j.labels.style.fontFamily,foreColor:Array.isArray(j.labels.style.colors)?j.labels.style.colors[m]:j.labels.style.colors})}}]),me}(),Lo=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w;var d=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=d.globals.stroke.colors!==void 0?d.globals.stroke.colors:d.globals.colors,this.defaultSize=Math.min(d.globals.gridWidth,d.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=d.globals.gridWidth/2,d.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(d.config.plotOptions.pie.endAngle-d.config.plotOptions.pie.startAngle),this.initialAngle=d.config.plotOptions.pie.startAngle%this.fullAngle,d.globals.radialSize=this.defaultSize/2.05-d.config.stroke.width-(d.config.chart.sparkline.enabled?0:d.config.chart.dropShadow.blur),this.donutSize=d.globals.radialSize*parseInt(d.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return l(me,[{key:"draw",value:function(c){var d=this,m=this.w,v=new F(this.ctx);if(this.ret=v.group({class:"apexcharts-pie"}),m.globals.noData)return this.ret;for(var w=0,j=0;j<c.length;j++)w+=T.negToZero(c[j]);var S=[],P=v.group();w===0&&(w=1e-5),c.forEach(function(Pe){d.maxY=Math.max(d.maxY,Pe)}),m.config.yaxis[0].max&&(this.maxY=m.config.yaxis[0].max),m.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var I=0;I<c.length;I++){var z=this.fullAngle*T.negToZero(c[I])/w;S.push(z),this.chartType==="polarArea"?(S[I]=this.fullAngle/c.length,this.sliceSizes.push(m.globals.radialSize*c[I]/this.maxY)):this.sliceSizes.push(m.globals.radialSize)}if(m.globals.dataChanged){for(var U,X=0,Q=0;Q<m.globals.previousPaths.length;Q++)X+=T.negToZero(m.globals.previousPaths[Q]);for(var te=0;te<m.globals.previousPaths.length;te++)U=this.fullAngle*T.negToZero(m.globals.previousPaths[te])/X,this.prevSectorAngleArr.push(U)}this.donutSize<0&&(this.donutSize=0);var ae=m.config.plotOptions.pie.customScale,pe=m.globals.gridWidth/2,we=m.globals.gridHeight/2,Ce=pe-m.globals.gridWidth/2*ae,R=we-m.globals.gridHeight/2*ae;if(this.chartType==="donut"){var q=v.drawCircle(this.donutSize);q.attr({cx:this.centerX,cy:this.centerY,fill:m.config.plotOptions.pie.donut.background?m.config.plotOptions.pie.donut.background:"transparent"}),P.add(q)}var se=this.drawArcs(S,c);if(this.sliceLabels.forEach(function(Pe){se.add(Pe)}),P.attr({transform:"translate(".concat(Ce,", ").concat(R,") scale(").concat(ae,")")}),P.add(se),this.ret.add(P),this.donutDataLabels.show){var be=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Ce,translateY:R});this.ret.add(be)}return m.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(c,d){var m=this.w,v=new B(this.ctx),w=new F(this.ctx),j=new Se(this.ctx),S=w.group({class:"apexcharts-slices"}),P=this.initialAngle,I=this.initialAngle,z=this.initialAngle,U=this.initialAngle;this.strokeWidth=m.config.stroke.show?m.config.stroke.width:0;for(var X=0;X<c.length;X++){var Q=w.group({class:"apexcharts-series apexcharts-pie-series",seriesName:T.escapeString(m.globals.seriesNames[X]),rel:X+1,"data:realIndex":X});S.add(Q),I=U,z=(P=z)+c[X],U=I+this.prevSectorAngleArr[X];var te=z<P?this.fullAngle+z-P:z-P,ae=j.fillPath({seriesNumber:X,size:this.sliceSizes[X],value:d[X]}),pe=this.getChangedPath(I,U),we=w.drawPath({d:pe,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[X]:this.lineColorArr,strokeWidth:0,fill:ae,fillOpacity:m.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(X)});if(we.attr({index:0,j:X}),v.setSelectionFilter(we,0,X),m.config.chart.dropShadow.enabled){var Ce=m.config.chart.dropShadow;v.dropShadow(we,Ce,X)}this.addListeners(we,this.donutDataLabels),F.setAttrs(we.node,{"data:angle":te,"data:startAngle":P,"data:strokeWidth":this.strokeWidth,"data:value":d[X]});var R={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?R=T.polarToCartesian(this.centerX,this.centerY,m.globals.radialSize/1.25+m.config.plotOptions.pie.dataLabels.offset,(P+te/2)%this.fullAngle):this.chartType==="donut"&&(R=T.polarToCartesian(this.centerX,this.centerY,(m.globals.radialSize+this.donutSize)/2+m.config.plotOptions.pie.dataLabels.offset,(P+te/2)%this.fullAngle)),Q.add(we);var q=0;if(!this.initialAnim||m.globals.resized||m.globals.dataChanged?this.animBeginArr.push(0):((q=te/this.fullAngle*m.config.chart.animations.speed)===0&&(q=1),this.animDur=q+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&m.globals.dataChanged?this.animatePaths(we,{size:this.sliceSizes[X],endAngle:z,startAngle:P,prevStartAngle:I,prevEndAngle:U,animateStartingPos:!0,i:X,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:m.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(we,{size:this.sliceSizes[X],endAngle:z,startAngle:P,i:X,totalItems:c.length-1,animBeginArr:this.animBeginArr,dur:q}),m.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&we.click(this.pieClicked.bind(this,X)),m.globals.selectedDataPoints[0]!==void 0&&m.globals.selectedDataPoints[0].indexOf(X)>-1&&this.pieClicked(X),m.config.dataLabels.enabled){var se=R.x,be=R.y,Pe=100*te/this.fullAngle+"%";if(te!==0&&m.config.plotOptions.pie.dataLabels.minAngleToShowLabel<c[X]){var Le=m.config.dataLabels.formatter;Le!==void 0&&(Pe=Le(m.globals.seriesPercent[X][0],{seriesIndex:X,w:m}));var ze=m.globals.dataLabels.style.colors[X],Fe=w.group({class:"apexcharts-datalabels"}),tt=w.drawText({x:se,y:be,text:Pe,textAnchor:"middle",fontSize:m.config.dataLabels.style.fontSize,fontFamily:m.config.dataLabels.style.fontFamily,fontWeight:m.config.dataLabels.style.fontWeight,foreColor:ze});if(Fe.add(tt),m.config.dataLabels.dropShadow.enabled){var ft=m.config.dataLabels.dropShadow;v.dropShadow(tt,ft)}tt.node.classList.add("apexcharts-pie-label"),m.config.chart.animations.animate&&m.globals.resized===!1&&(tt.node.classList.add("apexcharts-pie-label-delay"),tt.node.style.animationDelay=m.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Fe)}}}return S}},{key:"addListeners",value:function(c,d){var m=new F(this.ctx);c.node.addEventListener("mouseenter",m.pathMouseEnter.bind(this,c)),c.node.addEventListener("mouseleave",m.pathMouseLeave.bind(this,c)),c.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,c.node,d)),c.node.addEventListener("mousedown",m.pathMouseDown.bind(this,c)),this.donutDataLabels.total.showAlways||(c.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,c.node,d)),c.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,c.node,d)))}},{key:"animatePaths",value:function(c,d){var m=this.w,v=d.endAngle<d.startAngle?this.fullAngle+d.endAngle-d.startAngle:d.endAngle-d.startAngle,w=v,j=d.startAngle,S=d.startAngle;d.prevStartAngle!==void 0&&d.prevEndAngle!==void 0&&(j=d.prevEndAngle,w=d.prevEndAngle<d.prevStartAngle?this.fullAngle+d.prevEndAngle-d.prevStartAngle:d.prevEndAngle-d.prevStartAngle),d.i===m.config.series.length-1&&(v+S>this.fullAngle?d.endAngle=d.endAngle-(v+S):v+S<this.fullAngle&&(d.endAngle=d.endAngle+(this.fullAngle-(v+S)))),v===this.fullAngle&&(v=this.fullAngle-.01),this.animateArc(c,j,S,v,w,d)}},{key:"animateArc",value:function(c,d,m,v,w,j){var S,P=this,I=this.w,z=new M(this.ctx),U=j.size;(isNaN(d)||isNaN(w))&&(d=m,w=v,j.dur=0);var X=v,Q=m,te=d<m?this.fullAngle+d-m:d-m;I.globals.dataChanged&&j.shouldSetPrevPaths&&j.prevEndAngle&&(S=P.getPiePath({me:P,startAngle:j.prevStartAngle,angle:j.prevEndAngle<j.prevStartAngle?this.fullAngle+j.prevEndAngle-j.prevStartAngle:j.prevEndAngle-j.prevStartAngle,size:U}),c.attr({d:S})),j.dur!==0?c.animate(j.dur,I.globals.easing,j.animBeginArr[j.i]).afterAll(function(){P.chartType!=="pie"&&P.chartType!=="donut"&&P.chartType!=="polarArea"||this.animate(I.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":P.strokeWidth}),j.i===I.config.series.length-1&&z.animationCompleted(c)}).during(function(ae){X=te+(v-te)*ae,j.animateStartingPos&&(X=w+(v-w)*ae,Q=d-w+(m-(d-w))*ae),S=P.getPiePath({me:P,startAngle:Q,angle:X,size:U}),c.node.setAttribute("data:pathOrig",S),c.attr({d:S})}):(S=P.getPiePath({me:P,startAngle:Q,angle:v,size:U}),j.isTrack||(I.globals.animationEnded=!0),c.node.setAttribute("data:pathOrig",S),c.attr({d:S,"stroke-width":P.strokeWidth}))}},{key:"pieClicked",value:function(c){var d,m=this.w,v=this,w=v.sliceSizes[c]+(m.config.plotOptions.pie.expandOnClick?4:0),j=m.globals.dom.Paper.select(".apexcharts-".concat(v.chartType.toLowerCase(),"-slice-").concat(c)).members[0];if(j.attr("data:pieClicked")!=="true"){var S=m.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(S,function(U){U.setAttribute("data:pieClicked","false");var X=U.getAttribute("data:pathOrig");X&&U.setAttribute("d",X)}),j.attr("data:pieClicked","true");var P=parseInt(j.attr("data:startAngle"),10),I=parseInt(j.attr("data:angle"),10);d=v.getPiePath({me:v,startAngle:P,angle:I,size:w}),I!==360&&j.plot(d)}else{j.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(j.node,this.donutDataLabels);var z=j.attr("data:pathOrig");j.attr({d:z})}}},{key:"getChangedPath",value:function(c,d){var m="";return this.dynamicAnim&&this.w.globals.dataChanged&&(m=this.getPiePath({me:this,startAngle:c,angle:d-c,size:this.size})),m}},{key:"getPiePath",value:function(c){var d=c.me,m=c.startAngle,v=c.angle,w=c.size,j=m,S=Math.PI*(j-90)/180,P=v+m;Math.ceil(P)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(P=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(P)>this.fullAngle&&(P-=this.fullAngle);var I=Math.PI*(P-90)/180,z=d.centerX+w*Math.cos(S),U=d.centerY+w*Math.sin(S),X=d.centerX+w*Math.cos(I),Q=d.centerY+w*Math.sin(I),te=T.polarToCartesian(d.centerX,d.centerY,d.donutSize,P),ae=T.polarToCartesian(d.centerX,d.centerY,d.donutSize,j),pe=v>180?1:0,we=["M",z,U,"A",w,w,0,pe,1,X,Q];return d.chartType==="donut"?[].concat(we,["L",te.x,te.y,"A",d.donutSize,d.donutSize,0,pe,0,ae.x,ae.y,"L",z,U,"z"]).join(" "):d.chartType==="pie"||d.chartType==="polarArea"?[].concat(we,["L",d.centerX,d.centerY,"L",z,U]).join(" "):[].concat(we).join(" ")}},{key:"drawPolarElements",value:function(c){var d=this.w,m=new ye(this.ctx),v=new F(this.ctx),w=new yl(this.ctx),j=v.group(),S=v.group(),P=m.niceScale(0,Math.ceil(this.maxY),d.config.yaxis[0].tickAmount,0,!0),I=P.result.reverse(),z=P.result.length;this.maxY=P.niceMax;for(var U=d.globals.radialSize,X=U/(z-1),Q=0;Q<z-1;Q++){var te=v.drawCircle(U);if(te.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":d.config.plotOptions.polarArea.rings.strokeWidth,stroke:d.config.plotOptions.polarArea.rings.strokeColor}),d.config.yaxis[0].show){var ae=w.drawYAxisTexts(this.centerX,this.centerY-U+parseInt(d.config.yaxis[0].labels.style.fontSize,10)/2,Q,I[Q]);S.add(ae)}j.add(te),U-=X}this.drawSpokes(c),c.add(j),c.add(S)}},{key:"renderInnerDataLabels",value:function(c,d){var m=this.w,v=new F(this.ctx),w=v.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(d.translateX?d.translateX:0,", ").concat(d.translateY?d.translateY:0,") scale(").concat(m.config.plotOptions.pie.customScale,")")}),j=c.total.show;w.node.style.opacity=d.opacity;var S,P,I=d.centerX,z=d.centerY;S=c.name.color===void 0?m.globals.colors[0]:c.name.color;var U=c.name.fontSize,X=c.name.fontFamily,Q=c.name.fontWeight;P=c.value.color===void 0?m.config.chart.foreColor:c.value.color;var te=c.value.formatter,ae="",pe="";if(j?(S=c.total.color,U=c.total.fontSize,X=c.total.fontFamily,Q=c.total.fontWeight,pe=c.total.label,ae=c.total.formatter(m)):m.globals.series.length===1&&(ae=te(m.globals.series[0],m),pe=m.globals.seriesNames[0]),pe&&(pe=c.name.formatter(pe,c.total.show,m)),c.name.show){var we=v.drawText({x:I,y:z+parseFloat(c.name.offsetY),text:pe,textAnchor:"middle",foreColor:S,fontSize:U,fontWeight:Q,fontFamily:X});we.node.classList.add("apexcharts-datalabel-label"),w.add(we)}if(c.value.show){var Ce=c.name.show?parseFloat(c.value.offsetY)+16:c.value.offsetY,R=v.drawText({x:I,y:z+Ce,text:ae,textAnchor:"middle",foreColor:P,fontWeight:c.value.fontWeight,fontSize:c.value.fontSize,fontFamily:c.value.fontFamily});R.node.classList.add("apexcharts-datalabel-value"),w.add(R)}return w}},{key:"printInnerLabels",value:function(c,d,m,v){var w,j=this.w;v?w=c.name.color===void 0?j.globals.colors[parseInt(v.parentNode.getAttribute("rel"),10)-1]:c.name.color:j.globals.series.length>1&&c.total.show&&(w=c.total.color);var S=j.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),P=j.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");m=(0,c.value.formatter)(m,j),v||typeof c.total.formatter!="function"||(m=c.total.formatter(j));var I=d===c.total.label;d=c.name.formatter(d,I,j),S!==null&&(S.textContent=d),P!==null&&(P.textContent=m),S!==null&&(S.style.fill=w)}},{key:"printDataLabelsInner",value:function(c,d){var m=this.w,v=c.getAttribute("data:value"),w=m.globals.seriesNames[parseInt(c.parentNode.getAttribute("rel"),10)-1];m.globals.series.length>1&&this.printInnerLabels(d,w,v,c);var j=m.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");j!==null&&(j.style.opacity=1)}},{key:"drawSpokes",value:function(c){var d=this,m=this.w,v=new F(this.ctx),w=m.config.plotOptions.polarArea.spokes;if(w.strokeWidth!==0){for(var j=[],S=360/m.globals.series.length,P=0;P<m.globals.series.length;P++)j.push(T.polarToCartesian(this.centerX,this.centerY,m.globals.radialSize,m.config.plotOptions.pie.startAngle+S*P));j.forEach(function(I,z){var U=v.drawLine(I.x,I.y,d.centerX,d.centerY,Array.isArray(w.connectorColors)?w.connectorColors[z]:w.connectorColors);c.add(U)})}}},{key:"revertDataLabelsInner",value:function(c,d,m){var v=this,w=this.w,j=w.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),S=!1,P=w.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),I=function(X){var Q=X.makeSliceOut,te=X.printLabel;Array.prototype.forEach.call(P,function(ae){ae.getAttribute("data:pieClicked")==="true"&&(Q&&(S=!0),te&&v.printDataLabelsInner(ae,d))})};if(I({makeSliceOut:!0,printLabel:!1}),d.total.show&&w.globals.series.length>1)S&&!d.total.showAlways?I({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(d,d.total.label,d.total.formatter(w));else if(I({makeSliceOut:!1,printLabel:!0}),!S)if(w.globals.selectedDataPoints.length&&w.globals.series.length>1)if(w.globals.selectedDataPoints[0].length>0){var z=w.globals.selectedDataPoints[0],U=w.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(z));this.printDataLabelsInner(U,d)}else j&&w.globals.selectedDataPoints.length&&w.globals.selectedDataPoints[0].length===0&&(j.style.opacity=0);else j&&w.globals.series.length>1&&(j.style.opacity=0)}}]),me}(),Ga=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var d=this.w;this.graphics=new F(this.ctx),this.lineColorArr=d.globals.stroke.colors!==void 0?d.globals.stroke.colors:d.globals.colors,this.defaultSize=d.globals.svgHeight<d.globals.svgWidth?d.globals.gridHeight+1.5*d.globals.goldenPadding:d.globals.gridWidth,this.isLog=d.config.yaxis[0].logarithmic,this.coreUtils=new V(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(d.globals.maxY,0):d.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):d.globals.minY,this.polygons=d.config.plotOptions.radar.polygons,this.strokeWidth=d.config.stroke.show?d.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-d.config.chart.dropShadow.blur,d.config.xaxis.labels.show&&(this.size=this.size-d.globals.xAxisLabelsWidth/1.75),d.config.plotOptions.radar.size!==void 0&&(this.size=d.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return l(me,[{key:"draw",value:function(c){var d=this,m=this.w,v=new Se(this.ctx),w=[],j=new $e(this.ctx);c.length&&(this.dataPointsLen=c[m.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var S=m.globals.gridWidth/2,P=m.globals.gridHeight/2,I=S+m.config.plotOptions.radar.offsetX,z=P+m.config.plotOptions.radar.offsetY,U=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(I||0,", ").concat(z||0,")")}),X=[],Q=null,te=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),c.forEach(function(pe,we){var Ce=pe.length===m.globals.dataPoints,R=d.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Ce,seriesName:T.escapeString(m.globals.seriesNames[we]),rel:we+1,"data:realIndex":we});d.dataRadiusOfPercent[we]=[],d.dataRadius[we]=[],d.angleArr[we]=[],pe.forEach(function(mt,vt){var Dt=Math.abs(d.maxValue-d.minValue);mt+=Math.abs(d.minValue),d.isLog&&(mt=d.coreUtils.getLogVal(mt,0)),d.dataRadiusOfPercent[we][vt]=mt/Dt,d.dataRadius[we][vt]=d.dataRadiusOfPercent[we][vt]*d.size,d.angleArr[we][vt]=vt*d.disAngle}),X=d.getDataPointsPos(d.dataRadius[we],d.angleArr[we]);var q=d.createPaths(X,{x:0,y:0});Q=d.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),te=d.graphics.group({class:"apexcharts-datalabels","data:realIndex":we}),m.globals.delayedElements.push({el:Q.node,index:we});var se={i:we,realIndex:we,animationDelay:we,initialSpeed:m.config.chart.animations.speed,dataChangeSpeed:m.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:m.globals.stroke.colors[we],strokeLineCap:m.config.stroke.lineCap},be=null;m.globals.previousPaths.length>0&&(be=d.getPreviousPath(we));for(var Pe=0;Pe<q.linePathsTo.length;Pe++){var Le=d.graphics.renderPaths(n(n({},se),{},{pathFrom:be===null?q.linePathsFrom[Pe]:be,pathTo:q.linePathsTo[Pe],strokeWidth:Array.isArray(d.strokeWidth)?d.strokeWidth[we]:d.strokeWidth,fill:"none",drawShadow:!1}));R.add(Le);var ze=v.fillPath({seriesNumber:we}),Fe=d.graphics.renderPaths(n(n({},se),{},{pathFrom:be===null?q.areaPathsFrom[Pe]:be,pathTo:q.areaPathsTo[Pe],strokeWidth:0,fill:ze,drawShadow:!1}));if(m.config.chart.dropShadow.enabled){var tt=new B(d.ctx),ft=m.config.chart.dropShadow;tt.dropShadow(Fe,Object.assign({},ft,{noUserSpaceOnUse:!0}),we)}R.add(Fe)}pe.forEach(function(mt,vt){var Dt=new He(d.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:we,dataPointIndex:vt}),ur=d.graphics.drawMarker(X[vt].x,X[vt].y,Dt);ur.attr("rel",vt),ur.attr("j",vt),ur.attr("index",we),ur.node.setAttribute("default-marker-size",Dt.pSize);var wr=d.graphics.group({class:"apexcharts-series-markers"});wr&&wr.add(ur),Q.add(wr),R.add(Q);var zr=m.config.dataLabels;if(zr.enabled){var ds=zr.formatter(m.globals.series[we][vt],{seriesIndex:we,dataPointIndex:vt,w:m});j.plotDataLabelsText({x:X[vt].x,y:X[vt].y,text:ds,textAnchor:"middle",i:we,j:we,parent:te,offsetCorrection:!1,dataLabelsConfig:n({},zr)})}R.add(te)}),w.push(R)}),this.drawPolygons({parent:U}),m.config.xaxis.labels.show){var ae=this.drawXAxisTexts();U.add(ae)}return w.forEach(function(pe){U.add(pe)}),U.add(this.yaxisLabels),U}},{key:"drawPolygons",value:function(c){for(var d=this,m=this.w,v=c.parent,w=new yl(this.ctx),j=m.globals.yAxisScale[0].result.reverse(),S=j.length,P=[],I=this.size/(S-1),z=0;z<S;z++)P[z]=I*z;P.reverse();var U=[],X=[];P.forEach(function(Q,te){var ae=T.getPolygonPos(Q,d.dataPointsLen),pe="";ae.forEach(function(we,Ce){if(te===0){var R=d.graphics.drawLine(we.x,we.y,0,0,Array.isArray(d.polygons.connectorColors)?d.polygons.connectorColors[Ce]:d.polygons.connectorColors);X.push(R)}Ce===0&&d.yaxisLabelsTextsPos.push({x:we.x,y:we.y}),pe+=we.x+","+we.y+" "}),U.push(pe)}),U.forEach(function(Q,te){var ae=d.polygons.strokeColors,pe=d.polygons.strokeWidth,we=d.graphics.drawPolygon(Q,Array.isArray(ae)?ae[te]:ae,Array.isArray(pe)?pe[te]:pe,m.globals.radarPolygons.fill.colors[te]);v.add(we)}),X.forEach(function(Q){v.add(Q)}),m.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(Q,te){var ae=w.drawYAxisTexts(Q.x,Q.y,te,j[te]);d.yaxisLabels.add(ae)})}},{key:"drawXAxisTexts",value:function(){var c=this,d=this.w,m=d.config.xaxis.labels,v=this.graphics.group({class:"apexcharts-xaxis"}),w=T.getPolygonPos(this.size,this.dataPointsLen);return d.globals.labels.forEach(function(j,S){var P=d.config.xaxis.labels.formatter,I=new $e(c.ctx);if(w[S]){var z=c.getTextPos(w[S],c.size),U=P(j,{seriesIndex:-1,dataPointIndex:S,w:d});I.plotDataLabelsText({x:z.newX,y:z.newY,text:U,textAnchor:z.textAnchor,i:S,j:S,parent:v,color:Array.isArray(m.style.colors)&&m.style.colors[S]?m.style.colors[S]:"#a8a8a8",dataLabelsConfig:n({textAnchor:z.textAnchor,dropShadow:{enabled:!1}},m),offsetCorrection:!1})}}),v}},{key:"createPaths",value:function(c,d){var m=this,v=[],w=[],j=[],S=[];if(c.length){w=[this.graphics.move(d.x,d.y)],S=[this.graphics.move(d.x,d.y)];var P=this.graphics.move(c[0].x,c[0].y),I=this.graphics.move(c[0].x,c[0].y);c.forEach(function(z,U){P+=m.graphics.line(z.x,z.y),I+=m.graphics.line(z.x,z.y),U===c.length-1&&(P+="Z",I+="Z")}),v.push(P),j.push(I)}return{linePathsFrom:w,linePathsTo:v,areaPathsFrom:S,areaPathsTo:j}}},{key:"getTextPos",value:function(c,d){var m="middle",v=c.x,w=c.y;return Math.abs(c.x)>=10?c.x>0?(m="start",v+=10):c.x<0&&(m="end",v-=10):m="middle",Math.abs(c.y)>=d-10&&(c.y<0?w-=10:c.y>0&&(w+=10)),{textAnchor:m,newX:v,newY:w}}},{key:"getPreviousPath",value:function(c){for(var d=this.w,m=null,v=0;v<d.globals.previousPaths.length;v++){var w=d.globals.previousPaths[v];w.paths.length>0&&parseInt(w.realIndex,10)===parseInt(c,10)&&d.globals.previousPaths[v].paths[0]!==void 0&&(m=d.globals.previousPaths[v].paths[0].d)}return m}},{key:"getDataPointsPos",value:function(c,d){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;c=c||[],d=d||[];for(var v=[],w=0;w<m;w++){var j={};j.x=c[w]*Math.sin(d[w]),j.y=-c[w]*Math.cos(d[w]),v.push(j)}return v}}]),me}(),ya=function(me){h(d,Lo);var c=N(d);function d(m){var v;a(this,d),(v=c.call(this,m)).ctx=m,v.w=m.w,v.animBeginArr=[0],v.animDur=0;var w=v.w;return v.startAngle=w.config.plotOptions.radialBar.startAngle,v.endAngle=w.config.plotOptions.radialBar.endAngle,v.totalAngle=Math.abs(w.config.plotOptions.radialBar.endAngle-w.config.plotOptions.radialBar.startAngle),v.trackStartAngle=w.config.plotOptions.radialBar.track.startAngle,v.trackEndAngle=w.config.plotOptions.radialBar.track.endAngle,v.donutDataLabels=v.w.config.plotOptions.radialBar.dataLabels,v.radialDataLabels=v.donutDataLabels,v.trackStartAngle||(v.trackStartAngle=v.startAngle),v.trackEndAngle||(v.trackEndAngle=v.endAngle),v.endAngle===360&&(v.endAngle=359.99),v.margin=parseInt(w.config.plotOptions.radialBar.track.margin,10),v}return l(d,[{key:"draw",value:function(m){var v=this.w,w=new F(this.ctx),j=w.group({class:"apexcharts-radialbar"});if(v.globals.noData)return j;var S=w.group(),P=this.defaultSize/2,I=v.globals.gridWidth/2,z=this.defaultSize/2.05;v.config.chart.sparkline.enabled||(z=z-v.config.stroke.width-v.config.chart.dropShadow.blur);var U=v.globals.fill.colors;if(v.config.plotOptions.radialBar.track.show){var X=this.drawTracks({size:z,centerX:I,centerY:P,colorArr:U,series:m});S.add(X)}var Q=this.drawArcs({size:z,centerX:I,centerY:P,colorArr:U,series:m}),te=360;v.config.plotOptions.radialBar.startAngle<0&&(te=this.totalAngle);var ae=(360-te)/360;if(v.globals.radialSize=z-z*ae,this.radialDataLabels.value.show){var pe=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);v.globals.radialSize+=pe*ae}return S.add(Q.g),v.config.plotOptions.radialBar.hollow.position==="front"&&(Q.g.add(Q.elHollow),Q.dataLabels&&Q.g.add(Q.dataLabels)),j.add(S),j}},{key:"drawTracks",value:function(m){var v=this.w,w=new F(this.ctx),j=w.group({class:"apexcharts-tracks"}),S=new B(this.ctx),P=new Se(this.ctx),I=this.getStrokeWidth(m);m.size=m.size-I/2;for(var z=0;z<m.series.length;z++){var U=w.group({class:"apexcharts-radialbar-track apexcharts-track"});j.add(U),U.attr({rel:z+1}),m.size=m.size-I-this.margin;var X=v.config.plotOptions.radialBar.track,Q=P.fillPath({seriesNumber:0,size:m.size,fillColors:Array.isArray(X.background)?X.background[z]:X.background,solid:!0}),te=this.trackStartAngle,ae=this.trackEndAngle;Math.abs(ae)+Math.abs(te)>=360&&(ae=360-Math.abs(this.startAngle)-.1);var pe=w.drawPath({d:"",stroke:Q,strokeWidth:I*parseInt(X.strokeWidth,10)/100,fill:"none",strokeOpacity:X.opacity,classes:"apexcharts-radialbar-area"});if(X.dropShadow.enabled){var we=X.dropShadow;S.dropShadow(pe,we)}U.add(pe),pe.attr("id","apexcharts-radialbarTrack-"+z),this.animatePaths(pe,{centerX:m.centerX,centerY:m.centerY,endAngle:ae,startAngle:te,size:m.size,i:z,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:v.globals.easing})}return j}},{key:"drawArcs",value:function(m){var v=this.w,w=new F(this.ctx),j=new Se(this.ctx),S=new B(this.ctx),P=w.group(),I=this.getStrokeWidth(m);m.size=m.size-I/2;var z=v.config.plotOptions.radialBar.hollow.background,U=m.size-I*m.series.length-this.margin*m.series.length-I*parseInt(v.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,X=U-v.config.plotOptions.radialBar.hollow.margin;v.config.plotOptions.radialBar.hollow.image!==void 0&&(z=this.drawHollowImage(m,P,U,z));var Q=this.drawHollow({size:X,centerX:m.centerX,centerY:m.centerY,fill:z||"transparent"});if(v.config.plotOptions.radialBar.hollow.dropShadow.enabled){var te=v.config.plotOptions.radialBar.hollow.dropShadow;S.dropShadow(Q,te)}var ae=1;!this.radialDataLabels.total.show&&v.globals.series.length>1&&(ae=0);var pe=null;this.radialDataLabels.show&&(pe=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:U,centerX:m.centerX,centerY:m.centerY,opacity:ae})),v.config.plotOptions.radialBar.hollow.position==="back"&&(P.add(Q),pe&&P.add(pe));var we=!1;v.config.plotOptions.radialBar.inverseOrder&&(we=!0);for(var Ce=we?m.series.length-1:0;we?Ce>=0:Ce<m.series.length;we?Ce--:Ce++){var R=w.group({class:"apexcharts-series apexcharts-radial-series",seriesName:T.escapeString(v.globals.seriesNames[Ce])});P.add(R),R.attr({rel:Ce+1,"data:realIndex":Ce}),this.ctx.series.addCollapsedClassToSeries(R,Ce),m.size=m.size-I-this.margin;var q=j.fillPath({seriesNumber:Ce,size:m.size,value:m.series[Ce]}),se=this.startAngle,be=void 0,Pe=T.negToZero(m.series[Ce]>100?100:m.series[Ce])/100,Le=Math.round(this.totalAngle*Pe)+this.startAngle,ze=void 0;v.globals.dataChanged&&(be=this.startAngle,ze=Math.round(this.totalAngle*T.negToZero(v.globals.previousPaths[Ce])/100)+be),Math.abs(Le)+Math.abs(se)>=360&&(Le-=.01),Math.abs(ze)+Math.abs(be)>=360&&(ze-=.01);var Fe=Le-se,tt=Array.isArray(v.config.stroke.dashArray)?v.config.stroke.dashArray[Ce]:v.config.stroke.dashArray,ft=w.drawPath({d:"",stroke:q,strokeWidth:I,fill:"none",fillOpacity:v.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Ce,strokeDashArray:tt});if(F.setAttrs(ft.node,{"data:angle":Fe,"data:value":m.series[Ce]}),v.config.chart.dropShadow.enabled){var mt=v.config.chart.dropShadow;S.dropShadow(ft,mt,Ce)}S.setSelectionFilter(ft,0,Ce),this.addListeners(ft,this.radialDataLabels),R.add(ft),ft.attr({index:0,j:Ce});var vt=0;!this.initialAnim||v.globals.resized||v.globals.dataChanged||(vt=v.config.chart.animations.speed),v.globals.dataChanged&&(vt=v.config.chart.animations.dynamicAnimation.speed),this.animDur=vt/(1.2*m.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(ft,{centerX:m.centerX,centerY:m.centerY,endAngle:Le,startAngle:se,prevEndAngle:ze,prevStartAngle:be,size:m.size,i:Ce,totalItems:2,animBeginArr:this.animBeginArr,dur:vt,shouldSetPrevPaths:!0,easing:v.globals.easing})}return{g:P,elHollow:Q,dataLabels:pe}}},{key:"drawHollow",value:function(m){var v=new F(this.ctx).drawCircle(2*m.size);return v.attr({class:"apexcharts-radialbar-hollow",cx:m.centerX,cy:m.centerY,r:m.size,fill:m.fill}),v}},{key:"drawHollowImage",value:function(m,v,w,j){var S=this.w,P=new Se(this.ctx),I=T.randomId(),z=S.config.plotOptions.radialBar.hollow.image;if(S.config.plotOptions.radialBar.hollow.imageClipped)P.clippedImgArea({width:w,height:w,image:z,patternID:"pattern".concat(S.globals.cuid).concat(I)}),j="url(#pattern".concat(S.globals.cuid).concat(I,")");else{var U=S.config.plotOptions.radialBar.hollow.imageWidth,X=S.config.plotOptions.radialBar.hollow.imageHeight;if(U===void 0&&X===void 0){var Q=S.globals.dom.Paper.image(z).loaded(function(ae){this.move(m.centerX-ae.width/2+S.config.plotOptions.radialBar.hollow.imageOffsetX,m.centerY-ae.height/2+S.config.plotOptions.radialBar.hollow.imageOffsetY)});v.add(Q)}else{var te=S.globals.dom.Paper.image(z).loaded(function(ae){this.move(m.centerX-U/2+S.config.plotOptions.radialBar.hollow.imageOffsetX,m.centerY-X/2+S.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(U,X)});v.add(te)}}return j}},{key:"getStrokeWidth",value:function(m){var v=this.w;return m.size*(100-parseInt(v.config.plotOptions.radialBar.hollow.size,10))/100/(m.series.length+1)-this.margin}}]),d}(),Oo=function(me){h(d,ei);var c=N(d);function d(){return a(this,d),c.apply(this,arguments)}return l(d,[{key:"draw",value:function(m,v){var w=this.w,j=new F(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=m,this.seriesRangeStart=w.globals.seriesRangeStart,this.seriesRangeEnd=w.globals.seriesRangeEnd,this.barHelpers.initVariables(m);for(var S=j.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),P=0;P<m.length;P++){var I,z,U,X,Q=void 0,te=void 0,ae=w.globals.comboCharts?v[P]:P,pe=j.group({class:"apexcharts-series",seriesName:T.escapeString(w.globals.seriesNames[ae]),rel:P+1,"data:realIndex":ae});this.ctx.series.addCollapsedClassToSeries(pe,ae),m[P].length>0&&(this.visibleI=this.visibleI+1);var we=0,Ce=0;this.yRatio.length>1&&(this.yaxisIndex=ae);var R=this.barHelpers.initialPositions();te=R.y,X=R.zeroW,Q=R.x,Ce=R.barWidth,we=R.barHeight,I=R.xDivision,z=R.yDivision,U=R.zeroH;for(var q=j.group({class:"apexcharts-datalabels","data:realIndex":ae}),se=j.group({class:"apexcharts-rangebar-goals-markers"}),be=0;be<w.globals.dataPoints;be++){var Pe,Le=this.barHelpers.getStrokeWidth(P,be,ae),ze=this.seriesRangeStart[P][be],Fe=this.seriesRangeEnd[P][be],tt=null,ft=null,mt=null,vt={x:Q,y:te,strokeWidth:Le,elSeries:pe},Dt=this.seriesLen;if(w.config.plotOptions.bar.rangeBarGroupRows&&(Dt=1),w.config.series[P].data[be]===void 0)break;if(this.isHorizontal){mt=te+we*this.visibleI;var ur=(z-we*Dt)/2;if(w.config.series[P].data[be].x){var wr=this.detectOverlappingBars({i:P,j:be,barYPosition:mt,srty:ur,barHeight:we,yDivision:z,initPositions:R});we=wr.barHeight,mt=wr.barYPosition}Ce=(tt=this.drawRangeBarPaths(n({indexes:{i:P,j:be,realIndex:ae},barHeight:we,barYPosition:mt,zeroW:X,yDivision:z,y1:ze,y2:Fe},vt))).barWidth}else{w.globals.isXNumeric&&(Q=(w.globals.seriesX[P][be]-w.globals.minX)/this.xRatio-Ce/2),ft=Q+Ce*this.visibleI;var zr=(I-Ce*Dt)/2;if(w.config.series[P].data[be].x){var ds=this.detectOverlappingBars({i:P,j:be,barXPosition:ft,srtx:zr,barWidth:Ce,xDivision:I,initPositions:R});Ce=ds.barWidth,ft=ds.barXPosition}we=(tt=this.drawRangeColumnPaths(n({indexes:{i:P,j:be,realIndex:ae},barWidth:Ce,barXPosition:ft,zeroH:U,xDivision:I},vt))).barHeight}var Jr=this.barHelpers.drawGoalLine({barXPosition:tt.barXPosition,barYPosition:mt,goalX:tt.goalX,goalY:tt.goalY,barHeight:we,barWidth:Ce});Jr&&se.add(Jr),te=tt.y,Q=tt.x;var us=this.barHelpers.getPathFillColor(m,P,be,ae),Cn=w.globals.stroke.colors[ae];this.renderSeries((u(Pe={realIndex:ae,pathFill:us,lineFill:Cn,j:be,i:P,x:Q,y:te,y1:ze,y2:Fe,pathFrom:tt.pathFrom,pathTo:tt.pathTo,strokeWidth:Le,elSeries:pe,series:m,barHeight:we,barWidth:Ce,barXPosition:ft,barYPosition:mt},"barWidth",Ce),u(Pe,"elDataLabelsWrap",q),u(Pe,"elGoalsMarkers",se),u(Pe,"visibleSeries",this.visibleI),u(Pe,"type","rangebar"),Pe))}S.add(pe)}return S}},{key:"detectOverlappingBars",value:function(m){var v=m.i,w=m.j,j=m.barYPosition,S=m.barXPosition,P=m.srty,I=m.srtx,z=m.barHeight,U=m.barWidth,X=m.yDivision,Q=m.xDivision,te=m.initPositions,ae=this.w,pe=[],we=ae.config.series[v].data[w].rangeName,Ce=ae.config.series[v].data[w].x,R=Array.isArray(Ce)?Ce.join(" "):Ce,q=ae.globals.labels.map(function(be){return Array.isArray(be)?be.join(" "):be}).indexOf(R),se=ae.globals.seriesRange[v].findIndex(function(be){return be.x===R&&be.overlaps.length>0});return this.isHorizontal?(j=ae.config.plotOptions.bar.rangeBarGroupRows?P+X*q:P+z*this.visibleI+X*q,se>-1&&!ae.config.plotOptions.bar.rangeBarOverlap&&(pe=ae.globals.seriesRange[v][se].overlaps).indexOf(we)>-1&&(j=(z=te.barHeight/pe.length)*this.visibleI+X*(100-parseInt(this.barOptions.barHeight,10))/100/2+z*(this.visibleI+pe.indexOf(we))+X*q)):(q>-1&&(S=ae.config.plotOptions.bar.rangeBarGroupRows?I+Q*q:I+U*this.visibleI+Q*q),se>-1&&!ae.config.plotOptions.bar.rangeBarOverlap&&(pe=ae.globals.seriesRange[v][se].overlaps).indexOf(we)>-1&&(S=(U=te.barWidth/pe.length)*this.visibleI+Q*(100-parseInt(this.barOptions.barWidth,10))/100/2+U*(this.visibleI+pe.indexOf(we))+Q*q)),{barYPosition:j,barXPosition:S,barHeight:z,barWidth:U}}},{key:"drawRangeColumnPaths",value:function(m){var v=m.indexes,w=m.x,j=m.xDivision,S=m.barWidth,P=m.barXPosition,I=m.zeroH,z=this.w,U=v.i,X=v.j,Q=this.yRatio[this.yaxisIndex],te=v.realIndex,ae=this.getRangeValue(te,X),pe=Math.min(ae.start,ae.end),we=Math.max(ae.start,ae.end);this.series[U][X]===void 0||this.series[U][X]===null?pe=I:(pe=I-pe/Q,we=I-we/Q);var Ce=Math.abs(we-pe),R=this.barHelpers.getColumnPaths({barXPosition:P,barWidth:S,y1:pe,y2:we,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:v.realIndex,i:te,j:X,w:z});if(z.globals.isXNumeric){var q=this.getBarXForNumericXAxis({x:w,j:X,realIndex:te,barWidth:S});w=q.x,P=q.barXPosition}else w+=j;return{pathTo:R.pathTo,pathFrom:R.pathFrom,barHeight:Ce,x:w,y:we,goalY:this.barHelpers.getGoalValues("y",null,I,U,X),barXPosition:P}}},{key:"drawRangeBarPaths",value:function(m){var v=m.indexes,w=m.y,j=m.y1,S=m.y2,P=m.yDivision,I=m.barHeight,z=m.barYPosition,U=m.zeroW,X=this.w,Q=U+j/this.invertedYRatio,te=U+S/this.invertedYRatio,ae=Math.abs(te-Q),pe=this.barHelpers.getBarpaths({barYPosition:z,barHeight:I,x1:Q,x2:te,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:v.realIndex,realIndex:v.realIndex,j:v.j,w:X});return X.globals.isXNumeric||(w+=P),{pathTo:pe.pathTo,pathFrom:pe.pathFrom,barWidth:ae,x:te,goalX:this.barHelpers.getGoalValues("x",U,null,v.realIndex,v.j),y:w}}},{key:"getRangeValue",value:function(m,v){var w=this.w;return{start:w.globals.seriesRangeStart[m][v],end:w.globals.seriesRangeEnd[m][v]}}}]),d}(),Za=function(){function me(c){a(this,me),this.w=c.w,this.lineCtx=c}return l(me,[{key:"sameValueSeriesFix",value:function(c,d){var m=this.w;if((m.config.fill.type==="gradient"||m.config.fill.type[c]==="gradient")&&new V(this.lineCtx.ctx,m).seriesHaveSameValues(c)){var v=d[c].slice();v[v.length-1]=v[v.length-1]+1e-6,d[c]=v}return d}},{key:"calculatePoints",value:function(c){var d=c.series,m=c.realIndex,v=c.x,w=c.y,j=c.i,S=c.j,P=c.prevY,I=this.w,z=[],U=[];if(S===0){var X=this.lineCtx.categoryAxisCorrection+I.config.markers.offsetX;I.globals.isXNumeric&&(X=(I.globals.seriesX[m][0]-I.globals.minX)/this.lineCtx.xRatio+I.config.markers.offsetX),z.push(X),U.push(T.isNumber(d[j][0])?P+I.config.markers.offsetY:null),z.push(v+I.config.markers.offsetX),U.push(T.isNumber(d[j][S+1])?w+I.config.markers.offsetY:null)}else z.push(v+I.config.markers.offsetX),U.push(T.isNumber(d[j][S+1])?w+I.config.markers.offsetY:null);return{x:z,y:U}}},{key:"checkPreviousPaths",value:function(c){for(var d=c.pathFromLine,m=c.pathFromArea,v=c.realIndex,w=this.w,j=0;j<w.globals.previousPaths.length;j++){var S=w.globals.previousPaths[j];(S.type==="line"||S.type==="area")&&S.paths.length>0&&parseInt(S.realIndex,10)===parseInt(v,10)&&(S.type==="line"?(this.lineCtx.appendPathFrom=!1,d=w.globals.previousPaths[j].paths[0].d):S.type==="area"&&(this.lineCtx.appendPathFrom=!1,m=w.globals.previousPaths[j].paths[0].d,w.config.stroke.show&&w.globals.previousPaths[j].paths[1]&&(d=w.globals.previousPaths[j].paths[1].d)))}return{pathFromLine:d,pathFromArea:m}}},{key:"determineFirstPrevY",value:function(c){var d,m=c.i,v=c.series,w=c.prevY,j=c.lineYPosition,S=this.w;if(((d=v[m])===null||d===void 0?void 0:d[0])!==void 0)w=(j=S.config.chart.stacked&&m>0?this.lineCtx.prevSeriesY[m-1][0]:this.lineCtx.zeroY)-v[m][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?v[m][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(S.config.chart.stacked&&m>0&&v[m][0]===void 0){for(var P=m-1;P>=0;P--)if(v[P][0]!==null&&v[P][0]!==void 0){w=j=this.lineCtx.prevSeriesY[P][0];break}}return{prevY:w,lineYPosition:j}}}]),me}(),We=function(me){for(var c,d,m,v,w=function(z){for(var U=[],X=z[0],Q=z[1],te=U[0]=xt(X,Q),ae=1,pe=z.length-1;ae<pe;ae++)X=Q,Q=z[ae+1],U[ae]=.5*(te+(te=xt(X,Q)));return U[ae]=te,U}(me),j=me.length-1,S=[],P=0;P<j;P++)m=xt(me[P],me[P+1]),Math.abs(m)<1e-6?w[P]=w[P+1]=0:(v=(c=w[P]/m)*c+(d=w[P+1]/m)*d)>9&&(v=3*m/Math.sqrt(v),w[P]=v*c,w[P+1]=v*d);for(var I=0;I<=j;I++)v=(me[Math.min(j,I+1)][0]-me[Math.max(0,I-1)][0])/(6*(1+w[I]*w[I])),S.push([v||0,w[I]*v||0]);return S},Ze=function(me){for(var c="",d=0;d<me.length;d++){var m=me[d],v=me[d-1],w=m.length,j=v==null?void 0:v.length;d>1&&Math.abs(m[w-2]-v[j-2])<30?(c+="Q".concat(m[0],", ").concat(m[1]),c+=", ".concat(m[2],", ").concat(m[3])):w>4?(c+="C".concat(m[0],", ").concat(m[1]),c+=", ".concat(m[2],", ").concat(m[3]),c+=", ".concat(m[4],", ").concat(m[5])):w>2&&(c+="S".concat(m[0],", ").concat(m[1]),c+=", ".concat(m[2],", ").concat(m[3]))}return c},at=function(me){var c=We(me),d=me[1],m=me[0],v=[],w=c[1],j=c[0];v.push(m,[m[0]+j[0],m[1]+j[1],d[0]-w[0],d[1]-w[1],d[0],d[1]]);for(var S=2,P=c.length;S<P;S++){var I=me[S],z=c[S];v.push([I[0]-z[0],I[1]-z[1],I[0],I[1]])}return v};function xt(me,c){return(c[1]-me[1])/(c[0]-me[0])}var ut=function(){function me(c,d,m){a(this,me),this.ctx=c,this.w=c.w,this.xyRatios=d,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||m,this.scatter=new De(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Za(this),this.markers=new He(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return l(me,[{key:"draw",value:function(c,d,m,v){var w,j=this.w,S=new F(this.ctx),P=j.globals.comboCharts?d:j.config.chart.type,I=S.group({class:"apexcharts-".concat(P,"-series apexcharts-plot-series")}),z=new V(this.ctx,j);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,c=z.getLogSeries(c),this.yRatio=z.getLogYRatios(this.yRatio);for(var U=[],X=0;X<c.length;X++){c=this.lineHelpers.sameValueSeriesFix(X,c);var Q=j.globals.comboCharts?m[X]:X;this._initSerieVariables(c,X,Q);var te=[],ae=[],pe=[],we=j.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,Q),j.globals.isXNumeric&&j.globals.seriesX.length>0&&(we=(j.globals.seriesX[Q][0]-j.globals.minX)/this.xRatio),pe.push(we);var Ce=we,R=this.zeroY,q=this.zeroY;R=this.lineHelpers.determineFirstPrevY({i:X,series:c,prevY:R,lineYPosition:0}).prevY,j.config.stroke.curve==="smooth"&&c[X][0]===null?te.push(null):te.push(R),P==="rangeArea"&&(q=this.lineHelpers.determineFirstPrevY({i:X,series:v,prevY:q,lineYPosition:0}).prevY,ae.push(q));var se={type:P,series:c,realIndex:Q,i:X,x:we,y:1,pathsFrom:this._calculatePathsFrom({type:P,series:c,i:X,realIndex:Q,prevX:Ce,prevY:R,prevY2:q}),linePaths:[],areaPaths:[],seriesIndex:m,lineYPosition:0,xArrj:pe,yArrj:te,y2Arrj:ae,seriesRangeEnd:v},be=this._iterateOverDataPoints(n(n({},se),{},{iterations:P==="rangeArea"?c[X].length-1:void 0,isRangeStart:!0}));if(P==="rangeArea"){var Pe=this._calculatePathsFrom({series:v,i:X,realIndex:Q,prevX:Ce,prevY:q}),Le=this._iterateOverDataPoints(n(n({},se),{},{series:v,pathsFrom:Pe,iterations:v[X].length-1,isRangeStart:!1}));be.linePaths[0]=Le.linePath+be.linePath,be.pathFromLine=Le.pathFromLine+be.pathFromLine}this._handlePaths({type:P,realIndex:Q,i:X,paths:be}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),U.push(this.elSeries)}if(((w=j.config.series[0])===null||w===void 0?void 0:w.zIndex)!==void 0&&U.sort(function(tt,ft){return Number(tt.node.getAttribute("zIndex"))-Number(ft.node.getAttribute("zIndex"))}),j.config.chart.stacked)for(var ze=U.length;ze>0;ze--)I.add(U[ze-1]);else for(var Fe=0;Fe<U.length;Fe++)I.add(U[Fe]);return I}},{key:"_initSerieVariables",value:function(c,d,m){var v=this.w,w=new F(this.ctx);this.xDivision=v.globals.gridWidth/(v.globals.dataPoints-(v.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(v.config.stroke.width)?v.config.stroke.width[m]:v.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=m),this.isReversed=v.config.yaxis[this.yaxisIndex]&&v.config.yaxis[this.yaxisIndex].reversed,this.zeroY=v.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?v.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>v.globals.gridHeight||v.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=v.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=w.group({class:"apexcharts-series",zIndex:v.config.series[m].zIndex!==void 0?v.config.series[m].zIndex:m,seriesName:T.escapeString(v.globals.seriesNames[m])}),this.elPointsMain=w.group({class:"apexcharts-series-markers-wrap","data:realIndex":m}),this.elDataLabelsWrap=w.group({class:"apexcharts-datalabels","data:realIndex":m});var j=c[d].length===v.globals.dataPoints;this.elSeries.attr({"data:longestSeries":j,rel:d+1,"data:realIndex":m}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(c){var d,m,v,w,j=c.type,S=c.series,P=c.i,I=c.realIndex,z=c.prevX,U=c.prevY,X=c.prevY2,Q=this.w,te=new F(this.ctx);if(S[P][0]===null){for(var ae=0;ae<S[P].length;ae++)if(S[P][ae]!==null){z=this.xDivision*ae,U=this.zeroY-S[P][ae]/this.yRatio[this.yaxisIndex],d=te.move(z,U),m=te.move(z,this.areaBottomY);break}}else d=te.move(z,U),j==="rangeArea"&&(d=te.move(z,X)+te.line(z,U)),m=te.move(z,this.areaBottomY)+te.line(z,U);if(v=te.move(-1,this.zeroY)+te.line(-1,this.zeroY),w=te.move(-1,this.zeroY)+te.line(-1,this.zeroY),Q.globals.previousPaths.length>0){var pe=this.lineHelpers.checkPreviousPaths({pathFromLine:v,pathFromArea:w,realIndex:I});v=pe.pathFromLine,w=pe.pathFromArea}return{prevX:z,prevY:U,linePath:d,areaPath:m,pathFromLine:v,pathFromArea:w}}},{key:"_handlePaths",value:function(c){var d=c.type,m=c.realIndex,v=c.i,w=c.paths,j=this.w,S=new F(this.ctx),P=new Se(this.ctx);this.prevSeriesY.push(w.yArrj),j.globals.seriesXvalues[m]=w.xArrj,j.globals.seriesYvalues[m]=w.yArrj;var I=j.config.forecastDataPoints;if(I.count>0&&d!=="rangeArea"){var z=j.globals.seriesXvalues[m][j.globals.seriesXvalues[m].length-I.count-1],U=S.drawRect(z,0,j.globals.gridWidth,j.globals.gridHeight,0);j.globals.dom.elForecastMask.appendChild(U.node);var X=S.drawRect(0,0,z,j.globals.gridHeight,0);j.globals.dom.elNonForecastMask.appendChild(X.node)}this.pointsChart||j.globals.delayedElements.push({el:this.elPointsMain.node,index:m});var Q={i:v,realIndex:m,animationDelay:v,initialSpeed:j.config.chart.animations.speed,dataChangeSpeed:j.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(d)};if(d==="area")for(var te=P.fillPath({seriesNumber:m}),ae=0;ae<w.areaPaths.length;ae++){var pe=S.renderPaths(n(n({},Q),{},{pathFrom:w.pathFromArea,pathTo:w.areaPaths[ae],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:te}));this.elSeries.add(pe)}if(j.config.stroke.show&&!this.pointsChart){var we=null;if(d==="line")we=P.fillPath({seriesNumber:m,i:v});else if(j.config.stroke.fill.type==="solid")we=j.globals.stroke.colors[m];else{var Ce=j.config.fill;j.config.fill=j.config.stroke.fill,we=P.fillPath({seriesNumber:m,i:v}),j.config.fill=Ce}for(var R=0;R<w.linePaths.length;R++){var q=we;d==="rangeArea"&&(q=P.fillPath({seriesNumber:m}));var se=n(n({},Q),{},{pathFrom:w.pathFromLine,pathTo:w.linePaths[R],stroke:we,strokeWidth:this.strokeWidth,strokeLineCap:j.config.stroke.lineCap,fill:d==="rangeArea"?q:"none"}),be=S.renderPaths(se);if(this.elSeries.add(be),be.attr("fill-rule","evenodd"),I.count>0&&d!=="rangeArea"){var Pe=S.renderPaths(se);Pe.node.setAttribute("stroke-dasharray",I.dashArray),I.strokeWidth&&Pe.node.setAttribute("stroke-width",I.strokeWidth),this.elSeries.add(Pe),Pe.attr("clip-path","url(#forecastMask".concat(j.globals.cuid,")")),be.attr("clip-path","url(#nonForecastMask".concat(j.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(c){var d=this,m=c.type,v=c.series,w=c.iterations,j=c.realIndex,S=c.i,P=c.x,I=c.y,z=c.pathsFrom,U=c.linePaths,X=c.areaPaths,Q=c.seriesIndex,te=c.lineYPosition,ae=c.xArrj,pe=c.yArrj,we=c.y2Arrj,Ce=c.isRangeStart,R=c.seriesRangeEnd,q=this.w,se=new F(this.ctx),be=this.yRatio,Pe=z.prevY,Le=z.linePath,ze=z.areaPath,Fe=z.pathFromLine,tt=z.pathFromArea,ft=T.isNumber(q.globals.minYArr[j])?q.globals.minYArr[j]:q.globals.minY;w||(w=q.globals.dataPoints>1?q.globals.dataPoints-1:q.globals.dataPoints);for(var mt=function(Jr,us){return us-Jr/be[d.yaxisIndex]+2*(d.isReversed?Jr/be[d.yaxisIndex]:0)},vt=I,Dt=0;Dt<w;Dt++){var ur=v[S][Dt+1]===void 0||v[S][Dt+1]===null;if(q.globals.isXNumeric){var wr=q.globals.seriesX[j][Dt+1];q.globals.seriesX[j][Dt+1]===void 0&&(wr=q.globals.seriesX[j][w-1]),P=(wr-q.globals.minX)/this.xRatio}else P+=this.xDivision;q.config.chart.stacked?S>0&&q.globals.collapsedSeries.length<q.config.series.length-1?te=this.prevSeriesY[function(Jr){for(var us=Jr,Cn=0;Cn<q.globals.series.length;Cn++)if(q.globals.collapsedSeriesIndices.indexOf(Jr)>-1){us--;break}return us>=0?us:0}(S-1)][Dt+1]:te=this.zeroY:te=this.zeroY,ur?I=mt(ft,te):(I=mt(v[S][Dt+1],te),m==="rangeArea"&&(vt=mt(R[S][Dt+1],te))),ae.push(P),ur&&q.config.stroke.curve==="smooth"?pe.push(null):pe.push(I),we.push(vt);var zr=this.lineHelpers.calculatePoints({series:v,x:P,y:I,realIndex:j,i:S,j:Dt,prevY:Pe}),ds=this._createPaths({type:m,series:v,i:S,realIndex:j,j:Dt,x:P,y:I,y2:vt,xArrj:ae,yArrj:pe,y2Arrj:we,linePath:Le,areaPath:ze,linePaths:U,areaPaths:X,seriesIndex:Q,isRangeStart:Ce});X=ds.areaPaths,U=ds.linePaths,ze=ds.areaPath,Le=ds.linePath,!this.appendPathFrom||q.config.stroke.curve==="smooth"&&m==="rangeArea"||(Fe+=se.line(P,this.zeroY),tt+=se.line(P,this.zeroY)),this.handleNullDataPoints(v,zr,S,Dt,j),this._handleMarkersAndLabels({type:m,pointsPos:zr,i:S,j:Dt,realIndex:j,isRangeStart:Ce})}return{yArrj:pe,xArrj:ae,pathFromArea:tt,areaPaths:X,pathFromLine:Fe,linePaths:U,linePath:Le,areaPath:ze}}},{key:"_handleMarkersAndLabels",value:function(c){var d=c.type,m=c.pointsPos,v=c.isRangeStart,w=c.i,j=c.j,S=c.realIndex,P=this.w,I=new $e(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,j,{realIndex:S,pointsPos:m,zRatio:this.zRatio,elParent:this.elPointsMain});else{P.globals.series[w].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var z=this.markers.plotChartMarkers(m,S,j+1);z!==null&&this.elPointsMain.add(z)}var U=I.drawDataLabel({type:d,isRangeStart:v,pos:m,i:S,j:j+1});U!==null&&this.elDataLabelsWrap.add(U)}},{key:"_createPaths",value:function(c){var d=c.type,m=c.series,v=c.i,w=c.realIndex,j=c.j,S=c.x,P=c.y,I=c.xArrj,z=c.yArrj,U=c.y2,X=c.y2Arrj,Q=c.linePath,te=c.areaPath,ae=c.linePaths,pe=c.areaPaths,we=c.seriesIndex,Ce=c.isRangeStart,R=this.w,q=new F(this.ctx),se=R.config.stroke.curve,be=this.areaBottomY;if(Array.isArray(R.config.stroke.curve)&&(se=Array.isArray(we)?R.config.stroke.curve[we[v]]:R.config.stroke.curve[v]),d==="rangeArea"&&(R.globals.hasNullValues||R.config.forecastDataPoints.count>0)&&se==="smooth"&&(se="straight"),se==="smooth"){var Pe=d==="rangeArea"?I.length===R.globals.dataPoints:j===m[v].length-2,Le=I.map(function(Dt,ur){return[I[ur],z[ur]]}).filter(function(Dt){return Dt[1]!==null});if(Pe&&Le.length>1){var ze=at(Le);if(Q+=Ze(ze),m[v][0]===null?te=Q:te+=Ze(ze),d==="rangeArea"&&Ce){Q+=q.line(I[I.length-1],X[X.length-1]);var Fe=I.slice().reverse(),tt=X.slice().reverse(),ft=Fe.map(function(Dt,ur){return[Fe[ur],tt[ur]]}),mt=at(ft);te=Q+=Ze(mt)}else te+=q.line(Le[Le.length-1][0],be)+q.line(Le[0][0],be)+q.move(Le[0][0],Le[0][1])+"z";ae.push(Q),pe.push(te)}}else{if(m[v][j+1]===null){Q+=q.move(S,P);var vt=R.globals.isXNumeric?(R.globals.seriesX[w][j]-R.globals.minX)/this.xRatio:S-this.xDivision;te=te+q.line(vt,be)+q.move(S,P)+"z"}m[v][j]===null&&(Q+=q.move(S,P),te+=q.move(S,be)),se==="stepline"?(Q=Q+q.line(S,null,"H")+q.line(null,P,"V"),te=te+q.line(S,null,"H")+q.line(null,P,"V")):se==="straight"&&(Q+=q.line(S,P),te+=q.line(S,P)),j===m[v].length-2&&(te=te+q.line(S,be)+q.move(S,P)+"z",d==="rangeArea"&&Ce?Q=Q+q.line(S,U)+q.move(S,U)+"z":(ae.push(Q),pe.push(te)))}return{linePaths:ae,areaPaths:pe,linePath:Q,areaPath:te}}},{key:"handleNullDataPoints",value:function(c,d,m,v,w){var j=this.w;if(c[m][v]===null&&j.config.markers.showNullDataPoints||c[m].length===1){var S=this.markers.plotChartMarkers(d,w,v+1,this.strokeWidth-j.config.markers.strokeWidth/2,!0);S!==null&&this.elPointsMain.add(S)}}}]),me}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function me(S,P,I,z){this.xoffset=S,this.yoffset=P,this.height=z,this.width=I,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(U){var X,Q=[],te=this.xoffset,ae=this.yoffset,pe=w(U)/this.height,we=w(U)/this.width;if(this.width>=this.height)for(X=0;X<U.length;X++)Q.push([te,ae,te+pe,ae+U[X]/pe]),ae+=U[X]/pe;else for(X=0;X<U.length;X++)Q.push([te,ae,te+U[X]/we,ae+we]),te+=U[X]/we;return Q},this.cutArea=function(U){var X;if(this.width>=this.height){var Q=U/this.height,te=this.width-Q;X=new me(this.xoffset+Q,this.yoffset,te,this.height)}else{var ae=U/this.width,pe=this.height-ae;X=new me(this.xoffset,this.yoffset+ae,this.width,pe)}return X}}function c(S,P,I,z,U){z=z===void 0?0:z,U=U===void 0?0:U;var X=d(function(Q,te){var ae,pe=[],we=te/w(Q);for(ae=0;ae<Q.length;ae++)pe[ae]=Q[ae]*we;return pe}(S,P*I),[],new me(z,U,P,I),[]);return function(Q){var te,ae,pe=[];for(te=0;te<Q.length;te++)for(ae=0;ae<Q[te].length;ae++)pe.push(Q[te][ae]);return pe}(X)}function d(S,P,I,z){var U,X,Q;if(S.length!==0)return U=I.shortestEdge(),function(te,ae,pe){var we;if(te.length===0)return!0;(we=te.slice()).push(ae);var Ce=m(te,pe),R=m(we,pe);return Ce>=R}(P,X=S[0],U)?(P.push(X),d(S.slice(1),P,I,z)):(Q=I.cutArea(w(P),z),z.push(I.getCoordinates(P)),d(S,[],Q,z)),z;z.push(I.getCoordinates(P))}function m(S,P){var I=Math.min.apply(Math,S),z=Math.max.apply(Math,S),U=w(S);return Math.max(Math.pow(P,2)*z/Math.pow(U,2),Math.pow(U,2)/(Math.pow(P,2)*I))}function v(S){return S&&S.constructor===Array}function w(S){var P,I=0;for(P=0;P<S.length;P++)I+=S[P];return I}function j(S){var P,I=0;if(v(S[0]))for(P=0;P<S.length;P++)I+=j(S[P]);else I=w(S);return I}return function S(P,I,z,U,X){U=U===void 0?0:U,X=X===void 0?0:X;var Q,te,ae=[],pe=[];if(v(P[0])){for(te=0;te<P.length;te++)ae[te]=j(P[te]);for(Q=c(ae,I,z,U,X),te=0;te<P.length;te++)pe.push(S(P[te],Q[te][2]-Q[te][0],Q[te][3]-Q[te][1],Q[te][0],Q[te][1]))}else pe=c(P,I,z,U,X);return pe}}();var Ht,sr,Wt=function(){function me(c,d){a(this,me),this.ctx=c,this.w=c.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new xl(c),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return l(me,[{key:"draw",value:function(c){var d=this,m=this.w,v=new F(this.ctx),w=new Se(this.ctx),j=v.group({class:"apexcharts-treemap"});if(m.globals.noData)return j;var S=[];return c.forEach(function(P){var I=P.map(function(z){return Math.abs(z)});S.push(I)}),this.negRange=this.helpers.checkColorRange(),m.config.series.forEach(function(P,I){P.data.forEach(function(z){Array.isArray(d.labels[I])||(d.labels[I]=[]),d.labels[I].push(z.x)})}),window.TreemapSquared.generate(S,m.globals.gridWidth,m.globals.gridHeight).forEach(function(P,I){var z=v.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:T.escapeString(m.globals.seriesNames[I]),rel:I+1,"data:realIndex":I});if(m.config.chart.dropShadow.enabled){var U=m.config.chart.dropShadow;new B(d.ctx).dropShadow(j,U,I)}var X=v.group({class:"apexcharts-data-labels"});P.forEach(function(Q,te){var ae=Q[0],pe=Q[1],we=Q[2],Ce=Q[3],R=v.drawRect(ae,pe,we-ae,Ce-pe,0,"#fff",1,d.strokeWidth,m.config.plotOptions.treemap.useFillColorAsStroke?se:m.globals.stroke.colors[I]);R.attr({cx:ae,cy:pe,index:I,i:I,j:te,width:we-ae,height:Ce-pe});var q=d.helpers.getShadeColor(m.config.chart.type,I,te,d.negRange),se=q.color;m.config.series[I].data[te]!==void 0&&m.config.series[I].data[te].fillColor&&(se=m.config.series[I].data[te].fillColor);var be=w.fillPath({color:se,seriesNumber:I,dataPointIndex:te});R.node.classList.add("apexcharts-treemap-rect"),R.attr({fill:be}),d.helpers.addListeners(R);var Pe={x:ae+(we-ae)/2,y:pe+(Ce-pe)/2,width:0,height:0},Le={x:ae,y:pe,width:we-ae,height:Ce-pe};if(m.config.chart.animations.enabled&&!m.globals.dataChanged){var ze=1;m.globals.resized||(ze=m.config.chart.animations.speed),d.animateTreemap(R,Pe,Le,ze)}if(m.globals.dataChanged){var Fe=1;d.dynamicAnim.enabled&&m.globals.shouldAnimate&&(Fe=d.dynamicAnim.speed,m.globals.previousPaths[I]&&m.globals.previousPaths[I][te]&&m.globals.previousPaths[I][te].rect&&(Pe=m.globals.previousPaths[I][te].rect),d.animateTreemap(R,Pe,Le,Fe))}var tt=d.getFontSize(Q),ft=m.config.dataLabels.formatter(d.labels[I][te],{value:m.globals.series[I][te],seriesIndex:I,dataPointIndex:te,w:m});m.config.plotOptions.treemap.dataLabels.format==="truncate"&&(tt=parseInt(m.config.dataLabels.style.fontSize,10),ft=d.truncateLabels(ft,tt,ae,pe,we,Ce));var mt=d.helpers.calculateDataLabels({text:ft,x:(ae+we)/2,y:(pe+Ce)/2+d.strokeWidth/2+tt/3,i:I,j:te,colorProps:q,fontSize:tt,series:c});m.config.dataLabels.enabled&&mt&&d.rotateToFitLabel(mt,tt,ft,ae,pe,we,Ce),z.add(R),mt!==null&&z.add(mt)}),z.add(X),j.add(z)}),j}},{key:"getFontSize",value:function(c){var d=this.w,m,v,w,j,S=function P(I){var z,U=0;if(Array.isArray(I[0]))for(z=0;z<I.length;z++)U+=P(I[z]);else for(z=0;z<I.length;z++)U+=I[z].length;return U}(this.labels)/function P(I){var z,U=0;if(Array.isArray(I[0]))for(z=0;z<I.length;z++)U+=P(I[z]);else for(z=0;z<I.length;z++)U+=1;return U}(this.labels);return m=c[2]-c[0],v=c[3]-c[1],w=m*v,j=Math.pow(w,.5),Math.min(j/S,parseInt(d.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(c,d,m,v,w,j,S){var P=new F(this.ctx),I=P.getTextRects(m,d);if(I.width+this.w.config.stroke.width+5>j-v&&I.width<=S-w){var z=P.rotateAroundCenter(c.node);c.node.setAttribute("transform","rotate(-90 ".concat(z.x," ").concat(z.y,") translate(").concat(I.height/3,")"))}}},{key:"truncateLabels",value:function(c,d,m,v,w,j){var S=new F(this.ctx),P=S.getTextRects(c,d).width+this.w.config.stroke.width+5>w-m&&j-v>w-m?j-v:w-m,I=S.getTextBasedOnMaxWidth({text:c,maxWidth:P,fontSize:d});return c.length!==I.length&&P/d<5?"":I}},{key:"animateTreemap",value:function(c,d,m,v){var w=new M(this.ctx);w.animateRect(c,{x:d.x,y:d.y,width:d.width,height:d.height},{x:m.x,y:m.y,width:m.width,height:m.height},v,function(){w.animationCompleted(c)})}}]),me}(),Xt=86400,Ft=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return l(me,[{key:"calculateTimeScaleTicks",value:function(c,d){var m=this,v=this.w;if(v.globals.allSeriesCollapsed)return v.globals.labels=[],v.globals.timescaleLabels=[],[];var w=new ee(this.ctx),j=(d-c)/864e5;this.determineInterval(j),v.globals.disableZoomIn=!1,v.globals.disableZoomOut=!1,j<.00011574074074074075?v.globals.disableZoomIn=!0:j>5e4&&(v.globals.disableZoomOut=!0);var S=w.getTimeUnitsfromTimestamp(c,d,this.utc),P=v.globals.gridWidth/j,I=P/24,z=I/60,U=z/60,X=Math.floor(24*j),Q=Math.floor(1440*j),te=Math.floor(j*Xt),ae=Math.floor(j),pe=Math.floor(j/30),we=Math.floor(j/365),Ce={minMillisecond:S.minMillisecond,minSecond:S.minSecond,minMinute:S.minMinute,minHour:S.minHour,minDate:S.minDate,minMonth:S.minMonth,minYear:S.minYear},R={firstVal:Ce,currentMillisecond:Ce.minMillisecond,currentSecond:Ce.minSecond,currentMinute:Ce.minMinute,currentHour:Ce.minHour,currentMonthDate:Ce.minDate,currentDate:Ce.minDate,currentMonth:Ce.minMonth,currentYear:Ce.minYear,daysWidthOnXAxis:P,hoursWidthOnXAxis:I,minutesWidthOnXAxis:z,secondsWidthOnXAxis:U,numberOfSeconds:te,numberOfMinutes:Q,numberOfHours:X,numberOfDays:ae,numberOfMonths:pe,numberOfYears:we};switch(this.tickInterval){case"years":this.generateYearScale(R);break;case"months":case"half_year":this.generateMonthScale(R);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(R);break;case"hours":this.generateHourScale(R);break;case"minutes_fives":case"minutes":this.generateMinuteScale(R);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(R)}var q=this.timeScaleArray.map(function(se){var be={position:se.position,unit:se.unit,year:se.year,day:se.day?se.day:1,hour:se.hour?se.hour:0,month:se.month+1};return se.unit==="month"?n(n({},be),{},{day:1,value:se.value+1}):se.unit==="day"||se.unit==="hour"?n(n({},be),{},{value:se.value}):se.unit==="minute"?n(n({},be),{},{value:se.value,minute:se.value}):se.unit==="second"?n(n({},be),{},{value:se.value,minute:se.minute,second:se.second}):se});return q.filter(function(se){var be=1,Pe=Math.ceil(v.globals.gridWidth/120),Le=se.value;v.config.xaxis.tickAmount!==void 0&&(Pe=v.config.xaxis.tickAmount),q.length>Pe&&(be=Math.floor(q.length/Pe));var ze=!1,Fe=!1;switch(m.tickInterval){case"years":se.unit==="year"&&(ze=!0);break;case"half_year":be=7,se.unit==="year"&&(ze=!0);break;case"months":be=1,se.unit==="year"&&(ze=!0);break;case"months_fortnight":be=15,se.unit!=="year"&&se.unit!=="month"||(ze=!0),Le===30&&(Fe=!0);break;case"months_days":be=10,se.unit==="month"&&(ze=!0),Le===30&&(Fe=!0);break;case"week_days":be=8,se.unit==="month"&&(ze=!0);break;case"days":be=1,se.unit==="month"&&(ze=!0);break;case"hours":se.unit==="day"&&(ze=!0);break;case"minutes_fives":case"seconds_fives":Le%5!=0&&(Fe=!0);break;case"seconds_tens":Le%10!=0&&(Fe=!0)}if(m.tickInterval==="hours"||m.tickInterval==="minutes_fives"||m.tickInterval==="seconds_tens"||m.tickInterval==="seconds_fives"){if(!Fe)return!0}else if((Le%be==0||ze)&&!Fe)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(c,d){var m=this.w,v=this.formatDates(c),w=this.removeOverlappingTS(v);m.globals.timescaleLabels=w.slice(),new Ot(this.ctx).plotCoords()}},{key:"determineInterval",value:function(c){var d=24*c,m=60*d;switch(!0){case c/365>5:this.tickInterval="years";break;case c>800:this.tickInterval="half_year";break;case c>180:this.tickInterval="months";break;case c>90:this.tickInterval="months_fortnight";break;case c>60:this.tickInterval="months_days";break;case c>30:this.tickInterval="week_days";break;case c>2:this.tickInterval="days";break;case d>2.4:this.tickInterval="hours";break;case m>15:this.tickInterval="minutes_fives";break;case m>5:this.tickInterval="minutes";break;case m>1:this.tickInterval="seconds_tens";break;case 60*m>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(c){var d=c.firstVal,m=c.currentMonth,v=c.currentYear,w=c.daysWidthOnXAxis,j=c.numberOfYears,S=d.minYear,P=0,I=new ee(this.ctx),z="year";if(d.minDate>1||d.minMonth>0){var U=I.determineRemainingDaysOfYear(d.minYear,d.minMonth,d.minDate);P=(I.determineDaysOfYear(d.minYear)-U+1)*w,S=d.minYear+1,this.timeScaleArray.push({position:P,value:S,unit:z,year:S,month:T.monthMod(m+1)})}else d.minDate===1&&d.minMonth===0&&this.timeScaleArray.push({position:P,value:S,unit:z,year:v,month:T.monthMod(m+1)});for(var X=S,Q=P,te=0;te<j;te++)X++,Q=I.determineDaysOfYear(X-1)*w+Q,this.timeScaleArray.push({position:Q,value:X,unit:z,year:X,month:1})}},{key:"generateMonthScale",value:function(c){var d=c.firstVal,m=c.currentMonthDate,v=c.currentMonth,w=c.currentYear,j=c.daysWidthOnXAxis,S=c.numberOfMonths,P=v,I=0,z=new ee(this.ctx),U="month",X=0;if(d.minDate>1){I=(z.determineDaysOfMonths(v+1,d.minYear)-m+1)*j,P=T.monthMod(v+1);var Q=w+X,te=T.monthMod(P),ae=P;P===0&&(U="year",ae=Q,te=1,Q+=X+=1),this.timeScaleArray.push({position:I,value:ae,unit:U,year:Q,month:te})}else this.timeScaleArray.push({position:I,value:P,unit:U,year:w,month:T.monthMod(v)});for(var pe=P+1,we=I,Ce=0,R=1;Ce<S;Ce++,R++){(pe=T.monthMod(pe))===0?(U="year",X+=1):U="month";var q=this._getYear(w,pe,X);we=z.determineDaysOfMonths(pe,q)*j+we;var se=pe===0?q:pe;this.timeScaleArray.push({position:we,value:se,unit:U,year:q,month:pe===0?1:pe}),pe++}}},{key:"generateDayScale",value:function(c){var d=c.firstVal,m=c.currentMonth,v=c.currentYear,w=c.hoursWidthOnXAxis,j=c.numberOfDays,S=new ee(this.ctx),P="day",I=d.minDate+1,z=I,U=function(R,q,se){return R>S.determineDaysOfMonths(q+1,se)&&(z=1,P="month",Q=q+=1),q},X=(24-d.minHour)*w,Q=I,te=U(z,m,v);d.minHour===0&&d.minDate===1?(X=0,Q=T.monthMod(d.minMonth),P="month",z=d.minDate):d.minDate!==1&&d.minHour===0&&d.minMinute===0&&(X=0,I=d.minDate,Q=I,te=U(z=I,m,v)),this.timeScaleArray.push({position:X,value:Q,unit:P,year:this._getYear(v,te,0),month:T.monthMod(te),day:z});for(var ae=X,pe=0;pe<j;pe++){P="day",te=U(z+=1,te,this._getYear(v,te,0));var we=this._getYear(v,te,0);ae=24*w+ae;var Ce=z===1?T.monthMod(te):z;this.timeScaleArray.push({position:ae,value:Ce,unit:P,year:we,month:T.monthMod(te),day:Ce})}}},{key:"generateHourScale",value:function(c){var d=c.firstVal,m=c.currentDate,v=c.currentMonth,w=c.currentYear,j=c.minutesWidthOnXAxis,S=c.numberOfHours,P=new ee(this.ctx),I="hour",z=function(be,Pe){return be>P.determineDaysOfMonths(Pe+1,w)&&(pe=1,Pe+=1),{month:Pe,date:pe}},U=function(be,Pe){return be>P.determineDaysOfMonths(Pe+1,w)?Pe+=1:Pe},X=60-(d.minMinute+d.minSecond/60),Q=X*j,te=d.minHour+1,ae=te;X===60&&(Q=0,ae=(te=d.minHour)+1);var pe=m;ae>=24&&(ae=0,pe+=1,I="day");var we=z(pe,v).month;we=U(pe,we),this.timeScaleArray.push({position:Q,value:te,unit:I,day:pe,hour:ae,year:w,month:T.monthMod(we)}),ae++;for(var Ce=Q,R=0;R<S;R++){I="hour",ae>=24&&(ae=0,I="day",we=z(pe+=1,we).month,we=U(pe,we));var q=this._getYear(w,we,0);Ce=60*j+Ce;var se=ae===0?pe:ae;this.timeScaleArray.push({position:Ce,value:se,unit:I,hour:ae,day:pe,year:q,month:T.monthMod(we)}),ae++}}},{key:"generateMinuteScale",value:function(c){for(var d=c.currentMillisecond,m=c.currentSecond,v=c.currentMinute,w=c.currentHour,j=c.currentDate,S=c.currentMonth,P=c.currentYear,I=c.minutesWidthOnXAxis,z=c.secondsWidthOnXAxis,U=c.numberOfMinutes,X=v+1,Q=j,te=S,ae=P,pe=w,we=(60-m-d/1e3)*z,Ce=0;Ce<U;Ce++)X>=60&&(X=0,(pe+=1)===24&&(pe=0)),this.timeScaleArray.push({position:we,value:X,unit:"minute",hour:pe,minute:X,day:Q,year:this._getYear(ae,te,0),month:T.monthMod(te)}),we+=I,X++}},{key:"generateSecondScale",value:function(c){for(var d=c.currentMillisecond,m=c.currentSecond,v=c.currentMinute,w=c.currentHour,j=c.currentDate,S=c.currentMonth,P=c.currentYear,I=c.secondsWidthOnXAxis,z=c.numberOfSeconds,U=m+1,X=v,Q=j,te=S,ae=P,pe=w,we=(1e3-d)/1e3*I,Ce=0;Ce<z;Ce++)U>=60&&(U=0,++X>=60&&(X=0,++pe===24&&(pe=0))),this.timeScaleArray.push({position:we,value:U,unit:"second",hour:pe,minute:X,second:U,day:Q,year:this._getYear(ae,te,0),month:T.monthMod(te)}),we+=I,U++}},{key:"createRawDateString",value:function(c,d){var m=c.year;return c.month===0&&(c.month=1),m+="-"+("0"+c.month.toString()).slice(-2),c.unit==="day"?m+=c.unit==="day"?"-"+("0"+d).slice(-2):"-01":m+="-"+("0"+(c.day?c.day:"1")).slice(-2),c.unit==="hour"?m+=c.unit==="hour"?"T"+("0"+d).slice(-2):"T00":m+="T"+("0"+(c.hour?c.hour:"0")).slice(-2),c.unit==="minute"?m+=":"+("0"+d).slice(-2):m+=":"+(c.minute?("0"+c.minute).slice(-2):"00"),c.unit==="second"?m+=":"+("0"+d).slice(-2):m+=":00",this.utc&&(m+=".000Z"),m}},{key:"formatDates",value:function(c){var d=this,m=this.w;return c.map(function(v){var w=v.value.toString(),j=new ee(d.ctx),S=d.createRawDateString(v,w),P=j.getDate(j.parseDate(S));if(d.utc||(P=j.getDate(j.parseDateWithTimezone(S))),m.config.xaxis.labels.format===void 0){var I="dd MMM",z=m.config.xaxis.labels.datetimeFormatter;v.unit==="year"&&(I=z.year),v.unit==="month"&&(I=z.month),v.unit==="day"&&(I=z.day),v.unit==="hour"&&(I=z.hour),v.unit==="minute"&&(I=z.minute),v.unit==="second"&&(I=z.second),w=j.formatDate(P,I)}else w=j.formatDate(P,m.config.xaxis.labels.format);return{dateString:S,position:v.position,value:w,unit:v.unit,year:v.year,month:v.month}})}},{key:"removeOverlappingTS",value:function(c){var d,m=this,v=new F(this.ctx),w=!1;c.length>0&&c[0].value&&c.every(function(P){return P.value.length===c[0].value.length})&&(w=!0,d=v.getTextRects(c[0].value).width);var j=0,S=c.map(function(P,I){if(I>0&&m.w.config.xaxis.labels.hideOverlappingLabels){var z=w?d:v.getTextRects(c[j].value).width,U=c[j].position;return P.position>U+z+10?(j=I,P):null}return P});return S=S.filter(function(P){return P!==null})}},{key:"_getYear",value:function(c,d,m){return c+Math.floor(d/12)+m}}]),me}(),$t=function(){function me(c,d){a(this,me),this.ctx=d,this.w=d.w,this.el=c}return l(me,[{key:"setupElements",value:function(){var c=this.w.globals,d=this.w.config,m=d.chart.type;c.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(m)>-1,c.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(m)>-1,c.isBarHorizontal=(d.chart.type==="bar"||d.chart.type==="rangeBar"||d.chart.type==="boxPlot")&&d.plotOptions.bar.horizontal,c.chartClass=".apexcharts"+c.chartID,c.dom.baseEl=this.el,c.dom.elWrap=document.createElement("div"),F.setAttrs(c.dom.elWrap,{id:c.chartClass.substring(1),class:"apexcharts-canvas "+c.chartClass.substring(1)}),this.el.appendChild(c.dom.elWrap),c.dom.Paper=new window.SVG.Doc(c.dom.elWrap),c.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(d.chart.offsetX,", ").concat(d.chart.offsetY,")")}),c.dom.Paper.node.style.background=d.theme.mode!=="dark"||d.chart.background?d.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),c.dom.elLegendForeign=document.createElementNS(c.SVGNS,"foreignObject"),F.setAttrs(c.dom.elLegendForeign,{x:0,y:0,width:c.svgWidth,height:c.svgHeight}),c.dom.elLegendWrap=document.createElement("div"),c.dom.elLegendWrap.classList.add("apexcharts-legend"),c.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),c.dom.elLegendForeign.appendChild(c.dom.elLegendWrap),c.dom.Paper.node.appendChild(c.dom.elLegendForeign),c.dom.elGraphical=c.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),c.dom.elDefs=c.dom.Paper.defs(),c.dom.Paper.add(c.dom.elGraphical),c.dom.elGraphical.add(c.dom.elDefs)}},{key:"plotChartType",value:function(c,d){var m=this.w,v=m.config,w=m.globals,j={series:[],i:[]},S={series:[],i:[]},P={series:[],i:[]},I={series:[],i:[]},z={series:[],i:[]},U={series:[],i:[]},X={series:[],i:[]},Q={series:[],i:[]},te={series:[],seriesRangeEnd:[],i:[]};w.series.map(function(Pe,Le){var ze=0;c[Le].type!==void 0?(c[Le].type==="column"||c[Le].type==="bar"?(w.series.length>1&&v.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),z.series.push(Pe),z.i.push(Le),ze++,m.globals.columnSeries=z.series):c[Le].type==="area"?(S.series.push(Pe),S.i.push(Le),ze++):c[Le].type==="line"?(j.series.push(Pe),j.i.push(Le),ze++):c[Le].type==="scatter"?(P.series.push(Pe),P.i.push(Le)):c[Le].type==="bubble"?(I.series.push(Pe),I.i.push(Le),ze++):c[Le].type==="candlestick"?(U.series.push(Pe),U.i.push(Le),ze++):c[Le].type==="boxPlot"?(X.series.push(Pe),X.i.push(Le),ze++):c[Le].type==="rangeBar"?(Q.series.push(Pe),Q.i.push(Le),ze++):c[Le].type==="rangeArea"?(te.series.push(w.seriesRangeStart[Le]),te.seriesRangeEnd.push(w.seriesRangeEnd[Le]),te.i.push(Le),ze++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),ze>1&&(w.comboCharts=!0)):(j.series.push(Pe),j.i.push(Le))});var ae=new ut(this.ctx,d),pe=new zn(this.ctx,d);this.ctx.pie=new Lo(this.ctx);var we=new ya(this.ctx);this.ctx.rangeBar=new Oo(this.ctx,d);var Ce=new Ga(this.ctx),R=[];if(w.comboCharts){if(S.series.length>0&&R.push(ae.draw(S.series,"area",S.i)),z.series.length>0)if(m.config.chart.stacked){var q=new ti(this.ctx,d);R.push(q.draw(z.series,z.i))}else this.ctx.bar=new ei(this.ctx,d),R.push(this.ctx.bar.draw(z.series,z.i));if(te.series.length>0&&R.push(ae.draw(te.series,"rangeArea",te.i,te.seriesRangeEnd)),j.series.length>0&&R.push(ae.draw(j.series,"line",j.i)),U.series.length>0&&R.push(pe.draw(U.series,"candlestick",U.i)),X.series.length>0&&R.push(pe.draw(X.series,"boxPlot",X.i)),Q.series.length>0&&R.push(this.ctx.rangeBar.draw(Q.series,Q.i)),P.series.length>0){var se=new ut(this.ctx,d,!0);R.push(se.draw(P.series,"scatter",P.i))}if(I.series.length>0){var be=new ut(this.ctx,d,!0);R.push(be.draw(I.series,"bubble",I.i))}}else switch(v.chart.type){case"line":R=ae.draw(w.series,"line");break;case"area":R=ae.draw(w.series,"area");break;case"bar":v.chart.stacked?R=new ti(this.ctx,d).draw(w.series):(this.ctx.bar=new ei(this.ctx,d),R=this.ctx.bar.draw(w.series));break;case"candlestick":R=new zn(this.ctx,d).draw(w.series,"candlestick");break;case"boxPlot":R=new zn(this.ctx,d).draw(w.series,v.chart.type);break;case"rangeBar":R=this.ctx.rangeBar.draw(w.series);break;case"rangeArea":R=ae.draw(w.seriesRangeStart,"rangeArea",void 0,w.seriesRangeEnd);break;case"heatmap":R=new Mo(this.ctx,d).draw(w.series);break;case"treemap":R=new Wt(this.ctx,d).draw(w.series);break;case"pie":case"donut":case"polarArea":R=this.ctx.pie.draw(w.series);break;case"radialBar":R=we.draw(w.series);break;case"radar":R=Ce.draw(w.series);break;default:R=ae.draw(w.series)}return R}},{key:"setSVGDimensions",value:function(){var c=this.w.globals,d=this.w.config;c.svgWidth=d.chart.width,c.svgHeight=d.chart.height;var m=T.getDimensions(this.el),v=d.chart.width.toString().split(/[0-9]+/g).pop();v==="%"?T.isNumber(m[0])&&(m[0].width===0&&(m=T.getDimensions(this.el.parentNode)),c.svgWidth=m[0]*parseInt(d.chart.width,10)/100):v!=="px"&&v!==""||(c.svgWidth=parseInt(d.chart.width,10));var w=d.chart.height.toString().split(/[0-9]+/g).pop();if(c.svgHeight!=="auto"&&c.svgHeight!=="")if(w==="%"){var j=T.getDimensions(this.el.parentNode);c.svgHeight=j[1]*parseInt(d.chart.height,10)/100}else c.svgHeight=parseInt(d.chart.height,10);else c.axisCharts?c.svgHeight=c.svgWidth/1.61:c.svgHeight=c.svgWidth/1.2;if(c.svgWidth<0&&(c.svgWidth=0),c.svgHeight<0&&(c.svgHeight=0),F.setAttrs(c.dom.Paper.node,{width:c.svgWidth,height:c.svgHeight}),w!=="%"){var S=d.chart.sparkline.enabled?0:c.axisCharts?d.chart.parentHeightOffset:0;c.dom.Paper.node.parentNode.parentNode.style.minHeight=c.svgHeight+S+"px"}c.dom.elWrap.style.width=c.svgWidth+"px",c.dom.elWrap.style.height=c.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var c=this.w.globals,d=c.translateY,m={transform:"translate("+c.translateX+", "+d+")"};F.setAttrs(c.dom.elGraphical.node,m)}},{key:"resizeNonAxisCharts",value:function(){var c=this.w,d=c.globals,m=0,v=c.config.chart.sparkline.enabled?1:15;v+=c.config.grid.padding.bottom,c.config.legend.position!=="top"&&c.config.legend.position!=="bottom"||!c.config.legend.show||c.config.legend.floating||(m=new lr(this.ctx).legendHelpers.getLegendBBox().clwh+10);var w=c.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),j=2.05*c.globals.radialSize;if(w&&!c.config.chart.sparkline.enabled&&c.config.plotOptions.radialBar.startAngle!==0){var S=T.getBoundingClientRect(w);j=S.bottom;var P=S.bottom-S.top;j=Math.max(2.05*c.globals.radialSize,P)}var I=j+d.translateY+m+v;d.dom.elLegendForeign&&d.dom.elLegendForeign.setAttribute("height",I),c.config.chart.height&&String(c.config.chart.height).indexOf("%")>0||(d.dom.elWrap.style.height=I+"px",F.setAttrs(d.dom.Paper.node,{height:I}),d.dom.Paper.node.parentNode.parentNode.style.minHeight=I+"px")}},{key:"coreCalculations",value:function(){new Xe(this.ctx).init()}},{key:"resetGlobals",value:function(){var c=this,d=function(){return c.w.config.series.map(function(w){return[]})},m=new ke,v=this.w.globals;m.initGlobalVars(v),v.seriesXvalues=d(),v.seriesYvalues=d()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var c=null,d=this.w;if(d.globals.axisCharts){if(d.config.xaxis.crosshairs.position==="back"&&new Cr(this.ctx).drawXCrosshairs(),d.config.yaxis[0].crosshairs.position==="back"&&new Cr(this.ctx).drawYCrosshairs(),d.config.xaxis.type==="datetime"&&d.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Ft(this.ctx);var m=[];isFinite(d.globals.minX)&&isFinite(d.globals.maxX)&&!d.globals.isBarHorizontal?m=this.ctx.timeScale.calculateTimeScaleTicks(d.globals.minX,d.globals.maxX):d.globals.isBarHorizontal&&(m=this.ctx.timeScale.calculateTimeScaleTicks(d.globals.minY,d.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(m)}c=new V(this.ctx).getCalculatedRatios()}return c}},{key:"updateSourceChart",value:function(c){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:c.w.globals.minX,max:c.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var c=this,d=this.w;if(d.config.chart.brush.enabled&&typeof d.config.chart.events.selection!="function"){var m=Array.isArray(d.config.chart.brush.targets)||[d.config.chart.brush.target];m.forEach(function(v){var w=ApexCharts.getChartByID(v);w.w.globals.brushSource=c.ctx,typeof w.w.config.chart.events.zoomed!="function"&&(w.w.config.chart.events.zoomed=function(){c.updateSourceChart(w)}),typeof w.w.config.chart.events.scrolled!="function"&&(w.w.config.chart.events.scrolled=function(){c.updateSourceChart(w)})}),d.config.chart.events.selection=function(v,w){m.forEach(function(j){var S=ApexCharts.getChartByID(j),P=T.clone(d.config.yaxis);if(d.config.chart.brush.autoScaleYaxis&&S.w.globals.series.length===1){var I=new ye(S);P=I.autoScaleY(S,P,w)}var z=S.w.config.yaxis.reduce(function(U,X,Q){return[].concat(k(U),[n(n({},S.w.config.yaxis[Q]),{},{min:P[0].min,max:P[0].max})])},[]);S.ctx.updateHelpers._updateOptions({xaxis:{min:w.xaxis.min,max:w.xaxis.max},yaxis:z},!1,!1,!1,!1)})}}}}]),me}(),dr=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"_updateOptions",value:function(c){var d=this,m=arguments.length>1&&arguments[1]!==void 0&&arguments[1],v=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],w=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],j=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(S){var P=[d.ctx];w&&(P=d.ctx.getSyncedCharts()),d.ctx.w.globals.isExecCalled&&(P=[d.ctx],d.ctx.w.globals.isExecCalled=!1),P.forEach(function(I,z){var U=I.w;if(U.globals.shouldAnimate=v,m||(U.globals.resized=!0,U.globals.dataChanged=!0,v&&I.series.getPreviousPaths()),c&&i(c)==="object"&&(I.config=new ue(c),c=V.extendArrayProps(I.config,c,U),I.w.globals.chartID!==d.ctx.w.globals.chartID&&delete c.series,U.config=T.extend(U.config,c),j&&(U.globals.lastXAxis=c.xaxis?T.clone(c.xaxis):[],U.globals.lastYAxis=c.yaxis?T.clone(c.yaxis):[],U.globals.initialConfig=T.extend({},U.config),U.globals.initialSeries=T.clone(U.config.series),c.series))){for(var X=0;X<U.globals.collapsedSeriesIndices.length;X++){var Q=U.config.series[U.globals.collapsedSeriesIndices[X]];U.globals.collapsedSeries[X].data=U.globals.axisCharts?Q.data.slice():Q}for(var te=0;te<U.globals.ancillaryCollapsedSeriesIndices.length;te++){var ae=U.config.series[U.globals.ancillaryCollapsedSeriesIndices[te]];U.globals.ancillaryCollapsedSeries[te].data=U.globals.axisCharts?ae.data.slice():ae}I.series.emptyCollapsedSeries(U.config.series)}return I.update(c).then(function(){z===P.length-1&&S(I)})})})}},{key:"_updateSeries",value:function(c,d){var m=this,v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(w){var j,S=m.w;return S.globals.shouldAnimate=d,S.globals.dataChanged=!0,d&&m.ctx.series.getPreviousPaths(),S.globals.axisCharts?((j=c.map(function(P,I){return m._extendSeries(P,I)})).length===0&&(j=[{data:[]}]),S.config.series=j):S.config.series=c.slice(),v&&(S.globals.initialConfig.series=T.clone(S.config.series),S.globals.initialSeries=T.clone(S.config.series)),m.ctx.update().then(function(){w(m.ctx)})})}},{key:"_extendSeries",value:function(c,d){var m=this.w,v=m.config.series[d];return n(n({},m.config.series[d]),{},{name:c.name?c.name:v==null?void 0:v.name,color:c.color?c.color:v==null?void 0:v.color,type:c.type?c.type:v==null?void 0:v.type,group:c.group?c.group:v==null?void 0:v.group,data:c.data?c.data:v==null?void 0:v.data,zIndex:c.zIndex!==void 0?c.zIndex:d})}},{key:"toggleDataPointSelection",value:function(c,d){var m=this.w,v=null,w=".apexcharts-series[data\\:realIndex='".concat(c,"']");return m.globals.axisCharts?v=m.globals.dom.Paper.select("".concat(w," path[j='").concat(d,"'], ").concat(w," circle[j='").concat(d,"'], ").concat(w," rect[j='").concat(d,"']")).members[0]:d===void 0&&(v=m.globals.dom.Paper.select("".concat(w," path[j='").concat(c,"']")).members[0],m.config.chart.type!=="pie"&&m.config.chart.type!=="polarArea"&&m.config.chart.type!=="donut"||this.ctx.pie.pieClicked(c)),v?(new F(this.ctx).pathMouseDown(v,null),v.node?v.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(c){var d=this.w;if(["min","max"].forEach(function(v){c.xaxis[v]!==void 0&&(d.config.xaxis[v]=c.xaxis[v],d.globals.lastXAxis[v]=c.xaxis[v])}),c.xaxis.categories&&c.xaxis.categories.length&&(d.config.xaxis.categories=c.xaxis.categories),d.config.xaxis.convertedCatToNumeric){var m=new G(c);c=m.convertCatToNumericXaxis(c,this.ctx)}return c}},{key:"forceYAxisUpdate",value:function(c){return c.chart&&c.chart.stacked&&c.chart.stackType==="100%"&&(Array.isArray(c.yaxis)?c.yaxis.forEach(function(d,m){c.yaxis[m].min=0,c.yaxis[m].max=100}):(c.yaxis.min=0,c.yaxis.max=100)),c}},{key:"revertDefaultAxisMinMax",value:function(c){var d=this,m=this.w,v=m.globals.lastXAxis,w=m.globals.lastYAxis;c&&c.xaxis&&(v=c.xaxis),c&&c.yaxis&&(w=c.yaxis),m.config.xaxis.min=v.min,m.config.xaxis.max=v.max;var j=function(S){w[S]!==void 0&&(m.config.yaxis[S].min=w[S].min,m.config.yaxis[S].max=w[S].max)};m.config.yaxis.map(function(S,P){m.globals.zoomed||w[P]!==void 0?j(P):d.ctx.opts.yaxis[P]!==void 0&&(S.min=d.ctx.opts.yaxis[P].min,S.max=d.ctx.opts.yaxis[P].max)})}}]),me}();Ht=typeof window<"u"?window:void 0,sr=function(me,c){var d=(this!==void 0?this:me).SVG=function(R){if(d.supported)return R=new d.Doc(R),d.parser.draw||d.prepare(),R};if(d.ns="http://www.w3.org/2000/svg",d.xmlns="http://www.w3.org/2000/xmlns/",d.xlink="http://www.w3.org/1999/xlink",d.svgjs="http://svgjs.dev",d.supported=!0,!d.supported)return!1;d.did=1e3,d.eid=function(R){return"Svgjs"+z(R)+d.did++},d.create=function(R){var q=c.createElementNS(this.ns,R);return q.setAttribute("id",this.eid(R)),q},d.extend=function(){var R,q;q=(R=[].slice.call(arguments)).pop();for(var se=R.length-1;se>=0;se--)if(R[se])for(var be in q)R[se].prototype[be]=q[be];d.Set&&d.Set.inherit&&d.Set.inherit()},d.invent=function(R){var q=typeof R.create=="function"?R.create:function(){this.constructor.call(this,d.create(R.create))};return R.inherit&&(q.prototype=new R.inherit),R.extend&&d.extend(q,R.extend),R.construct&&d.extend(R.parent||d.Container,R.construct),q},d.adopt=function(R){return R?R.instance?R.instance:((q=R.nodeName=="svg"?R.parentNode instanceof me.SVGElement?new d.Nested:new d.Doc:R.nodeName=="linearGradient"?new d.Gradient("linear"):R.nodeName=="radialGradient"?new d.Gradient("radial"):d[z(R.nodeName)]?new d[z(R.nodeName)]:new d.Element(R)).type=R.nodeName,q.node=R,R.instance=q,q instanceof d.Doc&&q.namespace().defs(),q.setData(JSON.parse(R.getAttribute("svgjs:data"))||{}),q):null;var q},d.prepare=function(){var R=c.getElementsByTagName("body")[0],q=(R?new d.Doc(R):d.adopt(c.documentElement).nested()).size(2,0);d.parser={body:R||c.documentElement,draw:q.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:q.polyline().node,path:q.path().node,native:d.create("svg")}},d.parser={native:d.create("svg")},c.addEventListener("DOMContentLoaded",function(){d.parser.draw||d.prepare()},!1),d.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},d.utils={map:function(R,q){for(var se=R.length,be=[],Pe=0;Pe<se;Pe++)be.push(q(R[Pe]));return be},filter:function(R,q){for(var se=R.length,be=[],Pe=0;Pe<se;Pe++)q(R[Pe])&&be.push(R[Pe]);return be},filterSVGElements:function(R){return this.filter(R,function(q){return q instanceof me.SVGElement})}},d.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},d.Color=function(R){var q,se;this.r=0,this.g=0,this.b=0,R&&(typeof R=="string"?d.regex.isRgb.test(R)?(q=d.regex.rgb.exec(R.replace(d.regex.whitespace,"")),this.r=parseInt(q[1]),this.g=parseInt(q[2]),this.b=parseInt(q[3])):d.regex.isHex.test(R)&&(q=d.regex.hex.exec((se=R).length==4?["#",se.substring(1,2),se.substring(1,2),se.substring(2,3),se.substring(2,3),se.substring(3,4),se.substring(3,4)].join(""):se),this.r=parseInt(q[1],16),this.g=parseInt(q[2],16),this.b=parseInt(q[3],16)):i(R)==="object"&&(this.r=R.r,this.g=R.g,this.b=R.b))},d.extend(d.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+U(this.r)+U(this.g)+U(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(R){return this.destination=new d.Color(R),this},at:function(R){return this.destination?(R=R<0?0:R>1?1:R,new d.Color({r:~~(this.r+(this.destination.r-this.r)*R),g:~~(this.g+(this.destination.g-this.g)*R),b:~~(this.b+(this.destination.b-this.b)*R)})):this}}),d.Color.test=function(R){return R+="",d.regex.isHex.test(R)||d.regex.isRgb.test(R)},d.Color.isRgb=function(R){return R&&typeof R.r=="number"&&typeof R.g=="number"&&typeof R.b=="number"},d.Color.isColor=function(R){return d.Color.isRgb(R)||d.Color.test(R)},d.Array=function(R,q){(R=(R||[]).valueOf()).length==0&&q&&(R=q.valueOf()),this.value=this.parse(R)},d.extend(d.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(R){return R=R.valueOf(),Array.isArray(R)?R:this.split(R)}}),d.PointArray=function(R,q){d.Array.call(this,R,q||[[0,0]])},d.PointArray.prototype=new d.Array,d.PointArray.prototype.constructor=d.PointArray;for(var m={M:function(R,q,se){return q.x=se.x=R[0],q.y=se.y=R[1],["M",q.x,q.y]},L:function(R,q){return q.x=R[0],q.y=R[1],["L",R[0],R[1]]},H:function(R,q){return q.x=R[0],["H",R[0]]},V:function(R,q){return q.y=R[0],["V",R[0]]},C:function(R,q){return q.x=R[4],q.y=R[5],["C",R[0],R[1],R[2],R[3],R[4],R[5]]},Q:function(R,q){return q.x=R[2],q.y=R[3],["Q",R[0],R[1],R[2],R[3]]},S:function(R,q){return q.x=R[2],q.y=R[3],["S",R[0],R[1],R[2],R[3]]},Z:function(R,q,se){return q.x=se.x,q.y=se.y,["Z"]}},v="mlhvqtcsaz".split(""),w=0,j=v.length;w<j;++w)m[v[w]]=function(R){return function(q,se,be){if(R=="H")q[0]=q[0]+se.x;else if(R=="V")q[0]=q[0]+se.y;else if(R=="A")q[5]=q[5]+se.x,q[6]=q[6]+se.y;else for(var Pe=0,Le=q.length;Pe<Le;++Pe)q[Pe]=q[Pe]+(Pe%2?se.y:se.x);if(m&&typeof m[R]=="function")return m[R](q,se,be)}}(v[w].toUpperCase());d.PathArray=function(R,q){d.Array.call(this,R,q||[["M",0,0]])},d.PathArray.prototype=new d.Array,d.PathArray.prototype.constructor=d.PathArray,d.extend(d.PathArray,{toString:function(){return function(R){for(var q=0,se=R.length,be="";q<se;q++)be+=R[q][0],R[q][1]!=null&&(be+=R[q][1],R[q][2]!=null&&(be+=" ",be+=R[q][2],R[q][3]!=null&&(be+=" ",be+=R[q][3],be+=" ",be+=R[q][4],R[q][5]!=null&&(be+=" ",be+=R[q][5],be+=" ",be+=R[q][6],R[q][7]!=null&&(be+=" ",be+=R[q][7])))));return be+" "}(this.value)},move:function(R,q){var se=this.bbox();return se.x,se.y,this},at:function(R){if(!this.destination)return this;for(var q=this.value,se=this.destination.value,be=[],Pe=new d.PathArray,Le=0,ze=q.length;Le<ze;Le++){be[Le]=[q[Le][0]];for(var Fe=1,tt=q[Le].length;Fe<tt;Fe++)be[Le][Fe]=q[Le][Fe]+(se[Le][Fe]-q[Le][Fe])*R;be[Le][0]==="A"&&(be[Le][4]=+(be[Le][4]!=0),be[Le][5]=+(be[Le][5]!=0))}return Pe.value=be,Pe},parse:function(R){if(R instanceof d.PathArray)return R.valueOf();var q,se={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};R=typeof R=="string"?R.replace(d.regex.numbersWithDots,P).replace(d.regex.pathLetters," $& ").replace(d.regex.hyphen,"$1 -").trim().split(d.regex.delimiter):R.reduce(function(tt,ft){return[].concat.call(tt,ft)},[]);var be=[],Pe=new d.Point,Le=new d.Point,ze=0,Fe=R.length;do d.regex.isPathLetter.test(R[ze])?(q=R[ze],++ze):q=="M"?q="L":q=="m"&&(q="l"),be.push(m[q].call(null,R.slice(ze,ze+=se[q.toUpperCase()]).map(parseFloat),Pe,Le));while(Fe>ze);return be},bbox:function(){return d.parser.draw||d.prepare(),d.parser.path.setAttribute("d",this.toString()),d.parser.path.getBBox()}}),d.Number=d.invent({create:function(R,q){this.value=0,this.unit=q||"",typeof R=="number"?this.value=isNaN(R)?0:isFinite(R)?R:R<0?-34e37:34e37:typeof R=="string"?(q=R.match(d.regex.numberAndUnit))&&(this.value=parseFloat(q[1]),q[5]=="%"?this.value/=100:q[5]=="s"&&(this.value*=1e3),this.unit=q[5]):R instanceof d.Number&&(this.value=R.valueOf(),this.unit=R.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(R){return R=new d.Number(R),new d.Number(this+R,this.unit||R.unit)},minus:function(R){return R=new d.Number(R),new d.Number(this-R,this.unit||R.unit)},times:function(R){return R=new d.Number(R),new d.Number(this*R,this.unit||R.unit)},divide:function(R){return R=new d.Number(R),new d.Number(this/R,this.unit||R.unit)},to:function(R){var q=new d.Number(this);return typeof R=="string"&&(q.unit=R),q},morph:function(R){return this.destination=new d.Number(R),R.relative&&(this.destination.value+=this.value),this},at:function(R){return this.destination?new d.Number(this.destination).minus(this).times(R).plus(this):this}}}),d.Element=d.invent({create:function(R){this._stroke=d.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=R)&&(this.type=R.nodeName,this.node.instance=this,this._stroke=R.getAttribute("stroke")||this._stroke)},extend:{x:function(R){return this.attr("x",R)},y:function(R){return this.attr("y",R)},cx:function(R){return R==null?this.x()+this.width()/2:this.x(R-this.width()/2)},cy:function(R){return R==null?this.y()+this.height()/2:this.y(R-this.height()/2)},move:function(R,q){return this.x(R).y(q)},center:function(R,q){return this.cx(R).cy(q)},width:function(R){return this.attr("width",R)},height:function(R){return this.attr("height",R)},size:function(R,q){var se=X(this,R,q);return this.width(new d.Number(se.width)).height(new d.Number(se.height))},clone:function(R){this.writeDataToDom();var q=ae(this.node.cloneNode(!0));return R?R.add(q):this.after(q),q},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(R){return this.after(R).remove(),R},addTo:function(R){return R.put(this)},putIn:function(R){return R.add(this)},id:function(R){return this.attr("id",R)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var R=this.attr("class");return R==null?[]:R.trim().split(d.regex.delimiter)},hasClass:function(R){return this.classes().indexOf(R)!=-1},addClass:function(R){if(!this.hasClass(R)){var q=this.classes();q.push(R),this.attr("class",q.join(" "))}return this},removeClass:function(R){return this.hasClass(R)&&this.attr("class",this.classes().filter(function(q){return q!=R}).join(" ")),this},toggleClass:function(R){return this.hasClass(R)?this.removeClass(R):this.addClass(R)},reference:function(R){return d.get(this.attr(R))},parent:function(R){var q=this;if(!q.node.parentNode)return null;if(q=d.adopt(q.node.parentNode),!R)return q;for(;q&&q.node instanceof me.SVGElement;){if(typeof R=="string"?q.matches(R):q instanceof R)return q;if(!q.node.parentNode||q.node.parentNode.nodeName=="#document")return null;q=d.adopt(q.node.parentNode)}},doc:function(){return this instanceof d.Doc?this:this.parent(d.Doc)},parents:function(R){var q=[],se=this;do{if(!(se=se.parent(R))||!se.node)break;q.push(se)}while(se.parent);return q},matches:function(R){return function(q,se){return(q.matches||q.matchesSelector||q.msMatchesSelector||q.mozMatchesSelector||q.webkitMatchesSelector||q.oMatchesSelector).call(q,se)}(this.node,R)},native:function(){return this.node},svg:function(R){var q=c.createElement("svg");if(!(R&&this instanceof d.Parent))return q.appendChild(R=c.createElement("svg")),this.writeDataToDom(),R.appendChild(this.node.cloneNode(!0)),q.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");q.innerHTML="<svg>"+R.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var se=0,be=q.firstChild.childNodes.length;se<be;se++)this.node.appendChild(q.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(R){return this.dom=R,this},is:function(R){return function(q,se){return q instanceof se}(this,R)}}}),d.easing={"-":function(R){return R},"<>":function(R){return-Math.cos(R*Math.PI)/2+.5},">":function(R){return Math.sin(R*Math.PI/2)},"<":function(R){return 1-Math.cos(R*Math.PI/2)}},d.morph=function(R){return function(q,se){return new d.MorphObj(q,se).at(R)}},d.Situation=d.invent({create:function(R){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new d.Number(R.duration).valueOf(),this.delay=new d.Number(R.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=R.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),d.FX=d.invent({create:function(R){this._target=R,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(R,q,se){i(R)==="object"&&(q=R.ease,se=R.delay,R=R.duration);var be=new d.Situation({duration:R||1e3,delay:se||0,ease:d.easing[q||"-"]||q});return this.queue(be),this},target:function(R){return R&&R instanceof d.Element?(this._target=R,this):this._target},timeToAbsPos:function(R){return(R-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(R){return this.situation.duration/this._speed*R+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=me.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){me.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(R){return(typeof R=="function"||R instanceof d.Situation)&&this.situations.push(R),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof d.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var R,q=this.situation;if(q.init)return this;for(var se in q.animations){R=this.target()[se](),Array.isArray(R)||(R=[R]),Array.isArray(q.animations[se])||(q.animations[se]=[q.animations[se]]);for(var be=R.length;be--;)q.animations[se][be]instanceof d.Number&&(R[be]=new d.Number(R[be])),q.animations[se][be]=R[be].morph(q.animations[se][be])}for(var se in q.attrs)q.attrs[se]=new d.MorphObj(this.target().attr(se),q.attrs[se]);for(var se in q.styles)q.styles[se]=new d.MorphObj(this.target().style(se),q.styles[se]);return q.initialTransformation=this.target().matrixify(),q.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(R,q){var se=this.active;return this.active=!1,q&&this.clearQueue(),R&&this.situation&&(!se&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(R){var q=this.last();return this.target().on("finished.fx",function se(be){be.detail.situation==q&&(R.call(this,q),this.off("finished.fx",se))}),this._callStart()},during:function(R){var q=this.last(),se=function(be){be.detail.situation==q&&R.call(this,be.detail.pos,d.morph(be.detail.pos),be.detail.eased,q)};return this.target().off("during.fx",se).on("during.fx",se),this.after(function(){this.off("during.fx",se)}),this._callStart()},afterAll:function(R){var q=function se(be){R.call(this),this.off("allfinished.fx",se)};return this.target().off("allfinished.fx",q).on("allfinished.fx",q),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(R,q,se){return this.last()[se||"animations"][R]=q,this._callStart()},step:function(R){var q,se,be;R||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(q=Math.max(this.absPos,0),se=Math.floor(q),this.situation.loops===!0||se<this.situation.loops?(this.pos=q-se,be=this.situation.loop,this.situation.loop=se):(this.absPos=this.situation.loops,this.pos=1,be=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-be)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Pe=this.situation.ease(this.pos);for(var Le in this.situation.once)Le>this.lastPos&&Le<=Pe&&(this.situation.once[Le].call(this.target(),this.pos,Pe),delete this.situation.once[Le]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Pe,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Pe,this):this},eachAt:function(){var R,q=this,se=this.target(),be=this.situation;for(var Pe in be.animations)R=[].concat(be.animations[Pe]).map(function(Fe){return typeof Fe!="string"&&Fe.at?Fe.at(be.ease(q.pos),q.pos):Fe}),se[Pe].apply(se,R);for(var Pe in be.attrs)R=[Pe].concat(be.attrs[Pe]).map(function(tt){return typeof tt!="string"&&tt.at?tt.at(be.ease(q.pos),q.pos):tt}),se.attr.apply(se,R);for(var Pe in be.styles)R=[Pe].concat(be.styles[Pe]).map(function(tt){return typeof tt!="string"&&tt.at?tt.at(be.ease(q.pos),q.pos):tt}),se.style.apply(se,R);if(be.transforms.length){R=be.initialTransformation,Pe=0;for(var Le=be.transforms.length;Pe<Le;Pe++){var ze=be.transforms[Pe];ze instanceof d.Matrix?R=ze.relative?R.multiply(new d.Matrix().morph(ze).at(be.ease(this.pos))):R.morph(ze).at(be.ease(this.pos)):(ze.relative||ze.undo(R.extract()),R=R.multiply(ze.at(be.ease(this.pos))))}se.matrix(R)}return this},once:function(R,q,se){var be=this.last();return se||(R=be.ease(R)),be.once[R]=q,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:d.Element,construct:{animate:function(R,q,se){return(this.fx||(this.fx=new d.FX(this))).animate(R,q,se)},delay:function(R){return(this.fx||(this.fx=new d.FX(this))).delay(R)},stop:function(R,q){return this.fx&&this.fx.stop(R,q),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),d.MorphObj=d.invent({create:function(R,q){return d.Color.isColor(q)?new d.Color(R).morph(q):d.regex.delimiter.test(R)?d.regex.pathLetters.test(R)?new d.PathArray(R).morph(q):new d.Array(R).morph(q):d.regex.numberAndUnit.test(q)?new d.Number(R).morph(q):(this.value=R,void(this.destination=q))},extend:{at:function(R,q){return q<1?this.value:this.destination},valueOf:function(){return this.value}}}),d.extend(d.FX,{attr:function(R,q,se){if(i(R)==="object")for(var be in R)this.attr(be,R[be]);else this.add(R,q,"attrs");return this},plot:function(R,q,se,be){return arguments.length==4?this.plot([R,q,se,be]):this.add("plot",new(this.target()).morphArray(R))}}),d.Box=d.invent({create:function(R,q,se,be){if(!(i(R)!=="object"||R instanceof d.Element))return d.Box.call(this,R.left!=null?R.left:R.x,R.top!=null?R.top:R.y,R.width,R.height);var Pe;arguments.length==4&&(this.x=R,this.y=q,this.width=se,this.height=be),(Pe=this).x==null&&(Pe.x=0,Pe.y=0,Pe.width=0,Pe.height=0),Pe.w=Pe.width,Pe.h=Pe.height,Pe.x2=Pe.x+Pe.width,Pe.y2=Pe.y+Pe.height,Pe.cx=Pe.x+Pe.width/2,Pe.cy=Pe.y+Pe.height/2}}),d.BBox=d.invent({create:function(R){if(d.Box.apply(this,[].slice.call(arguments)),R instanceof d.Element){var q;try{if(!c.documentElement.contains){for(var se=R.node;se.parentNode;)se=se.parentNode;if(se!=c)throw new Error("Element not in the dom")}q=R.node.getBBox()}catch{if(R instanceof d.Shape){d.parser.draw||d.prepare();var be=R.clone(d.parser.draw.instance).show();be&&be.node&&typeof be.node.getBBox=="function"&&(q=be.node.getBBox()),be&&typeof be.remove=="function"&&be.remove()}else q={x:R.node.clientLeft,y:R.node.clientTop,width:R.node.clientWidth,height:R.node.clientHeight}}d.Box.call(this,q)}},inherit:d.Box,parent:d.Element,construct:{bbox:function(){return new d.BBox(this)}}}),d.BBox.prototype.constructor=d.BBox,d.Matrix=d.invent({create:function(R){var q=te([1,0,0,1,0,0]);R=R===null?q:R instanceof d.Element?R.matrixify():typeof R=="string"?te(R.split(d.regex.delimiter).map(parseFloat)):arguments.length==6?te([].slice.call(arguments)):Array.isArray(R)?te(R):R&&i(R)==="object"?R:q;for(var se=we.length-1;se>=0;--se)this[we[se]]=R[we[se]]!=null?R[we[se]]:q[we[se]]},extend:{extract:function(){var R=Q(this,0,1);Q(this,1,0);var q=180/Math.PI*Math.atan2(R.y,R.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(q*Math.PI/180)+this.f*Math.sin(q*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(q*Math.PI/180)+this.e*Math.sin(-q*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:q,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new d.Matrix(this)}},clone:function(){return new d.Matrix(this)},morph:function(R){return this.destination=new d.Matrix(R),this},multiply:function(R){return new d.Matrix(this.native().multiply(function(q){return q instanceof d.Matrix||(q=new d.Matrix(q)),q}(R).native()))},inverse:function(){return new d.Matrix(this.native().inverse())},translate:function(R,q){return new d.Matrix(this.native().translate(R||0,q||0))},native:function(){for(var R=d.parser.native.createSVGMatrix(),q=we.length-1;q>=0;q--)R[we[q]]=this[we[q]];return R},toString:function(){return"matrix("+pe(this.a)+","+pe(this.b)+","+pe(this.c)+","+pe(this.d)+","+pe(this.e)+","+pe(this.f)+")"}},parent:d.Element,construct:{ctm:function(){return new d.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof d.Nested){var R=this.rect(1,1),q=R.node.getScreenCTM();return R.remove(),new d.Matrix(q)}return new d.Matrix(this.node.getScreenCTM())}}}),d.Point=d.invent({create:function(R,q){var se;se=Array.isArray(R)?{x:R[0],y:R[1]}:i(R)==="object"?{x:R.x,y:R.y}:R!=null?{x:R,y:q??R}:{x:0,y:0},this.x=se.x,this.y=se.y},extend:{clone:function(){return new d.Point(this)},morph:function(R,q){return this.destination=new d.Point(R,q),this}}}),d.extend(d.Element,{point:function(R,q){return new d.Point(R,q).transform(this.screenCTM().inverse())}}),d.extend(d.Element,{attr:function(R,q,se){if(R==null){for(R={},se=(q=this.node.attributes).length-1;se>=0;se--)R[q[se].nodeName]=d.regex.isNumber.test(q[se].nodeValue)?parseFloat(q[se].nodeValue):q[se].nodeValue;return R}if(i(R)==="object")for(var be in R)this.attr(be,R[be]);else if(q===null)this.node.removeAttribute(R);else{if(q==null)return(q=this.node.getAttribute(R))==null?d.defaults.attrs[R]:d.regex.isNumber.test(q)?parseFloat(q):q;R=="stroke-width"?this.attr("stroke",parseFloat(q)>0?this._stroke:null):R=="stroke"&&(this._stroke=q),R!="fill"&&R!="stroke"||(d.regex.isImage.test(q)&&(q=this.doc().defs().image(q,0,0)),q instanceof d.Image&&(q=this.doc().defs().pattern(0,0,function(){this.add(q)}))),typeof q=="number"?q=new d.Number(q):d.Color.isColor(q)?q=new d.Color(q):Array.isArray(q)&&(q=new d.Array(q)),R=="leading"?this.leading&&this.leading(q):typeof se=="string"?this.node.setAttributeNS(se,R,q.toString()):this.node.setAttribute(R,q.toString()),!this.rebuild||R!="font-size"&&R!="x"||this.rebuild(R,q)}return this}}),d.extend(d.Element,{transform:function(R,q){var se;return i(R)!=="object"?(se=new d.Matrix(this).extract(),typeof R=="string"?se[R]:se):(se=new d.Matrix(this),q=!!q||!!R.relative,R.a!=null&&(se=q?se.multiply(new d.Matrix(R)):new d.Matrix(R)),this.attr("transform",se))}}),d.extend(d.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(d.regex.transforms).slice(0,-1).map(function(R){var q=R.trim().split("(");return[q[0],q[1].split(d.regex.delimiter).map(function(se){return parseFloat(se)})]}).reduce(function(R,q){return q[0]=="matrix"?R.multiply(te(q[1])):R[q[0]].apply(R,q[1])},new d.Matrix)},toParent:function(R){if(this==R)return this;var q=this.screenCTM(),se=R.screenCTM().inverse();return this.addTo(R).untransform().transform(se.multiply(q)),this},toDoc:function(){return this.toParent(this.doc())}}),d.Transformation=d.invent({create:function(R,q){if(arguments.length>1&&typeof q!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(R))for(var se=0,be=this.arguments.length;se<be;++se)this[this.arguments[se]]=R[se];else if(R&&i(R)==="object")for(se=0,be=this.arguments.length;se<be;++se)this[this.arguments[se]]=R[this.arguments[se]];this.inversed=!1,q===!0&&(this.inversed=!0)}}),d.Translate=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(R,q){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),d.extend(d.Element,{style:function(R,q){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(i(R)==="object")for(var se in R)this.style(se,R[se]);else{if(!d.regex.isCss.test(R))return this.node.style[I(R)];for(R=R.split(/\s*;\s*/).filter(function(be){return!!be}).map(function(be){return be.split(/\s*:\s*/)});q=R.pop();)this.style(q[0],q[1])}else this.node.style[I(R)]=q===null||d.regex.isBlank.test(q)?"":q;return this}}),d.Parent=d.invent({create:function(R){this.constructor.call(this,R)},inherit:d.Element,extend:{children:function(){return d.utils.map(d.utils.filterSVGElements(this.node.childNodes),function(R){return d.adopt(R)})},add:function(R,q){return q==null?this.node.appendChild(R.node):R.node!=this.node.childNodes[q]&&this.node.insertBefore(R.node,this.node.childNodes[q]),this},put:function(R,q){return this.add(R,q),R},has:function(R){return this.index(R)>=0},index:function(R){return[].slice.call(this.node.childNodes).indexOf(R.node)},get:function(R){return d.adopt(this.node.childNodes[R])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(R,q){for(var se=this.children(),be=0,Pe=se.length;be<Pe;be++)se[be]instanceof d.Element&&R.apply(se[be],[be,se]),q&&se[be]instanceof d.Container&&se[be].each(R,q);return this},removeElement:function(R){return this.node.removeChild(R.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),d.extend(d.Parent,{ungroup:function(R,q){return q===0||this instanceof d.Defs||this.node==d.parser.draw||(R=R||(this instanceof d.Doc?this:this.parent(d.Parent)),q=q||1/0,this.each(function(){return this instanceof d.Defs?this:this instanceof d.Parent?this.ungroup(R,q-1):this.toParent(R)}),this.node.firstChild||this.remove()),this},flatten:function(R,q){return this.ungroup(R,q)}}),d.Container=d.invent({create:function(R){this.constructor.call(this,R)},inherit:d.Parent}),d.ViewBox=d.invent({parent:d.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(R){d.Element.prototype[R]=function(q){return d.on(this.node,R,q),this}}),d.listeners=[],d.handlerMap=[],d.listenerId=0,d.on=function(R,q,se,be,Pe){var Le=se.bind(be||R.instance||R),ze=(d.handlerMap.indexOf(R)+1||d.handlerMap.push(R))-1,Fe=q.split(".")[0],tt=q.split(".")[1]||"*";d.listeners[ze]=d.listeners[ze]||{},d.listeners[ze][Fe]=d.listeners[ze][Fe]||{},d.listeners[ze][Fe][tt]=d.listeners[ze][Fe][tt]||{},se._svgjsListenerId||(se._svgjsListenerId=++d.listenerId),d.listeners[ze][Fe][tt][se._svgjsListenerId]=Le,R.addEventListener(Fe,Le,Pe||{passive:!0})},d.off=function(R,q,se){var be=d.handlerMap.indexOf(R),Pe=q&&q.split(".")[0],Le=q&&q.split(".")[1],ze="";if(be!=-1)if(se){if(typeof se=="function"&&(se=se._svgjsListenerId),!se)return;d.listeners[be][Pe]&&d.listeners[be][Pe][Le||"*"]&&(R.removeEventListener(Pe,d.listeners[be][Pe][Le||"*"][se],!1),delete d.listeners[be][Pe][Le||"*"][se])}else if(Le&&Pe){if(d.listeners[be][Pe]&&d.listeners[be][Pe][Le]){for(var Fe in d.listeners[be][Pe][Le])d.off(R,[Pe,Le].join("."),Fe);delete d.listeners[be][Pe][Le]}}else if(Le)for(var tt in d.listeners[be])for(var ze in d.listeners[be][tt])Le===ze&&d.off(R,[tt,Le].join("."));else if(Pe){if(d.listeners[be][Pe]){for(var ze in d.listeners[be][Pe])d.off(R,[Pe,ze].join("."));delete d.listeners[be][Pe]}}else{for(var tt in d.listeners[be])d.off(R,tt);delete d.listeners[be],delete d.handlerMap[be]}},d.extend(d.Element,{on:function(R,q,se,be){return d.on(this.node,R,q,se,be),this},off:function(R,q){return d.off(this.node,R,q),this},fire:function(R,q){return R instanceof me.Event?this.node.dispatchEvent(R):this.node.dispatchEvent(R=new d.CustomEvent(R,{detail:q,cancelable:!0})),this._event=R,this},event:function(){return this._event}}),d.Defs=d.invent({create:"defs",inherit:d.Container}),d.G=d.invent({create:"g",inherit:d.Container,extend:{x:function(R){return R==null?this.transform("x"):this.transform({x:R-this.x()},!0)}},construct:{group:function(){return this.put(new d.G)}}}),d.Doc=d.invent({create:function(R){R&&((R=typeof R=="string"?c.getElementById(R):R).nodeName=="svg"?this.constructor.call(this,R):(this.constructor.call(this,d.create("svg")),R.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:d.Container,extend:{namespace:function(){return this.attr({xmlns:d.ns,version:"1.1"}).attr("xmlns:xlink",d.xlink,d.xmlns).attr("xmlns:svgjs",d.svgjs,d.xmlns)},defs:function(){var R;return this._defs||((R=this.node.getElementsByTagName("defs")[0])?this._defs=d.adopt(R):this._defs=new d.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,d.parser.draw&&!d.parser.draw.parentNode&&this.node.appendChild(d.parser.draw),this},clone:function(R){this.writeDataToDom();var q=this.node,se=ae(q.cloneNode(!0));return R?(R.node||R).appendChild(se.node):q.parentNode.insertBefore(se.node,q.nextSibling),se}}}),d.extend(d.Element,{}),d.Gradient=d.invent({create:function(R){this.constructor.call(this,d.create(R+"Gradient")),this.type=R},inherit:d.Container,extend:{at:function(R,q,se){return this.put(new d.Stop).update(R,q,se)},update:function(R){return this.clear(),typeof R=="function"&&R.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(R,q,se){return R=="transform"&&(R="gradientTransform"),d.Container.prototype.attr.call(this,R,q,se)}},construct:{gradient:function(R,q){return this.defs().gradient(R,q)}}}),d.extend(d.Gradient,d.FX,{from:function(R,q){return(this._target||this).type=="radial"?this.attr({fx:new d.Number(R),fy:new d.Number(q)}):this.attr({x1:new d.Number(R),y1:new d.Number(q)})},to:function(R,q){return(this._target||this).type=="radial"?this.attr({cx:new d.Number(R),cy:new d.Number(q)}):this.attr({x2:new d.Number(R),y2:new d.Number(q)})}}),d.extend(d.Defs,{gradient:function(R,q){return this.put(new d.Gradient(R)).update(q)}}),d.Stop=d.invent({create:"stop",inherit:d.Element,extend:{update:function(R){return(typeof R=="number"||R instanceof d.Number)&&(R={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),R.opacity!=null&&this.attr("stop-opacity",R.opacity),R.color!=null&&this.attr("stop-color",R.color),R.offset!=null&&this.attr("offset",new d.Number(R.offset)),this}}}),d.Pattern=d.invent({create:"pattern",inherit:d.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(R){return this.clear(),typeof R=="function"&&R.call(this,this),this},toString:function(){return this.fill()},attr:function(R,q,se){return R=="transform"&&(R="patternTransform"),d.Container.prototype.attr.call(this,R,q,se)}},construct:{pattern:function(R,q,se){return this.defs().pattern(R,q,se)}}}),d.extend(d.Defs,{pattern:function(R,q,se){return this.put(new d.Pattern).update(se).attr({x:0,y:0,width:R,height:q,patternUnits:"userSpaceOnUse"})}}),d.Shape=d.invent({create:function(R){this.constructor.call(this,R)},inherit:d.Element}),d.Symbol=d.invent({create:"symbol",inherit:d.Container,construct:{symbol:function(){return this.put(new d.Symbol)}}}),d.Use=d.invent({create:"use",inherit:d.Shape,extend:{element:function(R,q){return this.attr("href",(q||"")+"#"+R,d.xlink)}},construct:{use:function(R,q){return this.put(new d.Use).element(R,q)}}}),d.Rect=d.invent({create:"rect",inherit:d.Shape,construct:{rect:function(R,q){return this.put(new d.Rect).size(R,q)}}}),d.Circle=d.invent({create:"circle",inherit:d.Shape,construct:{circle:function(R){return this.put(new d.Circle).rx(new d.Number(R).divide(2)).move(0,0)}}}),d.extend(d.Circle,d.FX,{rx:function(R){return this.attr("r",R)},ry:function(R){return this.rx(R)}}),d.Ellipse=d.invent({create:"ellipse",inherit:d.Shape,construct:{ellipse:function(R,q){return this.put(new d.Ellipse).size(R,q).move(0,0)}}}),d.extend(d.Ellipse,d.Rect,d.FX,{rx:function(R){return this.attr("rx",R)},ry:function(R){return this.attr("ry",R)}}),d.extend(d.Circle,d.Ellipse,{x:function(R){return R==null?this.cx()-this.rx():this.cx(R+this.rx())},y:function(R){return R==null?this.cy()-this.ry():this.cy(R+this.ry())},cx:function(R){return R==null?this.attr("cx"):this.attr("cx",R)},cy:function(R){return R==null?this.attr("cy"):this.attr("cy",R)},width:function(R){return R==null?2*this.rx():this.rx(new d.Number(R).divide(2))},height:function(R){return R==null?2*this.ry():this.ry(new d.Number(R).divide(2))},size:function(R,q){var se=X(this,R,q);return this.rx(new d.Number(se.width).divide(2)).ry(new d.Number(se.height).divide(2))}}),d.Line=d.invent({create:"line",inherit:d.Shape,extend:{array:function(){return new d.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(R,q,se,be){return R==null?this.array():(R=q!==void 0?{x1:R,y1:q,x2:se,y2:be}:new d.PointArray(R).toLine(),this.attr(R))},move:function(R,q){return this.attr(this.array().move(R,q).toLine())},size:function(R,q){var se=X(this,R,q);return this.attr(this.array().size(se.width,se.height).toLine())}},construct:{line:function(R,q,se,be){return d.Line.prototype.plot.apply(this.put(new d.Line),R!=null?[R,q,se,be]:[0,0,0,0])}}}),d.Polyline=d.invent({create:"polyline",inherit:d.Shape,construct:{polyline:function(R){return this.put(new d.Polyline).plot(R||new d.PointArray)}}}),d.Polygon=d.invent({create:"polygon",inherit:d.Shape,construct:{polygon:function(R){return this.put(new d.Polygon).plot(R||new d.PointArray)}}}),d.extend(d.Polyline,d.Polygon,{array:function(){return this._array||(this._array=new d.PointArray(this.attr("points")))},plot:function(R){return R==null?this.array():this.clear().attr("points",typeof R=="string"?R:this._array=new d.PointArray(R))},clear:function(){return delete this._array,this},move:function(R,q){return this.attr("points",this.array().move(R,q))},size:function(R,q){var se=X(this,R,q);return this.attr("points",this.array().size(se.width,se.height))}}),d.extend(d.Line,d.Polyline,d.Polygon,{morphArray:d.PointArray,x:function(R){return R==null?this.bbox().x:this.move(R,this.bbox().y)},y:function(R){return R==null?this.bbox().y:this.move(this.bbox().x,R)},width:function(R){var q=this.bbox();return R==null?q.width:this.size(R,q.height)},height:function(R){var q=this.bbox();return R==null?q.height:this.size(q.width,R)}}),d.Path=d.invent({create:"path",inherit:d.Shape,extend:{morphArray:d.PathArray,array:function(){return this._array||(this._array=new d.PathArray(this.attr("d")))},plot:function(R){return R==null?this.array():this.clear().attr("d",typeof R=="string"?R:this._array=new d.PathArray(R))},clear:function(){return delete this._array,this}},construct:{path:function(R){return this.put(new d.Path).plot(R||new d.PathArray)}}}),d.Image=d.invent({create:"image",inherit:d.Shape,extend:{load:function(R){if(!R)return this;var q=this,se=new me.Image;return d.on(se,"load",function(){d.off(se);var be=q.parent(d.Pattern);be!==null&&(q.width()==0&&q.height()==0&&q.size(se.width,se.height),be&&be.width()==0&&be.height()==0&&be.size(q.width(),q.height()),typeof q._loaded=="function"&&q._loaded.call(q,{width:se.width,height:se.height,ratio:se.width/se.height,url:R}))}),d.on(se,"error",function(be){d.off(se),typeof q._error=="function"&&q._error.call(q,be)}),this.attr("href",se.src=this.src=R,d.xlink)},loaded:function(R){return this._loaded=R,this},error:function(R){return this._error=R,this}},construct:{image:function(R,q,se){return this.put(new d.Image).load(R).size(q||0,se||q||0)}}}),d.Text=d.invent({create:function(){this.constructor.call(this,d.create("text")),this.dom.leading=new d.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",d.defaults.attrs["font-family"])},inherit:d.Shape,extend:{x:function(R){return R==null?this.attr("x"):this.attr("x",R)},text:function(R){if(R===void 0){R="";for(var q=this.node.childNodes,se=0,be=q.length;se<be;++se)se!=0&&q[se].nodeType!=3&&d.adopt(q[se]).dom.newLined==1&&(R+=`
`),R+=q[se].textContent;return R}if(this.clear().build(!0),typeof R=="function")R.call(this,this);else{se=0;for(var Pe=(R=R.split(`
`)).length;se<Pe;se++)this.tspan(R[se]).newLine()}return this.build(!1).rebuild()},size:function(R){return this.attr("font-size",R).rebuild()},leading:function(R){return R==null?this.dom.leading:(this.dom.leading=new d.Number(R),this.rebuild())},lines:function(){var R=(this.textPath&&this.textPath()||this).node,q=d.utils.map(d.utils.filterSVGElements(R.childNodes),function(se){return d.adopt(se)});return new d.Set(q)},rebuild:function(R){if(typeof R=="boolean"&&(this._rebuild=R),this._rebuild){var q=this,se=0,be=this.dom.leading*new d.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(q.textPath()||this.attr("x",q.attr("x")),this.text()==`
`?se+=be:(this.attr("dy",be+se),se=0))}),this.fire("rebuild")}return this},build:function(R){return this._build=!!R,this},setData:function(R){return this.dom=R,this.dom.leading=new d.Number(R.leading||1.3),this}},construct:{text:function(R){return this.put(new d.Text).text(R)},plain:function(R){return this.put(new d.Text).plain(R)}}}),d.Tspan=d.invent({create:"tspan",inherit:d.Shape,extend:{text:function(R){return R==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof R=="function"?R.call(this,this):this.plain(R),this)},dx:function(R){return this.attr("dx",R)},dy:function(R){return this.attr("dy",R)},newLine:function(){var R=this.parent(d.Text);return this.dom.newLined=!0,this.dy(R.dom.leading*R.attr("font-size")).attr("x",R.x())}}}),d.extend(d.Text,d.Tspan,{plain:function(R){return this._build===!1&&this.clear(),this.node.appendChild(c.createTextNode(R)),this},tspan:function(R){var q=(this.textPath&&this.textPath()||this).node,se=new d.Tspan;return this._build===!1&&this.clear(),q.appendChild(se.node),se.text(R)},clear:function(){for(var R=(this.textPath&&this.textPath()||this).node;R.hasChildNodes();)R.removeChild(R.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),d.TextPath=d.invent({create:"textPath",inherit:d.Parent,parent:d.Text,construct:{morphArray:d.PathArray,array:function(){var R=this.track();return R?R.array():null},plot:function(R){var q=this.track(),se=null;return q&&(se=q.plot(R)),R==null?se:this},track:function(){var R=this.textPath();if(R)return R.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return d.adopt(this.node.firstChild)}}}),d.Nested=d.invent({create:function(){this.constructor.call(this,d.create("svg")),this.style("overflow","visible")},inherit:d.Container,construct:{nested:function(){return this.put(new d.Nested)}}});var S={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(R,q){return q=="color"?R:R+"-"+q}};function P(R,q,se,be){return se+be.replace(d.regex.dots," .")}function I(R){return R.toLowerCase().replace(/-(.)/g,function(q,se){return se.toUpperCase()})}function z(R){return R.charAt(0).toUpperCase()+R.slice(1)}function U(R){var q=R.toString(16);return q.length==1?"0"+q:q}function X(R,q,se){if(q==null||se==null){var be=R.bbox();q==null?q=be.width/be.height*se:se==null&&(se=be.height/be.width*q)}return{width:q,height:se}}function Q(R,q,se){return{x:q*R.a+se*R.c+0,y:q*R.b+se*R.d+0}}function te(R){return{a:R[0],b:R[1],c:R[2],d:R[3],e:R[4],f:R[5]}}function ae(R){for(var q=R.childNodes.length-1;q>=0;q--)R.childNodes[q]instanceof me.SVGElement&&ae(R.childNodes[q]);return d.adopt(R).id(d.eid(R.nodeName))}function pe(R){return Math.abs(R)>1e-37?R:0}["fill","stroke"].forEach(function(R){var q={};q[R]=function(se){if(se===void 0)return this;if(typeof se=="string"||d.Color.isRgb(se)||se&&typeof se.fill=="function")this.attr(R,se);else for(var be=S[R].length-1;be>=0;be--)se[S[R][be]]!=null&&this.attr(S.prefix(R,S[R][be]),se[S[R][be]]);return this},d.extend(d.Element,d.FX,q)}),d.extend(d.Element,d.FX,{translate:function(R,q){return this.transform({x:R,y:q})},matrix:function(R){return this.attr("transform",new d.Matrix(arguments.length==6?[].slice.call(arguments):R))},opacity:function(R){return this.attr("opacity",R)},dx:function(R){return this.x(new d.Number(R).plus(this instanceof d.FX?0:this.x()),!0)},dy:function(R){return this.y(new d.Number(R).plus(this instanceof d.FX?0:this.y()),!0)}}),d.extend(d.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(R){return this.node.getPointAtLength(R)}}),d.Set=d.invent({create:function(R){Array.isArray(R)?this.members=R:this.clear()},extend:{add:function(){for(var R=[].slice.call(arguments),q=0,se=R.length;q<se;q++)this.members.push(R[q]);return this},remove:function(R){var q=this.index(R);return q>-1&&this.members.splice(q,1),this},each:function(R){for(var q=0,se=this.members.length;q<se;q++)R.apply(this.members[q],[q,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(R){return this.index(R)>=0},index:function(R){return this.members.indexOf(R)},get:function(R){return this.members[R]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(R){return new d.Set(R)}}}),d.FX.Set=d.invent({create:function(R){this.set=R}}),d.Set.inherit=function(){var R=[];for(var q in d.Shape.prototype)typeof d.Shape.prototype[q]=="function"&&typeof d.Set.prototype[q]!="function"&&R.push(q);for(var q in R.forEach(function(be){d.Set.prototype[be]=function(){for(var Pe=0,Le=this.members.length;Pe<Le;Pe++)this.members[Pe]&&typeof this.members[Pe][be]=="function"&&this.members[Pe][be].apply(this.members[Pe],arguments);return be=="animate"?this.fx||(this.fx=new d.FX.Set(this)):this}}),R=[],d.FX.prototype)typeof d.FX.prototype[q]=="function"&&typeof d.FX.Set.prototype[q]!="function"&&R.push(q);R.forEach(function(se){d.FX.Set.prototype[se]=function(){for(var be=0,Pe=this.set.members.length;be<Pe;be++)this.set.members[be].fx[se].apply(this.set.members[be].fx,arguments);return this}})},d.extend(d.Element,{}),d.extend(d.Element,{remember:function(R,q){if(i(arguments[0])==="object")for(var se in R)this.remember(se,R[se]);else{if(arguments.length==1)return this.memory()[R];this.memory()[R]=q}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var R=arguments.length-1;R>=0;R--)delete this.memory()[arguments[R]];return this},memory:function(){return this._memory||(this._memory={})}}),d.get=function(R){var q=c.getElementById(function(se){var be=(se||"").toString().match(d.regex.reference);if(be)return be[1]}(R)||R);return d.adopt(q)},d.select=function(R,q){return new d.Set(d.utils.map((q||c).querySelectorAll(R),function(se){return d.adopt(se)}))},d.extend(d.Parent,{select:function(R){return d.select(R,this.node)}});var we="abcdef".split("");if(typeof me.CustomEvent!="function"){var Ce=function(R,q){q=q||{bubbles:!1,cancelable:!1,detail:void 0};var se=c.createEvent("CustomEvent");return se.initCustomEvent(R,q.bubbles,q.cancelable,q.detail),se};Ce.prototype=me.Event.prototype,d.CustomEvent=Ce}else d.CustomEvent=me.CustomEvent;return d},i(e)==="object"?t.exports=Ht.document?sr(Ht,Ht.document):function(me){return sr(me,me.document)}:Ht.SVG=sr(Ht,Ht.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(j,S){return this.add(j,S),!j.attr("in")&&this.autoSetIn&&j.attr("in",this.source),j.attr("result")||j.attr("result",j),j},blend:function(j,S,P){return this.put(new SVG.BlendEffect(j,S,P))},colorMatrix:function(j,S){return this.put(new SVG.ColorMatrixEffect(j,S))},convolveMatrix:function(j){return this.put(new SVG.ConvolveMatrixEffect(j))},componentTransfer:function(j){return this.put(new SVG.ComponentTransferEffect(j))},composite:function(j,S,P){return this.put(new SVG.CompositeEffect(j,S,P))},flood:function(j,S){return this.put(new SVG.FloodEffect(j,S))},offset:function(j,S){return this.put(new SVG.OffsetEffect(j,S))},image:function(j){return this.put(new SVG.ImageEffect(j))},merge:function(){var j=[void 0];for(var S in arguments)j.push(arguments[S]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,j)))},gaussianBlur:function(j,S){return this.put(new SVG.GaussianBlurEffect(j,S))},morphology:function(j,S){return this.put(new SVG.MorphologyEffect(j,S))},diffuseLighting:function(j,S,P){return this.put(new SVG.DiffuseLightingEffect(j,S,P))},displacementMap:function(j,S,P,I,z){return this.put(new SVG.DisplacementMapEffect(j,S,P,I,z))},specularLighting:function(j,S,P,I){return this.put(new SVG.SpecularLightingEffect(j,S,P,I))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(j,S,P,I,z){return this.put(new SVG.TurbulenceEffect(j,S,P,I,z))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(j){var S=this.put(new SVG.Filter);return typeof j=="function"&&j.call(S,S),S}}),SVG.extend(SVG.Container,{filter:function(j){return this.defs().filter(j)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(j){return this.filterer=j instanceof SVG.Element?j:this.doc().filter(j),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(j){return this.filterer&&j===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(j){return j==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",j)},result:function(j){return j==null?this.attr("result"):this.attr("result",j)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(j){return j==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",j)},result:function(j){return j==null?this.attr("result"):this.attr("result",j)},toString:function(){return this.result()}}});var me={blend:function(j,S){return this.parent()&&this.parent().blend(this,j,S)},colorMatrix:function(j,S){return this.parent()&&this.parent().colorMatrix(j,S).in(this)},convolveMatrix:function(j){return this.parent()&&this.parent().convolveMatrix(j).in(this)},componentTransfer:function(j){return this.parent()&&this.parent().componentTransfer(j).in(this)},composite:function(j,S){return this.parent()&&this.parent().composite(this,j,S)},flood:function(j,S){return this.parent()&&this.parent().flood(j,S)},offset:function(j,S){return this.parent()&&this.parent().offset(j,S).in(this)},image:function(j){return this.parent()&&this.parent().image(j)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(j,S){return this.parent()&&this.parent().gaussianBlur(j,S).in(this)},morphology:function(j,S){return this.parent()&&this.parent().morphology(j,S).in(this)},diffuseLighting:function(j,S,P){return this.parent()&&this.parent().diffuseLighting(j,S,P).in(this)},displacementMap:function(j,S,P,I){return this.parent()&&this.parent().displacementMap(this,j,S,P,I)},specularLighting:function(j,S,P,I){return this.parent()&&this.parent().specularLighting(j,S,P,I).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(j,S,P,I,z){return this.parent()&&this.parent().turbulence(j,S,P,I,z).in(this)}};SVG.extend(SVG.Effect,me),SVG.extend(SVG.ParentEffect,me),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(j){this.attr("in",j)}}});var c={blend:function(j,S,P){this.attr({in:j,in2:S,mode:P||"normal"})},colorMatrix:function(j,S){j=="matrix"&&(S=v(S)),this.attr({type:j,values:S===void 0?null:S})},convolveMatrix:function(j){j=v(j),this.attr({order:Math.sqrt(j.split(" ").length),kernelMatrix:j})},composite:function(j,S,P){this.attr({in:j,in2:S,operator:P})},flood:function(j,S){this.attr("flood-color",j),S!=null&&this.attr("flood-opacity",S)},offset:function(j,S){this.attr({dx:j,dy:S})},image:function(j){this.attr("href",j,SVG.xlink)},displacementMap:function(j,S,P,I,z){this.attr({in:j,in2:S,scale:P,xChannelSelector:I,yChannelSelector:z})},gaussianBlur:function(j,S){j!=null||S!=null?this.attr("stdDeviation",function(P){if(!Array.isArray(P))return P;for(var I=0,z=P.length,U=[];I<z;I++)U.push(P[I]);return U.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(j,S){this.attr({operator:j,radius:S})},tile:function(){},turbulence:function(j,S,P,I,z){this.attr({numOctaves:S,seed:P,stitchTiles:I,baseFrequency:j,type:z})}},d={merge:function(){var j;if(arguments[0]instanceof SVG.Set){var S=this;arguments[0].each(function(I){this instanceof SVG.MergeNode?S.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&S.put(new SVG.MergeNode(this))})}else{j=Array.isArray(arguments[0])?arguments[0]:arguments;for(var P=0;P<j.length;P++)j[P]instanceof SVG.MergeNode?this.put(j[P]):this.put(new SVG.MergeNode(j[P]))}},componentTransfer:function(j){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(P){this[P]=new SVG["Func"+P.toUpperCase()]("identity"),this.rgb.add(this[P]),this.node.appendChild(this[P].node)}).bind(this)),j)for(var S in j.rgb&&(["r","g","b"].forEach((function(P){this[P].attr(j.rgb)}).bind(this)),delete j.rgb),j)this[S].attr(j[S])},diffuseLighting:function(j,S,P){this.attr({surfaceScale:j,diffuseConstant:S,kernelUnitLength:P})},specularLighting:function(j,S,P,I){this.attr({surfaceScale:j,diffuseConstant:S,specularExponent:P,kernelUnitLength:I})}},m={distantLight:function(j,S){this.attr({azimuth:j,elevation:S})},pointLight:function(j,S,P){this.attr({x:j,y:S,z:P})},spotLight:function(j,S,P,I,z,U){this.attr({x:j,y:S,z:P,pointsAtX:I,pointsAtY:z,pointsAtZ:U})},mergeNode:function(j){this.attr("in",j)}};function v(j){return Array.isArray(j)&&(j=new SVG.Array(j)),j.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function w(){var j=function(){};for(var S in typeof arguments[arguments.length-1]=="function"&&(j=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var P in arguments[S])j(arguments[S][P],P,arguments[S])}["r","g","b","a"].forEach(function(j){m["Func"+j.toUpperCase()]=function(S){switch(this.attr("type",S),S){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),w(c,function(j,S){var P=S.charAt(0).toUpperCase()+S.slice(1);SVG[P+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+P)),j.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),w(d,function(j,S){var P=S.charAt(0).toUpperCase()+S.slice(1);SVG[P+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+P)),j.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),w(m,function(j,S){var P=S.charAt(0).toUpperCase()+S.slice(1);SVG[P]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+P)),j.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(j){return j instanceof SVG.MergeNode?this.add(j,0):this.add(new SVG.MergeNode(j),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(j){return j==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",j)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function me(w,j,S,P,I,z,U){for(var X=w.slice(j,S||U),Q=P.slice(I,z||U),te=0,ae={pos:[0,0],start:[0,0]},pe={pos:[0,0],start:[0,0]};X[te]=c.call(ae,X[te]),Q[te]=c.call(pe,Q[te]),X[te][0]!=Q[te][0]||X[te][0]=="M"||X[te][0]=="A"&&(X[te][4]!=Q[te][4]||X[te][5]!=Q[te][5])?(Array.prototype.splice.apply(X,[te,1].concat(m.call(ae,X[te]))),Array.prototype.splice.apply(Q,[te,1].concat(m.call(pe,Q[te])))):(X[te]=d.call(ae,X[te]),Q[te]=d.call(pe,Q[te])),!(++te==X.length&&te==Q.length);)te==X.length&&X.push(["C",ae.pos[0],ae.pos[1],ae.pos[0],ae.pos[1],ae.pos[0],ae.pos[1]]),te==Q.length&&Q.push(["C",pe.pos[0],pe.pos[1],pe.pos[0],pe.pos[1],pe.pos[0],pe.pos[1]]);return{start:X,dest:Q}}function c(w){switch(w[0]){case"z":case"Z":w[0]="L",w[1]=this.start[0],w[2]=this.start[1];break;case"H":w[0]="L",w[2]=this.pos[1];break;case"V":w[0]="L",w[2]=w[1],w[1]=this.pos[0];break;case"T":w[0]="Q",w[3]=w[1],w[4]=w[2],w[1]=this.reflection[1],w[2]=this.reflection[0];break;case"S":w[0]="C",w[6]=w[4],w[5]=w[3],w[4]=w[2],w[3]=w[1],w[2]=this.reflection[1],w[1]=this.reflection[0]}return w}function d(w){var j=w.length;return this.pos=[w[j-2],w[j-1]],"SCQT".indexOf(w[0])!=-1&&(this.reflection=[2*this.pos[0]-w[j-4],2*this.pos[1]-w[j-3]]),w}function m(w){var j=[w];switch(w[0]){case"M":return this.pos=this.start=[w[1],w[2]],j;case"L":w[5]=w[3]=w[1],w[6]=w[4]=w[2],w[1]=this.pos[0],w[2]=this.pos[1];break;case"Q":w[6]=w[4],w[5]=w[3],w[4]=1*w[4]/3+2*w[2]/3,w[3]=1*w[3]/3+2*w[1]/3,w[2]=1*this.pos[1]/3+2*w[2]/3,w[1]=1*this.pos[0]/3+2*w[1]/3;break;case"A":j=function(S,P){var I,z,U,X,Q,te,ae,pe,we,Ce,R,q,se,be,Pe,Le,ze,Fe,tt,ft,mt,vt,Dt,ur,wr,zr,ds=Math.abs(P[1]),Jr=Math.abs(P[2]),us=P[3]%360,Cn=P[4],wn=P[5],Yi=P[6],Ci=P[7],hn=new SVG.Point(S),Kt=new SVG.Point(Yi,Ci),fn=[];if(ds===0||Jr===0||hn.x===Kt.x&&hn.y===Kt.y)return[["C",hn.x,hn.y,Kt.x,Kt.y,Kt.x,Kt.y]];for(I=new SVG.Point((hn.x-Kt.x)/2,(hn.y-Kt.y)/2).transform(new SVG.Matrix().rotate(us)),(z=I.x*I.x/(ds*ds)+I.y*I.y/(Jr*Jr))>1&&(ds*=z=Math.sqrt(z),Jr*=z),U=new SVG.Matrix().rotate(us).scale(1/ds,1/Jr).rotate(-us),hn=hn.transform(U),Kt=Kt.transform(U),X=[Kt.x-hn.x,Kt.y-hn.y],te=X[0]*X[0]+X[1]*X[1],Q=Math.sqrt(te),X[0]/=Q,X[1]/=Q,ae=te<4?Math.sqrt(1-te/4):0,Cn===wn&&(ae*=-1),pe=new SVG.Point((Kt.x+hn.x)/2+ae*-X[1],(Kt.y+hn.y)/2+ae*X[0]),we=new SVG.Point(hn.x-pe.x,hn.y-pe.y),Ce=new SVG.Point(Kt.x-pe.x,Kt.y-pe.y),R=Math.acos(we.x/Math.sqrt(we.x*we.x+we.y*we.y)),we.y<0&&(R*=-1),q=Math.acos(Ce.x/Math.sqrt(Ce.x*Ce.x+Ce.y*Ce.y)),Ce.y<0&&(q*=-1),wn&&R>q&&(q+=2*Math.PI),!wn&&R<q&&(q-=2*Math.PI),be=Math.ceil(2*Math.abs(R-q)/Math.PI),Le=[],ze=R,se=(q-R)/be,Pe=4*Math.tan(se/4)/3,mt=0;mt<=be;mt++)tt=Math.cos(ze),Fe=Math.sin(ze),ft=new SVG.Point(pe.x+tt,pe.y+Fe),Le[mt]=[new SVG.Point(ft.x+Pe*Fe,ft.y-Pe*tt),ft,new SVG.Point(ft.x-Pe*Fe,ft.y+Pe*tt)],ze+=se;for(Le[0][0]=Le[0][1].clone(),Le[Le.length-1][2]=Le[Le.length-1][1].clone(),U=new SVG.Matrix().rotate(us).scale(ds,Jr).rotate(-us),mt=0,vt=Le.length;mt<vt;mt++)Le[mt][0]=Le[mt][0].transform(U),Le[mt][1]=Le[mt][1].transform(U),Le[mt][2]=Le[mt][2].transform(U);for(mt=1,vt=Le.length;mt<vt;mt++)Dt=(ft=Le[mt-1][2]).x,ur=ft.y,wr=(ft=Le[mt][0]).x,zr=ft.y,Yi=(ft=Le[mt][1]).x,Ci=ft.y,fn.push(["C",Dt,ur,wr,zr,Yi,Ci]);return fn}(this.pos,w),w=j[0]}return w[0]="C",this.pos=[w[5],w[6]],this.reflection=[2*w[5]-w[3],2*w[6]-w[4]],j}function v(w,j){if(j===!1)return!1;for(var S=j,P=w.length;S<P;++S)if(w[S][0]=="M")return S;return!1}SVG.extend(SVG.PathArray,{morph:function(w){for(var j=this.value,S=this.parse(w),P=0,I=0,z=!1,U=!1;P!==!1||I!==!1;){var X;z=v(j,P!==!1&&P+1),U=v(S,I!==!1&&I+1),P===!1&&(P=(X=new SVG.PathArray(Q.start).bbox()).height==0||X.width==0?j.push(j[0])-1:j.push(["M",X.x+X.width/2,X.y+X.height/2])-1),I===!1&&(I=(X=new SVG.PathArray(Q.dest).bbox()).height==0||X.width==0?S.push(S[0])-1:S.push(["M",X.x+X.width/2,X.y+X.height/2])-1);var Q=me(j,P,z,S,I,U);j=j.slice(0,P).concat(Q.start,z===!1?[]:j.slice(z)),S=S.slice(0,I).concat(Q.dest,U===!1?[]:S.slice(U)),P=z!==!1&&P+Q.start.length,I=U!==!1&&I+Q.dest.length}return this.value=j,this.destination=new SVG.PathArray,this.destination.value=S,this}})}(),(function(){function me(c){c.remember("_draggable",this),this.el=c}me.prototype.init=function(c,d){var m=this;this.constraint=c,this.value=d,this.el.on("mousedown.drag",function(v){m.start(v)}),this.el.on("touchstart.drag",function(v){m.start(v)})},me.prototype.transformPoint=function(c,d){var m=(c=c||window.event).changedTouches&&c.changedTouches[0]||c;return this.p.x=m.clientX-(d||0),this.p.y=m.clientY,this.p.matrixTransform(this.m)},me.prototype.getBBox=function(){var c=this.el.bbox();return this.el instanceof SVG.Nested&&(c=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(c.x=this.el.x(),c.y=this.el.y()),c},me.prototype.start=function(c){if(c.type!="click"&&c.type!="mousedown"&&c.type!="mousemove"||(c.which||c.buttons)==1){var d=this;if(this.el.fire("beforedrag",{event:c,handler:this}),!this.el.event().defaultPrevented){c.preventDefault(),c.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var m,v=this.getBBox();if(this.el instanceof SVG.Text)switch(m=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":m/=2;break;case"start":m=0}this.startPoints={point:this.transformPoint(c,m),box:v,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(w){d.drag(w)}),SVG.on(window,"touchmove.drag",function(w){d.drag(w)}),SVG.on(window,"mouseup.drag",function(w){d.end(w)}),SVG.on(window,"touchend.drag",function(w){d.end(w)}),this.el.fire("dragstart",{event:c,p:this.startPoints.point,m:this.m,handler:this})}}},me.prototype.drag=function(c){var d=this.getBBox(),m=this.transformPoint(c),v=this.startPoints.box.x+m.x-this.startPoints.point.x,w=this.startPoints.box.y+m.y-this.startPoints.point.y,j=this.constraint,S=m.x-this.startPoints.point.x,P=m.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:c,p:m,m:this.m,handler:this}),this.el.event().defaultPrevented)return m;if(typeof j=="function"){var I=j.call(this.el,v,w,this.m);typeof I=="boolean"&&(I={x:I,y:I}),I.x===!0?this.el.x(v):I.x!==!1&&this.el.x(I.x),I.y===!0?this.el.y(w):I.y!==!1&&this.el.y(I.y)}else typeof j=="object"&&(j.minX!=null&&v<j.minX?S=(v=j.minX)-this.startPoints.box.x:j.maxX!=null&&v>j.maxX-d.width&&(S=(v=j.maxX-d.width)-this.startPoints.box.x),j.minY!=null&&w<j.minY?P=(w=j.minY)-this.startPoints.box.y:j.maxY!=null&&w>j.maxY-d.height&&(P=(w=j.maxY-d.height)-this.startPoints.box.y),j.snapToGrid!=null&&(v-=v%j.snapToGrid,w-=w%j.snapToGrid,S-=S%j.snapToGrid,P-=P%j.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:S,y:P},!0):this.el.move(v,w));return m},me.prototype.end=function(c){var d=this.drag(c);this.el.fire("dragend",{event:c,p:d,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(c,d){typeof c!="function"&&typeof c!="object"||(d=c,c=!0);var m=this.remember("_draggable")||new me(this);return(c=c===void 0||c)?m.init(d||{},c):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function me(c){this.el=c,c.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(d,m,v){var w=typeof d!="string"?d:m[d];return v?w/2:w},this.pointCoords=function(d,m){var v=this.pointsList[d];return{x:this.pointCoord(v[0],m,d==="t"||d==="b"),y:this.pointCoord(v[1],m,d==="r"||d==="l")}}}me.prototype.init=function(c,d){var m=this.el.bbox();this.options={};var v=this.el.selectize.defaults.points;for(var w in this.el.selectize.defaults)this.options[w]=this.el.selectize.defaults[w],d[w]!==void 0&&(this.options[w]=d[w]);var j=["points","pointsExclude"];for(var w in j){var S=this.options[j[w]];typeof S=="string"?S=S.length>0?S.split(/\s*,\s*/i):[]:typeof S=="boolean"&&j[w]==="points"&&(S=S?v:[]),this.options[j[w]]=S}this.options.points=[v,this.options.points].reduce(function(P,I){return P.filter(function(z){return I.indexOf(z)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(P,I){return P.filter(function(z){return I.indexOf(z)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(m.x,m.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(c):this.selectRect(c),this.observe(),this.cleanup()},me.prototype.selectPoints=function(c){return this.pointSelection.isSelected=c,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},me.prototype.getPointArray=function(){var c=this.el.bbox();return this.el.array().valueOf().map(function(d){return[d[0]-c.x,d[1]-c.y]})},me.prototype.drawPoints=function(){for(var c=this,d=this.getPointArray(),m=0,v=d.length;m<v;++m){var w=function(S){return function(P){(P=P||window.event).preventDefault?P.preventDefault():P.returnValue=!1,P.stopPropagation();var I=P.pageX||P.touches[0].pageX,z=P.pageY||P.touches[0].pageY;c.el.fire("point",{x:I,y:z,i:S,event:P})}}(m),j=this.drawPoint(d[m][0],d[m][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",w).on("mousedown",w);this.pointSelection.set.add(j)}},me.prototype.drawPoint=function(c,d){var m=this.options.pointType;switch(m){case"circle":return this.drawCircle(c,d);case"rect":return this.drawRect(c,d);default:if(typeof m=="function")return m.call(this,c,d);throw new Error("Unknown "+m+" point type!")}},me.prototype.drawCircle=function(c,d){return this.nested.circle(this.options.pointSize).center(c,d)},me.prototype.drawRect=function(c,d){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(c,d)},me.prototype.updatePointSelection=function(){var c=this.getPointArray();this.pointSelection.set.each(function(d){this.cx()===c[d][0]&&this.cy()===c[d][1]||this.center(c[d][0],c[d][1])})},me.prototype.updateRectSelection=function(){var c=this,d=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:d.width,height:d.height}),this.options.points.length&&this.options.points.map(function(v,w){var j=c.pointCoords(v,d);c.rectSelection.set.get(w+1).center(j.x,j.y)}),this.options.rotationPoint){var m=this.rectSelection.set.length();this.rectSelection.set.get(m-1).center(d.width/2,20)}},me.prototype.selectRect=function(c){var d=this,m=this.el.bbox();function v(S){return function(P){(P=P||window.event).preventDefault?P.preventDefault():P.returnValue=!1,P.stopPropagation();var I=P.pageX||P.touches[0].pageX,z=P.pageY||P.touches[0].pageY;d.el.fire(S,{x:I,y:z,event:P})}}if(this.rectSelection.isSelected=c,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(m.width,m.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(S,P){var I=d.pointCoords(S,m),z=d.drawPoint(I.x,I.y).attr("class",d.options.classPoints+"_"+S).on("mousedown",v(S)).on("touchstart",v(S));d.rectSelection.set.add(z)}),this.rectSelection.set.each(function(){this.addClass(d.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var w=function(S){(S=S||window.event).preventDefault?S.preventDefault():S.returnValue=!1,S.stopPropagation();var P=S.pageX||S.touches[0].pageX,I=S.pageY||S.touches[0].pageY;d.el.fire("rot",{x:P,y:I,event:S})},j=this.drawPoint(m.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",w).on("mousedown",w);this.rectSelection.set.add(j)}},me.prototype.handler=function(){var c=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(c.x,c.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},me.prototype.observe=function(){var c=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){c.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){c.handler()})},me.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(c,d){return typeof c=="object"&&(d=c,c=!0),(this.remember("_selectHandler")||new me(this)).init(c===void 0||c,d||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function me(c){c.remember("_resizeHandler",this),this.el=c,this.parameters={},this.lastUpdateCall=null,this.p=c.doc().node.createSVGPoint()}me.prototype.transformPoint=function(c,d,m){return this.p.x=c-(this.offset.x-window.pageXOffset),this.p.y=d-(this.offset.y-window.pageYOffset),this.p.matrixTransform(m||this.m)},me.prototype._extractPosition=function(c){return{x:c.clientX!=null?c.clientX:c.touches[0].clientX,y:c.clientY!=null?c.clientY:c.touches[0].clientY}},me.prototype.init=function(c){var d=this;if(this.stop(),c!=="stop"){for(var m in this.options={},this.el.resize.defaults)this.options[m]=this.el.resize.defaults[m],c[m]!==void 0&&(this.options[m]=c[m]);this.el.on("lt.resize",function(v){d.resize(v||window.event)}),this.el.on("rt.resize",function(v){d.resize(v||window.event)}),this.el.on("rb.resize",function(v){d.resize(v||window.event)}),this.el.on("lb.resize",function(v){d.resize(v||window.event)}),this.el.on("t.resize",function(v){d.resize(v||window.event)}),this.el.on("r.resize",function(v){d.resize(v||window.event)}),this.el.on("b.resize",function(v){d.resize(v||window.event)}),this.el.on("l.resize",function(v){d.resize(v||window.event)}),this.el.on("rot.resize",function(v){d.resize(v||window.event)}),this.el.on("point.resize",function(v){d.resize(v||window.event)}),this.update()}},me.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},me.prototype.resize=function(c){var d=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var m=this._extractPosition(c.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(m.x,m.y),x:c.detail.x,y:c.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),c.detail.i!==void 0){var v=this.el.array().valueOf();this.parameters.i=c.detail.i,this.parameters.pointCoords=[v[c.detail.i][0],v[c.detail.i][1]]}switch(c.type){case"lt":this.calc=function(w,j){var S=this.snapToGrid(w,j);if(this.parameters.box.width-S[0]>0&&this.parameters.box.height-S[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+S[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-S[0]);S=this.checkAspectRatio(S),this.el.move(this.parameters.box.x+S[0],this.parameters.box.y+S[1]).size(this.parameters.box.width-S[0],this.parameters.box.height-S[1])}};break;case"rt":this.calc=function(w,j){var S=this.snapToGrid(w,j,2);if(this.parameters.box.width+S[0]>0&&this.parameters.box.height-S[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-S[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+S[0]);S=this.checkAspectRatio(S,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+S[1]).size(this.parameters.box.width+S[0],this.parameters.box.height-S[1])}};break;case"rb":this.calc=function(w,j){var S=this.snapToGrid(w,j,0);if(this.parameters.box.width+S[0]>0&&this.parameters.box.height+S[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-S[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+S[0]);S=this.checkAspectRatio(S),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+S[0],this.parameters.box.height+S[1])}};break;case"lb":this.calc=function(w,j){var S=this.snapToGrid(w,j,1);if(this.parameters.box.width-S[0]>0&&this.parameters.box.height+S[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+S[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-S[0]);S=this.checkAspectRatio(S,!0),this.el.move(this.parameters.box.x+S[0],this.parameters.box.y).size(this.parameters.box.width-S[0],this.parameters.box.height+S[1])}};break;case"t":this.calc=function(w,j){var S=this.snapToGrid(w,j,2);if(this.parameters.box.height-S[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+S[1]).height(this.parameters.box.height-S[1])}};break;case"r":this.calc=function(w,j){var S=this.snapToGrid(w,j,0);if(this.parameters.box.width+S[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+S[0])}};break;case"b":this.calc=function(w,j){var S=this.snapToGrid(w,j,0);if(this.parameters.box.height+S[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+S[1])}};break;case"l":this.calc=function(w,j){var S=this.snapToGrid(w,j,1);if(this.parameters.box.width-S[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+S[0],this.parameters.box.y).width(this.parameters.box.width-S[0])}};break;case"rot":this.calc=function(w,j){var S=w+this.parameters.p.x,P=j+this.parameters.p.y,I=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),z=Math.atan2(P-this.parameters.box.y-this.parameters.box.height/2,S-this.parameters.box.x-this.parameters.box.width/2),U=this.parameters.rotation+180*(z-I)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(U-U%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(w,j){var S=this.snapToGrid(w,j,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),P=this.el.array().valueOf();P[this.parameters.i][0]=this.parameters.pointCoords[0]+S[0],P[this.parameters.i][1]=this.parameters.pointCoords[1]+S[1],this.el.plot(P)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:c}),SVG.on(window,"touchmove.resize",function(w){d.update(w||window.event)}),SVG.on(window,"touchend.resize",function(){d.done()}),SVG.on(window,"mousemove.resize",function(w){d.update(w||window.event)}),SVG.on(window,"mouseup.resize",function(){d.done()})},me.prototype.update=function(c){if(c){var d=this._extractPosition(c),m=this.transformPoint(d.x,d.y),v=m.x-this.parameters.p.x,w=m.y-this.parameters.p.y;this.lastUpdateCall=[v,w],this.calc(v,w),this.el.fire("resizing",{dx:v,dy:w,event:c})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},me.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},me.prototype.snapToGrid=function(c,d,m,v){var w;return v!==void 0?w=[(m+c)%this.options.snapToGrid,(v+d)%this.options.snapToGrid]:(m=m??3,w=[(this.parameters.box.x+c+(1&m?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+d+(2&m?0:this.parameters.box.height))%this.options.snapToGrid]),c<0&&(w[0]-=this.options.snapToGrid),d<0&&(w[1]-=this.options.snapToGrid),c-=Math.abs(w[0])<this.options.snapToGrid/2?w[0]:w[0]-(c<0?-this.options.snapToGrid:this.options.snapToGrid),d-=Math.abs(w[1])<this.options.snapToGrid/2?w[1]:w[1]-(d<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(c,d,m,v)},me.prototype.constraintToBox=function(c,d,m,v){var w,j,S=this.options.constraint||{};return v!==void 0?(w=m,j=v):(w=this.parameters.box.x+(1&m?0:this.parameters.box.width),j=this.parameters.box.y+(2&m?0:this.parameters.box.height)),S.minX!==void 0&&w+c<S.minX&&(c=S.minX-w),S.maxX!==void 0&&w+c>S.maxX&&(c=S.maxX-w),S.minY!==void 0&&j+d<S.minY&&(d=S.minY-j),S.maxY!==void 0&&j+d>S.maxY&&(d=S.maxY-j),[c,d]},me.prototype.checkAspectRatio=function(c,d){if(!this.options.saveAspectRatio)return c;var m=c.slice(),v=this.parameters.box.width/this.parameters.box.height,w=this.parameters.box.width+c[0],j=this.parameters.box.height-c[1],S=w/j;return S<v?(m[1]=w/v-this.parameters.box.height,d&&(m[1]=-m[1])):S>v&&(m[0]=this.parameters.box.width-j*v,d&&(m[0]=-m[0])),m},SVG.extend(SVG.Element,{resize:function(c){return(this.remember("_resizeHandler")||new me(this)).init(c||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var Sr=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new M(this.ctx),this.ctx.axes=new or(this.ctx),this.ctx.core=new $t(this.ctx.el,this.ctx),this.ctx.config=new ue({}),this.ctx.data=new Ke(this.ctx),this.ctx.grid=new ht(this.ctx),this.ctx.graphics=new F(this.ctx),this.ctx.coreUtils=new V(this.ctx),this.ctx.crosshairs=new Cr(this.ctx),this.ctx.events=new Tt(this.ctx),this.ctx.exports=new Me(this.ctx),this.ctx.localization=new Ct(this.ctx),this.ctx.options=new he,this.ctx.responsive=new cs(this.ctx),this.ctx.series=new Ue(this.ctx),this.ctx.theme=new Ie(this.ctx),this.ctx.formatters=new xe(this.ctx),this.ctx.titleSubtitle=new Ge(this.ctx),this.ctx.legend=new lr(this.ctx),this.ctx.toolbar=new Er(this.ctx),this.ctx.tooltip=new Ts(this.ctx),this.ctx.dimensions=new Ot(this.ctx),this.ctx.updateHelpers=new dr(this.ctx),this.ctx.zoomPanSelection=new _s(this.ctx),this.ctx.w.globals.tooltip=new Ts(this.ctx)}}]),me}(),Os=function(){function me(c){a(this,me),this.ctx=c,this.w=c.w}return l(me,[{key:"clear",value:function(c){var d=c.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:d})}},{key:"killSVG",value:function(c){c.each(function(d,m){this.removeClass("*"),this.off(),this.stop()},!0),c.ungroup(),c.clear()}},{key:"clearDomElements",value:function(c){var d=this,m=c.isUpdating,v=this.w.globals.dom.Paper.node;v.parentNode&&v.parentNode.parentNode&&!m&&(v.parentNode.parentNode.style.minHeight="unset");var w=this.w.globals.dom.baseEl;w&&this.ctx.eventList.forEach(function(S){w.removeEventListener(S,d.ctx.events.documentEvent)});var j=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(j.Paper),j.Paper.remove(),j.elWrap=null,j.elGraphical=null,j.elLegendWrap=null,j.elLegendForeign=null,j.baseEl=null,j.elGridRect=null,j.elGridRectMask=null,j.elGridRectMarkerMask=null,j.elForecastMask=null,j.elNonForecastMask=null,j.elDefs=null}}]),me}(),qr=new WeakMap,Ir=function(){function me(c,d){a(this,me),this.opts=d,this.ctx=this,this.w=new ve(d).init(),this.el=c,this.w.globals.cuid=T.randomId(),this.w.globals.chartID=this.w.config.chart.id?T.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Sr(this).initModules(),this.create=T.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return l(me,[{key:"render",value:function(){var c=this;return new Promise(function(d,m){if(c.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),c.w.config.chart.id&&Apex._chartInstances.push({id:c.w.globals.chartID,group:c.w.config.chart.group,chart:c}),c.setLocale(c.w.config.chart.defaultLocale);var v=c.w.config.chart.events.beforeMount;if(typeof v=="function"&&v(c,c.w),c.events.fireEvent("beforeMount",[c,c.w]),window.addEventListener("resize",c.windowResizeHandler),function(z,U){var X=!1;if(z.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var Q=z.getBoundingClientRect();z.style.display!=="none"&&Q.width!==0||(X=!0)}var te=new ResizeObserver(function(ae){X&&U.call(z,ae),X=!0});z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(z.children).forEach(function(ae){return te.observe(ae)}):te.observe(z),qr.set(U,te)}(c.el.parentNode,c.parentResizeHandler),!c.css){var w=c.el.getRootNode&&c.el.getRootNode(),j=T.is("ShadowRoot",w),S=c.el.ownerDocument,P=S.getElementById("apexcharts-css");!j&&P||(c.css=document.createElement("style"),c.css.id="apexcharts-css",c.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}
.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers{
  pointer-events: none
}

.apexcharts-bar-shadows{
  pointer-events: none
}

.apexcharts-rangebar-goals-markers{
  pointer-events: none
}`,j?w.prepend(c.css):S.head.appendChild(c.css))}var I=c.create(c.w.config.series,{});if(!I)return d(c);c.mount(I).then(function(){typeof c.w.config.chart.events.mounted=="function"&&c.w.config.chart.events.mounted(c,c.w),c.events.fireEvent("mounted",[c,c.w]),d(I)}).catch(function(z){m(z)})}else m(new Error("Element not found"))})}},{key:"create",value:function(c,d){var m=this.w;new Sr(this).initModules();var v=this.w.globals;if(v.noData=!1,v.animationEnded=!1,this.responsive.checkResponsiveConfig(d),m.config.xaxis.convertedCatToNumeric&&new G(m.config).convertCatToNumericXaxis(m.config,this.ctx),this.el===null||(this.core.setupElements(),m.config.chart.type==="treemap"&&(m.config.grid.show=!1,m.config.yaxis[0].show=!1),v.svgWidth===0))return v.animationEnded=!0,null;var w=V.checkComboSeries(c);v.comboCharts=w.comboCharts,v.comboBarCount=w.comboBarCount;var j=c.every(function(z){return z.data&&z.data.length===0});(c.length===0||j)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(c),this.theme.init(),new He(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),v.noData&&v.collapsedSeries.length!==v.series.length&&!m.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),v.axisCharts&&(this.core.coreCalculations(),m.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=m.globals.minX,this.ctx.toolbar.maxX=m.globals.maxX),this.formatters.heatmapLabelFormatters(),new V(this).getLargestMarkerSize(),this.dimensions.plotCoords();var S=this.core.xySettings();this.grid.createGridMask();var P=this.core.plotChartType(c,S),I=new $e(this);return I.bringForward(),m.config.dataLabels.background.enabled&&I.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:P,xyRatios:S,dimensions:{plot:{left:m.globals.translateX,top:m.globals.translateY,width:m.globals.gridWidth,height:m.globals.gridHeight}}}}},{key:"mount",value:function(){var c=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,m=this,v=m.w;return new Promise(function(w,j){if(m.el===null)return j(new Error("Not enough data to display or target element not found"));(d===null||v.globals.allSeriesCollapsed)&&m.series.handleNoData(),m.grid=new ht(m);var S,P,I=m.grid.drawGrid();if(m.annotations=new fe(m),m.annotations.drawImageAnnos(),m.annotations.drawTextAnnos(),v.config.grid.position==="back"&&(I&&v.globals.dom.elGraphical.add(I.el),I!=null&&(S=I.elGridBorders)!==null&&S!==void 0&&S.node&&v.globals.dom.elGraphical.add(I.elGridBorders)),Array.isArray(d.elGraph))for(var z=0;z<d.elGraph.length;z++)v.globals.dom.elGraphical.add(d.elGraph[z]);else v.globals.dom.elGraphical.add(d.elGraph);v.config.grid.position==="front"&&(I&&v.globals.dom.elGraphical.add(I.el),I!=null&&(P=I.elGridBorders)!==null&&P!==void 0&&P.node&&v.globals.dom.elGraphical.add(I.elGridBorders)),v.config.xaxis.crosshairs.position==="front"&&m.crosshairs.drawXCrosshairs(),v.config.yaxis[0].crosshairs.position==="front"&&m.crosshairs.drawYCrosshairs(),v.config.chart.type!=="treemap"&&m.axes.drawAxis(v.config.chart.type,I);var U=new qe(c.ctx,I),X=new dt(c.ctx,I);if(I!==null&&(U.xAxisLabelCorrections(I.xAxisTickWidth),X.setYAxisTextAlignments(),v.config.yaxis.map(function(te,ae){v.globals.ignoreYAxisIndexes.indexOf(ae)===-1&&X.yAxisTitleRotate(ae,te.opposite)})),m.annotations.drawAxesAnnotations(),!v.globals.noData){if(v.config.tooltip.enabled&&!v.globals.noData&&m.w.globals.tooltip.drawTooltip(d.xyRatios),v.globals.axisCharts&&(v.globals.isXNumeric||v.config.xaxis.convertedCatToNumeric||v.globals.isRangeBar))(v.config.chart.zoom.enabled||v.config.chart.selection&&v.config.chart.selection.enabled||v.config.chart.pan&&v.config.chart.pan.enabled)&&m.zoomPanSelection.init({xyRatios:d.xyRatios});else{var Q=v.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(te){Q[te]=!1})}v.config.chart.toolbar.show&&!v.globals.allSeriesCollapsed&&m.toolbar.createToolbar()}v.globals.memory.methodsToExec.length>0&&v.globals.memory.methodsToExec.forEach(function(te){te.method(te.params,!1,te.context)}),v.globals.axisCharts||v.globals.noData||m.core.resizeNonAxisCharts(),w(m)})}},{key:"destroy",value:function(){var c,d;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,c=this.parentResizeHandler,(d=qr.get(c))&&(d.disconnect(),qr.delete(c));var m=this.w.config.chart.id;m&&Apex._chartInstances.forEach(function(v,w){v.id===T.escapeString(m)&&Apex._chartInstances.splice(w,1)}),new Os(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(c){var d=this,m=arguments.length>1&&arguments[1]!==void 0&&arguments[1],v=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],w=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],j=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],S=this.w;return S.globals.selection=void 0,c.series&&(this.series.resetSeries(!1,!0,!1),c.series.length&&c.series[0].data&&(c.series=c.series.map(function(P,I){return d.updateHelpers._extendSeries(P,I)})),this.updateHelpers.revertDefaultAxisMinMax()),c.xaxis&&(c=this.updateHelpers.forceXAxisUpdate(c)),c.yaxis&&(c=this.updateHelpers.forceYAxisUpdate(c)),S.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),c.theme&&(c=this.theme.updateThemeOptions(c)),this.updateHelpers._updateOptions(c,m,v,w,j)}},{key:"updateSeries",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],m=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(c,d,m)}},{key:"appendSeries",value:function(c){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],m=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=this.w.config.series.slice();return v.push(c),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(v,d,m)}},{key:"appendData",value:function(c){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],m=this;m.w.globals.dataChanged=!0,m.series.getPreviousPaths();for(var v=m.w.config.series.slice(),w=0;w<v.length;w++)if(c[w]!==null&&c[w]!==void 0)for(var j=0;j<c[w].data.length;j++)v[w].data.push(c[w].data[j]);return m.w.config.series=v,d&&(m.w.globals.initialSeries=T.clone(m.w.config.series)),this.update()}},{key:"update",value:function(c){var d=this;return new Promise(function(m,v){new Os(d.ctx).clear({isUpdating:!0});var w=d.create(d.w.config.series,c);if(!w)return m(d);d.mount(w).then(function(){typeof d.w.config.chart.events.updated=="function"&&d.w.config.chart.events.updated(d,d.w),d.events.fireEvent("updated",[d,d.w]),d.w.globals.isDirty=!0,m(d)}).catch(function(j){v(j)})})}},{key:"getSyncedCharts",value:function(){var c=this.getGroupedCharts(),d=[this];return c.length&&(d=[],c.forEach(function(m){d.push(m)})),d}},{key:"getGroupedCharts",value:function(){var c=this;return Apex._chartInstances.filter(function(d){if(d.group)return!0}).map(function(d){return c.w.config.chart.group===d.group?d.chart:c})}},{key:"toggleSeries",value:function(c){return this.series.toggleSeries(c)}},{key:"highlightSeriesOnLegendHover",value:function(c,d){return this.series.toggleSeriesOnHover(c,d)}},{key:"showSeries",value:function(c){this.series.showSeries(c)}},{key:"hideSeries",value:function(c){this.series.hideSeries(c)}},{key:"isSeriesHidden",value:function(c){this.series.isSeriesHidden(c)}},{key:"resetSeries",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(c,d)}},{key:"addEventListener",value:function(c,d){this.events.addEventListener(c,d)}},{key:"removeEventListener",value:function(c,d){this.events.removeEventListener(c,d)}},{key:"addXaxisAnnotation",value:function(c){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,v=this;m&&(v=m),v.annotations.addXaxisAnnotationExternal(c,d,v)}},{key:"addYaxisAnnotation",value:function(c){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,v=this;m&&(v=m),v.annotations.addYaxisAnnotationExternal(c,d,v)}},{key:"addPointAnnotation",value:function(c){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,v=this;m&&(v=m),v.annotations.addPointAnnotationExternal(c,d,v)}},{key:"clearAnnotations",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,d=this;c&&(d=c),d.annotations.clearAnnotations(d)}},{key:"removeAnnotation",value:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,m=this;d&&(m=d),m.annotations.removeAnnotation(m,c)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(c,d){return this.coreUtils.getSeriesTotalsXRange(c,d)}},{key:"getHighestValueInSeries",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Xe(this.ctx).getMinYMaxY(c).highestY}},{key:"getLowestValueInSeries",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Xe(this.ctx).getMinYMaxY(c).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(c,d){return this.updateHelpers.toggleDataPointSelection(c,d)}},{key:"zoomX",value:function(c,d){this.ctx.toolbar.zoomUpdateOptions(c,d)}},{key:"setLocale",value:function(c){this.localization.setCurrentLocaleValues(c)}},{key:"dataURI",value:function(c){return new Me(this.ctx).dataURI(c)}},{key:"exportToCSV",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Me(this.ctx).exportToCSV(c)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var c=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){c.w.globals.resized=!0,c.w.globals.dataChanged=!1,c.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var c=this.w.config.chart.redrawOnWindowResize;typeof c=="function"&&(c=c()),c&&this._windowResize()}}],[{key:"getChartByID",value:function(c){var d=T.escapeString(c);if(Apex._chartInstances){var m=Apex._chartInstances.filter(function(v){return v.id===d})[0];return m&&m.chart}}},{key:"initOnLoad",value:function(){for(var c=document.querySelectorAll("[data-apexcharts]"),d=0;d<c.length;d++)new me(c[d],JSON.parse(c[d].getAttribute("data-options"))).render()}},{key:"exec",value:function(c,d){var m=this.getChartByID(c);if(m){m.w.globals.isExecCalled=!0;var v=null;if(m.publicMethods.indexOf(d)!==-1){for(var w=arguments.length,j=new Array(w>2?w-2:0),S=2;S<w;S++)j[S-2]=arguments[S];v=m[d].apply(m,j)}return v}}},{key:"merge",value:function(c,d){return T.extend(c,d)}}]),me}();t.exports=Ir}(f_,f_.exports)),f_.exports}var AY;function AFe(){if(AY)return h_;AY=1,Object.defineProperty(h_,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},e=Object.assign||function(C){for(var O=1;O<arguments.length;O++){var T,M=arguments[O];for(T in M)Object.prototype.hasOwnProperty.call(M,T)&&(C[T]=M[T])}return C},r=function(){function C(O,T){for(var M=0;M<T.length;M++){var B=T[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(O,B.key,B)}}return function(O,T,M){return T&&C(O.prototype,T),M&&C(O,M),O}}(),n=kFe(),i=h(n),a=av(),o=h(a),l=QK(),u=h(l);function h(C){return C&&C.__esModule?C:{default:C}}function f(C,O,T){return O in C?Object.defineProperty(C,O,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[O]=T,C}function g(C,O){var T,M={};for(T in C)0<=O.indexOf(T)||Object.prototype.hasOwnProperty.call(C,T)&&(M[T]=C[T]);return M}function y(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function N(C,O){if(C)return!O||typeof O!="object"&&typeof O!="function"?C:O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function _(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}window.ApexCharts=i.default;var k=function(){function C(O){y(this,C);var T=N(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O));return o.default.createRef?T.chartRef=o.default.createRef():T.setRef=function(M){return T.chartRef=M},T.chart=null,T}return _(C,a.Component),r(C,[{key:"render",value:function(){var O=g(this.props,[]);return o.default.createElement("div",e({ref:o.default.createRef?this.chartRef:this.setRef},O))}},{key:"componentDidMount",value:function(){var O=o.default.createRef?this.chartRef.current:this.chartRef;this.chart=new i.default(O,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var F=this.props,O=F.type,T=F.height,M=F.width,B=F.series,F=F.options;return this.extend(F,{chart:{type:O,height:T,width:M},series:B})}},{key:"isObject",value:function(O){return O&&(O===void 0?"undefined":t(O))==="object"&&!Array.isArray(O)&&O!=null}},{key:"extend",value:function(O,T){var M=this,B=(typeof Object.assign!="function"&&(Object.assign=function(F){if(F==null)throw new TypeError("Cannot convert undefined or null to object");for(var V=Object(F),H=1;H<arguments.length;H++){var Z=arguments[H];if(Z!=null)for(var re in Z)Z.hasOwnProperty(re)&&(V[re]=Z[re])}return V}),Object.assign({},O));return this.isObject(O)&&this.isObject(T)&&Object.keys(T).forEach(function(F){M.isObject(T[F])&&F in O?B[F]=M.extend(O[F],T[F]):Object.assign(B,f({},F,T[F]))}),B}},{key:"componentDidUpdate",value:function(O){if(!this.chart)return null;var B=this.props,H=B.options,T=B.series,M=B.height,B=B.width,F=JSON.stringify(O.options),V=JSON.stringify(O.series),H=JSON.stringify(H),Z=JSON.stringify(T);F===H&&V===Z&&M===O.height&&B===O.width||(V!==Z&&F===H&&M===O.height&&B===O.width?this.chart.updateSeries(T):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&typeof this.chart.destroy=="function"&&this.chart.destroy()}}]),C}();return(h_.default=k).propTypes={type:u.default.string.isRequired,width:u.default.oneOfType([u.default.string,u.default.number]),height:u.default.oneOfType([u.default.string,u.default.number]),series:u.default.array.isRequired,options:u.default.object.isRequired},k.defaultProps={type:"line",width:"100%",height:"auto"},h_}var CFe=AFe();const Zne=Ur(CFe),Kne=({data:t,className:e=""})=>{const r=[...t].sort((a,o)=>o.revenue-a.revenue),n={chart:{type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,borderRadius:4,distributed:!0,dataLabels:{position:"top"}}},colors:r.map(a=>a.color),dataLabels:{enabled:!0,formatter:function(a){return"$"+a.toLocaleString()},style:{fontSize:"12px",fontWeight:600,colors:["#404040"]},offsetX:30},xaxis:{categories:r.map(a=>a.customer),labels:{style:{fontSize:"12px",fontFamily:"Poppins, sans-serif"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{fontSize:"12px",fontFamily:"Poppins, sans-serif"}}},grid:{borderColor:"#f1f1f1",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!1}}},tooltip:{y:{formatter:function(a){return"$"+a.toLocaleString()}}},legend:{show:!1}},i=[{name:"Revenue",data:r.map(a=>a.revenue)}];return s.jsx("div",{className:`w-full ${e}`,children:s.jsx(Zne,{options:n,series:i,type:"bar",height:"300"})})},Jne=({data:t,className:e=""})=>{const r={chart:{type:"bar",toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},plotOptions:{bar:{borderRadius:4,columnWidth:"70%",distributed:!0,dataLabels:{position:"top"}}},colors:["#10B981","#10B981","#10B981","#10B981","#10B981","#10B981","#10B981"],dataLabels:{enabled:!0,formatter:function(i){return i.toString()},style:{fontSize:"12px",fontWeight:600,colors:["#404040"]},offsetY:-20},xaxis:{categories:t.dates,labels:{style:{fontSize:"12px",fontFamily:"Poppins, sans-serif"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{style:{fontSize:"12px",fontFamily:"Poppins, sans-serif"},formatter:function(i){return i.toFixed(0)}},min:0,max:Math.max(...t.counts)*1.2},grid:{borderColor:"#f1f1f1",row:{colors:["transparent","transparent"],opacity:.5}},tooltip:{y:{formatter:function(i){return i.toString()+" loads"}}},legend:{show:!1}},n=[{name:"Loads",data:t.counts}];return s.jsx("div",{className:`w-full ${e}`,children:s.jsx(Zne,{options:r,series:n,type:"bar",height:"300"})})},EFe=()=>{const[t,e]=Y.useState(null),[r,n]=Y.useState(!0),[i,a]=Y.useState([]),[o,l]=Y.useState(!0);if(Y.useEffect(()=>{(async()=>{try{const f=await vFe.getDashboardData();e(f)}catch(f){console.error("Error fetching dashboard data:",f)}finally{n(!1)}})()},[]),Y.useEffect(()=>{const h=async()=>{try{l(!0);const g=await NFe();a(g)}catch(g){console.error("Error fetching weather alerts:",g)}finally{l(!1)}};h();const f=setInterval(h,30*60*1e3);return()=>clearInterval(f)},[]),r)return s.jsx("div",{className:"flex justify-center items-center my-10",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!t)return s.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded shadow-md",role:"alert",children:[s.jsx("p",{className:"font-bold",children:"Error"}),s.jsx("p",{children:"Failed to load dashboard data. Please try again later."})]});const u=h=>"$"+h.toLocaleString();return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Overview of your transportation management system"})]}),s.jsxs("section",{className:"mb-8",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-chart-line mr-2 text-blue-600"}),"Key Metrics"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[s.jsx("div",{className:"dashboard-card bg-gradient-blue",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-truck-loading card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Total Loads Today"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:t.metrics.totalLoadsToday}),s.jsx("div",{className:"mt-3 bg-blue-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"75%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-green",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-users card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Active Drivers"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:t.metrics.activeDrivers}),s.jsx("div",{className:"mt-3 bg-green-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"65%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-orange",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-dollar-sign card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Revenue This Week"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:u(t.metrics.revenueThisWeek)}),s.jsx("div",{className:"mt-3 bg-orange-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"85%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-purple",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-check-circle card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Loads Delivered On Time"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:t.metrics.loadsDeliveredOnTime}),s.jsx("div",{className:"mt-3 bg-purple-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"90%"}})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mt-5",children:[s.jsx("div",{className:"dashboard-card bg-gradient-teal",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-road card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Total Miles"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:t.metrics.totalMiles.toLocaleString()})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-red",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-gas-pump card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Fuel Cost"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:u(t.metrics.fuelCost)})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-indigo",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-file-invoice-dollar card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Pending Invoices"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:t.metrics.pendingInvoices})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-cyan",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-smile card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Customer Satisfaction"}),s.jsxs("p",{className:"text-3xl font-bold mt-2",children:[t.metrics.customerSatisfaction,"%"]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("section",{children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-chart-bar mr-2 text-blue-600"}),"Revenue per Customer"]}),s.jsx(st,{className:"h-full",children:s.jsx("div",{className:"w-full h-full p-4",children:s.jsx(Kne,{data:t.revenuePerCustomer})})})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-calendar-alt mr-2 text-blue-600"}),"Weekly Load Volume"]}),s.jsx(st,{className:"h-full",children:s.jsx("div",{className:"w-full h-full p-4",children:s.jsx(Jne,{data:t.weeklyLoadVolume})})})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-award mr-2 text-blue-600"}),"Top Performing Drivers"]}),s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"w-1/4 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Driver"}),s.jsx("th",{scope:"col",className:"w-1/8 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miles"}),s.jsx("th",{scope:"col",className:"w-1/8 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deliveries"}),s.jsx("th",{scope:"col",className:"w-1/6 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),s.jsx("th",{scope:"col",className:"w-1/8 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"On-Time %"}),s.jsx("th",{scope:"col",className:"w-1/4 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.driverPerformance.map((h,f)=>{const g=Math.round(h.rating/5*.5*100+h.onTime*.5);let y="bg-green-500";return g<70?y="bg-red-500":g<85&&(y="bg-yellow-500"),s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-blue-100 flex items-center justify-center text-blue-800 font-bold mr-3",children:h.name.split(" ").map(N=>N[0]).join("")}),s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:h.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.miles.toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.deliveries}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:h.rating.toFixed(1)}),s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((N,_)=>s.jsx("svg",{className:`w-4 h-4 ${_<Math.floor(h.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},_))})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[h.onTime,"%"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`${y} h-2.5 rounded-full transition-all duration-500`,style:{width:`${g}%`}})}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1 text-right",children:[g,"%"]})]})]},f)})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[s.jsx("div",{className:"lg:col-span-8",children:s.jsxs("section",{children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-history mr-2 text-blue-600"}),"Recent Activity"]}),s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origin"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destination"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Driver"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.recentActivity.map((h,f)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors animate-fade-in",style:{animationDelay:`${f*100}ms`},children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:h.load}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.origin}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.destination}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.customer}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.driver||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`status-badge status-badge-${h.status.toLowerCase().replace(" ","-")}`,children:h.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.date})]},f))})]})})})]})}),s.jsxs("div",{className:"lg:col-span-4",children:[s.jsxs("section",{className:"mb-6",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-truck mr-2 text-blue-600"}),"Upcoming Deliveries"]}),s.jsx(st,{className:"h-full",children:s.jsx("ul",{className:"divide-y divide-gray-200",children:t.upcomingDeliveries.map((h,f)=>{const g=h.status==="Delayed",y=g?"bg-red-100 text-red-800":"bg-green-100 text-green-800";return s.jsx("li",{className:"py-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center ${g?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:s.jsx("i",{className:`fas ${g?"fa-exclamation-circle":"fa-check-circle"}`})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h3",{className:"text-sm font-medium",children:h.load}),s.jsx("span",{className:`${y} status-badge`,children:h.status})]}),s.jsx("p",{className:"text-sm text-gray-600",children:h.destination}),s.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("i",{className:"fas fa-clock mr-1"}),s.jsxs("span",{children:["ETA: ",h.eta]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-user mr-1"}),s.jsx("span",{children:h.driver})]})]})]})]})},f)})})})]}),s.jsxs("section",{className:"mb-6",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-cloud-sun mr-2 text-blue-600"}),"Current Weather"]}),s.jsx(Gne,{lat:40.4406,lon:-79.9959,location:"Pittsburgh, PA"})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-cloud-sun-rain mr-2 text-blue-600"}),"Weather Alerts"]}),s.jsx(st,{children:o?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):i.length===0?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx("i",{className:"fas fa-sun text-yellow-400 text-3xl mb-2"}),s.jsx("p",{children:"No weather alerts at this time."})]}):s.jsxs("div",{className:"space-y-3 p-4",children:[i.map((h,f)=>{const g=h.impact==="High"?"bg-red-50 border-red-400 text-red-800":h.impact==="Medium"?"bg-yellow-50 border-yellow-400 text-yellow-800":"bg-blue-50 border-blue-400 text-blue-800",y=h.impact==="High"?"fa-exclamation-triangle":h.impact==="Medium"?"fa-exclamation-circle":"fa-info-circle";return s.jsx("div",{className:`${g} border-l-4 p-4 rounded-md`,children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("i",{className:`fas ${y}`})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("h3",{className:"text-sm font-medium",children:[s.jsxs("span",{className:"font-bold",children:[h.region,":"]})," ",h.alert]}),s.jsxs("div",{className:"mt-1 text-xs",children:[s.jsx("span",{className:"font-semibold",children:"Impact: "}),h.impact,s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"font-semibold",children:"Loads Affected: "}),h.affectedLoads]})]})]})},f)}),s.jsxs("div",{className:"text-xs text-gray-500 text-right mt-2",children:[s.jsx("i",{className:"fas fa-sync-alt mr-1"})," Weather data refreshes every 30 minutes"]})]})})]})]})]})]})},SO=[{text:"Searching DAT load board...",icon:"",duration:3e3},{text:"Checking TruckStop database...",icon:"",duration:3e3},{text:"Analyzing smart matches...",icon:"",duration:2500},{text:"Filtering by your preferences...",icon:"",duration:1500}],TFe=({isSearching:t,onComplete:e})=>{const[r,n]=Y.useState(0),[i,a]=Y.useState(0);if(Y.useEffect(()=>{if(!t){n(0),a(0);return}let l;const h=100/(SO.reduce((y,N)=>y+N.duration,0)/100),f=setInterval(()=>{a(y=>{const N=Math.min(y+h,100);return N>=100&&e&&setTimeout(e,100),N})},100);let g=0;return SO.forEach((y,N)=>{N>0&&(l=setTimeout(()=>{n(N)},g)),g+=y.duration}),()=>{clearInterval(f),clearTimeout(l)}},[t,e]),!t)return null;const o=SO[r];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[s.jsx("span",{className:"absolute inline-flex h-20 w-20 rounded-full bg-blue-400 opacity-25 animate-ping"}),s.jsx("span",{className:"text-5xl animate-bounce",children:o.icon})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Finding Your Perfect Load"}),s.jsx("p",{className:"text-gray-600 animate-pulse",children:o.text})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${i}%`}})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600 animate-pulse",children:Math.floor(i*1.5)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Loads Scanned"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600 animate-pulse",children:Math.floor(i*.08)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Matches Found"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-2xl font-bold text-purple-600 animate-pulse",children:[Math.max(0,10-Math.floor(i/10)),"s"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Time Left"})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-blue-800",children:[s.jsx("span",{className:"font-semibold",children:"Pro Tip:"})," We're matching loads based on your route preferences, equipment type, and historical performance data."]})})]})})})},PFe=({isOpen:t,onClose:e,loads:r,onCallBroker:n,onEmailBroker:i,onReject:a,onSaveForLater:o})=>{if(!r.length)return null;const l=r[0];return s.jsx(xr,{isOpen:t,onClose:e,title:" Smart Match Found!",size:"lg",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),s.jsx("span",{className:"text-sm text-gray-600",children:"Live Match"})]}),l.matchScore&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),l.matchScore,"% Match"]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Origin"}),s.jsx("p",{className:"font-semibold text-lg",children:l.origin})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[s.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx("div",{className:"w-12 h-0.5 bg-gray-300"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Destination"}),s.jsx("p",{className:"font-semibold text-lg",children:l.destination})]})]}),l.isHotLoad&&s.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"})}),"Hot Load"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Equipment"}),s.jsx("p",{className:"font-medium",children:l.equipment})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Rate"}),s.jsxs("p",{className:"font-medium text-green-600",children:["$",l.rate.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Weight"}),s.jsx("p",{className:"font-medium",children:l.weight})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Distance"}),s.jsxs("p",{className:"font-medium",children:[l.distance," mi"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pickup Date"}),s.jsx("p",{className:"font-medium",children:l.pickupDate})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Delivery Date"}),s.jsx("p",{className:"font-medium",children:l.deliveryDate})]})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:l.broker.name}),s.jsx("p",{className:"text-sm text-gray-600",children:l.broker.company}),l.broker.rating&&s.jsxs("div",{className:"flex items-center mt-1",children:[[...Array(5)].map((u,h)=>s.jsx("svg",{className:`w-4 h-4 ${h<l.broker.rating?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},h)),s.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",l.broker.rating,")"]})]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>n(l),className:"flex items-center justify-center px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Call Broker"]}),s.jsxs("button",{onClick:()=>i(l),className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email Broker"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{onClick:()=>o(l.id),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Save for Later"}),s.jsx("button",{onClick:()=>a(l.id),className:"px-6 py-2 border border-red-300 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors",children:"Reject Load"})]})]}),r.length>1&&s.jsx("div",{className:"text-center text-sm text-gray-500",children:s.jsxs("p",{children:["+",r.length-1," more matches found"]})})]})})},MFe=({isOpen:t,onClose:e,brokerName:r,brokerCompany:n,brokerPhone:i,loadId:a,onSaveNotes:o})=>{const[l,u]=Y.useState(0),[h,f]=Y.useState(""),[g,y]=Y.useState(!1),[N,_]=Y.useState(!1);Y.useEffect(()=>{let O=null;if(t&&!g){const T=setTimeout(()=>{y(!0)},2e3);return()=>clearTimeout(T)}return g&&t&&(O=setInterval(()=>{u(T=>T+1)},1e3)),()=>{O&&clearInterval(O)}},[g,t]),Y.useEffect(()=>{t||(u(0),f(""),y(!1),_(!1))},[t]);const k=O=>{const T=Math.floor(O/60),M=O%60;return`${T.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`},C=()=>{o(h,N),e()};return s.jsx(xr,{isOpen:t,onClose:e,title:"",size:"md",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[!g&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"absolute inline-flex h-32 w-32 rounded-full bg-green-400 opacity-25 animate-ping"}),s.jsx("span",{className:"absolute inline-flex h-24 w-24 rounded-full bg-green-400 opacity-50 animate-ping animation-delay-200"})]}),s.jsx("div",{className:`relative inline-flex items-center justify-center w-20 h-20 rounded-full ${g?"bg-green-600":"bg-gray-400"} transition-colors duration-500`,children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g?"In Call":"Calling..."}),s.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:r}),s.jsx("p",{className:"text-lg text-gray-600",children:n}),s.jsxs("p",{className:"text-lg text-blue-600 font-medium mt-1",children:[" ",i]})]}),s.jsx("div",{className:"text-3xl font-mono font-bold text-gray-700",children:k(l)}),s.jsxs("div",{className:"text-left",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Call Notes"}),s.jsx("textarea",{value:h,onChange:O=>f(O.target.value),placeholder:"Jot down broker notes here... (rate negotiations, special requirements, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Load ID: ",a]})]}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:N,onChange:O=>_(O.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Mark broker as contacted"})]})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:C,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V2"})}),"Save Call Notes"]}),s.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:"End Call"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-left",children:[s.jsx("p",{className:"text-xs text-blue-800 font-medium mb-1",children:"Quick Tips:"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:" Confirm rate and payment terms"}),s.jsx("li",{children:" Verify pickup/delivery times"}),s.jsx("li",{children:" Ask about detention policies"}),s.jsx("li",{children:" Clarify any special requirements"})]})]})]})})},CY=[{name:"John Smith",company:"ABC Logistics",phone:"+1 (555) 123-4567",email:"john@abclogistics.com",rating:4.5},{name:"Sarah Johnson",company:"Prime Freight",phone:"+1 (555) 234-5678",email:"sarah@primefreight.com",rating:4.8},{name:"Mike Davis",company:"Express Transport",phone:"+1 (555) 345-6789",email:"mike@expresstransport.com",rating:4.2},{name:"Emily Chen",company:"Global Shipping Co",phone:"+1 (555) 456-7890",email:"emily@globalshipping.com",rating:4.7},{name:"Robert Wilson",company:"Fast Lane Logistics",phone:"+1 (555) 567-8901",email:"robert@fastlane.com",rating:4.6}],LFe=()=>{const[t,e]=Y.useState(!1),[r,n]=Y.useState([]),[i,a]=Y.useState(!1),[o,l]=Y.useState(!1),[u,h]=Y.useState(null),f=O=>{const T=O.minRate||2e3,M=[],B=Math.floor(Math.random()*3)+1;for(let F=0;F<B;F++){const V=Math.random()*500+200,H=Math.random()*200+50,Z=CY[Math.floor(Math.random()*CY.length)];M.push({id:`LOAD-${Math.floor(Math.random()*1e4)}`,origin:O.origin,destination:O.destination,equipment:O.equipment,rate:Math.round(T+V),weight:`${Math.floor(Math.random()*1e4+35e3)} lbs`,distance:Math.round(500+H),pickupDate:O.date,deliveryDate:new Date(new Date(O.date).getTime()+2*24*60*60*1e3).toLocaleDateString(),broker:Z,isHotLoad:Math.random()>.7,matchScore:Math.floor(Math.random()*15+85)})}return M.sort((F,V)=>(V.matchScore||0)-(F.matchScore||0))},g=Y.useCallback(O=>{e(!0),n([]),setTimeout(()=>{const T=f(O);n(T),e(!1),T.length>0?(on.success(s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Smart Match Found!"}),s.jsxs("p",{className:"text-sm",children:[T.length," load",T.length>1?"s":""," available from ",O.origin," to ",O.destination]})]})]}),{duration:5e3,position:"top-right",style:{background:"#10B981",color:"white"}}),a(!0)):on.error("No matching loads found. Try adjusting your search criteria.")},1e4)},[]),y=Y.useCallback(O=>{h(O),a(!1),l(!0)},[]),N=Y.useCallback(O=>{on.success(`Email sent to ${O.broker.name} at ${O.broker.email}`),window.location.href=`mailto:${O.broker.email}?subject=Load Inquiry - ${O.id}&body=Hi ${O.broker.name},%0D%0A%0D%0AI'm interested in the load from ${O.origin} to ${O.destination}.%0D%0A%0D%0ALoad ID: ${O.id}%0D%0ARate: $${O.rate}%0D%0AEquipment: ${O.equipment}%0D%0A%0D%0APlease let me know if this load is still available.%0D%0A%0D%0AThank you!`},[]),_=Y.useCallback(O=>{n(T=>T.filter(M=>M.id!==O)),on("Load rejected. Showing next match...",{icon:""}),r.length<=1&&a(!1)},[r]),k=Y.useCallback(O=>{on.success("Load saved for later review");const T=r.find(M=>M.id===O);if(T){const M=JSON.parse(localStorage.getItem("savedLoads")||"[]");M.push({...T,savedAt:new Date().toISOString()}),localStorage.setItem("savedLoads",JSON.stringify(M))}a(!1)},[r]),C=Y.useCallback((O,T)=>{if(u){on.success(s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Call completed!"}),s.jsxs("p",{className:"text-sm",children:["Notes saved for load ",u.id]})]}));const M={loadId:u.id,broker:u.broker,notes:O,contacted:T,timestamp:new Date().toISOString()},B=JSON.parse(localStorage.getItem("callHistory")||"[]");B.push(M),localStorage.setItem("callHistory",JSON.stringify(B)),T&&setTimeout(()=>{on(s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Create follow-up?"}),s.jsxs("p",{className:"text-sm",children:["Schedule a reminder to follow up with ",u.broker.name]}),s.jsxs("div",{className:"mt-2 flex space-x-2",children:[s.jsx("button",{onClick:()=>{on.success("Follow-up reminder set for tomorrow"),on.dismiss()},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"Yes"}),s.jsx("button",{onClick:()=>on.dismiss(),className:"px-3 py-1 bg-gray-300 text-gray-700 rounded text-sm",children:"No"})]})]}),{duration:1e4,position:"bottom-right"})},1e3)}l(!1),h(null)},[u]);return{isSearching:t,matchedLoads:r,showLoadModal:i,showCallModal:o,selectedLoad:u,startSearch:g,setShowLoadModal:a,setShowCallModal:l,handleCallBroker:y,handleEmailBroker:N,handleRejectLoad:_,handleSaveForLater:k,handleSaveCallNotes:C}},OFe=()=>{const[t,e]=Y.useState({origin:"",destination:"",equipmentType:"",date:"",minRate:""}),r=[{id:"LD1001",origin:"Chicago, IL",destination:"New York, NY",miles:750,equipmentType:"Dry Van",rate:2850,ratePerMile:3.8,pickupDate:"May 22, 2025",deliveryDate:"May 24, 2025",broker:"ABC Logistics",weight:"42,000 lbs",status:"Ready for pickup"},{id:"LD1002",origin:"Dallas, TX",destination:"Houston, TX",miles:240,equipmentType:"Reefer",rate:950,ratePerMile:3.96,pickupDate:"May 22, 2025",deliveryDate:"May 23, 2025",broker:"Fresh Foods Inc.",weight:"38,000 lbs",status:"Premium rate",tags:["34F Required"]},{id:"LD1003",origin:"Seattle, WA",destination:"Portland, OR",miles:175,equipmentType:"Flatbed",rate:795,ratePerMile:4.54,pickupDate:"May 23, 2025",deliveryDate:"May 23, 2025",broker:"Pacific Shipping Co.",weight:"32,000 lbs",status:"Tarping required",tags:["Oversized Load"]}],n=[{id:"SL1001",origin:"Atlanta, GA",destination:"Miami, FL",equipmentType:"Dry Van",minRate:2500,matchingLoads:5,emailAlerts:!0},{id:"SL1002",origin:"Los Angeles, CA",destination:"Phoenix, AZ",equipmentType:"Reefer",minRate:1800,matchingLoads:3,emailAlerts:!0}],[i,a]=Y.useState(r),[o,l]=Y.useState(r),[u,h]=Y.useState([]),[f,g]=Y.useState(n),[y,N]=Y.useState([]),[_,k]=Y.useState(!1),[C,O]=Y.useState(!1),[T,M]=Y.useState(!1),[B,F]=Y.useState(!1),[V,H]=Y.useState(!1),[Z,re]=Y.useState(!1),[le,ce]=Y.useState(!1),[he,fe]=Y.useState(null),[ee,xe]=Y.useState(null),[ie,ge]=Y.useState(""),[G,ue]=Y.useState({origin:"",destination:"",equipmentType:"Dry Van",minRate:0,emailAlerts:!0}),{isSearching:ke,matchedLoads:ve,showLoadModal:Se,showCallModal:He,selectedLoad:De,startSearch:$e,setShowLoadModal:Ue,setShowCallModal:Ke,handleCallBroker:nt,handleEmailBroker:Me,handleRejectLoad:qe,handleSaveForLater:ht,handleSaveCallNotes:ye}=LFe(),Xe=Ee=>{const{id:yt,value:zt}=Ee.target;e(ts=>({...ts,[yt]:zt}))},dt=()=>{e({origin:"",destination:"",equipmentType:"",date:"",minRate:""})},Tt=async()=>{if(!t.origin||!t.destination){At("Please enter origin and destination","error");return}if(!t.equipmentType){At("Please select equipment type","error");return}$e({origin:t.origin,destination:t.destination,equipment:t.equipmentType,minRate:t.minRate?parseFloat(t.minRate):2e3,date:t.date||new Date().toLocaleDateString()})},Ct=()=>{M(!0)},or=async()=>{if(!ie.trim()){At("Please enter a name for this search","error");return}k(!0);try{await new Promise(yt=>setTimeout(yt,800));const Ee={id:`SS${Math.floor(1e3+Math.random()*9e3)}`,name:ie,filters:{...t}};N(yt=>[...yt,Ee]),M(!1),ge(""),At(`Search "${ie}" saved successfully`)}catch(Ee){console.error("Error saving search:",Ee),At("Error saving search. Please try again.","error")}finally{k(!1)}},Cr=()=>{F(!0)},cs=async()=>{k(!0);try{await new Promise(Ee=>setTimeout(Ee,800)),F(!1),At("Alert set successfully. You will be notified when new loads match your criteria.")}catch(Ee){console.error("Error setting alert:",Ee),At("Error setting alert. Please try again.","error")}finally{k(!1)}},Ie=async Ee=>{k(!0);try{await new Promise(yt=>setTimeout(yt,800)),u.includes(Ee.id)?(h(yt=>yt.filter(zt=>zt!==Ee.id)),At(`Load ${Ee.id} removed from saved loads`)):(h(yt=>[...yt,Ee.id]),At(`Load ${Ee.id} saved successfully`))}catch(yt){console.error("Error saving load:",yt),At("Error saving load. Please try again.","error")}finally{k(!1)}},Ge=Ee=>{fe(Ee),H(!0)},it=async()=>{if(he){k(!0);try{await new Promise(Ee=>setTimeout(Ee,800)),H(!1),At(`Load ${he.id} booked successfully`),l(Ee=>Ee.filter(yt=>yt.id!==he.id))}catch(Ee){console.error("Error booking load:",Ee),At("Error booking load. Please try again.","error")}finally{k(!1),fe(null)}}},kt=async()=>{O(!0);try{await new Promise(yt=>setTimeout(yt,1e3));const Ee=r.map(yt=>({...yt,id:`LD${Math.floor(1e3+Math.random()*9e3)}`}));l(yt=>[...yt,...Ee]),At(`Loaded ${Ee.length} more results`)}catch(Ee){console.error("Error loading more results:",Ee),At("Error loading more results. Please try again.","error")}finally{O(!1)}},jt=()=>{ue({origin:"",destination:"",equipmentType:"Dry Van",minRate:0,emailAlerts:!0}),re(!0)},bt=async()=>{if(!G.origin||!G.destination){At("Please enter origin and destination","error");return}k(!0);try{await new Promise(yt=>setTimeout(yt,800));const Ee={id:`SL${Math.floor(1e3+Math.random()*9e3)}`,origin:G.origin||"",destination:G.destination||"",equipmentType:G.equipmentType||"Dry Van",minRate:G.minRate||0,matchingLoads:Math.floor(Math.random()*5)+1,emailAlerts:G.emailAlerts||!1};g(yt=>[...yt,Ee]),re(!1),At(`Lane ${Ee.origin}  ${Ee.destination} added successfully`)}catch(Ee){console.error("Error adding lane:",Ee),At("Error adding lane. Please try again.","error")}finally{k(!1)}},Ot=Ee=>{xe(Ee),ue({...Ee}),ce(!0)},rr=async()=>{if(!ee||!G.origin||!G.destination){At("Please enter origin and destination","error");return}k(!0);try{await new Promise(Ee=>setTimeout(Ee,800)),g(Ee=>Ee.map(yt=>yt.id===ee.id?{...yt,origin:G.origin||yt.origin,destination:G.destination||yt.destination,equipmentType:G.equipmentType||yt.equipmentType,minRate:G.minRate||yt.minRate,emailAlerts:G.emailAlerts!==void 0?G.emailAlerts:yt.emailAlerts}:yt)),ce(!1),At("Lane updated successfully")}catch(Ee){console.error("Error updating lane:",Ee),At("Error updating lane. Please try again.","error")}finally{k(!1),xe(null)}},lr=async Ee=>{if(confirm(`Are you sure you want to delete the lane ${Ee.origin}  ${Ee.destination}?`)){k(!0);try{await new Promise(yt=>setTimeout(yt,800)),g(yt=>yt.filter(zt=>zt.id!==Ee.id)),At("Lane deleted successfully")}catch(yt){console.error("Error deleting lane:",yt),At("Error deleting lane. Please try again.","error")}finally{k(!1)}}},Er=async Ee=>{k(!0);try{await new Promise(zt=>setTimeout(zt,800));const yt=r.filter(zt=>{const ts=zt.origin.includes(Ee.origin),An=zt.destination.includes(Ee.destination),qs=zt.equipmentType===Ee.equipmentType,Ts=zt.rate>=Ee.minRate;return ts&&An&&qs&&Ts});l(yt),At(`Showing ${yt.length} loads matching your saved lane`),e({origin:Ee.origin,destination:Ee.destination,equipmentType:Ee.equipmentType,date:"",minRate:Ee.minRate.toString()}),window.scrollTo({top:0,behavior:"smooth"})}catch(yt){console.error("Error viewing matches:",yt),At("Error viewing matches. Please try again.","error")}finally{k(!1)}},_s=async Ee=>{k(!0);try{await new Promise(yt=>setTimeout(yt,800)),g(yt=>yt.map(zt=>zt.id===Ee.id?{...zt,emailAlerts:!zt.emailAlerts}:zt)),At(`Email alerts ${Ee.emailAlerts?"disabled":"enabled"} for lane ${Ee.origin}  ${Ee.destination}`)}catch(yt){console.error("Error toggling email alerts:",yt),At("Error toggling email alerts. Please try again.","error")}finally{k(!1)}};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Smart Load Search"}),s.jsx("p",{className:"text-gray-600",children:"Find and book available loads across the country"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs(yo,{to:"/all-loads",className:"btn btn-outline-secondary flex items-center",children:[s.jsx("i",{className:"fas fa-table mr-2"}),"View All Loads"]}),s.jsxs("button",{className:"btn btn-outline-secondary",onClick:Ct,disabled:_,children:[s.jsx("i",{className:"fas fa-save mr-2"}),"Save Search"]}),s.jsxs("button",{className:"btn btn-outline-primary",onClick:Cr,disabled:_,children:[s.jsx("i",{className:"fas fa-bell mr-2"}),"Set Alert"]})]})]}),s.jsxs(st,{className:"mb-6 shadow-md hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsx("div",{children:s.jsx(Wy,{label:"Origin",value:t.origin,onChange:Ee=>e({...t,origin:Ee}),onFeatureSelect:Ee=>{var yt;(yt=Ee==null?void 0:Ee.geometry)!=null&&yt.coordinates&&e({...t,origin:Ee.properties.full_address||t.origin,originCoordinates:{lat:Ee.geometry.coordinates[1],lon:Ee.geometry.coordinates[0]}})},savedLocations:qA,placeholder:"Search pickup location",required:!1})}),s.jsx("div",{children:s.jsx(Wy,{label:"Destination",value:t.destination,onChange:Ee=>e({...t,destination:Ee}),onFeatureSelect:Ee=>{var yt;(yt=Ee==null?void 0:Ee.geometry)!=null&&yt.coordinates&&e({...t,destination:Ee.properties.full_address||t.destination,destinationCoordinates:{lat:Ee.geometry.coordinates[1],lon:Ee.geometry.coordinates[0]}})},savedLocations:qA,placeholder:"Search delivery location",required:!1})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"equipmentType",className:"form-label",children:"Equipment Type"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-truck text-gray-400"})}),s.jsxs("select",{className:"form-select pl-10",id:"equipmentType",value:t.equipmentType,onChange:Xe,children:[s.jsx("option",{value:"",children:"Any"}),s.jsx("option",{value:"dry_van",children:"Dry Van"}),s.jsx("option",{value:"reefer",children:"Reefer"}),s.jsx("option",{value:"flatbed",children:"Flatbed"}),s.jsx("option",{value:"step_deck",children:"Step Deck"}),s.jsx("option",{value:"lowboy",children:"Lowboy"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"date",className:"form-label",children:"Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-calendar-alt text-gray-400"})}),s.jsx("input",{type:"date",className:"form-control pl-10",id:"date",value:t.date,onChange:Xe})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"minRate",className:"form-label",children:"Minimum Rate"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-dollar-sign text-gray-400"})}),s.jsx("input",{type:"number",className:"form-control pl-10",id:"minRate",placeholder:"0.00",value:t.minRate,onChange:Xe})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:dt,children:[s.jsx("i",{className:"fas fa-times mr-2"}),"Clear"]}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:Tt,disabled:_,children:_?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent mr-2"}),"Searching..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-search mr-2"}),"Search Loads"]})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx("i",{className:"fas fa-truck-loading mr-2 text-blue-600"}),"Available Loads"]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("i",{className:"fas fa-filter mr-2"}),s.jsxs("span",{children:[o.length," loads found"]})]})]}),_&&o.length===0?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o.length===0?s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-4 mb-4",children:s.jsx("i",{className:"fas fa-search text-3xl text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No loads found"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-4",children:"Try adjusting your search criteria to find more loads."}),s.jsx("button",{className:"btn btn-primary",onClick:()=>{dt(),l(r)},children:"Clear filters"})]})}):s.jsx("div",{className:"space-y-4",children:o.map(Ee=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md border border-gray-100 overflow-hidden transition-all duration-300 transform hover:-translate-y-1",children:[s.jsxs("div",{className:"grid grid-cols-12 p-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3 mb-3 md:mb-0",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-full p-2 hidden md:block",children:s.jsx("i",{className:"fas fa-map-marker-alt"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-gray-900",children:[Ee.origin,"  ",Ee.destination]}),s.jsxs("div",{className:"text-gray-600 flex items-center mt-1",children:[s.jsxs("span",{children:[Ee.miles," miles"]}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{children:Ee.equipmentType})]})]})]})}),s.jsx("div",{className:"col-span-6 md:col-span-3",children:s.jsx("div",{className:"flex items-start md:justify-center",children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-gray-900",children:["$",Ee.rate.toLocaleString()]}),s.jsxs("div",{className:"text-green-600 font-medium",children:["$",Ee.ratePerMile.toFixed(2),"/mile"]})]})})}),s.jsx("div",{className:"col-span-6 md:col-span-3",children:s.jsx("div",{className:"flex items-start md:justify-center",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:Ee.pickupDate}),s.jsxs("div",{className:"text-gray-600",children:["Delivery: ",Ee.deliveryDate]})]})})}),s.jsx("div",{className:"col-span-12 md:col-span-3 mt-3 md:mt-0",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsxs("button",{className:`btn-sm ${u.includes(Ee.id)?"btn-secondary":"btn-outline-primary"} flex items-center`,onClick:()=>Ie(Ee),disabled:_,children:[s.jsx("i",{className:`${u.includes(Ee.id)?"fas":"far"} fa-bookmark mr-1`}),s.jsx("span",{children:u.includes(Ee.id)?"Saved":"Save"})]}),s.jsxs("button",{className:"btn-sm btn-primary flex items-center",onClick:()=>Ge(Ee),disabled:_,children:[s.jsx("i",{className:"fas fa-check-circle mr-1"}),s.jsx("span",{children:"Book"})]})]})})]}),s.jsx("div",{className:"bg-gray-50 p-3 border-t border-gray-100 hidden md:block",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx("i",{className:"fas fa-building mr-1"}),s.jsx("span",{children:Ee.broker})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx("i",{className:"fas fa-weight mr-1"}),s.jsx("span",{children:Ee.weight})]}),Ee.tags&&Ee.tags.map((yt,zt)=>s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx("i",{className:`fas ${yt.includes("F")?"fa-thermometer-half":yt.includes("Oversized")?"fa-ruler":"fa-tag"} mr-1`}),s.jsx("span",{children:yt})]},zt))]}),s.jsx("div",{className:"text-sm",children:s.jsx("span",{className:`py-1 px-2 rounded-full ${Ee.status==="Premium rate"?"bg-blue-100 text-blue-800":Ee.status==="Tarping required"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:Ee.status})})]})})]},Ee.id))}),o.length>0&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx("button",{className:"bg-white border border-gray-300 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center",onClick:kt,disabled:C,children:C?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-gray-500 rounded-full border-t-transparent mr-2"}),"Loading more..."]}):s.jsx(s.Fragment,{children:"Load more results"})})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx("i",{className:"fas fa-star mr-2 text-yellow-500"}),"Saved Lanes"]}),s.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center",onClick:jt,disabled:_,children:[s.jsx("i",{className:"fas fa-plus-circle mr-1"}),"Add New Lane"]})]}),f.length===0?s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-4 mb-4",children:s.jsx("i",{className:"fas fa-road text-3xl text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No saved lanes"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-4",children:"Save your favorite lanes to get notified when new loads are available."}),s.jsx("button",{className:"btn btn-primary",onClick:jt,children:"Add Your First Lane"})]})}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:f.map(Ee=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[Ee.origin,"  ",Ee.destination]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{className:"p-1 text-gray-500 hover:text-blue-600",onClick:()=>Ot(Ee),disabled:_,children:s.jsx("i",{className:"fas fa-edit"})}),s.jsx("button",{className:"p-1 text-gray-500 hover:text-red-600",onClick:()=>lr(Ee),disabled:_,children:s.jsx("i",{className:"fas fa-trash-alt"})})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Equipment"}),s.jsx("div",{className:"font-medium",children:Ee.equipmentType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Min Rate"}),s.jsxs("div",{className:"font-medium",children:["$",Ee.minRate.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Matching Loads"}),s.jsxs("div",{className:"font-medium text-green-600",children:[Ee.matchingLoads," loads"]})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>_s(Ee),children:Ee.emailAlerts?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"relative inline-flex h-3 w-3 mr-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),s.jsx("span",{className:"text-sm text-gray-600",children:"Email alerts: On"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"relative inline-flex h-3 w-3 mr-2",children:s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-gray-300"})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Email alerts: Off"})]})}),s.jsx("button",{className:"btn-sm btn-outline-primary",onClick:()=>Er(Ee),disabled:_,children:"View Matches"})]})]})]},Ee.id))})]}),s.jsx(xr,{isOpen:T,onClose:()=>M(!1),title:"Save Search",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>M(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:or,disabled:_||!ie.trim(),children:_?"Saving...":"Save Search"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Name"}),s.jsx("input",{type:"text",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"Enter a name for this search",value:ie,onChange:Ee=>ge(Ee.target.value)})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Search Criteria"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Origin:"}),s.jsx("span",{children:t.origin||"Any"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Destination:"}),s.jsx("span",{children:t.destination||"Any"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Equipment Type:"}),s.jsx("span",{children:t.equipmentType||"Any"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Date:"}),s.jsx("span",{children:t.date||"Any"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Minimum Rate:"}),s.jsx("span",{children:t.minRate?`$${t.minRate}`:"Any"})]})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-info-circle"})}),s.jsx("div",{className:"text-sm text-blue-800",children:s.jsx("p",{children:"Saving this search will allow you to quickly run it again in the future."})})]})})]})}),s.jsx(xr,{isOpen:B,onClose:()=>F(!1),title:"Set Load Alert",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>F(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:cs,disabled:_,children:_?"Setting Alert...":"Set Alert"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Alert Criteria"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Origin:"}),s.jsx("span",{children:t.origin||"Any"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Destination:"}),s.jsx("span",{children:t.destination||"Any"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Equipment Type:"}),s.jsx("span",{children:t.equipmentType||"Any"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Date:"}),s.jsx("span",{children:t.date||"Any"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"font-medium w-32",children:"Minimum Rate:"}),s.jsx("span",{children:t.minRate?`$${t.minRate}`:"Any"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alert Frequency"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{value:"immediately",children:"Immediately"}),s.jsx("option",{value:"hourly",children:"Hourly"}),s.jsx("option",{value:"daily",children:"Daily"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification Method"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"email-notification",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",defaultChecked:!0}),s.jsx("label",{htmlFor:"email-notification",className:"ml-2 block text-sm text-gray-700",children:"Email"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"sms-notification",className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"sms-notification",className:"ml-2 block text-sm text-gray-700",children:"SMS"})]})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-info-circle"})}),s.jsx("div",{className:"text-sm text-blue-800",children:s.jsx("p",{children:"You will be notified when new loads matching your criteria become available."})})]})})]})}),s.jsx(xr,{isOpen:V,onClose:()=>H(!1),title:"Confirm Booking",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>H(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:it,disabled:_,children:_?"Booking...":"Confirm Booking"})]}),children:he&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-green-50 border border-green-100 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"text-green-600 mr-3",children:s.jsx("i",{className:"fas fa-check-circle"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-800",children:"Ready to Book"}),s.jsx("p",{className:"text-sm text-green-700",children:"You're about to book the following load:"})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Load Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Load ID:"}),s.jsx("span",{className:"text-sm font-medium",children:he.id})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Route:"}),s.jsxs("span",{className:"text-sm font-medium",children:[he.origin,"  ",he.destination]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Distance:"}),s.jsxs("span",{className:"text-sm font-medium",children:[he.miles," miles"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Equipment:"}),s.jsx("span",{className:"text-sm font-medium",children:he.equipmentType})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Rate:"}),s.jsxs("span",{className:"text-sm font-medium",children:["$",he.rate.toLocaleString()," ($",he.ratePerMile.toFixed(2),"/mile)"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Pickup Date:"}),s.jsx("span",{className:"text-sm font-medium",children:he.pickupDate})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Delivery Date:"}),s.jsx("span",{className:"text-sm font-medium",children:he.deliveryDate})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Broker:"}),s.jsx("span",{className:"text-sm font-medium",children:he.broker})]})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-info-circle"})}),s.jsx("div",{className:"text-sm text-blue-800",children:s.jsx("p",{children:"By confirming this booking, you agree to the terms and conditions of the load."})})]})})]})}),s.jsx(xr,{isOpen:Z,onClose:()=>re(!1),title:"Add New Lane",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>re(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:bt,disabled:_||!G.origin||!G.destination,children:_?"Adding...":"Add Lane"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Origin"}),s.jsx("input",{type:"text",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"City, State or Zip Code",value:G.origin||"",onChange:Ee=>ue({...G,origin:Ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination"}),s.jsx("input",{type:"text",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"City, State or Zip Code",value:G.destination||"",onChange:Ee=>ue({...G,destination:Ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipment Type"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",value:G.equipmentType||"Dry Van",onChange:Ee=>ue({...G,equipmentType:Ee.target.value}),children:[s.jsx("option",{value:"Dry Van",children:"Dry Van"}),s.jsx("option",{value:"Reefer",children:"Reefer"}),s.jsx("option",{value:"Flatbed",children:"Flatbed"}),s.jsx("option",{value:"Step Deck",children:"Step Deck"}),s.jsx("option",{value:"Lowboy",children:"Lowboy"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Rate ($)"}),s.jsx("input",{type:"number",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"0.00",value:G.minRate||"",onChange:Ee=>ue({...G,minRate:parseFloat(Ee.target.value)})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"email-alerts",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",checked:G.emailAlerts||!1,onChange:Ee=>ue({...G,emailAlerts:Ee.target.checked})}),s.jsx("label",{htmlFor:"email-alerts",className:"ml-2 block text-sm text-gray-700",children:"Enable email alerts for this lane"})]})]})}),s.jsx(xr,{isOpen:le,onClose:()=>ce(!1),title:"Edit Lane",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>ce(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:rr,disabled:_||!G.origin||!G.destination,children:_?"Saving...":"Save Changes"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Origin"}),s.jsx("input",{type:"text",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"City, State or Zip Code",value:G.origin||"",onChange:Ee=>ue({...G,origin:Ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination"}),s.jsx("input",{type:"text",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"City, State or Zip Code",value:G.destination||"",onChange:Ee=>ue({...G,destination:Ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipment Type"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",value:G.equipmentType||"Dry Van",onChange:Ee=>ue({...G,equipmentType:Ee.target.value}),children:[s.jsx("option",{value:"Dry Van",children:"Dry Van"}),s.jsx("option",{value:"Reefer",children:"Reefer"}),s.jsx("option",{value:"Flatbed",children:"Flatbed"}),s.jsx("option",{value:"Step Deck",children:"Step Deck"}),s.jsx("option",{value:"Lowboy",children:"Lowboy"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Rate ($)"}),s.jsx("input",{type:"number",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"0.00",value:G.minRate||"",onChange:Ee=>ue({...G,minRate:parseFloat(Ee.target.value)})})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"edit-email-alerts",className:"h-4 w-4 text-blue-600 border-gray-300 rounded",checked:G.emailAlerts||!1,onChange:Ee=>ue({...G,emailAlerts:Ee.target.checked})}),s.jsx("label",{htmlFor:"edit-email-alerts",className:"ml-2 block text-sm text-gray-700",children:"Enable email alerts for this lane"})]})]})}),s.jsx(TFe,{isSearching:ke,onComplete:()=>{}}),s.jsx(PFe,{isOpen:Se,onClose:()=>Ue(!1),loads:ve,onCallBroker:nt,onEmailBroker:Me,onReject:qe,onSaveForLater:ht}),De&&s.jsx(MFe,{isOpen:He,onClose:()=>Ke(!1),brokerName:De.broker.name,brokerCompany:De.broker.company,brokerPhone:De.broker.phone,loadId:De.id,onSaveNotes:ye})]})},DFe=()=>{const[t,e]=Y.useState(""),[r,n]=Y.useState(""),[i,a]=Y.useState(""),[o,l]=Y.useState(""),[u,h]=Y.useState(null),f=Y.useRef(null),[g,y]=Y.useState(!1),[N,_]=Y.useState(!1),[k,C]=Y.useState(!1),[O,T]=Y.useState(!1),[M,B]=Y.useState([]),[F,V]=Y.useState(""),[H,Z]=Y.useState(!1),[re,le]=Y.useState([{id:"LD1001",origin:"New York, NY",destination:"Chicago, IL",customer:"Acme Co",equipment:"Dry Van",date:"5/22/2025",price:2850,status:"Booked"},{id:"LD1005",origin:"Boston, MA",destination:"Philadelphia, PA",customer:"Reliable Transport",equipment:"Reefer",date:"5/23/2025",price:1950,status:"Booked"}]),[ce,he]=Y.useState([{id:"LD1002",origin:"Dallas, TX",destination:"Houston, TX",customer:"Global Logistics",equipment:"Dry Van",date:"5/22/2025",price:950,driver:"Maria Garcia",status:"Assigned"},{id:"LD1006",origin:"San Francisco, CA",destination:"Los Angeles, CA",customer:"Prime Delivery",equipment:"Flatbed",date:"5/23/2025",price:1250,driver:"David Brown",status:"Assigned"}]),[fe,ee]=Y.useState([{id:"LD1003",origin:"Miami, FL",destination:"Atlanta, GA",customer:"Fast Freight",equipment:"Reefer",date:"5/22/2025",price:1750,driver:"Robert Johnson",status:"Picked Up",eta:"5/24/2025 14:30",pickupDate:"5/22/2025"},{id:"LD1007",origin:"Denver, CO",destination:"Phoenix, AZ",customer:"Acme Co",equipment:"Dry Van",date:"5/22/2025",price:2100,driver:"John Smith",status:"Picked Up",eta:"5/24/2025 18:45",pickupDate:"5/22/2025"}]),[xe,ie]=Y.useState([{id:"LD1004",origin:"Seattle, WA",destination:"Portland, OR",customer:"Speedy Shipping",equipment:"Dry Van",date:"5/22/2025",price:795,driver:"Sarah Williams",status:"Delivered",deliveryDate:"5/22/2025"},{id:"LD1008",origin:"Minneapolis, MN",destination:"Milwaukee, WI",customer:"Global Logistics",equipment:"Flatbed",date:"5/21/2025",price:850,driver:"Maria Garcia",status:"Delivered",deliveryDate:"5/21/2025"}]),ge=Me=>{h(Me),setTimeout(()=>{f.current&&f.current.scrollIntoView({behavior:"smooth"})},100)},G=Me=>{switch(Me){case"Booked":return"bg-gray-600 text-white";case"Assigned":return"bg-blue-600 text-white";case"Picked Up":return"bg-yellow-500 text-white";case"Delivered":return"bg-green-600 text-white";default:return"bg-gray-600 text-white"}},ue=Me=>Me.filter(qe=>{const ht=t.toLowerCase();if(t&&!qe.id.toLowerCase().includes(ht)&&!qe.origin.toLowerCase().includes(ht)&&!qe.destination.toLowerCase().includes(ht)&&!qe.customer.toLowerCase().includes(ht))return!1;if(r){const ye=r.toLowerCase();if(ye==="booked"&&qe.status!=="Booked"||ye==="assigned"&&qe.status!=="Assigned"||ye==="picked-up"&&qe.status!=="Picked Up"||ye==="delivered"&&qe.status!=="Delivered")return!1}return!(i&&qe.customer!==i||o&&qe.equipment!==o)}),ke=async()=>{try{const Me=await Ps.getAvailableDrivers();B(Me)}catch(Me){console.error("Error fetching drivers:",Me)}},ve=async Me=>{h(Me),T(!0),V(""),Z(!1),await ke(),T(!1),y(!0)},Se=async()=>{if(!(!u||!F)){Z(!0);try{const Me=await Ps.assignDriver(u.id,F),qe=re.filter(ye=>ye.id!==u.id);le(qe);const ht={...u,status:Me.status,driver:Me.driver};he([...ce,ht]),h(ht),y(!1)}catch(Me){console.error("Error assigning driver:",Me)}finally{Z(!1)}}},He=async Me=>{T(!0);try{const qe=await Ps.markAsPickedUp(Me.id),ht=ce.filter(Xe=>Xe.id!==Me.id);he(ht);const ye={...Me,status:qe.status,pickupDate:qe.pickupDate,eta:qe.eta};ee([...fe,ye]),h(ye)}catch(qe){console.error("Error marking as picked up:",qe)}finally{T(!1)}},De=async Me=>{T(!0);try{const qe=await Ps.markAsDelivered(Me.id),ht=fe.filter(Xe=>Xe.id!==Me.id);ee(ht);const ye={...Me,status:qe.status,deliveryDate:qe.deliveryDate};ie([...xe,ye]),h(ye)}catch(qe){console.error("Error marking as delivered:",qe)}finally{T(!1)}},$e=async Me=>{T(!0);try{await Ps.createInvoice(Me.id)}catch(qe){console.error("Error creating invoice:",qe)}finally{T(!1)}},Ue=async()=>{T(!0);try{const Me={origin:"New Origin, NY",destination:"New Destination, CA",customer:"New Customer",equipment:"Dry Van",date:new Date().toLocaleDateString(),price:1500},ht={id:(await Ps.createLoad(Me)).id,...Me,status:"Booked"};le([...re,ht]),_(!1)}catch(Me){console.error("Error creating new load:",Me)}finally{T(!1)}},Ke=async Me=>{T(!0);try{const qe=await Ps.duplicateLoad(Me.id),ht={...Me,id:qe.id,status:"Booked",driver:void 0,pickupDate:void 0,deliveryDate:void 0,eta:void 0};le([...re,ht])}catch(qe){console.error("Error duplicating load:",qe)}finally{T(!1)}},nt=Me=>s.jsxs("div",{className:"load-card bg-white p-4 rounded-lg shadow-sm cursor-pointer hover:shadow-md transition-all duration-200 transform hover:-translate-y-1",onClick:()=>ge(Me),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-bold text-blue-600",children:Me.id}),s.jsx("span",{className:`status-badge px-2 py-1 rounded-full text-xs ${G(Me.status)}`,children:Me.status})]}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"font-medium",children:[Me.origin,"  ",Me.destination]}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[s.jsx("span",{children:Me.customer}),s.jsx("span",{className:"mx-1.5",children:""}),s.jsx("span",{children:Me.equipment})]})]}),Me.driver&&s.jsxs("div",{className:"text-sm mb-1 flex items-center text-gray-600",children:[s.jsx("i",{className:"fas fa-user mr-1.5 text-blue-500"}),s.jsx("span",{children:Me.driver})]}),Me.eta&&s.jsxs("div",{className:"text-sm mb-1 flex items-center text-gray-600",children:[s.jsx("i",{className:"fas fa-clock mr-1.5 text-blue-500"}),s.jsxs("span",{children:["ETA: ",Me.eta]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("div",{className:"text-sm text-gray-600",children:Me.date}),s.jsxs("div",{className:"text-sm font-semibold",children:["$",Me.price.toLocaleString()]})]}),s.jsxs("div",{className:"mt-3",children:[Me.status==="Booked"&&s.jsxs("button",{className:"btn btn-sm btn-outline-primary w-full px-3 py-1 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-600 hover:text-white transition-colors",onClick:qe=>{qe.stopPropagation(),ve(Me)},children:[s.jsx("i",{className:"fas fa-user-plus mr-1.5"}),"Assign Driver"]}),Me.status==="Assigned"&&s.jsxs("button",{className:"btn btn-sm btn-outline-success w-full px-3 py-1 border border-green-600 text-green-600 rounded-md hover:bg-green-600 hover:text-white transition-colors",onClick:qe=>{qe.stopPropagation(),He(Me)},children:[s.jsx("i",{className:"fas fa-truck mr-1.5"}),"Mark as Picked Up"]}),Me.status==="Picked Up"&&s.jsxs("button",{className:"btn btn-sm btn-outline-success w-full px-3 py-1 border border-green-600 text-green-600 rounded-md hover:bg-green-600 hover:text-white transition-colors",onClick:qe=>{qe.stopPropagation(),De(Me)},children:[s.jsx("i",{className:"fas fa-check-circle mr-1.5"}),"Mark as Delivered"]}),Me.status==="Delivered"&&s.jsxs("button",{className:"btn btn-sm btn-outline-primary w-full px-3 py-1 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-600 hover:text-white transition-colors",onClick:qe=>{qe.stopPropagation(),$e(Me)},children:[s.jsx("i",{className:"fas fa-file-invoice-dollar mr-1.5"}),"Create Invoice"]})]})]},Me.id);return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dispatch Board"}),s.jsx("p",{className:"text-gray-600",children:"Manage and track all your shipments"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"btn btn-primary flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>_(!0),children:[s.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Load"]}),s.jsxs(yo,{to:"/all-loads",className:"btn btn-outline-primary flex items-center px-4 py-2 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-600 hover:text-white transition-colors",children:[s.jsx("i",{className:"fas fa-table mr-2"}),"View All Loads"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx("label",{htmlFor:"search-loads",className:"sr-only",children:"Search loads"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-search text-gray-400"})}),s.jsx("input",{id:"search-loads",type:"text",className:"form-control pl-10 border border-gray-300 rounded-md py-2 px-4 w-full",placeholder:"Search loads...",value:t,onChange:Me=>e(Me.target.value)})]}),s.jsxs("div",{className:"w-full md:w-auto",children:[s.jsx("label",{htmlFor:"status-filter",className:"sr-only",children:"Filter by Status"}),s.jsxs("select",{id:"status-filter",className:"form-select border border-gray-300 rounded-md py-2 px-4 w-full",value:r,onChange:Me=>n(Me.target.value),children:[s.jsx("option",{value:"",children:"Filter by Status"}),s.jsx("option",{value:"booked",children:"Booked"}),s.jsx("option",{value:"assigned",children:"Assigned"}),s.jsx("option",{value:"picked-up",children:"Picked Up"}),s.jsx("option",{value:"delivered",children:"Delivered"})]})]}),s.jsxs("div",{className:"w-full md:w-auto",children:[s.jsx("label",{htmlFor:"customer-filter",className:"sr-only",children:"Filter by Customer"}),s.jsxs("select",{id:"customer-filter",className:"form-select border border-gray-300 rounded-md py-2 px-4 w-full",value:i,onChange:Me=>a(Me.target.value),children:[s.jsx("option",{value:"",children:"All Customers"}),s.jsx("option",{value:"Acme Co",children:"Acme Co"}),s.jsx("option",{value:"Global Logistics",children:"Global Logistics"}),s.jsx("option",{value:"Fast Freight",children:"Fast Freight"}),s.jsx("option",{value:"Speedy Shipping",children:"Speedy Shipping"}),s.jsx("option",{value:"Reliable Transport",children:"Reliable Transport"}),s.jsx("option",{value:"Prime Delivery",children:"Prime Delivery"})]})]}),s.jsxs("div",{className:"w-full md:w-auto",children:[s.jsx("label",{htmlFor:"equipment-filter",className:"sr-only",children:"Filter by Equipment"}),s.jsxs("select",{id:"equipment-filter",className:"form-select border border-gray-300 rounded-md py-2 px-4 w-full",value:o,onChange:Me=>l(Me.target.value),children:[s.jsx("option",{value:"",children:"All Equipment"}),s.jsx("option",{value:"Dry Van",children:"Dry Van"}),s.jsx("option",{value:"Reefer",children:"Reefer"}),s.jsx("option",{value:"Flatbed",children:"Flatbed"}),s.jsx("option",{value:"Tanker",children:"Tanker"})]})]}),(t||r||i||o)&&s.jsxs("button",{className:"btn btn-outline-danger flex items-center px-4 py-2 border border-red-500 text-red-500 rounded-md hover:bg-red-50 transition-colors whitespace-nowrap",onClick:()=>{e(""),n(""),a(""),l("")},children:[s.jsx("i",{className:"fas fa-times mr-2"}),"Clear Filters"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"h-full",children:[s.jsxs("div",{className:`py-2 px-4 rounded-t-lg font-semibold text-white flex items-center justify-between ${G("Booked")}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-bookmark mr-2"}),s.jsx("span",{children:"Booked"})]}),s.jsx("div",{className:"bg-white text-gray-700 rounded-full h-6 w-6 flex items-center justify-center text-xs font-semibold",children:re.length})]}),s.jsx("div",{className:"bg-gray-50 rounded-b-lg p-3 h-[calc(100vh-240px)] overflow-y-auto scrollbar-thin",children:re.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("i",{className:"fas fa-inbox text-3xl mb-2"}),s.jsx("p",{children:"No booked loads"})]}):s.jsx("div",{className:"space-y-3",children:ue(re).map(Me=>nt(Me))})})]}),s.jsxs("div",{className:"h-full",children:[s.jsxs("div",{className:`py-2 px-4 rounded-t-lg font-semibold text-white flex items-center justify-between ${G("Assigned")}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-user-check mr-2"}),s.jsx("span",{children:"Assigned"})]}),s.jsx("div",{className:"bg-white text-gray-700 rounded-full h-6 w-6 flex items-center justify-center text-xs font-semibold",children:ce.length})]}),s.jsx("div",{className:"bg-gray-50 rounded-b-lg p-3 h-[calc(100vh-240px)] overflow-y-auto scrollbar-thin",children:ce.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("i",{className:"fas fa-inbox text-3xl mb-2"}),s.jsx("p",{children:"No assigned loads"})]}):s.jsx("div",{className:"space-y-3",children:ue(ce).map(Me=>nt(Me))})})]}),s.jsxs("div",{className:"h-full",children:[s.jsxs("div",{className:`py-2 px-4 rounded-t-lg font-semibold text-white flex items-center justify-between ${G("Picked Up")}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-truck mr-2"}),s.jsx("span",{children:"Picked Up"})]}),s.jsx("div",{className:"bg-white text-gray-700 rounded-full h-6 w-6 flex items-center justify-center text-xs font-semibold",children:fe.length})]}),s.jsx("div",{className:"bg-gray-50 rounded-b-lg p-3 h-[calc(100vh-240px)] overflow-y-auto scrollbar-thin",children:fe.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("i",{className:"fas fa-inbox text-3xl mb-2"}),s.jsx("p",{children:"No loads in transit"})]}):s.jsx("div",{className:"space-y-3",children:ue(fe).map(Me=>nt(Me))})})]}),s.jsxs("div",{className:"h-full",children:[s.jsxs("div",{className:`py-2 px-4 rounded-t-lg font-semibold text-white flex items-center justify-between ${G("Delivered")}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-check-circle mr-2"}),s.jsx("span",{children:"Delivered"})]}),s.jsx("div",{className:"bg-white text-gray-700 rounded-full h-6 w-6 flex items-center justify-center text-xs font-semibold",children:xe.length})]}),s.jsx("div",{className:"bg-gray-50 rounded-b-lg p-3 h-[calc(100vh-240px)] overflow-y-auto scrollbar-thin",children:xe.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("i",{className:"fas fa-inbox text-3xl mb-2"}),s.jsx("p",{children:"No delivered loads"})]}):s.jsx("div",{className:"space-y-3",children:ue(xe).map(Me=>nt(Me))})})]})]}),s.jsxs("div",{className:"mt-6",ref:f,children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-info-circle mr-2 text-blue-600"}),"Load Details"]}),s.jsx(st,{children:u?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx("span",{className:"mr-2",children:u.id}),s.jsx("span",{className:`status-badge px-2 py-1 rounded-full text-xs ${G(u.status)}`,children:u.status})]}),s.jsxs("p",{className:"text-gray-600",children:[u.origin,"  ",u.destination]})]}),s.jsxs("div",{className:"mt-4 md:mt-0",children:[s.jsxs("div",{className:"text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:"Price:"})," $",u.price.toLocaleString()]}),s.jsxs("div",{className:"text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:"Date:"})," ",u.date]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Shipment Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Customer"}),s.jsx("div",{className:"font-medium",children:u.customer})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Equipment"}),s.jsx("div",{className:"font-medium",children:u.equipment})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Origin"}),s.jsx("div",{className:"font-medium",children:u.origin})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Destination"}),s.jsx("div",{className:"font-medium",children:u.destination})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Status Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Current Status"}),s.jsx("div",{className:"font-medium",children:u.status})]}),u.driver&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Driver"}),s.jsx("div",{className:"font-medium",children:u.driver})]}),u.pickupDate&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Pickup Date"}),s.jsx("div",{className:"font-medium",children:u.pickupDate})]}),u.deliveryDate&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Delivery Date"}),s.jsx("div",{className:"font-medium",children:u.deliveryDate})]}),u.eta&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500",children:"ETA"}),s.jsx("div",{className:"font-medium",children:u.eta})]})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[u.status==="Booked"&&s.jsxs("button",{className:"btn btn-primary flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>ve(u),disabled:O,children:[s.jsx("i",{className:"fas fa-user-plus mr-2"}),"Assign Driver"]}),u.status==="Assigned"&&s.jsxs("button",{className:"btn btn-success flex-1 flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",onClick:()=>He(u),disabled:O,children:[s.jsx("i",{className:"fas fa-truck mr-2"}),"Mark as Picked Up"]}),u.status==="Picked Up"&&s.jsxs("button",{className:"btn btn-success flex-1 flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",onClick:()=>De(u),disabled:O,children:[s.jsx("i",{className:"fas fa-check-circle mr-2"}),"Mark as Delivered"]}),u.status==="Delivered"&&s.jsxs("button",{className:"btn btn-primary flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>$e(u),disabled:O,children:[s.jsx("i",{className:"fas fa-file-invoice-dollar mr-2"}),"Create Invoice"]}),s.jsxs("button",{className:"btn btn-outline-secondary flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>C(!0),disabled:O,children:[s.jsx("i",{className:"fas fa-edit mr-2"}),"Edit Load"]}),s.jsxs("button",{className:"btn btn-outline-secondary flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>Ke(u),disabled:O,children:[s.jsx("i",{className:"fas fa-copy mr-2"}),"Duplicate"]})]})]}):s.jsxs("div",{className:"text-center py-10 text-gray-500",children:[s.jsx("i",{className:"fas fa-truck-loading text-5xl mb-3"}),s.jsx("p",{className:"text-lg",children:"No load selected"}),s.jsx("p",{className:"text-sm",children:"Click on a load to view its details"})]})})]}),s.jsx(xr,{isOpen:g,onClose:()=>y(!1),title:"Select a driver to assign to load",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>y(!1),disabled:H,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",onClick:Se,disabled:H||!F,children:H?s.jsxs("span",{className:"flex items-center",children:[s.jsx("span",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"}),"Assigning..."]}):"Assign Driver"})]}),children:s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"mb-2 font-medium",children:["Load: ",u==null?void 0:u.id]}),O?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):M.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("i",{className:"fas fa-user-slash text-3xl mb-2"}),s.jsx("p",{children:"No available drivers found"})]}):s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:M.map(Me=>s.jsx("div",{className:`p-3 border rounded-md cursor-pointer transition-colors ${F===Me.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>V(Me.id),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-800 font-bold mr-3",children:Me.name.split(" ").map(qe=>qe[0]).join("")}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:Me.name}),s.jsx("div",{className:"text-sm text-gray-600",children:Me.phone})]}),F===Me.id&&s.jsx("div",{className:"ml-auto text-blue-600",children:s.jsx("i",{className:"fas fa-check-circle"})})]})},Me.id))})]})}),s.jsx(xr,{isOpen:N,onClose:()=>_(!1),title:"Create New Load",size:"lg",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>_(!1),disabled:O,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:Ue,disabled:O,children:O?"Creating...":"Create Load"})]}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new-origin",className:"block text-sm font-medium text-gray-700 mb-1",children:"Origin"}),s.jsx("input",{id:"new-origin",type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"New York, NY"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new-destination",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination"}),s.jsx("input",{id:"new-destination",type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"Chicago, IL"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new-customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer"}),s.jsxs("select",{id:"new-customer",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{children:"Acme Co"}),s.jsx("option",{children:"Global Logistics"}),s.jsx("option",{children:"Fast Freight"}),s.jsx("option",{children:"Speedy Shipping"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new-equipment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipment"}),s.jsxs("select",{id:"new-equipment",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{children:"Dry Van"}),s.jsx("option",{children:"Reefer"}),s.jsx("option",{children:"Flatbed"}),s.jsx("option",{children:"Tanker"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{id:"new-date",type:"date",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",defaultValue:new Date().toISOString().slice(0,10)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new-price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),s.jsx("input",{id:"new-price",type:"number",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"1500"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"new-notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{id:"new-notes",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",rows:3,placeholder:"Enter any additional information about this load"})]})]})}),s.jsx(xr,{isOpen:k,onClose:()=>C(!1),title:`Edit Load ${u==null?void 0:u.id}`,size:"lg",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>C(!1),disabled:O,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>{C(!1),Ps.editLoad((u==null?void 0:u.id)||"",{})},disabled:O,children:O?"Saving...":"Save Changes"})]}),children:u&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-origin",className:"block text-sm font-medium text-gray-700 mb-1",children:"Origin"}),s.jsx("input",{id:"edit-origin",type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",defaultValue:u.origin})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-destination",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination"}),s.jsx("input",{id:"edit-destination",type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",defaultValue:u.destination})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer"}),s.jsxs("select",{id:"edit-customer",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",defaultValue:u.customer,children:[s.jsx("option",{children:"Acme Co"}),s.jsx("option",{children:"Global Logistics"}),s.jsx("option",{children:"Fast Freight"}),s.jsx("option",{children:"Speedy Shipping"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-equipment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipment"}),s.jsxs("select",{id:"edit-equipment",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",defaultValue:u.equipment,children:[s.jsx("option",{children:"Dry Van"}),s.jsx("option",{children:"Reefer"}),s.jsx("option",{children:"Flatbed"}),s.jsx("option",{children:"Tanker"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),s.jsx("input",{id:"edit-date",type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",defaultValue:u.date})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"edit-price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),s.jsx("input",{id:"edit-price",type:"number",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",defaultValue:u.price})]})]})})]})},RFe=()=>{const[t,e]=Y.useState(null),[r,n]=Y.useState(""),[i,a]=Y.useState("all"),[o,l]=Y.useState(!1),[u,h]=Y.useState(!1),[f,g]=Y.useState(""),[y,N]=Y.useState(null),[_,k]=Y.useState(!1),[C,O]=Y.useState(!1),T={rate_confirmations:[{id:"1",name:"LD1001_Rate_Conf.pdf",type:"rate_confirmation",date:"5/21/2025",size:"156 KB"},{id:"2",name:"LD1002_Rate_Conf.pdf",type:"rate_confirmation",date:"5/20/2025",size:"145 KB"},{id:"3",name:"LD1003_Rate_Conf.pdf",type:"rate_confirmation",date:"5/19/2025",size:"162 KB"},{id:"4",name:"LD1004_Rate_Conf.pdf",type:"rate_confirmation",date:"5/18/2025",size:"154 KB"},{id:"5",name:"LD1005_Rate_Conf.pdf",type:"rate_confirmation",date:"5/17/2025",size:"149 KB"}],bills_of_lading:[{id:"6",name:"LD1001_BOL.pdf",type:"bol",date:"5/22/2025",size:"210 KB"},{id:"7",name:"LD1002_BOL.pdf",type:"bol",date:"5/21/2025",size:"195 KB"},{id:"8",name:"LD1003_BOL.pdf",type:"bol",date:"5/20/2025",size:"220 KB"}],proofs_of_delivery:[{id:"9",name:"LD1001_POD.pdf",type:"pod",date:"5/23/2025",size:"176 KB"},{id:"10",name:"LD1002_POD.pdf",type:"pod",date:"5/22/2025",size:"185 KB"},{id:"11",name:"LD1003_POD.pdf",type:"pod",date:"5/21/2025",size:"190 KB"}]},M=G=>{e(G)},B=G=>{e(G),O(!0)},F=async G=>{k(!0);try{await Ps.downloadDocument(G.id)}catch(ue){console.error("Error downloading document:",ue)}finally{k(!1)}},V=G=>{N(G),h(!0)},H=async G=>{if(confirm(`Are you sure you want to delete ${G.name}?`)){k(!0);try{await At(`Document ${G.name} deleted successfully`);const ue=G.type==="rate_confirmation"?"rate_confirmations":G.type==="bol"?"bills_of_lading":"proofs_of_delivery",ve=[...T[ue]].filter(Se=>Se.id!==G.id);T[ue]=ve,(t==null?void 0:t.id)===G.id&&e(null)}catch(ue){console.error("Error deleting document:",ue)}finally{k(!1)}}},Z=async()=>{k(!0);try{await At("Document uploaded successfully"),l(!1)}catch(G){console.error("Error uploading document:",G)}finally{k(!1)}},re=async()=>{if(!(!y||!f.trim())){k(!0);try{await At(`Document shared with ${f}`),h(!1),g("")}catch(G){console.error("Error sharing document:",G)}finally{k(!1)}}},le=async G=>{k(!0);try{await At(`Printing ${G.name}`)}catch(ue){console.error("Error printing document:",ue)}finally{k(!1)}},ce=async()=>{k(!0);try{await At("Viewing recently uploaded documents"),a("all")}catch(G){console.error("Error fetching recently uploaded documents:",G)}finally{k(!1)}},he=async()=>{k(!0);try{await At("Viewing starred documents"),a("all")}catch(G){console.error("Error fetching starred documents:",G)}finally{k(!1)}},fe=async()=>{k(!0);try{await At("Viewing documents shared with you"),a("all")}catch(G){console.error("Error fetching shared documents:",G)}finally{k(!1)}},ee=()=>Object.values(T).flat().filter(ue=>{const ke=ue.name.toLowerCase().includes(r.toLowerCase()),ve=i==="all"||ue.type===i;return ke&&ve}),xe=G=>({rate_confirmation:"Rate Confirmation",bol:"Bill of Lading",pod:"Proof of Delivery",invoice:"Invoice",other:"Other"})[G]||G,ie=G=>({rate_confirmation:"fa-file-contract",bol:"fa-file-invoice",pod:"fa-clipboard-check",invoice:"fa-file-invoice-dollar",other:"fa-file"})[G]||"fa-file",ge=G=>({rate_confirmation:"blue",bol:"green",pod:"purple",invoice:"orange",other:"gray"})[G]||"gray";return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Documents"}),s.jsx("p",{className:"text-gray-600",children:"Manage and organize your transportation documents"})]}),s.jsx("div",{children:s.jsxs("button",{className:"btn btn-primary flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>l(!0),disabled:_,children:[s.jsx("i",{className:"fas fa-cloud-upload-alt mr-2"}),"Upload Document"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"document-search",className:"sr-only",children:"Search documents"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-search text-gray-400"})}),s.jsx("input",{type:"text",id:"document-search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search documents",value:r,onChange:G=>n(G.target.value)})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Document Types"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="all"?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}`,onClick:()=>a("all"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-folder text-blue-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"All Documents"}),s.jsx("span",{className:"ml-auto bg-gray-100 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:Object.values(T).flat().length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="rate_confirmation"?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}`,onClick:()=>a("rate_confirmation"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-contract text-blue-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Rate Confirmations"}),s.jsx("span",{className:"ml-auto bg-blue-100 text-blue-700 rounded-full px-2 py-0.5 text-xs font-medium",children:T.rate_confirmations.length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="bol"?"bg-green-50 text-green-700":"hover:bg-gray-50"}`,onClick:()=>a("bol"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-invoice text-green-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Bills of Lading"}),s.jsx("span",{className:"ml-auto bg-green-100 text-green-700 rounded-full px-2 py-0.5 text-xs font-medium",children:T.bills_of_lading.length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="pod"?"bg-purple-50 text-purple-700":"hover:bg-gray-50"}`,onClick:()=>a("pod"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-clipboard-check text-purple-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Proof of Delivery"}),s.jsx("span",{className:"ml-auto bg-purple-100 text-purple-700 rounded-full px-2 py-0.5 text-xs font-medium",children:T.proofs_of_delivery.length})]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Quick Access"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 flex items-center",onClick:ce,disabled:_,children:[s.jsx("i",{className:"fas fa-clock text-gray-400 mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Recently Uploaded"})]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 flex items-center",onClick:he,disabled:_,children:[s.jsx("i",{className:"fas fa-star text-gray-400 mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Starred Documents"})]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 flex items-center",onClick:fe,disabled:_,children:[s.jsx("i",{className:"fas fa-share-alt text-gray-400 mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Shared with Me"})]})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 text-blue-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-lightbulb"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Storage usage"}),s.jsx("p",{className:"text-sm text-blue-600 mb-2",children:"4.2 GB of 10 GB used"}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"42%"}})})]})]})})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsxs(st,{className:"shadow-sm mb-6",children:[s.jsx("div",{className:"mb-4 pb-4 border-b border-gray-100",children:s.jsxs("h3",{className:"text-lg font-medium",children:[ee().length," Document",ee().length!==1?"s":"",i!=="all"&&`  ${xe(i)}`,r&&`  "${r}"`]})}),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Name"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee().map(G=>{const ue=(t==null?void 0:t.id)===G.id,ke=ge(G.type),ve=ie(G.type);return s.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${ue?"bg-blue-50":""}`,onClick:()=>M(G),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-lg bg-${ke}-100 flex items-center justify-center text-${ke}-600`,children:s.jsx("i",{className:`fas ${ve}`})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[G.name.split("_")[0],"  ",G.type==="bol"?"Bill of Lading":G.type==="pod"?"Proof of Delivery":"Rate Confirmation"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${ke}-100 text-${ke}-800`,children:xe(G.type)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.size}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{className:"p-1 rounded-full text-blue-600 hover:bg-blue-100",onClick:Se=>{Se.stopPropagation(),B(G)},children:s.jsx("i",{className:"fas fa-eye"})}),s.jsx("button",{className:"p-1 rounded-full text-gray-600 hover:bg-gray-100",onClick:Se=>{Se.stopPropagation(),F(G)},children:s.jsx("i",{className:"fas fa-download"})}),s.jsx("button",{className:"p-1 rounded-full text-gray-600 hover:bg-gray-100",onClick:Se=>{Se.stopPropagation(),V(G)},children:s.jsx("i",{className:"fas fa-share"})}),s.jsx("button",{className:"p-1 rounded-full text-red-600 hover:bg-red-100",onClick:Se=>{Se.stopPropagation(),H(G)},children:s.jsx("i",{className:"fas fa-trash-alt"})})]})})]},G.id)})})]})})})]}),s.jsxs(st,{className:"shadow-sm",children:[s.jsx("div",{className:"mb-4 pb-4 border-b border-gray-100",children:s.jsx("h3",{className:"text-lg font-medium",children:"Document Preview"})}),t?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg bg-${ge(t.type)}-100 flex items-center justify-center text-${ge(t.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${ie(t.type)}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[xe(t.type),"  Uploaded on ",t.date]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm btn-outline-primary flex items-center px-3 py-1 border border-blue-500 text-blue-500 rounded-md hover:bg-blue-50 transition-colors",onClick:()=>F(t),disabled:_,children:[s.jsx("i",{className:"fas fa-download mr-1"}),s.jsx("span",{children:"Download"})]}),s.jsxs("button",{className:"btn btn-sm btn-outline-secondary flex items-center px-3 py-1 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>le(t),disabled:_,children:[s.jsx("i",{className:"fas fa-print mr-1"}),s.jsx("span",{children:"Print"})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",style:{height:"400px"},children:[s.jsx(Uy,{file:qy(t.id),className:"h-full"}),s.jsx("div",{className:"absolute bottom-4 right-4",children:s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md",onClick:()=>B(t),children:"View Full Document"})})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Related Documents"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center cursor-pointer hover:bg-gray-100",onClick:()=>{const G=T.bills_of_lading.find(ue=>ue.name.includes(t.name.split("_")[0]));G&&M(G)},children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-100 flex items-center justify-center text-green-600 mr-3",children:s.jsx("i",{className:"fas fa-file-invoice"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"LD1001_BOL.pdf"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Bill of Lading"})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:s.jsx("i",{className:"fas fa-eye"})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center cursor-pointer hover:bg-gray-100",onClick:()=>{const G=T.proofs_of_delivery.find(ue=>ue.name.includes(t.name.split("_")[0]));G&&M(G)},children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 mr-3",children:s.jsx("i",{className:"fas fa-clipboard-check"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"LD1001_POD.pdf"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Proof of Delivery"})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:s.jsx("i",{className:"fas fa-eye"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Document History"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-cloud-upload-alt"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Document uploaded"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 21, 2025 at 2:34 PM"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Viewed by John Doe"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 22, 2025 at 10:15 AM"})]})]})]})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-gray-600",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-4 mb-4",children:s.jsx("i",{className:"fas fa-file-alt text-3xl text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No document selected"}),s.jsx("p",{className:"max-w-sm",children:"Click on a document in the list above to preview it here."})]})]})]})]}),s.jsx(xr,{isOpen:o,onClose:()=>l(!1),title:"Upload Document",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>l(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:Z,disabled:_,children:_?"Uploading...":"Upload Document"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Document Type"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{value:"rate_confirmation",children:"Rate Confirmation"}),s.jsx("option",{value:"bol",children:"Bill of Lading"}),s.jsx("option",{value:"pod",children:"Proof of Delivery"}),s.jsx("option",{value:"invoice",children:"Invoice"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Load"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{value:"",children:"Select a load"}),s.jsx("option",{value:"LD1001",children:"LD1001"}),s.jsx("option",{value:"LD1002",children:"LD1002"}),s.jsx("option",{value:"LD1003",children:"LD1003"}),s.jsx("option",{value:"LD1004",children:"LD1004"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF, PNG, JPG up to 10MB"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),s.jsx("textarea",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",rows:3,placeholder:"Add a description to help identify this document"})]})]})}),s.jsx(xr,{isOpen:u,onClose:()=>h(!1),title:"Share Document",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>h(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:re,disabled:_||!f.trim(),children:_?"Sharing...":"Share Document"})]}),children:y&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg bg-${ge(y.type)}-100 flex items-center justify-center text-${ge(y.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${ie(y.type)}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:y.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[xe(y.type),"  ",y.size]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"Enter email address",value:f,onChange:G=>g(G.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),s.jsx("textarea",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",rows:3,placeholder:"Add a message to the recipient"})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-info-circle"})}),s.jsx("div",{className:"text-sm text-blue-800",children:s.jsx("p",{children:"The recipient will receive an email with a link to view or download this document."})})]})})]})}),s.jsx(xr,{isOpen:C,onClose:()=>O(!1),title:(t==null?void 0:t.name)||"Document Viewer",size:"xl",footer:s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsx("div",{children:s.jsxs("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>{t&&F(t)},disabled:_,children:[s.jsx("i",{className:"fas fa-download mr-1.5"}),"Download"]})}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>O(!1),children:"Close"})]}),children:t&&s.jsx("div",{className:"h-[70vh] bg-gray-100 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex h-full",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Uy,{file:qy(t.id),className:"h-full"})}),s.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-4 overflow-y-auto",children:[s.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg bg-${ge(t.type)}-100 flex items-center justify-center text-${ge(t.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${ie(t.type)}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),s.jsx("p",{className:"text-sm text-gray-500",children:xe(t.type)})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Document Details"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Load ID"}),s.jsx("p",{className:"text-sm font-medium",children:t.name.split("_")[0]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),s.jsx("p",{className:"text-sm font-medium",children:t.date})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Size"}),s.jsx("p",{className:"text-sm font-medium",children:t.size})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:()=>le(t),children:[s.jsx("i",{className:"fas fa-print mr-2"}),"Print Document"]}),s.jsxs("button",{className:"w-full flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:()=>{O(!1),V(t)},children:[s.jsx("i",{className:"fas fa-share-alt mr-2"}),"Share Document"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Document History"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-cloud-upload-alt"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Document uploaded"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 21, 2025 at 2:34 PM"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Viewed by John Doe"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 22, 2025 at 10:15 AM"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-download"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Downloaded by Sarah Johnson"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 22, 2025 at 3:45 PM"})]})]})]})]})]})]})})})]})},IFe=ki.icon({iconUrl:$F,shadowUrl:zF,iconSize:[25,41],iconAnchor:[12,41]});ki.Marker.prototype.options.icon=IFe;const FFe=()=>{const[t,e]=Y.useState("1"),r=[{id:"1",loadId:"LD1003",origin:"Miami, FL",destination:"Atlanta, GA",driver:"Robert Johnson",status:"en_route",equipment:"Reefer",eta:"May 24, 2025 - 14:30",distance:685,distanceTraveled:425,currentLocation:"Macon, GA",coordinates:{origin:{lat:25.7617,lng:-80.1918},current:{lat:32.8407,lng:-83.6324},destination:{lat:33.749,lng:-84.388}}},{id:"2",loadId:"LD1006",origin:"San Francisco, CA",destination:"Los Angeles, CA",driver:"David Brown",status:"delayed",equipment:"Dry Van",eta:"May 25, 2025 - 10:15",distance:382,distanceTraveled:150,currentLocation:"Bakersfield, CA",coordinates:{origin:{lat:37.7749,lng:-122.4194},current:{lat:35.3733,lng:-119.0187},destination:{lat:34.0522,lng:-118.2437}}},{id:"3",loadId:"LD1007",origin:"Denver, CO",destination:"Phoenix, AZ",driver:"John Smith",status:"arriving_soon",equipment:"Flatbed",eta:"May 23, 2025 - 16:45",distance:865,distanceTraveled:820,currentLocation:"Flagstaff, AZ",coordinates:{origin:{lat:39.7392,lng:-104.9903},current:{lat:35.1983,lng:-111.6513},destination:{lat:33.4484,lng:-112.074}}},{id:"4",loadId:"LD1002",origin:"Dallas, TX",destination:"Houston, TX",driver:"Maria Garcia",status:"en_route",equipment:"Dry Van",eta:"May 23, 2025 - 18:30",distance:240,distanceTraveled:90,currentLocation:"Corsicana, TX",coordinates:{origin:{lat:32.7767,lng:-96.797},current:{lat:32.0954,lng:-96.4688},destination:{lat:29.7604,lng:-95.3698}}}],n=[{id:"1",time:"10:45 AM",loadId:"LD1003",type:"location_update",message:"Truck arrived in Macon, GA"},{id:"2",time:"09:30 AM",loadId:"LD1006",type:"delay_alert",message:"Truck delayed due to traffic on I-5. ETA pushed by 45 min."},{id:"3",time:"08:15 AM",loadId:"LD1007",type:"status_change",message:"Shipment entering final delivery zone. Arriving soon."},{id:"4",time:"Yesterday",loadId:"LD1002",type:"weather_alert",message:"Heavy rain expected along route. Driver notified."}],i={1:[{id:"1",title:"Departed Origin",timestamp:"May 22, 2025 - 08:15",location:"Miami, FL",status:"completed"},{id:"2",title:"Rest Stop",timestamp:"May 22, 2025 - 15:30",location:"Jacksonville, FL",status:"completed"},{id:"3",title:"Current Location",timestamp:"May 23, 2025 - 10:45",location:"Macon, GA",status:"current"},{id:"4",title:"Expected Arrival",timestamp:"May 24, 2025 - 14:30",location:"Atlanta, GA",status:"upcoming"}],2:[{id:"1",title:"Departed Origin",timestamp:"May 22, 2025 - 09:30",location:"San Francisco, CA",status:"completed"},{id:"2",title:"Rest Stop",timestamp:"May 22, 2025 - 16:45",location:"San Jose, CA",status:"completed"},{id:"3",title:"Delay Reported",timestamp:"May 23, 2025 - 09:15",location:"Bakersfield, CA",status:"current"},{id:"4",title:"Expected Arrival",timestamp:"May 25, 2025 - 10:15",location:"Los Angeles, CA",status:"upcoming"}],3:[{id:"1",title:"Departed Origin",timestamp:"May 21, 2025 - 07:30",location:"Denver, CO",status:"completed"},{id:"2",title:"Rest Stop",timestamp:"May 21, 2025 - 18:15",location:"Albuquerque, NM",status:"completed"},{id:"3",title:"Current Location",timestamp:"May 23, 2025 - 08:30",location:"Flagstaff, AZ",status:"current"},{id:"4",title:"Expected Arrival",timestamp:"May 23, 2025 - 16:45",location:"Phoenix, AZ",status:"upcoming"}],4:[{id:"1",title:"Departed Origin",timestamp:"May 23, 2025 - 10:00",location:"Dallas, TX",status:"completed"},{id:"2",title:"Current Location",timestamp:"May 23, 2025 - 11:45",location:"Corsicana, TX",status:"current"},{id:"3",title:"Expected Arrival",timestamp:"May 23, 2025 - 18:30",location:"Houston, TX",status:"upcoming"}]},a=r.find(N=>N.id===t)||r[0],o=i[t]||i[1],l=N=>{switch(N){case"en_route":return"bg-blue-100 text-blue-800";case"delayed":return"bg-red-100 text-red-800";case"arriving_soon":return"bg-green-100 text-green-800";case"delivered":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},u=N=>{switch(N){case"location_update":return"bg-blue-100 text-blue-800";case"delay_alert":return"bg-red-100 text-red-800";case"status_change":return"bg-green-100 text-green-800";case"weather_alert":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},h=N=>{switch(N){case"en_route":return"En Route";case"delayed":return"Delayed";case"arriving_soon":return"Arriving Soon";case"delivered":return"Delivered";default:return N}},f=N=>{switch(N){case"location_update":return"Location Update";case"delay_alert":return"Delay Alert";case"status_change":return"Status Change";case"weather_alert":return"Weather Alert";default:return N}},g=({coordinates:N})=>{const _=IF();return Y.useEffect(()=>{_.setView([N.lat,N.lng],8)},[_,N]),null},y=N=>{switch(N){case"en_route":return"blue";case"delayed":return"red";case"arriving_soon":return"green";case"delivered":return"purple";default:return"gray"}};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tracking"}),s.jsx("p",{className:"text-gray-600",children:"Monitor real-time location of your shipments"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-outline-primary flex items-center",children:[s.jsx("i",{className:"fas fa-sync-alt mr-2"}),"Refresh Data"]}),s.jsxs("button",{className:"btn btn-outline-secondary flex items-center",children:[s.jsx("i",{className:"fas fa-bell mr-2"}),"Notifications"]})]})]}),s.jsx(st,{className:"mb-8 shadow-md overflow-hidden",children:s.jsxs("div",{className:"relative h-96 w-full",children:[s.jsxs(FF,{center:[a.coordinates.current.lat,a.coordinates.current.lng],zoom:8,style:{height:"100%",width:"100%",zIndex:0},children:[s.jsx(BF,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(g,{coordinates:a.coordinates.current}),r.map(N=>{const _=y(N.status),k=N.id===t,C=ki.divIcon({className:`bg-gray-100 rounded-full border-2 border-${_}-500 shadow-md flex items-center justify-center`,iconSize:[24,24],iconAnchor:[12,12],html:`<div class="flex items-center justify-center w-full h-full">
                  <div class="w-2 h-2 bg-${_}-500 rounded-full"></div>
                </div>`}),O=ki.divIcon({className:`bg-gray-100 rounded-full border-2 border-${_}-500 shadow-md flex items-center justify-center`,iconSize:[24,24],iconAnchor:[12,12],html:`<div class="flex items-center justify-center w-full h-full">
                  <div class="w-3 h-3 bg-${_}-500 rounded-full"></div>
                </div>`}),T=ki.divIcon({className:`bg-${_}-500 rounded-full border-2 border-white shadow-md flex items-center justify-center`,iconSize:[k?32:24,k?32:24],iconAnchor:[k?16:12,k?16:12],html:`<div class="flex items-center justify-center w-full h-full text-white">
                  <i class="fas fa-truck-moving text-xs"></i>
                </div>`});return s.jsxs(Oe.Fragment,{children:[s.jsx(Lu,{position:[N.coordinates.origin.lat,N.coordinates.origin.lng],icon:C,eventHandlers:{click:()=>e(N.id)},children:s.jsx(Ou,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:N.origin}),s.jsx("div",{className:"text-xs text-gray-500",children:"Origin"})]})})}),s.jsx(Lu,{position:[N.coordinates.current.lat,N.coordinates.current.lng],icon:T,eventHandlers:{click:()=>e(N.id)},children:s.jsx(Ou,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:N.loadId}),s.jsx("div",{className:"text-sm",children:N.currentLocation}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Driver: ",N.driver]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",h(N.status)]})]})})}),s.jsx(Lu,{position:[N.coordinates.destination.lat,N.coordinates.destination.lng],icon:O,eventHandlers:{click:()=>e(N.id)},children:s.jsx(Ou,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:N.destination}),s.jsx("div",{className:"text-xs text-gray-500",children:"Destination"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["ETA: ",N.eta]})]})})}),s.jsx(Xy,{positions:[[N.coordinates.origin.lat,N.coordinates.origin.lng],[N.coordinates.current.lat,N.coordinates.current.lng]],color:_,weight:k?4:3,opacity:k?.8:.5}),s.jsx(Xy,{positions:[[N.coordinates.current.lat,N.coordinates.current.lng],[N.coordinates.destination.lat,N.coordinates.destination.lng]],color:_,weight:k?4:3,opacity:k?.5:.3,dashArray:"5, 10"})]},N.id)})]}),s.jsx("div",{className:"absolute top-4 right-4 bg-white shadow-md rounded-lg p-2 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 mr-1"}),s.jsx("span",{children:"En Route"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500 mr-1"}),s.jsx("span",{children:"Delayed"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 mr-1"}),s.jsx("span",{children:"Arriving"})]})]})}),s.jsx("div",{className:"absolute bottom-4 left-4 bg-white shadow-md rounded-lg p-2 z-10",children:s.jsx("div",{className:"text-xs text-gray-500",children:"Last Updated: 12:45 PM - May 23, 2025"})}),s.jsxs("div",{className:"absolute top-4 left-4 z-10 flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm bg-white shadow-md hover:bg-gray-50 flex items-center",children:[s.jsx("i",{className:"fas fa-truck mr-1"}),"Show All"]}),s.jsxs("button",{className:"btn btn-sm bg-white shadow-md hover:bg-gray-50 flex items-center",children:[s.jsx("i",{className:"fas fa-layer-group mr-1"}),"Layers"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-truck-moving mr-2 text-blue-600"}),"Active Shipments"]}),s.jsx("div",{className:"space-y-3",children:r.map(N=>{const _=N.id===t,k=Math.round(N.distanceTraveled/N.distance*100);return s.jsx("div",{className:`bg-white rounded-xl shadow-sm border overflow-hidden transition-all duration-300 cursor-pointer
                    ${_?"border-blue-300 ring-2 ring-blue-300 transform scale-[1.02] shadow-md":"border-gray-200 hover:border-blue-200 hover:shadow"}`,onClick:()=>e(N.id),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:[N.loadId,": ",N.origin,"  ",N.destination]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 
                        ${l(N.status)}`,children:h(N.status)})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-user mr-1 text-gray-400"}),s.jsxs("span",{children:["Driver: ",N.driver]})]})}),s.jsxs("div",{className:"mt-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[s.jsx("span",{children:N.currentLocation}),s.jsxs("span",{children:[k,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:`h-1.5 rounded-full ${N.status==="delayed"?"bg-red-500":N.status==="arriving_soon"?"bg-green-500":"bg-blue-500"}`,style:{width:`${k}%`}})})]})]})},N.id)})})]}),s.jsxs("div",{className:"lg:col-span-8",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-boxes mr-2 text-blue-600"}),"Shipment Details"]}),s.jsx(st,{className:"shadow-sm h-full",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Load Information"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Load ID"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.loadId})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Status"}),s.jsx("div",{children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(a.status)}`,children:h(a.status)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Origin"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.origin})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.destination})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Driver"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.driver})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Equipment"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.equipment})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Delivery Information"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"ETA"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.eta})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Current Location"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.currentLocation})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Distance"}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[a.distance," miles"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Distance Traveled"}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[a.distanceTraveled," miles"]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[s.jsx("span",{children:"Delivery Progress"}),s.jsxs("span",{children:[Math.round(a.distanceTraveled/a.distance*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full ${a.status==="delayed"?"bg-red-500":a.status==="arriving_soon"?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.round(a.distanceTraveled/a.distance*100)}%`}})})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Shipment Timeline"}),s.jsx("div",{className:"relative pl-8 border-l-2 border-gray-200 space-y-6 py-2",children:o.map(N=>s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute -left-10 w-5 h-5 rounded-full flex items-center justify-center ${N.status==="completed"?"bg-green-500":N.status==="current"?"bg-blue-500":"bg-gray-300"}`,children:N.status==="completed"?s.jsx("i",{className:"fas fa-check text-white text-xs"}):N.status==="current"?s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}):s.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-50"})}),s.jsx("div",{className:`mb-1 font-medium ${N.status==="current"?"text-blue-600":"text-gray-900"}`,children:N.title}),s.jsx("div",{className:"text-sm text-gray-500",children:N.timestamp}),s.jsx("div",{className:"text-sm text-gray-600",children:N.location})]},N.id))}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm btn-outline-primary flex items-center",children:[s.jsx("i",{className:"fas fa-comment mr-1"}),"Contact Driver"]}),s.jsxs("button",{className:"btn btn-sm btn-outline-secondary flex items-center",children:[s.jsx("i",{className:"fas fa-file-download mr-1"}),"Download Details"]})]})})]})]})})]})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-bell mr-2 text-blue-600"}),"Recent Notifications"]}),s.jsxs(st,{className:"shadow-sm",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(N=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.time}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:N.loadId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(N.type)}`,children:f(N.type)})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:N.message}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{className:"btn-sm btn-outline-primary",onClick:()=>{const _=r.find(k=>k.loadId===N.loadId);_&&e(_.id)},children:"View"})})]},N.id))})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:["Showing ",s.jsx("span",{className:"font-medium",children:"4"})," of ",s.jsx("span",{className:"font-medium",children:"12"})," notifications"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"View All"}),s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Mark All as Read"})]})]})})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg mt-8 p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 text-blue-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-mobile-alt"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Get real-time updates on the go"}),s.jsx("p",{className:"text-sm text-blue-600 mb-2 md:mb-0",children:"Download our mobile app to track your shipments from anywhere."})]})]}),s.jsxs("div",{className:"mt-3 md:mt-0 flex flex-shrink-0 space-x-2",children:[s.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-blue-300 shadow-sm text-sm font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:[s.jsx("i",{className:"fab fa-apple mr-2"}),"App Store"]}),s.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-blue-300 shadow-sm text-sm font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:[s.jsx("i",{className:"fab fa-google-play mr-2"}),"Google Play"]})]})]})})]})},BFe=()=>{const t=Bn(),[e,r]=Y.useState([]),[n,i]=Y.useState([]),[a,o]=Y.useState(!0),[l,u]=Y.useState(""),[h,f]=Y.useState(""),[g,y]=Y.useState({key:"date",direction:"desc"}),[N,_]=Y.useState(!1);Y.useEffect(()=>{(async()=>{o(!0);try{await new Promise(H=>setTimeout(H,800));const V=[{id:"LD1001",origin:"New York, NY",destination:"Chicago, IL",customer:"Acme Co",equipment:"Dry Van",date:"5/22/2025",price:2850,status:"Booked",miles:750,weight:"42,000 lbs",broker:"ABC Logistics"},{id:"LD1005",origin:"Boston, MA",destination:"Philadelphia, PA",customer:"Reliable Transport",equipment:"Reefer",date:"5/23/2025",price:1950,status:"Booked",miles:320,weight:"38,000 lbs",broker:"East Coast Shipping"},{id:"LD1002",origin:"Dallas, TX",destination:"Houston, TX",customer:"Global Logistics",equipment:"Dry Van",date:"5/22/2025",price:950,driver:"Maria Garcia",status:"Assigned",miles:240,weight:"36,000 lbs",broker:"Texas Freight"},{id:"LD1006",origin:"San Francisco, CA",destination:"Los Angeles, CA",customer:"Prime Delivery",equipment:"Flatbed",date:"5/23/2025",price:1250,driver:"David Brown",status:"Assigned",miles:380,weight:"40,000 lbs",broker:"West Coast Logistics"},{id:"LD1003",origin:"Miami, FL",destination:"Atlanta, GA",customer:"Fast Freight",equipment:"Reefer",date:"5/22/2025",price:1750,driver:"Robert Johnson",status:"Picked Up",eta:"5/24/2025 14:30",pickupDate:"5/22/2025",miles:660,weight:"39,000 lbs",broker:"Southern Transport"},{id:"LD1007",origin:"Denver, CO",destination:"Phoenix, AZ",customer:"Acme Co",equipment:"Dry Van",date:"5/22/2025",price:2100,driver:"John Smith",status:"Picked Up",eta:"5/24/2025 18:45",pickupDate:"5/22/2025",miles:580,weight:"41,000 lbs",broker:"Mountain Freight"},{id:"LD1004",origin:"Seattle, WA",destination:"Portland, OR",customer:"Speedy Shipping",equipment:"Dry Van",date:"5/22/2025",price:795,driver:"Sarah Williams",status:"Delivered",deliveryDate:"5/22/2025",miles:175,weight:"35,000 lbs",broker:"Northwest Logistics"},{id:"LD1008",origin:"Minneapolis, MN",destination:"Milwaukee, WI",customer:"Global Logistics",equipment:"Flatbed",date:"5/21/2025",price:850,driver:"Maria Garcia",status:"Delivered",deliveryDate:"5/21/2025",miles:340,weight:"37,000 lbs",broker:"Midwest Transport"}];r(V),i(V)}catch(V){console.error("Error fetching loads:",V),At("Error fetching loads. Please try again.","error")}finally{o(!1)}})()},[]),Y.useEffect(()=>{const V=[...e.filter(H=>{const Z=H.id.toLowerCase().includes(l.toLowerCase())||H.origin.toLowerCase().includes(l.toLowerCase())||H.destination.toLowerCase().includes(l.toLowerCase())||H.customer.toLowerCase().includes(l.toLowerCase())||H.driver&&H.driver.toLowerCase().includes(l.toLowerCase()),re=h?H.status.toLowerCase()===h.toLowerCase():!0;return Z&&re})].sort((H,Z)=>H[g.key]<Z[g.key]?g.direction==="asc"?-1:1:H[g.key]>Z[g.key]?g.direction==="asc"?1:-1:0);i(V)},[e,l,h,g]);const k=F=>{y(V=>({key:F,direction:V.key===F&&V.direction==="asc"?"desc":"asc"}))},C=F=>g.key!==F?null:g.direction==="asc"?"":"",O=F=>{t(`/load-details/${F}`)},T=async()=>{_(!0);try{const V=[["ID","Origin","Destination","Customer","Equipment","Date","Price","Driver","Status"].join(","),...n.map(le=>[le.id,`"${le.origin}"`,`"${le.destination}"`,`"${le.customer}"`,le.equipment,le.date,le.price,le.driver?`"${le.driver}"`:"",le.status].join(","))].join(`
`),H=new Blob([V],{type:"text/csv;charset=utf-8;"}),Z=URL.createObjectURL(H),re=document.createElement("a");re.setAttribute("href",Z),re.setAttribute("download","all_loads.csv"),re.style.visibility="hidden",document.body.appendChild(re),re.click(),document.body.removeChild(re),At("Loads exported to CSV successfully")}catch(F){console.error("Error exporting to CSV:",F),At("Error exporting to CSV. Please try again.","error")}finally{_(!1)}},M=async()=>{_(!0);try{await new Promise(F=>setTimeout(F,800)),At("Loads exported to Excel successfully")}catch(F){console.error("Error exporting to Excel:",F),At("Error exporting to Excel. Please try again.","error")}finally{_(!1)}},B=F=>{switch(F){case"Booked":return"bg-gray-600 text-white";case"Assigned":return"bg-blue-600 text-white";case"Picked Up":return"bg-yellow-500 text-white";case"Delivered":return"bg-green-600 text-white";default:return"bg-gray-600 text-white"}};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"All Loads"}),s.jsx("p",{className:"text-gray-600",children:"View and manage all loads in the system"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"btn btn-outline-secondary flex items-center",onClick:T,disabled:N||n.length===0,children:[s.jsx("i",{className:"fas fa-file-csv mr-2"}),"Export CSV"]}),s.jsxs("button",{className:"btn btn-outline-secondary flex items-center",onClick:M,disabled:N||n.length===0,children:[s.jsx("i",{className:"fas fa-file-excel mr-2"}),"Export Excel"]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[s.jsxs("div",{className:"relative flex-grow md:w-64",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-search text-gray-400"})}),s.jsx("input",{type:"text",className:"form-control pl-10 border border-gray-300 rounded-md py-2 px-4 w-full",placeholder:"Search loads...",value:l,onChange:F=>u(F.target.value)})]}),s.jsx("div",{className:"flex flex-row gap-3 w-full md:w-auto",children:s.jsxs("select",{className:"form-select border border-gray-300 rounded-md py-2 px-4 flex-grow md:flex-grow-0 md:w-auto",value:h,onChange:F=>f(F.target.value),children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"booked",children:"Booked"}),s.jsx("option",{value:"assigned",children:"Assigned"}),s.jsx("option",{value:"picked up",children:"Picked Up"}),s.jsx("option",{value:"delivered",children:"Delivered"})]})})]}),s.jsx(st,{children:a?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-4 mb-4",children:s.jsx("i",{className:"fas fa-search text-3xl text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No loads found"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-4",children:"Try adjusting your search criteria to find loads."})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("id"),children:["ID ",C("id")]}),s.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("origin"),children:["Origin ",C("origin")]}),s.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("destination"),children:["Destination ",C("destination")]}),s.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("customer"),children:["Customer ",C("customer")]}),s.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("equipment"),children:["Equipment ",C("equipment")]}),s.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("date"),children:["Date ",C("date")]}),s.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("price"),children:["Price ",C("price")]}),s.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("driver"),children:["Driver ",C("driver")]}),s.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>k("status"),children:["Status ",C("status")]})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(F=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>O(F.id),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:F.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F.origin}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F.destination}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F.customer}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F.equipment}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F.date}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:["$",F.price.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:F.driver||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B(F.status)}`,children:F.status})})]},F.id))})]})})})]})},$Fe=()=>{const[t,e]=Y.useState(null),[r,n]=Y.useState(!1),[i,a]=Y.useState(!1),[o,l]=Y.useState(!1),[u,h]=Y.useState("info"),[f,g]=Y.useState(""),y=[{id:"1",name:"John Smith",initials:"JS",phone:"(555) 123-4567",status:"active",color:"blue",stats:{deliveries:12,onTime:95,rating:4.8},currentLoad:{status:"On duty - In transit",route:"Denver, CO  Phoenix, AZ"}},{id:"2",name:"Maria Garcia",initials:"MG",phone:"(555) 987-6543",status:"active",color:"green",stats:{deliveries:10,onTime:100,rating:4.9},currentLoad:{status:"On duty - In transit",route:"Dallas, TX  Houston, TX"}},{id:"3",name:"Robert Johnson",initials:"RJ",phone:"(555) 456-7890",status:"active",color:"red",stats:{deliveries:11,onTime:90,rating:4.7},currentLoad:{status:"On duty - In transit",route:"Miami, FL  Atlanta, GA"}},{id:"4",name:"Sarah Williams",initials:"SW",phone:"(555) 321-0987",status:"off_duty",color:"cyan",stats:{deliveries:9,onTime:95,rating:4.8}}],N=Z=>{e(Z===t?null:Z)},_=()=>{n(!0)},k=async()=>{l(!0);try{await Ps.saveSettings({action:"add_driver"}),n(!1)}catch(Z){console.error("Error adding driver:",Z)}finally{l(!1)}},C=()=>{a(!0)},O=async()=>{var Z;if(!(!t||!f.trim())){l(!0);try{const re=y.find(le=>le.id===t);re&&(await Ps.sendTrackingUpdate(((Z=re.currentLoad)==null?void 0:Z.route)||"N/A",f),g(""),a(!1))}catch(re){console.error("Error sending message:",re)}finally{l(!1)}}},T=async()=>{if(!t)return;const Z=y.find(re=>re.id===t);Z&&await At(`Calling ${Z.name} at ${Z.phone}...`)},M=async(Z,re)=>{l(!0);try{await At(`Driver status updated to ${re}`)}catch(le){console.error("Error changing status:",le)}finally{l(!1)}},B=async()=>{l(!0);try{await At("Message sent to all drivers")}catch(Z){console.error("Error messaging all drivers:",Z)}finally{l(!1)}},F=async()=>{l(!0);try{await At("Driver list download started")}catch(Z){console.error("Error downloading driver list:",Z)}finally{l(!1)}},V=async()=>{l(!0);try{await At("Hours updated successfully for all drivers")}catch(Z){console.error("Error updating hours:",Z)}finally{l(!1)}},H=async()=>{l(!0);try{await At("Opening driver tag management")}catch(Z){console.error("Error managing tags:",Z)}finally{l(!1)}};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Drivers"}),s.jsx("p",{className:"text-gray-600",children:"Manage your fleet and driver assignments"})]}),s.jsx("div",{children:s.jsxs("button",{className:"btn btn-primary flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:_,children:[s.jsx("i",{className:"fas fa-plus-circle mr-2"}),"Add New Driver"]})})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:y.map(Z=>{const le=Z.id===t?"ring-2 ring-blue-500 transform scale-[1.02]":"";return s.jsx("div",{className:`bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer ${le}`,onClick:()=>N(Z.id),children:s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z.status==="active"?"bg-green-100 text-green-800":Z.status==="off_duty"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:Z.status==="active"?"Active":Z.status==="off_duty"?"Off Duty":"Inactive"}),s.jsx("div",{className:"dropdown relative",children:s.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:ce=>{ce.stopPropagation(),N(Z.id)},children:s.jsx("i",{className:"fas fa-ellipsis-v"})})})]}),s.jsxs("div",{className:"flex flex-col items-center mb-4",children:[s.jsx("div",{className:`h-20 w-20 rounded-full bg-${Z.color}-500 text-white flex items-center justify-center text-2xl font-bold mb-3`,children:Z.initials}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Z.name}),s.jsx("p",{className:"text-gray-500",children:Z.phone})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-gray-900",children:Z.stats.deliveries}),s.jsx("div",{className:"text-xs text-gray-500",children:"Deliveries"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-bold text-gray-900",children:[Z.stats.onTime,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"On-time"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-gray-900",children:Z.stats.rating}),s.jsx("div",{className:"text-xs text-gray-500",children:"Rating"})]})]}),Z.currentLoad?s.jsxs("div",{className:`text-center p-3 rounded-lg ${Z.status==="active"?"bg-green-50 text-green-700":"bg-gray-50 text-gray-700"}`,children:[s.jsx("div",{className:"font-medium",children:Z.currentLoad.status}),s.jsx("div",{className:"text-sm",children:Z.currentLoad.route})]}):s.jsxs("div",{className:"text-center p-3 rounded-lg bg-gray-50 text-gray-700",children:[s.jsx("div",{className:"font-medium",children:"Off duty"}),s.jsx("div",{className:"text-sm",children:"Available tomorrow"})]})]})},Z.id)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-id-card mr-2 text-blue-600"}),"Driver Information"]}),s.jsx(st,{className:"h-full shadow-sm",children:t?s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-100",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{className:`px-4 py-2 ${u==="info"?"text-blue-600 font-medium border-b-2 border-blue-600":"text-gray-500 font-medium hover:text-gray-700"}`,onClick:()=>h("info"),children:"Info"}),s.jsx("button",{className:`px-4 py-2 ${u==="history"?"text-blue-600 font-medium border-b-2 border-blue-600":"text-gray-500 font-medium hover:text-gray-700"}`,onClick:()=>h("history"),children:"Load History"}),s.jsx("button",{className:`px-4 py-2 ${u==="documents"?"text-blue-600 font-medium border-b-2 border-blue-600":"text-gray-500 font-medium hover:text-gray-700"}`,onClick:()=>h("documents"),children:"Documents"}),s.jsx("button",{className:`px-4 py-2 ${u==="eld"?"text-blue-600 font-medium border-b-2 border-blue-600":"text-gray-500 font-medium hover:text-gray-700"}`,onClick:()=>h("eld"),children:"ELD Status"})]})}),(()=>{const Z=y.find(re=>re.id===t);return Z?u==="info"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),s.jsx("p",{className:"font-medium text-gray-900",children:Z.name})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-gray-900",children:Z.phone})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),s.jsx("p",{className:`font-medium ${Z.status==="active"?"text-green-600":Z.status==="off_duty"?"text-yellow-600":"text-gray-600"}`,children:Z.status==="active"?"Active":Z.status==="off_duty"?"Off Duty":"Inactive"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Performance Metrics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Deliveries"}),s.jsx("span",{className:"text-gray-900 font-bold",children:Z.stats.deliveries})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Z.stats.deliveries/15*100}%`}})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"On-Time %"}),s.jsxs("span",{className:"text-gray-900 font-bold",children:[Z.stats.onTime,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${Z.stats.onTime>=95?"bg-green-500":Z.stats.onTime>=85?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Z.stats.onTime}%`}})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Rating"}),s.jsxs("span",{className:"text-gray-900 font-bold",children:[Z.stats.rating," / 5.0"]})]}),s.jsx("div",{className:"flex text-yellow-400 mt-1",children:[...Array(5)].map((re,le)=>s.jsx("svg",{className:`w-5 h-5 ${le<Math.floor(Z.stats.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},le))})]})]})]}),Z.currentLoad&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Current Assignment"}),s.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-100",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 text-green-600 mr-3",children:s.jsx("i",{className:"fas fa-truck"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-800",children:Z.currentLoad.status}),s.jsx("p",{className:"text-green-600",children:Z.currentLoad.route}),s.jsxs("div",{className:"mt-2 flex items-center text-sm text-green-700",children:[s.jsx("i",{className:"fas fa-clock mr-1"}),s.jsx("span",{children:"ETA: May 25, 2025 @ 14:30"})]})]})]})})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"btn btn-outline-primary flex items-center px-4 py-2 border border-blue-500 text-blue-500 rounded-md hover:bg-blue-50 transition-colors",onClick:C,disabled:o,children:[s.jsx("i",{className:"fas fa-comment mr-2"}),"Message"]}),s.jsxs("button",{className:"btn btn-outline-secondary flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",onClick:T,disabled:o,children:[s.jsx("i",{className:"fas fa-phone-alt mr-2"}),"Call"]}),Z.status==="active"?s.jsxs("button",{className:"btn btn-outline-warning flex items-center px-4 py-2 border border-yellow-500 text-yellow-500 rounded-md hover:bg-yellow-50 transition-colors",onClick:()=>M(Z.id,"off_duty"),disabled:o,children:[s.jsx("i",{className:"fas fa-pause-circle mr-2"}),"Set Off Duty"]}):s.jsxs("button",{className:"btn btn-outline-success flex items-center px-4 py-2 border border-green-500 text-green-500 rounded-md hover:bg-green-50 transition-colors",onClick:()=>M(Z.id,"active"),disabled:o,children:[s.jsx("i",{className:"fas fa-play-circle mr-2"}),"Set Active"]})]})]}):u==="history"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Load History"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load ID"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium",children:"LD1009"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"Chicago, IL  Detroit, MI"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"May 19, 2025"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Delivered"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:"4.8"}),s.jsx("div",{className:"flex text-yellow-400",children:[1,2,3,4,5].map(re=>s.jsx("svg",{className:`w-4 h-4 ${re<=4.8?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},re))})]})})]}),s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium",children:"LD1003"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"New York, NY  Boston, MA"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:"May 15, 2025"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Delivered"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:"4.9"}),s.jsx("div",{className:"flex text-yellow-400",children:[1,2,3,4,5].map(re=>s.jsx("svg",{className:`w-4 h-4 ${re<=4.9?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},re))})]})})]})]})]})})]}):u==="documents"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Driver Documents"}),s.jsxs("button",{className:"btn btn-sm btn-outline-primary px-3 py-1 border border-blue-500 text-blue-500 rounded-md hover:bg-blue-50 transition-colors",children:[s.jsx("i",{className:"fas fa-upload mr-1"})," Upload"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-lg text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-id-card"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Driver's License"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Expires: 12/31/2024"})]}),s.jsx("div",{className:"ml-auto",children:s.jsx("i",{className:"fas fa-eye text-blue-600"})})]})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-100 p-2 rounded-lg text-green-600 mr-3",children:s.jsx("i",{className:"fas fa-file-medical"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Medical Certificate"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Expires: 06/15/20252025"})]}),s.jsx("div",{className:"ml-auto",children:s.jsx("i",{className:"fas fa-eye text-blue-600"})})]})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-100 p-2 rounded-lg text-purple-600 mr-3",children:s.jsx("i",{className:"fas fa-certificate"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"CDL License"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Expires: 08/22/2025"})]}),s.jsx("div",{className:"ml-auto",children:s.jsx("i",{className:"fas fa-eye text-blue-600"})})]})}),s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-orange-100 p-2 rounded-lg text-orange-600 mr-3",children:s.jsx("i",{className:"fas fa-file-contract"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Contractor Agreement"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Signed: 01/15/2025"})]}),s.jsx("div",{className:"ml-auto",children:s.jsx("i",{className:"fas fa-eye text-blue-600"})})]})})]})]}):u==="eld"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Electronic Logging Device Status"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-clock"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Current Status"}),s.jsx("p",{className:"text-gray-600",children:"On Duty - Driving"})]}),s.jsx("div",{className:"ml-auto",children:s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Active"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"11-Hour Driving Limit"}),s.jsx("span",{className:"font-medium",children:"8.5h / 11h"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"77%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"14-Hour On-Duty Limit"}),s.jsx("span",{className:"font-medium",children:"11h / 14h"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"78%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"70-Hour 8-Day Limit"}),s.jsx("span",{className:"font-medium",children:"42h / 70h"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"60%"}})})]}),s.jsxs("div",{className:"pt-3 mt-3 border-t border-gray-200 flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),s.jsx("span",{className:"font-medium",children:"May 23, 2025 @ 10:45 AM"})]})]})]}),s.jsxs("button",{className:"btn btn-outline-primary px-4 py-2 border border-blue-500 text-blue-500 rounded-md hover:bg-blue-50 transition-colors",children:[s.jsx("i",{className:"fas fa-sync-alt mr-2"}),"Refresh ELD Data"]})]}):null:null})()]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-gray-600",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-4 mb-4",children:s.jsx("i",{className:"fas fa-user text-3xl text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No driver selected"}),s.jsx("p",{className:"max-w-sm",children:"Click on a driver card to view their detailed information and manage their assignments."})]})})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-bolt mr-2 text-blue-600"}),"Quick Actions"]}),s.jsx(st,{className:"shadow-sm",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:B,disabled:o,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-comment text-blue-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Message All Drivers"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:F,disabled:o,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-download text-green-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Download Driver List"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:V,disabled:o,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-clock text-orange-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Bulk Update Hours"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:H,disabled:o,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-tags text-purple-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Manage Driver Tags"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})]})}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-chart-pie mr-2 text-blue-600"}),"Fleet Overview"]}),s.jsx(st,{className:"shadow-sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Driver Status"}),s.jsx("span",{className:"text-xs text-gray-500",children:"4 Total"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-1 mr-4",children:s.jsx("div",{className:"h-2 rounded-full bg-gray-200 overflow-hidden",children:s.jsxs("div",{className:"flex h-full",children:[s.jsx("div",{className:"h-full bg-green-500",style:{width:"75%"}}),s.jsx("div",{className:"h-full bg-yellow-500",style:{width:"25%"}})]})})}),s.jsxs("div",{className:"flex space-x-3 text-xs",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 mr-1"}),s.jsx("span",{children:"3 Active"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-yellow-500 mr-1"}),s.jsx("span",{children:"1 Off Duty"})]})]})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-blue-600 mb-1",children:"Total Deliveries"}),s.jsx("div",{className:"text-xl font-bold text-blue-800",children:"42"}),s.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"This Week"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[s.jsx("div",{className:"text-xs text-green-600 mb-1",children:"Avg. Rating"}),s.jsx("div",{className:"text-xl font-bold text-green-800",children:"4.8"}),s.jsx("div",{className:"text-xs text-green-700 mt-1",children:"out of 5.0"})]})]})})]})})]})]})]}),s.jsx(xr,{isOpen:r,onClose:()=>n(!1),title:"Add New Driver",size:"lg",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>n(!1),disabled:o,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:k,disabled:o,children:o?"Saving...":"Save Driver"})]}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),s.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),s.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"Smith"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"john.smith@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"(555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver ID"}),s.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"D12345"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number"}),s.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"DL1234567"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Expiration"}),s.jsx("input",{type:"date",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"off_duty",children:"Off Duty"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",rows:3,placeholder:"Additional notes about the driver"})]})]})}),s.jsx(xr,{isOpen:i,onClose:()=>a(!1),title:"Send Message",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>a(!1),disabled:o,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:O,disabled:o||!f.trim(),children:o?"Sending...":"Send Message"})]}),children:t&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-800 font-bold mr-2",children:(()=>{const Z=y.find(re=>re.id===t);return Z?Z.initials:""})()}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:(()=>{const Z=y.find(re=>re.id===t);return Z?Z.name:""})()}),s.jsx("p",{className:"text-sm text-gray-600",children:"Driver"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),s.jsx("textarea",{id:"message",className:"mt-1 block w-full border border-gray-300 rounded-md py-2 px-3",rows:4,placeholder:"Type your message here...",value:f,onChange:Z=>g(Z.target.value)})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-2",children:[s.jsx("h5",{className:"text-sm font-medium mb-2",children:"Message Templates"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"w-full text-left text-sm px-3 py-2 rounded border border-gray-200 hover:bg-gray-100",onClick:()=>g("Please provide an update on your current status."),children:"Request Status Update"}),s.jsx("button",{className:"w-full text-left text-sm px-3 py-2 rounded border border-gray-200 hover:bg-gray-100",onClick:()=>g("Your delivery has been rescheduled. Please call dispatch for details."),children:"Delivery Rescheduled"}),s.jsx("button",{className:"w-full text-left text-sm px-3 py-2 rounded border border-gray-200 hover:bg-gray-100",onClick:()=>g("New load assignment available. Please confirm availability."),children:"New Load Assignment"})]})]})]})})]})},zFe=()=>{var ht;const[t,e]=Y.useState(""),[r,n]=Y.useState(""),[i,a]=Y.useState(!1),[o,l]=Y.useState(null),[u,h]=Y.useState(null),[f,g]=Y.useState(!1),[y,N]=Y.useState(!1),[_,k]=Y.useState(!1),[C,O]=Y.useState(!1),[T,M]=Y.useState(""),[B,F]=Y.useState(""),V=ye=>({...ye,poNumber:`PO-${Math.floor(1e3+Math.random()*9e3)}`,customerAddress:"123 Business St, Suite 101, City, State 12345",customerEmail:`accounting@${ye.customer.toLowerCase().replace(/\s+/g,"")}.com`,customerPhone:"(555) 123-4567",lineItems:[{description:`Freight Services - Load ${ye.loadId}`,quantity:1,rate:ye.amount*.85,amount:ye.amount*.85},{description:"Fuel Surcharge",quantity:1,rate:ye.amount*.15,amount:ye.amount*.15}],subtotal:ye.amount,tax:0,totalAmount:ye.amount,notes:"Thank you for your business. Payment is due within 30 days.",attachments:["Proof_of_Delivery.pdf","Bill_of_Lading.pdf"]}),H=[{id:"1",invoiceNumber:"INV-2301",customer:"Acme Co",loadId:"LD1001",date:"05/23/2025",dueDate:"06/22/2025",amount:2850,status:"unpaid"},{id:"2",invoiceNumber:"INV-2302",customer:"Global Logistics",loadId:"LD1002",date:"05/22/2025",dueDate:"06/21/2025",amount:950,status:"unpaid"},{id:"3",invoiceNumber:"INV-2303",customer:"Fast Freight",loadId:"LD1003",date:"05/21/2025",dueDate:"06/20/2025",amount:1750,status:"unpaid"},{id:"4",invoiceNumber:"INV-2304",customer:"Speedy Shipping",loadId:"LD1004",date:"05/20/2025",dueDate:"06/19/2025",amount:795,status:"paid",paidDate:"06/01/2025"},{id:"5",invoiceNumber:"INV-2305",customer:"Reliable Transport",loadId:"LD1005",date:"05/19/2025",dueDate:"06/18/2025",amount:1950,status:"paid",paidDate:"05/30/2025"},{id:"6",invoiceNumber:"INV-2295",customer:"Prime Delivery",loadId:"LD987",date:"04/15/2025",dueDate:"05/15/2025",amount:2250,status:"overdue"}],[Z,re]=Y.useState(H),le=ye=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ye),ce=Z.filter(ye=>{const Xe=t===""||ye.invoiceNumber.toLowerCase().includes(t.toLowerCase())||ye.customer.toLowerCase().includes(t.toLowerCase())||ye.loadId.toLowerCase().includes(t.toLowerCase()),dt=r===""||ye.status===r;return Xe&&dt}),he=ye=>{switch(ye){case"paid":return"bg-green-100 text-green-800";case"unpaid":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},fe=Z.filter(ye=>ye.status==="unpaid"||ye.status==="overdue").reduce((ye,Xe)=>ye+Xe.amount,0),ee=Z.filter(ye=>ye.status==="paid").reduce((ye,Xe)=>ye+Xe.amount,0),xe=Z.filter(ye=>ye.status==="overdue").reduce((ye,Xe)=>ye+Xe.amount,0),ie=Z.filter(ye=>ye.status==="unpaid").length,ge=Z.filter(ye=>ye.status==="paid").length,G=Z.filter(ye=>ye.status==="overdue").length,ue=[{name:"Acme Co",amount:12850,invoices:4},{name:"Global Logistics",amount:18750,invoices:5},{name:"Fast Freight",amount:22350,invoices:6},{name:"Others",amount:24500,invoices:10}],ke=ye=>{l(ye),g(!0)},ve=async ye=>{a(!0);try{await Ps.downloadInvoice(ye.id)}catch(Xe){console.error("Error downloading invoice:",Xe)}finally{a(!1)}},Se=async ye=>{a(!0);try{const Xe=await Ps.markInvoiceAsPaid(ye.id),dt=Z.map(Tt=>Tt.id===ye.id?{...Tt,status:"paid",paidDate:Xe.paidDate}:Tt);re(dt)}catch(Xe){console.error("Error marking invoice as paid:",Xe)}finally{a(!1)}},He=ye=>{l(ye);const Xe=ye.customer.toLowerCase().replace(/\s+/g,"");M(`accounting@${Xe}.com`),F(`This is a friendly reminder that invoice ${ye.invoiceNumber} for $${ye.amount} is now past due. Please submit payment at your earliest convenience.`),k(!0)},De=async()=>{if(o){a(!0);try{await Ps.sendInvoiceReminder(o.id),k(!1),M(""),F("")}catch(ye){console.error("Error sending reminder:",ye)}finally{a(!1)}}},$e=()=>{N(!0)},Ue=ye=>{h(ye),O(!0)},Ke=async()=>{a(!0);try{await Ps.syncWithQuickBooks()}catch(ye){console.error("Error syncing with QuickBooks:",ye)}finally{a(!1)}},nt=async()=>{a(!0);try{await Ps.sendOverdueReminders()}catch(ye){console.error("Error sending overdue reminders:",ye)}finally{a(!1)}},Me=async()=>{a(!0);try{await Ps.downloadInvoiceReport()}catch(ye){console.error("Error downloading invoice report:",ye)}finally{a(!1)}},qe=async()=>{a(!0);try{await Ps.bulkUpdateInvoiceStatus("paid")}catch(ye){console.error("Error bulk updating invoice status:",ye)}finally{a(!1)}};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invoices"}),s.jsx("p",{className:"text-gray-600",children:"Manage your invoices and payments"})]}),s.jsx("div",{children:s.jsxs("button",{className:"btn btn-primary flex items-center",onClick:$e,disabled:i,children:[s.jsx("i",{className:"fas fa-plus-circle mr-2"}),"Create New Invoice"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[s.jsx("div",{className:"dashboard-card bg-gradient-blue",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-file-invoice-dollar card-icon"}),s.jsx("h5",{className:"card-title",children:"Total Outstanding"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:le(fe)}),s.jsxs("p",{className:"text-sm mt-1 opacity-90",children:[ie+G," Unpaid Invoices"]}),s.jsx("div",{className:"mt-3 bg-blue-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"75%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-green",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-check-circle card-icon"}),s.jsx("h5",{className:"card-title",children:"Paid This Month"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:le(ee)}),s.jsxs("p",{className:"text-sm mt-1 opacity-90",children:[ge," Paid Invoices"]}),s.jsx("div",{className:"mt-3 bg-green-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"65%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-red",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-exclamation-triangle card-icon"}),s.jsx("h5",{className:"card-title",children:"Overdue"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:le(xe)}),s.jsxs("p",{className:"text-sm mt-1 opacity-90",children:[G," Overdue Invoices"]}),s.jsx("div",{className:"mt-3 bg-red-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"35%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-orange",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-clock card-icon"}),s.jsx("h5",{className:"card-title",children:"Average Payment Time"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"28"}),s.jsx("p",{className:"text-sm mt-1 opacity-90",children:"Days to Payment"}),s.jsx("div",{className:"mt-3 bg-orange-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"55%"}})})]})})]}),s.jsxs(st,{className:"shadow-sm mb-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 pb-4 border-b border-gray-100",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4 md:mb-0",children:[s.jsx("i",{className:"fas fa-file-invoice-dollar mr-2 text-blue-600"}),"Invoices"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full md:w-auto",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-search text-gray-400"})}),s.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md text-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Search invoices...",value:t,onChange:ye=>e(ye.target.value)})]}),s.jsxs("select",{className:"block w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:r,onChange:ye=>n(ye.target.value),children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"unpaid",children:"Unpaid"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"overdue",children:"Overdue"})]}),s.jsxs("button",{className:"px-3 py-2 bg-white border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-blue-500 focus:border-blue-500",onClick:()=>alert("Advanced filters would appear here"),children:[s.jsx("i",{className:"fas fa-filter mr-1"}),s.jsx("span",{children:"More Filters"})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load ID"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(ye=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>ke(ye),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:ye.invoiceNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ye.customer}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ye.loadId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ye.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ye.dueDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:le(ye.amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${he(ye.status)}`,children:ye.status.charAt(0).toUpperCase()+ye.status.slice(1)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:Xe=>Xe.stopPropagation(),children:[s.jsx("button",{className:"btn-sm btn-outline-primary mr-2",onClick:Xe=>{Xe.stopPropagation(),ke(ye)},disabled:i,children:"View"}),ye.status==="paid"?s.jsx("button",{className:"btn-sm btn-outline-secondary",onClick:Xe=>{Xe.stopPropagation(),ve(ye)},disabled:i,children:"Download"}):ye.status==="overdue"?s.jsx("button",{className:"btn-sm btn-outline-danger",onClick:Xe=>{Xe.stopPropagation(),He(ye)},disabled:i,children:"Send Reminder"}):s.jsx("button",{className:"btn-sm btn-outline-success",onClick:Xe=>{Xe.stopPropagation(),Se(ye)},disabled:i,children:"Mark Paid"})]})]},ye.id))})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:["Showing ",s.jsx("span",{className:"font-medium",children:ce.length})," of ",s.jsx("span",{className:"font-medium",children:Z.length})," invoices"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",disabled:!0,children:"Previous"}),s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-chart-pie mr-2 text-blue-600"}),"Payments Due by Customer"]}),s.jsx(st,{className:"shadow-sm h-full",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{className:"md:col-span-2 flex flex-col justify-center",children:s.jsx("div",{className:"space-y-4 p-4",children:ue.map((ye,Xe)=>{const dt=["blue","green","purple","orange"],Tt=dt[Xe%dt.length],Ct=Math.round(ye.amount/ue.reduce((or,Cr)=>or+Cr.amount,0)*100);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-3 w-3 rounded-full bg-${Tt}-500 mr-2`}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:ye.name})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:le(ye.amount)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`bg-${Tt}-500 h-2 rounded-full`,style:{width:`${Ct}%`}})})]},Xe)})})}),s.jsx("div",{className:"md:col-span-3 border-t md:border-t-0 md:border-l border-gray-200 p-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount Due"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoices"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ue.map((ye,Xe)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>Ue(ye),children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:ye.name}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:le(ye.amount)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right",children:ye.invoices}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",onClick:dt=>dt.stopPropagation(),children:s.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:dt=>{dt.stopPropagation(),Ue(ye)},disabled:i,children:"View"})})]},Xe))})]})})})]})})]}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-bolt mr-2 text-blue-600"}),"Quick Actions"]}),s.jsx(st,{className:"shadow-sm mb-6",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:Ke,disabled:i,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-sync text-green-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Sync with QuickBooks"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:nt,disabled:i,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-envelope text-blue-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Send Overdue Reminders"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:Me,disabled:i,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-download text-purple-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Download Invoice Report"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 rounded-lg flex justify-between items-center hover:bg-gray-50 transition-colors",onClick:qe,disabled:i,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-edit text-orange-500 mr-3"}),s.jsx("span",{className:"font-medium",children:"Bulk Update Invoice Status"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})]})}),s.jsx(st,{className:"shadow-sm bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx("i",{className:"fas fa-chart-line text-4xl text-blue-500"})}),s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Financial Overview"}),s.jsx("p",{className:"text-blue-800 mb-4",children:"Your accounts receivable has increased by 15% compared to last month."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-blue-800",children:"30-day Collection Rate"}),s.jsx("span",{className:"text-blue-900 font-medium",children:"82%"})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"82%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-blue-800",children:"Invoices Issued (This Month)"}),s.jsx("span",{className:"text-blue-900 font-medium",children:"32"})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"75%"}})})]})]}),s.jsx("button",{className:"mt-6 inline-flex items-center px-4 py-2 border border-blue-300 shadow-sm text-sm font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>alert("Full financial report would be shown here"),children:"View Full Report"})]})})]})]}),o&&s.jsx(xr,{isOpen:f,onClose:()=>g(!1),title:`Invoice ${o.invoiceNumber}`,size:"lg",footer:s.jsxs("div",{className:"flex justify-end space-x-4",children:[o.status==="paid"?s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>ve(o),disabled:i,children:"Download Invoice"}):o.status==="overdue"?s.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:()=>{g(!1),He(o)},disabled:i,children:"Send Payment Reminder"}):s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>{Se(o),g(!1)},disabled:i,children:"Mark as Paid"}),s.jsx("button",{className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>g(!1),children:"Close"})]}),children:s.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start border-b border-gray-200 pb-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"INVOICE"}),s.jsxs("p",{className:"text-gray-600",children:["#",o.invoiceNumber]})]}),s.jsxs("div",{className:`px-3 py-1 rounded-md text-sm font-medium ${o.status==="paid"?"bg-green-100 text-green-800":o.status==="overdue"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[o.status.toUpperCase(),o.paidDate&&` - Paid on ${o.paidDate}`]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-500 font-medium mb-2",children:"Bill To:"}),s.jsx("p",{className:"font-medium text-gray-900",children:o.customer}),s.jsx("p",{className:"text-gray-600",children:V(o).customerAddress}),s.jsxs("p",{className:"text-gray-600 mt-2",children:[s.jsx("strong",{children:"Email:"})," ",V(o).customerEmail]}),s.jsxs("p",{className:"text-gray-600",children:[s.jsx("strong",{children:"Phone:"})," ",V(o).customerPhone]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{className:"text-left text-gray-500",children:"Invoice Date:"}),s.jsx("div",{className:"text-right font-medium",children:o.date}),s.jsx("div",{className:"text-left text-gray-500",children:"Due Date:"}),s.jsx("div",{className:"text-right font-medium",children:o.dueDate}),s.jsx("div",{className:"text-left text-gray-500",children:"PO Number:"}),s.jsx("div",{className:"text-right font-medium",children:V(o).poNumber}),s.jsx("div",{className:"text-left text-gray-500",children:"Load ID:"}),s.jsx("div",{className:"text-right font-medium",children:o.loadId})]})})]}),s.jsx("div",{className:"border rounded-lg overflow-hidden mb-6",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V(o).lineItems.map((ye,Xe)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ye.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:ye.quantity}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:le(ye.rate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:le(ye.amount)})]},Xe))}),s.jsxs("tfoot",{className:"bg-gray-50",children:[s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-500",children:"Subtotal"}),s.jsx("td",{className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:le(V(o).subtotal)})]}),s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-500",children:"Tax"}),s.jsx("td",{className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:le(V(o).tax)})]}),s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-bold text-gray-700",children:"Total"}),s.jsx("td",{className:"px-6 py-3 text-right text-lg font-bold text-gray-900",children:le(V(o).totalAmount)})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-700 font-medium mb-2",children:"Notes"}),s.jsx("p",{className:"text-gray-600",children:V(o).notes})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-gray-700 font-medium mb-2",children:"Attachments"}),s.jsx("ul",{className:"space-y-2",children:(ht=V(o).attachments)==null?void 0:ht.map((ye,Xe)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-pdf text-red-500 mr-2"}),s.jsx("span",{className:"text-gray-600",children:ye}),s.jsx("button",{className:"ml-2 text-blue-600 hover:text-blue-800 text-sm",onClick:()=>alert(`Downloading ${ye}`),children:"Download"})]},Xe))})]})]})]})}),s.jsx(xr,{isOpen:_,onClose:()=>k(!1),title:"Send Payment Reminder",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:De,disabled:i,children:"Send Reminder"}),s.jsx("button",{className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>k(!1),children:"Cancel"})]}),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Recipient Email"}),s.jsx("input",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",type:"email",value:T,onChange:ye=>M(ye.target.value)})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Message"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:5,value:B,onChange:ye=>F(ye.target.value)})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"include-invoice",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",defaultChecked:!0}),s.jsx("label",{htmlFor:"include-invoice",className:"ml-2 block text-sm text-gray-900",children:"Include invoice copy (PDF)"})]})})]})}),s.jsx(xr,{isOpen:y,onClose:()=>N(!1),title:"Create New Invoice",size:"lg",footer:s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>{alert("New invoice would be created here"),N(!1)},disabled:i,children:"Create Invoice"}),s.jsx("button",{className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>N(!1),children:"Cancel"})]}),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Customer"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select Customer"}),s.jsx("option",{value:"acme",children:"Acme Co"}),s.jsx("option",{value:"global",children:"Global Logistics"}),s.jsx("option",{value:"fast",children:"Fast Freight"}),s.jsx("option",{value:"speedy",children:"Speedy Shipping"}),s.jsx("option",{value:"reliable",children:"Reliable Transport"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Load ID"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Select Load"}),s.jsx("option",{value:"LD1001",children:"LD1001 - Chicago to Dallas"}),s.jsx("option",{value:"LD1002",children:"LD1002 - New York to Miami"}),s.jsx("option",{value:"LD1003",children:"LD1003 - Los Angeles to Seattle"}),s.jsx("option",{value:"LD1004",children:"LD1004 - Boston to Washington DC"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Invoice Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Due Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"PO Number"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional PO Number"})]})]}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Line Items"}),s.jsx("div",{className:"border rounded-lg overflow-hidden mb-4",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Quantity"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Rate"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-16"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"text",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:"Freight Services"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-right",defaultValue:"1"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-right",defaultValue:"1500"})}),s.jsx("td",{className:"px-4 py-2 text-right text-sm font-medium",children:"$1,500.00"}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx("i",{className:"fas fa-trash"})})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"text",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:"Fuel Surcharge"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-right",defaultValue:"1"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-right",defaultValue:"250"})}),s.jsx("td",{className:"px-4 py-2 text-right text-sm font-medium",children:"$250.00"}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx("i",{className:"fas fa-trash"})})})]})]})]})}),s.jsx("div",{className:"flex justify-start mb-6",children:s.jsxs("button",{className:"flex items-center text-blue-600 hover:text-blue-800",children:[s.jsx("i",{className:"fas fa-plus-circle mr-1"}),"Add Line Item"]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Notes"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Optional notes to display on the invoice...",defaultValue:"Thank you for your business. Payment is due within 30 days."})]}),s.jsx("div",{children:s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal"}),s.jsx("span",{className:"text-sm font-medium",children:"$1,750.00"})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tax"}),s.jsx("span",{className:"text-sm font-medium",children:"$0.00"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-base font-medium text-gray-700",children:"Total"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:"$1,750.00"})]})]})})]})]})}),s.jsx(xr,{isOpen:C,onClose:()=>O(!1),title:(u==null?void 0:u.name)||"Customer Details",size:"lg",footer:s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>{alert("Customer statement would be downloaded here")},disabled:i,children:"Download Statement"}),s.jsx("button",{className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>O(!1),children:"Close"})]}),children:u&&s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[s.jsx("h3",{className:"font-medium text-blue-800 mb-1",children:"Total Outstanding"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:le(u.amount)}),s.jsxs("p",{className:"text-sm text-blue-700",children:[u.invoices," Active Invoices"]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[s.jsx("h3",{className:"font-medium text-green-800 mb-1",children:"Average Payment Time"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:"24 Days"}),s.jsx("p",{className:"text-sm text-green-700",children:"Improved by 4 days"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[s.jsx("h3",{className:"font-medium text-purple-800 mb-1",children:"YTD Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:le(u.amount*2.5)}),s.jsx("p",{className:"text-sm text-purple-700",children:"+12% year over year"})]})]}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Outstanding Invoices"}),s.jsx("div",{className:"overflow-x-auto border rounded-lg mb-6",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.from({length:3}).map((ye,Xe)=>{const dt=Xe===0?"overdue":"unpaid",Tt=Xe*10+5,Ct=new Date;Ct.setDate(Ct.getDate()-Tt);const or=new Date(Ct);return or.setDate(or.getDate()+30),s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:["INV-",2300+Xe]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:Ct.toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:or.toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-right",children:le(Math.round(u.amount/u.invoices*(Xe+.8)))}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${he(dt)}`,children:dt.charAt(0).toUpperCase()+dt.slice(1)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{className:"btn-sm btn-outline-primary mr-2",children:"View"}),dt==="overdue"?s.jsx("button",{className:"btn-sm btn-outline-danger",children:"Remind"}):s.jsx("button",{className:"btn-sm btn-outline-success",children:"Mark Paid"})]})]},Xe)})})]})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Billing Contact:"})," John Thompson"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Email:"})," accounting@",u.name.toLowerCase().replace(/\s+/g,""),".com"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Phone:"})," (555) 123-4567"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Address:"})," 123 Business St, Suite 101, Any City, ST 12345"]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Account Manager:"})," Sarah Johnson"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Payment Terms:"})," Net 30"]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Credit Limit:"})," ",le(u.amount*1.5)]}),s.jsxs("p",{className:"text-gray-700 mb-1",children:[s.jsx("strong",{children:"Customer Since:"})," Jan 2022"]})]})]}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Recent Activity"}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("div",{className:"divide-y divide-gray-200",children:[s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 mr-3",children:s.jsx("i",{className:"fas fa-check text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Invoice INV-2290 paid"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["May 01, 2025  ",le(1850)]})]})]})}),s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 mr-3",children:s.jsx("i",{className:"fas fa-paper-plane text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Invoice INV-2295 sent"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["April 15, 2025  ",le(2250)]})]})]})}),s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-100 rounded-full p-2 mr-3",children:s.jsx("i",{className:"fas fa-file-invoice-dollar text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New contract signed"}),s.jsx("p",{className:"text-xs text-gray-500",children:"April 10, 2025  12 new shipments"})]})]})})]})})]})})]})},HFe=()=>{const[t,e]=Y.useState("fleet"),[r,n]=Y.useState("last30days"),[i,a]=Y.useState(!1),[o,l]=Y.useState(!1),[u,h]=Y.useState([]),[f,g]=Y.useState({start:"",end:""}),[y,N]=Y.useState(!1),[_,k]=Y.useState("overview"),[C,O]=Y.useState(""),[T,M]=Y.useState([{id:"1",name:"Q1 2025 Fleet Performance Report",type:"fleet",dateRange:"Jan 1 - Mar 31, 2025",metrics:["utilization","revenue","miles"],createdAt:"2025-04-05 09:30 AM",fileSize:"2.8 MB",status:"completed"},{id:"2",name:"March Driver Safety Analysis",type:"safety",dateRange:"Mar 1 - Mar 31, 2025",metrics:["incidents","violations","scores"],createdAt:"2025-04-01 02:15 PM",fileSize:"1.5 MB",status:"completed"}]),B=[{id:"1",name:"Fleet Performance",description:"Track truck utilization and efficiency",type:"fleet",icon:"fa-truck",color:"blue",isPopular:!0},{id:"2",name:"Driver Performance",description:"Monitor driver metrics and productivity",type:"driver",icon:"fa-user-tie",color:"green",isPopular:!0},{id:"3",name:"Fuel Efficiency",description:"Analyze fuel consumption and costs",type:"fuel",icon:"fa-gas-pump",color:"yellow"},{id:"4",name:"Maintenance Report",description:"Vehicle maintenance schedules and costs",type:"maintenance",icon:"fa-tools",color:"orange"},{id:"5",name:"Safety & Compliance",description:"CSA scores, violations, and incidents",type:"safety",icon:"fa-shield-alt",color:"red",isPopular:!0},{id:"6",name:"Revenue Analysis",description:"Income per truck, lane, and driver",type:"revenue",icon:"fa-dollar-sign",color:"green"},{id:"7",name:"Equipment Utilization",description:"Track trailer and truck usage rates",type:"utilization",icon:"fa-chart-area",color:"purple"},{id:"8",name:"DOT Compliance",description:"Hours of service and inspection reports",type:"compliance",icon:"fa-clipboard-check",color:"indigo"}],F=[{month:"Jan",miles:245e3,revenue:384e3,utilization:88},{month:"Feb",miles:268e3,revenue:418e3,utilization:92},{month:"Mar",miles:282e3,revenue:445e3,utilization:91},{month:"Apr",miles:265e3,revenue:412e3,utilization:87},{month:"May",miles:298e3,revenue:468e3,utilization:94},{month:"Jun",miles:312e3,revenue:492e3,utilization:95}],V=[{driver:"John Smith",miles:12500,revenue:19800,safety:98,onTime:96},{driver:"Mike Johnson",miles:11800,revenue:18200,safety:95,onTime:94},{driver:"David Brown",miles:13200,revenue:20500,safety:99,onTime:97},{driver:"Tom Wilson",miles:10900,revenue:16800,safety:93,onTime:91},{driver:"James Davis",miles:12100,revenue:18900,safety:97,onTime:95}],H=[{type:"Preventive",count:45,cost:28500},{type:"Repairs",count:12,cost:18200},{type:"Tires",count:28,cost:14800},{type:"Emergency",count:3,cost:8500}],Z=[{category:"Unsafe Driving",score:15,threshold:65},{category:"Hours-of-Service",score:20,threshold:65},{category:"Vehicle Maintenance",score:25,threshold:80},{category:"Controlled Substances",score:0,threshold:80},{category:"Hazmat Compliance",score:10,threshold:80}],re=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],le=[{id:"utilization",label:"Fleet Utilization %",category:"Fleet"},{id:"revenue",label:"Revenue per Truck",category:"Financial"},{id:"miles",label:"Total Miles Driven",category:"Operational"},{id:"fuelEfficiency",label:"Fuel Efficiency (MPG)",category:"Fleet"},{id:"driverHours",label:"Driver Hours Logged",category:"Compliance"},{id:"incidents",label:"Safety Incidents",category:"Safety"},{id:"violations",label:"DOT Violations",category:"Compliance"},{id:"scores",label:"CSA Scores",category:"Safety"},{id:"maintenanceCost",label:"Maintenance Cost",category:"Fleet"},{id:"onTimeDelivery",label:"On-Time Delivery %",category:"Performance"}],ce=()=>{if(!C.trim()){lt.error("Please enter a report name");return}N(!0),lt.loading("Generating report..."),setTimeout(()=>{const G={id:Date.now().toString(),name:C,type:t,dateRange:he(r),metrics:u,createdAt:new Date().toLocaleString(),fileSize:`${(Math.random()*3+.5).toFixed(1)} MB`,status:"completed"};M([G,...T]),N(!1),lt.dismiss(),lt.success("Report generated successfully!"),a(!1),O(""),h([]),k("generated")},3e3)},he=G=>{const ue=new Date;switch(G){case"last7days":return`${new Date(ue.getTime()-7*24*60*60*1e3).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"last30days":return`${new Date(ue.getTime()-30*24*60*60*1e3).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"thisMonth":return`${new Date(ue.getFullYear(),ue.getMonth(),1).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"lastMonth":return`${new Date(ue.getFullYear(),ue.getMonth()-1,1).toLocaleDateString()} - ${new Date(ue.getFullYear(),ue.getMonth(),0).toLocaleDateString()}`;case"thisQuarter":const Se=Math.floor(ue.getMonth()/3)*3;return`${new Date(ue.getFullYear(),Se,1).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"thisYear":return`Jan 1, ${ue.getFullYear()} - ${ue.toLocaleDateString()}`;default:return"Custom Range"}},fe=()=>{lt.success("Report scheduled successfully"),l(!1)},ee=(G,ue)=>{var ve;const ke=ue?(ve=T.find(Se=>Se.id===ue))==null?void 0:ve.name:"report";lt.success(`Exporting ${ke} as ${G.toUpperCase()}...`),setTimeout(()=>{lt.success("Report exported successfully!");const Se=document.createElement("a");Se.href="#",Se.download=`${ke}.${G}`,Se.click()},2e3)},xe=G=>{M(T.filter(ue=>ue.id!==G)),lt.success("Report deleted successfully")},ie=()=>s.jsx(xr,{isOpen:i,onClose:()=>a(!1),children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create Custom Report"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Name"}),s.jsx("input",{type:"text",placeholder:"e.g., Q2 Fleet Performance Analysis",value:C,onChange:G=>O(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),s.jsxs("select",{value:r,onChange:G=>n(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"last7days",children:"Last 7 Days"}),s.jsx("option",{value:"last30days",children:"Last 30 Days"}),s.jsx("option",{value:"thisMonth",children:"This Month"}),s.jsx("option",{value:"lastMonth",children:"Last Month"}),s.jsx("option",{value:"thisQuarter",children:"This Quarter"}),s.jsx("option",{value:"thisYear",children:"This Year"}),s.jsx("option",{value:"custom",children:"Custom Range"})]})]}),r==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),s.jsx("input",{type:"date",value:f.start,onChange:G=>g({...f,start:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),s.jsx("input",{type:"date",value:f.end,onChange:G=>g({...f,end:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Metrics"}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-4",children:Object.entries(le.reduce((G,ue)=>(G[ue.category]||(G[ue.category]=[]),G[ue.category].push(ue),G),{})).map(([G,ue])=>s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:G}),ue.map(ke=>s.jsxs("label",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("input",{type:"checkbox",checked:u.includes(ke.id),onChange:ve=>{ve.target.checked?h([...u,ke.id]):h(u.filter(Se=>Se!==ke.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm text-gray-700",children:ke.label})]},ke.id))]},G))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group By"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"none",children:"No Grouping"}),s.jsx("option",{value:"driver",children:"Driver"}),s.jsx("option",{value:"truck",children:"Truck"}),s.jsx("option",{value:"route",children:"Route"}),s.jsx("option",{value:"customer",children:"Customer"}),s.jsx("option",{value:"equipment",children:"Equipment Type"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Format"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("button",{className:"px-4 py-3 border-2 border-blue-500 bg-blue-50 rounded-lg text-blue-700 font-medium hover:bg-blue-100 transition-colors",children:[s.jsx("i",{className:"fas fa-table mb-2 text-2xl block"}),"Table View"]}),s.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("i",{className:"fas fa-chart-bar mb-2 text-2xl block"}),"Chart View"]}),s.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("i",{className:"fas fa-th mb-2 text-2xl block"}),"Dashboard"]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ce,disabled:y||u.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:y?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-magic mr-2"}),"Generate Report"]})})]})]})}),ge=()=>s.jsx(xr,{isOpen:o,onClose:()=>l(!1),children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Schedule Report"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Template"}),s.jsx("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:B.map(G=>s.jsx("option",{value:G.id,children:G.name},G.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Send To"}),s.jsx("input",{type:"email",placeholder:"email@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate multiple emails with commas"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),s.jsx("input",{type:"time",defaultValue:"09:00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Format"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm",children:"PDF"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm",children:"Excel"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm",children:"CSV"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[s.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:fe,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Schedule Report"})]})]})});return s.jsxs("div",{className:"space-y-6 fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Fleet Reports & Analytics"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor fleet performance and driver metrics"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[s.jsx("i",{className:"fas fa-clock mr-2"}),"Schedule"]}),s.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx("i",{className:"fas fa-plus mr-2"}),"Create Report"]})]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>k("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview Dashboard"}),s.jsx("button",{onClick:()=>k("detailed"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="detailed"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Detailed Reports"}),s.jsx("button",{onClick:()=>k("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="templates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Report Templates"}),s.jsx("button",{onClick:()=>k("generated"),className:`py-2 px-1 border-b-2 font-medium text-sm ${_==="generated"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Generated Reports"})]})}),_==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(st,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Fleet Utilization"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"91.5%"}),s.jsxs("p",{className:"text-blue-100 text-sm mt-2 flex items-center",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),"3.2% vs last month"]})]}),s.jsx("div",{className:"bg-blue-400 bg-opacity-30 rounded-lg p-3",children:s.jsx("i",{className:"fas fa-truck text-2xl"})})]})})}),s.jsx(st,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Revenue/Truck"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"$24.5K"}),s.jsxs("p",{className:"text-green-100 text-sm mt-2 flex items-center",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),"$2.1K increase"]})]}),s.jsx("div",{className:"bg-green-400 bg-opacity-30 rounded-lg p-3",children:s.jsx("i",{className:"fas fa-dollar-sign text-2xl"})})]})})}),s.jsx(st,{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-100 text-sm font-medium",children:"Avg MPG"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"6.8"}),s.jsxs("p",{className:"text-yellow-100 text-sm mt-2 flex items-center",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),"0.3 improvement"]})]}),s.jsx("div",{className:"bg-yellow-400 bg-opacity-30 rounded-lg p-3",children:s.jsx("i",{className:"fas fa-gas-pump text-2xl"})})]})})}),s.jsx(st,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Safety Score"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"96.2"}),s.jsxs("p",{className:"text-purple-100 text-sm mt-2 flex items-center",children:[s.jsx("i",{className:"fas fa-check mr-1"}),"Above target"]})]}),s.jsx("div",{className:"bg-purple-400 bg-opacity-30 rounded-lg p-3",children:s.jsx("i",{className:"fas fa-shield-alt text-2xl"})})]})})})]}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Fleet Performance Trend"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md",children:"6M"}),s.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:"1Y"}),s.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-100 rounded-md",children:"ALL"})]})]}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(kE,{data:F,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorMiles",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),s.jsx(sd,{strokeDasharray:"3 3"}),s.jsx(Ua,{dataKey:"month"}),s.jsx(Si,{yAxisId:"left"}),s.jsx(Si,{yAxisId:"right",orientation:"right"}),s.jsx(cn,{}),s.jsx(Ao,{}),s.jsx(qa,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue ($)"}),s.jsx(qa,{yAxisId:"right",type:"monotone",dataKey:"miles",stroke:"#10B981",fillOpacity:1,fill:"url(#colorMiles)",name:"Miles"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Top Driver Performance"}),s.jsx("div",{className:"space-y-4",children:V.map((G,ue)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-semibold mr-4",children:ue+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:G.driver}),s.jsxs("p",{className:"text-sm text-gray-500",children:[G.miles.toLocaleString()," miles  $",G.revenue.toLocaleString()," revenue"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Safety"}),s.jsxs("p",{className:"font-semibold text-green-600",children:[G.safety,"%"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"On-Time"}),s.jsxs("p",{className:"font-semibold text-blue-600",children:[G.onTime,"%"]})]})]})]},ue))})]})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"CSA Scores Overview"}),s.jsx("div",{className:"space-y-4",children:Z.map((G,ue)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:G.category}),s.jsxs("span",{className:`text-sm font-semibold ${G.score<G.threshold?"text-green-600":"text-red-600"}`,children:[G.score," / ",G.threshold]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${G.score<G.threshold?"bg-green-500":"bg-red-500"}`,style:{width:`${G.score/G.threshold*100}%`}})})]},ue))})]})})]}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Maintenance Cost Breakdown"}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(SE,{children:[s.jsx(pl,{data:H,cx:"50%",cy:"50%",labelLine:!1,label:G=>`${G.type}: $${G.cost.toLocaleString()}`,outerRadius:100,fill:"#8884d8",dataKey:"cost",children:H.map((G,ue)=>s.jsx(Df,{fill:re[ue%re.length]},`cell-${ue}`))}),s.jsx(cn,{})]})})]})})]}),_==="detailed"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Reports"}),s.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:[{name:"June Fleet Performance Report",type:"Fleet",date:"Jun 28, 2025",size:"3.2 MB"},{name:"Driver Safety Analysis",type:"Safety",date:"Jun 25, 2025",size:"1.8 MB"},{name:"Weekly Fuel Efficiency Report",type:"Fuel",date:"Jun 26, 2025",size:"2.5 MB"},{name:"Q2 Maintenance Summary",type:"Maintenance",date:"Jun 15, 2025",size:"4.1 MB"}].map((G,ue)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-lg p-3 mr-4",children:s.jsx("i",{className:"fas fa-file-alt text-xl"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:G.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[G.type,"  ",G.date,"  ",G.size]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>ee("pdf"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("i",{className:"fas fa-download"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("i",{className:"fas fa-share"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("i",{className:"fas fa-ellipsis-v"})})]})]},ue))})]})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Scheduled Reports"}),s.jsx("button",{onClick:()=>l(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Add Schedule"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequency"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipients"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Run"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Daily Fleet Summary",frequency:"Daily",recipients:"dispatch@carrier.com",nextRun:"Tomorrow 7:00 AM",status:"active"},{name:"Weekly Safety Report",frequency:"Weekly",recipients:"safety@carrier.com",nextRun:"Monday 8:00 AM",status:"active"},{name:"Monthly Fuel Analysis",frequency:"Monthly",recipients:"ops@carrier.com",nextRun:"Jul 1, 2025",status:"paused"}].map((G,ue)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:G.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.frequency}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.recipients}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.nextRun}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${G.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:G.status})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),s.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},ue))})]})})]})})]}),_==="templates"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(G=>s.jsx(st,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:`bg-${G.color}-100 text-${G.color}-600 rounded-lg p-3`,children:s.jsx("i",{className:`fas ${G.icon} text-2xl`})}),G.isPopular&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full",children:"Popular"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:G.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:G.description}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("button",{onClick:()=>{e(G.type),O(G.name+" - "+new Date().toLocaleDateString()),h(["utilization","revenue","miles"]),a(!0)},className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Use Template"}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx("i",{className:"fas fa-ellipsis-h"})})]})]})},G.id))}),_==="generated"&&s.jsx("div",{children:T.length===0?s.jsxs(st,{className:"p-8 text-center",children:[s.jsx("i",{className:"fas fa-file-alt text-gray-300 text-5xl mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reports Generated"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first custom report to see it here"}),s.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md",children:"Create Report"})]}):s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Range"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(G=>{var ue;return s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[G.metrics.length," metrics included"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:((ue=B.find(ke=>ke.type===G.type))==null?void 0:ue.name)||G.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.dateRange}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.createdAt}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.fileSize}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${G.status==="completed"?"bg-green-100 text-green-800":G.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:G.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>lt.success("Opening report preview..."),className:"text-blue-600 hover:text-blue-900",title:"View",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsx("button",{onClick:()=>ee("pdf",G.id),className:"text-gray-600 hover:text-gray-900",title:"Download PDF",children:s.jsx("i",{className:"fas fa-file-pdf"})}),s.jsx("button",{onClick:()=>ee("excel",G.id),className:"text-green-600 hover:text-green-900",title:"Download Excel",children:s.jsx("i",{className:"fas fa-file-excel"})}),s.jsx("button",{onClick:()=>xe(G.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:s.jsx("i",{className:"fas fa-trash"})})]})})]},G.id)})})]})})})}),s.jsx(ie,{}),s.jsx(ge,{})]})},WFe=()=>s.jsx(lB,{moduleType:"carrier"}),VFe=()=>s.jsx(oB,{moduleType:"carrier"}),El=({children:t})=>{const{user:e,isAuthenticated:r}=_g();if(!r)return s.jsx(Of,{to:"/login",replace:!0});const n=[ln.CARRIER,ln.DISPATCHER,ln.OPERATOR,ln.SUPERVISOR,ln.ADMIN];return!(e!=null&&e.role)||!n.includes(e.role)?s.jsx(Of,{to:"/login",replace:!0}):s.jsx(s.Fragment,{children:t})},EY=[{path:"dashboard",element:s.jsx(El,{children:s.jsx(EFe,{})})},{path:"smart-load-search",element:s.jsx(El,{children:s.jsx(OFe,{})})},{path:"dispatch-board",element:s.jsx(El,{children:s.jsx(DFe,{})})},{path:"documents",element:s.jsx(El,{children:s.jsx(RFe,{})})},{path:"tracking",element:s.jsx(El,{children:s.jsx(FFe,{})})},{path:"all-loads",element:s.jsx(El,{children:s.jsx(BFe,{})})},{path:"drivers",element:s.jsx(El,{children:s.jsx($Fe,{})})},{path:"invoices",element:s.jsx(El,{children:s.jsx(zFe,{})})},{path:"reports",element:s.jsx(El,{children:s.jsx(HFe,{})})},{path:"workflows",element:s.jsx(El,{children:s.jsx(WFe,{})})},{path:"workflows/builder",element:s.jsx(El,{children:s.jsx(VFe,{})})}],UFe=()=>{const t=[{id:"1",origin:"Chicago, IL",destination:"Detroit, MI",revenue:145e3,shipmentCount:42,commodities:["Aluminum Coils","Steel Sheets"],topBroker:"ABC Logistics",topCarrier:"Swift Transportation",avgRate:3452},{id:"2",origin:"Hammond, IN",destination:"Nashville, TN",revenue:98e3,shipmentCount:28,commodities:["Aluminum Ingots","Metal Parts"],topBroker:"XYZ Freight",topCarrier:"JB Hunt",avgRate:3500},{id:"3",origin:"Beech Bottom, WV",destination:"Atlanta, GA",revenue:125e3,shipmentCount:35,commodities:["Aluminum Billets","Raw Materials"],topBroker:"Prime Logistics",topCarrier:"Werner Enterprises",avgRate:3571},{id:"4",origin:"Fairland, IN",destination:"Dallas, TX",revenue:176e3,shipmentCount:45,commodities:["Finished Aluminum Products"],topBroker:"Elite Transport",topCarrier:"Schneider National",avgRate:3911}],e=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(r);return s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Popular Routes"}),s.jsx(uN,{className:"w-5 h-5 text-green-500"})]}),s.jsx("div",{className:"space-y-4",children:t.map(r=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-800",children:[r.origin,"  ",r.destination]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.shipmentCount," shipments"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold text-green-600",children:e(r.revenue)}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Avg: ",e(r.avgRate)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(If,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"font-medium",children:"Commodities:"})]}),s.jsx("p",{className:"text-gray-600 text-xs",children:r.commodities.join(", ")})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(dR,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"font-medium",children:"Partners:"})]}),s.jsxs("p",{className:"text-gray-600 text-xs",children:["Broker: ",r.topBroker,s.jsx("br",{}),"Carrier: ",r.topCarrier]})]})]})]},r.id))}),s.jsx("button",{className:"mt-4 w-full py-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All Routes "})]})},TY=()=>{const t=[{customer:"Shanahan Transportation",revenue:185e3,color:"#3B82F6"},{customer:"Swift Logistics",revenue:156e3,color:"#10B981"},{customer:"JB Hunt",revenue:142e3,color:"#F59E0B"},{customer:"Schneider National",revenue:128e3,color:"#8B5CF6"},{customer:"Werner Enterprises",revenue:95e3,color:"#EF4444"}],e={dates:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],counts:[22,28,32,26,35,12,8]},r=[{load:"SH-2145",origin:"Chicago, IL",pickup:"Today, 2:00 PM",carrier:"Shanahan Transportation",status:"Scheduled"},{load:"SH-2146",origin:"Detroit, MI",pickup:"Today, 4:30 PM",carrier:"Swift Logistics",status:"In Transit"},{load:"SH-2147",origin:"Milwaukee, WI",pickup:"Tomorrow, 9:00 AM",carrier:"JB Hunt",status:"Scheduled"},{load:"SH-2148",origin:"Cleveland, OH",pickup:"Tomorrow, 1:00 PM",carrier:"Werner Enterprises",status:"Pending"}],n=[{load:"SH-2140",destination:"Los Angeles, CA",delivered:"2 hours ago",status:"Verified"},{load:"SH-2139",destination:"Phoenix, AZ",delivered:"5 hours ago",status:"Pending Review"},{load:"SH-2138",destination:"Seattle, WA",delivered:"Yesterday",status:"Verified"},{load:"SH-2137",destination:"Denver, CO",delivered:"Yesterday",status:"Verified"}];return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shipper Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Overview of your shipping operations and logistics"})]}),s.jsxs("section",{className:"mb-8",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-chart-line mr-2 text-blue-600"}),"Key Metrics"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[s.jsx("div",{className:"dashboard-card bg-gradient-blue",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-truck mr-1 card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Upcoming Shipments"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"18"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"6 scheduled today"}),s.jsx("div",{className:"mt-3 bg-blue-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"65%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-green",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-clock card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Late Deliveries"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"3"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All being tracked"}),s.jsx("div",{className:"mt-3 bg-green-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"15%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-purple",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-file-alt card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Recent PODs"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"12"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"8 verified, 4 pending"}),s.jsx("div",{className:"mt-3 bg-purple-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"67%"}})})]})}),s.jsx("div",{className:"dashboard-card bg-gradient-orange",children:s.jsxs("div",{className:"card-body",children:[s.jsx("i",{className:"fas fa-dollar-sign card-icon"}),s.jsx("h5",{className:"card-title text-gray-600",children:"Total Spend (MTD)"}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:"$276,500"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"-8% from last month"}),s.jsx("div",{className:"mt-3 bg-orange-200 bg-opacity-30 rounded-full h-1.5",children:s.jsx("div",{className:"bg-white h-1.5 rounded-full",style:{width:"82%"}})})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("section",{children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-chart-bar mr-2 text-blue-600"}),"Spend by Carrier"]}),s.jsx(st,{className:"h-full",children:s.jsx("div",{className:"w-full h-full p-4",children:s.jsx(Kne,{data:t})})})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-calendar-alt mr-2 text-blue-600"}),"Weekly Shipment Volume"]}),s.jsx(st,{className:"h-full",children:s.jsx("div",{className:"w-full h-full p-4",children:s.jsx(Jne,{data:e})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upcoming Pickups"}),s.jsx("div",{className:"space-y-3",children:r.map((i,a)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:i.load}),s.jsxs("p",{className:"text-sm text-gray-600",children:[i.origin," - ",i.carrier]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:i.pickup}),s.jsx("p",{className:`text-xs px-2 py-1 rounded-full inline-block mt-1 ${i.status==="Scheduled"?"bg-blue-100 text-blue-700":i.status==="In Transit"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:i.status})]})]},a))})]})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent PODs"}),s.jsx("div",{className:"space-y-3",children:n.map((i,a)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:i.load}),s.jsx("p",{className:"text-sm text-gray-600",children:i.destination})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:i.delivered}),s.jsx("p",{className:`text-xs px-2 py-1 rounded-full inline-block mt-1 ${i.status==="Verified"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:i.status})]})]},a))})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsx(UFe,{}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Weather Alerts"}),s.jsx(st,{children:s.jsx("div",{className:"p-6",children:s.jsx(Gne,{lat:41.8781,lon:-87.6298,location:"Chicago, IL"})})})]})]}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"On-Time Delivery Performance"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Performance"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"94%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:"94%"}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"156"}),s.jsx("p",{className:"text-sm text-gray-600",children:"On-Time Deliveries"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:"7"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Delayed Deliveries"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"3"}),s.jsx("p",{className:"text-sm text-gray-600",children:"In Transit"})]})]})]})]})})]})},qFe=()=>{const t=Bn(),[e,r]=Y.useState("All"),[n,i]=Y.useState(""),[a,o]=Y.useState("grid"),h=$Ee("Acme Manufacturing").map(y=>({...y,status:zEe(y.status),reference:y.reference||`REF-${y.id}`})),f=h.filter(y=>{const N=e==="All"||y.status===e,_=n===""||y.id.toLowerCase().includes(n.toLowerCase())||y.origin.toLowerCase().includes(n.toLowerCase())||y.destination.toLowerCase().includes(n.toLowerCase())||y.reference.toLowerCase().includes(n.toLowerCase())||y.commodity.toLowerCase().includes(n.toLowerCase())||y.carrier&&y.carrier.toLowerCase().includes(n.toLowerCase());return N&&_}),g=y=>y==="All"?h.length:h.filter(N=>N.status===y).length;return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Shipments"}),s.jsxs("button",{onClick:()=>t("/shipper/create-load"),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md shadow-sm flex items-center",children:[s.jsx("i",{className:"fas fa-plus-circle mr-2"})," Create New Shipment"]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:["All","New","Draft","Posted","Carrier Assigned","In Transit","Delivered","POD Received","Closed"].map(y=>s.jsxs("button",{onClick:()=>r(y),className:`px-3 py-1 rounded-full text-sm font-medium ${e===y?"bg-blue-600 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:[y," (",g(y),")"]},y))}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search shipments...",value:n,onChange:y=>i(y.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("i",{className:"fas fa-search"})})]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-md overflow-hidden",children:[s.jsx("button",{onClick:()=>o("grid"),className:`px-3 py-2 ${a==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:s.jsx("i",{className:"fas fa-th"})}),s.jsx("button",{onClick:()=>o("table"),className:`px-3 py-2 ${a==="table"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:s.jsx("i",{className:"fas fa-list"})})]})]})]})}),a==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(y=>s.jsx(st,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:y.id}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Ref: ",y.reference]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[y.status==="New"&&s.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded-full text-xs font-medium animate-pulse",children:[s.jsx("i",{className:"fas fa-sparkles mr-1"}),"NEW"]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${XA(y.status)}`,children:y.status})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("i",{className:"fas fa-dot-circle text-green-500 mr-2 mt-1 text-xs"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:y.origin}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Pickup: ",new Date(y.pickupDate).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("i",{className:"fas fa-map-marker-alt text-red-500 mr-2 mt-1 text-xs"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:y.destination}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Delivery: ",new Date(y.deliveryDate).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Commodity:"}),s.jsx("span",{className:"font-medium",children:y.commodity})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Weight:"}),s.jsxs("span",{className:"font-medium",children:[parseInt(y.weight).toLocaleString()," lbs"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Equipment:"}),s.jsx("span",{className:"font-medium",children:y.equipmentType})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Rate:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["$",y.rate]})]})]}),(y.carrier||y.broker)&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Broker:"}),s.jsx("span",{className:"font-medium text-xs",children:y.broker})]}),y.carrier&&s.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[s.jsx("span",{className:"text-gray-600",children:"Carrier:"}),s.jsx("span",{className:"font-medium text-xs",children:y.carrier})]})]}),y.specialInstructions&&s.jsx("div",{className:"mt-3 pt-3 border-t",children:s.jsxs("p",{className:"text-xs text-gray-600",children:[s.jsx("i",{className:"fas fa-info-circle mr-1"}),y.specialInstructions]})}),s.jsxs("div",{className:"mt-4 flex space-x-2",children:[s.jsx("button",{onClick:()=>t(`/shipper/tracking?loadId=${y.id}`),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded text-sm",children:"View Details"}),y.status==="In Transit"&&s.jsx("button",{onClick:()=>t(`/shipper/tracking?loadId=${y.id}`),className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded text-sm",children:"Track Shipment"})]})]})},y.id))}):s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipment ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origin  Destination"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commodity"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carrier/Broker"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.reference}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[y.origin,"  ",y.destination]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.jsxs("div",{children:["P: ",new Date(y.pickupDate).toLocaleDateString()]}),s.jsxs("div",{children:["D: ",new Date(y.deliveryDate).toLocaleDateString()]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.commodity}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.jsx("div",{children:y.broker}),y.carrier&&s.jsxs("div",{className:"text-xs",children:["Carrier: ",y.carrier]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["$",y.rate]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${XA(y.status)}`,children:y.status})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[s.jsx("button",{onClick:()=>t(`/shipper/tracking?loadId=${y.id}`),className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),y.status==="In Transit"&&s.jsx("button",{onClick:()=>t(`/shipper/tracking?loadId=${y.id}`),className:"text-green-600 hover:text-green-900",children:"Track"})]})]},y.id))})]})})})]})},XFe=()=>{const t=Bn(),[e,r]=Y.useState(!1),n=["Shanahan Transportation Systems, Inc.","Express Freight Brokers","Midwest Freight Solutions","National Logistics Corp","East Coast Brokers","Regional Transport Services","Northeast Logistics"],[i,a]=Y.useState({originAddress:"",destinationAddress:"",originCoordinates:null,destinationCoordinates:null,pickupDate:"",pickupTime:"",deliveryDate:"",deliveryTime:"",commodity:"",weight:"",pallets:"",rate:"",equipmentType:"Dry Van",broker:"Shanahan Transportation Systems, Inc.",reference:"",specialInstructions:"",hazmat:!1,stackable:!0,temperatureControlled:!1,temperature:""}),o=u=>{const{name:h,value:f,type:g}=u.target;if(g==="checkbox"){const y=u.target.checked;a({...i,[h]:y})}else a({...i,[h]:f})},l=async u=>{u.preventDefault(),r(!0);try{await new Promise(f=>setTimeout(f,1e3));const h={id:`SH-${Math.floor(2e3+Math.random()*9e3)}`,...i,status:"Draft",createdAt:new Date().toISOString()};lt.success(`Shipment ${h.id} created successfully!`),t("/shipper/loads")}catch(h){console.error("Error creating shipment:",h),lt.error("Failed to create shipment. Please try again.")}finally{r(!1)}};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Create New Shipment"}),s.jsxs("button",{onClick:()=>t("/shipper/loads"),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-4 rounded-md shadow-sm flex items-center",children:[s.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Shipments"]})]}),s.jsx(st,{className:"bg-white shadow-md",children:s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:l,children:[s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[s.jsx("label",{htmlFor:"broker",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Broker Partner *"}),s.jsx("select",{id:"broker",name:"broker",value:i.broker,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:n.map(u=>s.jsx("option",{value:u,children:u},u))}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This shipment will be assigned to the selected broker partner"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Origin Details"}),s.jsx(Wy,{label:"Origin Address",value:i.originAddress,onChange:u=>a({...i,originAddress:u}),onFeatureSelect:u=>{var h;(h=u==null?void 0:u.geometry)!=null&&h.coordinates&&a({...i,originAddress:u.properties.full_address||i.originAddress,originCoordinates:{lat:u.geometry.coordinates[1],lon:u.geometry.coordinates[0]}})},savedLocations:UA,placeholder:"Search for address or select from saved locations",required:!0}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pickupDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Date *"}),s.jsx("input",{type:"date",id:"pickupDate",name:"pickupDate",value:i.pickupDate,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pickupTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Time Window"}),s.jsx("input",{type:"text",id:"pickupTime",name:"pickupTime",value:i.pickupTime,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 8:00 AM - 5:00 PM"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Destination Details"}),s.jsx(Wy,{label:"Destination Address",value:i.destinationAddress,onChange:u=>a({...i,destinationAddress:u}),onFeatureSelect:u=>{var h;(h=u==null?void 0:u.geometry)!=null&&h.coordinates&&a({...i,destinationAddress:u.properties.full_address||i.destinationAddress,destinationCoordinates:{lat:u.geometry.coordinates[1],lon:u.geometry.coordinates[0]}})},savedLocations:[...UA,...qA],placeholder:"Search for address or select from saved locations",required:!0}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"deliveryDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Date *"}),s.jsx("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:i.deliveryDate,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"deliveryTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Time Window"}),s.jsx("input",{type:"text",id:"deliveryTime",name:"deliveryTime",value:i.deliveryTime,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 8:00 AM - 5:00 PM"})]})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Cargo Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"commodity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Commodity *"}),s.jsx("input",{type:"text",id:"commodity",name:"commodity",value:i.commodity,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Aluminum Coils, Auto Parts",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reference",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Number / PO Number"}),s.jsx("input",{type:"text",id:"reference",name:"reference",value:i.reference,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. PO-12345"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (lbs) *"}),s.jsx("input",{type:"text",id:"weight",name:"weight",value:i.weight,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 40000",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pallets",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Pallets"}),s.jsx("input",{type:"text",id:"pallets",name:"pallets",value:i.pallets,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 24"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"equipmentType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Equipment Type *"}),s.jsxs("select",{id:"equipmentType",name:"equipmentType",value:i.equipmentType,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"Dry Van",children:"Dry Van"}),s.jsx("option",{value:"Flatbed",children:"Flatbed"}),s.jsx("option",{value:"Reefer",children:"Reefer"}),s.jsx("option",{value:"Step Deck",children:"Step Deck"}),s.jsx("option",{value:"RGN",children:"RGN"}),s.jsx("option",{value:"Tanker",children:"Tanker"}),s.jsx("option",{value:"Conestoga",children:"Conestoga"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Rate ($)"}),s.jsx("input",{type:"text",id:"rate",name:"rate",value:i.rate,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 2500"})]})]}),s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Special Requirements"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"hazmat",checked:i.hazmat,onChange:o,className:"mr-2 rounded"}),s.jsx("span",{className:"text-sm",children:"Hazmat"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"stackable",checked:i.stackable,onChange:o,className:"mr-2 rounded"}),s.jsx("span",{className:"text-sm",children:"Stackable"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"temperatureControlled",checked:i.temperatureControlled,onChange:o,className:"mr-2 rounded"}),s.jsx("span",{className:"text-sm",children:"Temperature Controlled"})]})]}),i.temperatureControlled&&s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{htmlFor:"temperature",className:"block text-sm font-medium text-gray-700 mb-1",children:"Temperature Range"}),s.jsx("input",{type:"text",id:"temperature",name:"temperature",value:i.temperature,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. 35-40F"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{htmlFor:"specialInstructions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),s.jsx("textarea",{id:"specialInstructions",name:"specialInstructions",value:i.specialInstructions,onChange:o,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Any special handling instructions, appointment requirements, etc."})]})]}),s.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>t("/shipper/loads"),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-6 rounded-md shadow-sm",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:e,className:`bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded-md shadow-sm flex items-center ${e?"opacity-50 cursor-not-allowed":""}`,children:e?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-spinner fa-spin mr-2"})," Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-check mr-2"})," Create Shipment"]})})]})]})})})]})},YFe=()=>{const[t,e]=Y.useState(null),[r,n]=Y.useState(""),[i,a]=Y.useState("all"),[o,l]=Y.useState(!1),[u,h]=Y.useState(!1),[f,g]=Y.useState(""),[y,N]=Y.useState(null),[_,k]=Y.useState(!1),[C,O]=Y.useState(!1),[T,M]=Y.useState(1),[B,F]=Y.useState(100),V=Y.useRef(null),H={rate_confirmations:[{id:"1",name:"SH-2145_Rate_Conf.pdf",type:"rate_confirmation",date:"5/21/2025",size:"156 KB",loadId:"SH-2145",carrier:"Shanahan Transportation",broker:"Shanahan Transportation Systems",status:"verified",previewUrl:"/sample-docs/rate_con.png",isImage:!0,totalPages:3},{id:"2",name:"SH-2146_Rate_Conf.pdf",type:"rate_confirmation",date:"5/20/2025",size:"145 KB",loadId:"SH-2146",carrier:"Swift Logistics",broker:"Express Freight Brokers",status:"verified",previewUrl:"/sample-docs/rate_con.png",isImage:!0,totalPages:2},{id:"3",name:"SH-2147_Rate_Conf.pdf",type:"rate_confirmation",date:"5/19/2025",size:"162 KB",loadId:"SH-2147",broker:"Midwest Freight Solutions",status:"pending",previewUrl:"/sample-docs/rate_con.png",isImage:!0,totalPages:3},{id:"4",name:"SH-2148_Rate_Conf.pdf",type:"rate_confirmation",date:"5/18/2025",size:"154 KB",loadId:"SH-2148",carrier:"JB Hunt",broker:"National Logistics Corp",status:"verified",previewUrl:"/sample-docs/rate_con.png",isImage:!0,totalPages:4},{id:"5",name:"SH-2149_Rate_Conf.pdf",type:"rate_confirmation",date:"5/17/2025",size:"149 KB",loadId:"SH-2149",carrier:"Werner Enterprises",broker:"East Coast Brokers",status:"verified",previewUrl:"/sample-docs/rate_con.png",isImage:!0,totalPages:2}],bills_of_lading:[{id:"6",name:"SH-2145_BOL.pdf",type:"bol",date:"5/22/2025",size:"210 KB",loadId:"SH-2145",carrier:"Shanahan Transportation",broker:"Shanahan Transportation Systems",status:"verified",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0,totalPages:1},{id:"7",name:"SH-2146_BOL.pdf",type:"bol",date:"5/21/2025",size:"195 KB",loadId:"SH-2146",carrier:"Swift Logistics",broker:"Express Freight Brokers",status:"verified",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0,totalPages:1},{id:"8",name:"SH-2147_BOL.pdf",type:"bol",date:"5/20/2025",size:"220 KB",loadId:"SH-2147",broker:"Midwest Freight Solutions",status:"pending",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0,totalPages:2}],proofs_of_delivery:[{id:"9",name:"SH-2140_POD.pdf",type:"pod",date:"5/23/2025",size:"176 KB",loadId:"SH-2140",carrier:"Shanahan Transportation",broker:"Shanahan Transportation Systems",status:"verified",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0,totalPages:1},{id:"10",name:"SH-2139_POD.pdf",type:"pod",date:"5/22/2025",size:"185 KB",loadId:"SH-2139",carrier:"Werner Enterprises",broker:"East Coast Brokers",status:"pending",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0,totalPages:1},{id:"11",name:"SH-2138_POD.pdf",type:"pod",date:"5/21/2025",size:"190 KB",loadId:"SH-2138",carrier:"Schneider National",broker:"Regional Transport Services",status:"verified",previewUrl:"/sample-docs/BOL_sample.jpg",isImage:!0,totalPages:2}],invoices:[{id:"12",name:"INV-0023456.pdf",type:"invoice",date:"5/24/2025",size:"145 KB",loadId:"SH-2140",carrier:"Shanahan Transportation",broker:"Shanahan Transportation Systems",status:"verified",totalPages:3},{id:"13",name:"INV-0023457.pdf",type:"invoice",date:"5/23/2025",size:"152 KB",loadId:"SH-2139",carrier:"Werner Enterprises",broker:"East Coast Brokers",status:"pending",totalPages:2},{id:"14",name:"INV-0023458.pdf",type:"invoice",date:"5/22/2025",size:"138 KB",loadId:"SH-2138",carrier:"Schneider National",broker:"Regional Transport Services",status:"verified",totalPages:3}],other_documents:[{id:"15",name:"Lumper_Receipt_SH2145.png",type:"receipt",date:"5/24/2025",size:"234 KB",loadId:"SH-2145",carrier:"Shanahan Transportation",broker:"Shanahan Transportation Systems",status:"verified",previewUrl:"/src/assets/lumper_receipt.png",isImage:!0,totalPages:1},{id:"16",name:"Weight_Ticket_SH2146.pdf",type:"other",date:"5/23/2025",size:"102 KB",loadId:"SH-2146",carrier:"Swift Logistics",broker:"Express Freight Brokers",status:"verified",totalPages:1},{id:"17",name:"Detention_Notice_SH2147.pdf",type:"other",date:"5/22/2025",size:"98 KB",loadId:"SH-2147",broker:"Midwest Freight Solutions",status:"disputed",totalPages:2}]},Z=Me=>{e(Me),M(1),F(100),setTimeout(()=>{var qe;(qe=V.current)==null||qe.scrollIntoView({behavior:"smooth",block:"start"})},100)},re=Me=>{e(Me),M(1),F(100),O(!0)},le=async Me=>{k(!0);try{await Ps.downloadDocument(Me.id)}catch(qe){console.error("Error downloading document:",qe)}finally{k(!1)}},ce=Me=>{N(Me),h(!0)},he=async()=>{k(!0);try{await At("Document uploaded successfully"),l(!1)}catch(Me){console.error("Error uploading document:",Me)}finally{k(!1)}},fe=async()=>{if(!(!y||!f.trim())){k(!0);try{await At(`Document shared with ${f}`),h(!1),g("")}catch(Me){console.error("Error sharing document:",Me)}finally{k(!1)}}},ee=async Me=>{k(!0);try{await At(`Printing ${Me.name}`)}catch(qe){console.error("Error printing document:",qe)}finally{k(!1)}},xe=async Me=>{k(!0);try{await At(`Document ${Me.name} verified successfully`),Me.status="verified"}catch(qe){console.error("Error verifying document:",qe)}finally{k(!1)}},ie=async Me=>{if(prompt("Please provide a reason for disputing this document:")){k(!0);try{await At(`Document ${Me.name} disputed. Broker will be notified.`),Me.status="disputed"}catch(ht){console.error("Error disputing document:",ht)}finally{k(!1)}}},ge=()=>{T>1&&M(T-1)},G=()=>{t&&T<(t.totalPages||1)&&M(T+1)},ue=()=>{F(Math.min(B+25,200))},ke=()=>{F(Math.max(B-25,50))},ve=async()=>{k(!0);try{await At("Viewing recently uploaded documents"),a("all")}catch(Me){console.error("Error fetching recently uploaded documents:",Me)}finally{k(!1)}},Se=async()=>{k(!0);try{await At("Viewing starred documents"),a("all")}catch(Me){console.error("Error fetching starred documents:",Me)}finally{k(!1)}},He=async()=>{k(!0);try{await At("Viewing documents shared with you"),a("all")}catch(Me){console.error("Error fetching shared documents:",Me)}finally{k(!1)}},De=()=>Object.values(H).flat().filter(qe=>{const ht=r===""||qe.name.toLowerCase().includes(r.toLowerCase())||qe.loadId.toLowerCase().includes(r.toLowerCase())||qe.carrier&&qe.carrier.toLowerCase().includes(r.toLowerCase())||qe.broker&&qe.broker.toLowerCase().includes(r.toLowerCase()),ye=i==="all"||qe.type===i;return ht&&ye}),$e=Me=>({rate_confirmation:"Rate Confirmation",bol:"Bill of Lading",pod:"Proof of Delivery",invoice:"Invoice",receipt:"Receipt",other:"Other"})[Me]||Me,Ue=Me=>({rate_confirmation:"fa-file-contract",bol:"fa-file-invoice",pod:"fa-clipboard-check",invoice:"fa-file-invoice-dollar",receipt:"fa-receipt",other:"fa-file"})[Me]||"fa-file",Ke=Me=>({rate_confirmation:"blue",bol:"green",pod:"purple",invoice:"orange",receipt:"yellow",other:"gray"})[Me]||"gray",nt=Me=>{switch(Me){case"verified":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"disputed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shipment Documents"}),s.jsx("p",{className:"text-gray-600",children:"Manage and organize your shipping documents"})]}),s.jsx("div",{children:s.jsxs("button",{className:"btn btn-primary flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>l(!0),disabled:_,children:[s.jsx("i",{className:"fas fa-cloud-upload-alt mr-2"}),"Upload Document"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"document-search",className:"sr-only",children:"Search documents"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-search text-gray-400"})}),s.jsx("input",{type:"text",id:"document-search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search documents",value:r,onChange:Me=>n(Me.target.value)})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Document Types"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="all"?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}`,onClick:()=>a("all"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-folder text-blue-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"All Documents"}),s.jsx("span",{className:"ml-auto bg-gray-100 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:Object.values(H).flat().length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="rate_confirmation"?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}`,onClick:()=>a("rate_confirmation"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-contract text-blue-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Rate Confirmations"}),s.jsx("span",{className:"ml-auto bg-blue-100 text-blue-700 rounded-full px-2 py-0.5 text-xs font-medium",children:H.rate_confirmations.length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="bol"?"bg-green-50 text-green-700":"hover:bg-gray-50"}`,onClick:()=>a("bol"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-invoice text-green-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Bills of Lading"}),s.jsx("span",{className:"ml-auto bg-green-100 text-green-700 rounded-full px-2 py-0.5 text-xs font-medium",children:H.bills_of_lading.length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="pod"?"bg-purple-50 text-purple-700":"hover:bg-gray-50"}`,onClick:()=>a("pod"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-clipboard-check text-purple-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Proof of Delivery"}),s.jsx("span",{className:"ml-auto bg-purple-100 text-purple-700 rounded-full px-2 py-0.5 text-xs font-medium",children:H.proofs_of_delivery.length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="invoice"?"bg-orange-50 text-orange-700":"hover:bg-gray-50"}`,onClick:()=>a("invoice"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file-invoice-dollar text-orange-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Invoices"}),s.jsx("span",{className:"ml-auto bg-orange-100 text-orange-700 rounded-full px-2 py-0.5 text-xs font-medium",children:H.invoices.length})]})}),s.jsx("div",{className:`px-3 py-2 rounded-md cursor-pointer ${i==="other"?"bg-gray-100 text-gray-700":"hover:bg-gray-50"}`,onClick:()=>a("other"),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-file text-gray-500 mr-2"}),s.jsx("span",{className:"font-medium",children:"Other Documents"}),s.jsx("span",{className:"ml-auto bg-gray-100 text-gray-700 rounded-full px-2 py-0.5 text-xs font-medium",children:H.other_documents.length})]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Quick Access"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 flex items-center",onClick:ve,disabled:_,children:[s.jsx("i",{className:"fas fa-clock text-gray-400 mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Recently Uploaded"})]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 flex items-center",onClick:Se,disabled:_,children:[s.jsx("i",{className:"fas fa-star text-gray-400 mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Starred Documents"})]}),s.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-50 flex items-center",onClick:He,disabled:_,children:[s.jsx("i",{className:"fas fa-share-alt text-gray-400 mr-2"}),s.jsx("span",{className:"text-gray-700",children:"Shared with Me"})]})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 text-blue-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-lightbulb"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Storage usage"}),s.jsx("p",{className:"text-sm text-blue-600 mb-2",children:"4.2 GB of 10 GB used"}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"42%"}})})]})]})})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsxs(st,{className:"shadow-sm mb-6",children:[s.jsx("div",{className:"mb-4 pb-4 border-b border-gray-100",children:s.jsxs("h3",{className:"text-lg font-medium",children:[De().length," Document",De().length!==1?"s":"",i!=="all"&&`  ${$e(i)}`,r&&`  "${r}"`]})}),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Name"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load ID"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Broker"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Carrier"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:De().map(Me=>{const qe=(t==null?void 0:t.id)===Me.id,ht=Ke(Me.type),ye=Ue(Me.type);return s.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer transition-colors ${qe?"bg-blue-50":""}`,onClick:()=>Z(Me),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-lg bg-${ht}-100 flex items-center justify-center text-${ht}-600`,children:s.jsx("i",{className:`fas ${ye}`})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Me.name}),s.jsx("div",{className:"text-sm text-gray-500",children:Me.size})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-${ht}-100 text-${ht}-800`,children:$e(Me.type)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Me.loadId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Me.broker||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Me.carrier||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Me.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${nt(Me.status)}`,children:Me.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{className:"p-1 rounded-full text-blue-600 hover:bg-blue-100",onClick:Xe=>{Xe.stopPropagation(),re(Me)},title:"View",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsx("button",{className:"p-1 rounded-full text-gray-600 hover:bg-gray-100",onClick:Xe=>{Xe.stopPropagation(),le(Me)},title:"Download",children:s.jsx("i",{className:"fas fa-download"})}),s.jsx("button",{className:"p-1 rounded-full text-gray-600 hover:bg-gray-100",onClick:Xe=>{Xe.stopPropagation(),ce(Me)},title:"Share",children:s.jsx("i",{className:"fas fa-share"})}),Me.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"p-1 rounded-full text-green-600 hover:bg-green-100",onClick:Xe=>{Xe.stopPropagation(),xe(Me)},title:"Verify",children:s.jsx("i",{className:"fas fa-check"})}),s.jsx("button",{className:"p-1 rounded-full text-red-600 hover:bg-red-100",onClick:Xe=>{Xe.stopPropagation(),ie(Me)},title:"Dispute",children:s.jsx("i",{className:"fas fa-exclamation-triangle"})})]})]})})]},Me.id)})})]})})})]}),s.jsx("div",{ref:V,children:s.jsxs(st,{className:"shadow-sm",children:[s.jsx("div",{className:"mb-4 pb-4 border-b border-gray-100",children:s.jsx("h3",{className:"text-lg font-medium",children:"Document Preview"})}),t?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg bg-${Ke(t.type)}-100 flex items-center justify-center text-${Ke(t.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${Ue(t.type)}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[$e(t.type),"  Uploaded on ",t.date]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 border-r pr-4 mr-2",children:[s.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-50",onClick:ge,disabled:T===1,title:"Previous page",children:s.jsx("i",{className:"fas fa-chevron-left"})}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",T," of ",t.totalPages||1]}),s.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-50",onClick:G,disabled:T>=(t.totalPages||1),title:"Next page",children:s.jsx("i",{className:"fas fa-chevron-right"})}),s.jsxs("div",{className:"border-l pl-2 ml-2 flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded",onClick:ke,title:"Zoom out",children:s.jsx("i",{className:"fas fa-search-minus"})}),s.jsxs("span",{className:"text-sm text-gray-600 min-w-[50px] text-center",children:[B,"%"]}),s.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded",onClick:ue,title:"Zoom in",children:s.jsx("i",{className:"fas fa-search-plus"})})]})]}),s.jsxs("button",{className:"btn btn-sm btn-outline-primary flex items-center px-3 py-1 border border-blue-500 text-blue-500 rounded-md hover:bg-blue-50 transition-colors",onClick:()=>le(t),disabled:_,children:[s.jsx("i",{className:"fas fa-download mr-1"}),s.jsx("span",{children:"Download"})]}),s.jsxs("button",{className:"btn btn-sm btn-outline-secondary flex items-center px-3 py-1 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>ee(t),disabled:_,children:[s.jsx("i",{className:"fas fa-print mr-1"}),s.jsx("span",{children:"Print"})]})]})]}),s.jsxs("div",{className:"relative border border-gray-200 rounded-lg overflow-hidden bg-gray-100",style:{height:"600px"},children:[s.jsx("div",{className:"h-full overflow-auto flex items-center justify-center p-4",style:{transform:`scale(${B/100})`,transformOrigin:"center"},children:t.isImage&&t.previewUrl?s.jsx("img",{src:t.previewUrl,alt:t.name,className:"max-w-full h-auto object-contain"}):s.jsx(Uy,{file:qy(t.id),className:"h-full w-full"})}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-md",onClick:()=>re(t),children:[s.jsx("i",{className:"fas fa-expand mr-2"}),"View Full Document"]})})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Related Documents"}),s.jsx("div",{className:"space-y-2",children:De().filter(Me=>Me.loadId===t.loadId&&Me.id!==t.id).slice(0,3).map(Me=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center cursor-pointer hover:bg-gray-100",onClick:()=>Z(Me),children:[s.jsx("div",{className:`h-8 w-8 rounded-lg bg-${Ke(Me.type)}-100 flex items-center justify-center text-${Ke(Me.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${Ue(Me.type)}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Me.name}),s.jsx("div",{className:"text-xs text-gray-500",children:$e(Me.type)})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:s.jsx("i",{className:"fas fa-eye"})})]},Me.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Document History"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-cloud-upload-alt"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Document uploaded"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 21, 2025 at 2:34 PM"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Viewed by John Doe"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 22, 2025 at 10:15 AM"})]})]})]})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-gray-600",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-4 mb-4",children:s.jsx("i",{className:"fas fa-file-alt text-3xl text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No document selected"}),s.jsx("p",{className:"max-w-sm",children:"Click on a document in the list above to preview it here."})]})]})})]})]}),s.jsx(xr,{isOpen:o,onClose:()=>l(!1),title:"Upload Document",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>l(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:he,disabled:_,children:_?"Uploading...":"Upload Document"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Document Type"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{value:"rate_confirmation",children:"Rate Confirmation"}),s.jsx("option",{value:"bol",children:"Bill of Lading"}),s.jsx("option",{value:"pod",children:"Proof of Delivery"}),s.jsx("option",{value:"invoice",children:"Invoice"}),s.jsx("option",{value:"receipt",children:"Receipt"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Load"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{value:"",children:"Select a load"}),s.jsx("option",{value:"SH-2145",children:"SH-2145"}),s.jsx("option",{value:"SH-2146",children:"SH-2146"}),s.jsx("option",{value:"SH-2147",children:"SH-2147"}),s.jsx("option",{value:"SH-2148",children:"SH-2148"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Broker/Carrier"}),s.jsxs("select",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",children:[s.jsx("option",{value:"",children:"Select broker or carrier"}),s.jsx("option",{value:"Shanahan Transportation Systems",children:"Shanahan Transportation Systems"}),s.jsx("option",{value:"Express Freight Brokers",children:"Express Freight Brokers"}),s.jsx("option",{value:"Midwest Freight Solutions",children:"Midwest Freight Solutions"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:s.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsxs("div",{className:"flex text-sm text-gray-600",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[s.jsx("span",{children:"Upload a file"}),s.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only"})]}),s.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF, PNG, JPG up to 10MB"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),s.jsx("textarea",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",rows:3,placeholder:"Add a description to help identify this document"})]})]})}),s.jsx(xr,{isOpen:u,onClose:()=>h(!1),title:"Share Document",size:"md",footer:s.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[s.jsx("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>h(!1),disabled:_,children:"Cancel"}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:fe,disabled:_||!f.trim(),children:_?"Sharing...":"Share Document"})]}),children:y&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg bg-${Ke(y.type)}-100 flex items-center justify-center text-${Ke(y.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${Ue(y.type)}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:y.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[$e(y.type),"  ",y.size]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",className:"block w-full border border-gray-300 rounded-md py-2 px-3",placeholder:"Enter recipient's email",value:f,onChange:Me=>g(Me.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),s.jsx("textarea",{className:"block w-full border border-gray-300 rounded-md py-2 px-3",rows:3,placeholder:"Add a message to the recipient"})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"text-blue-600 mr-3",children:s.jsx("i",{className:"fas fa-info-circle"})}),s.jsx("div",{className:"text-sm text-blue-800",children:s.jsx("p",{children:"The recipient will receive an email with a link to view or download this document."})})]})})]})}),s.jsx(xr,{isOpen:C,onClose:()=>O(!1),title:(t==null?void 0:t.name)||"Document Viewer",size:"xl",footer:s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-50",onClick:ge,disabled:T===1,title:"Previous page",children:s.jsx("i",{className:"fas fa-chevron-left"})}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",T," of ",(t==null?void 0:t.totalPages)||1]}),s.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded disabled:opacity-50",onClick:G,disabled:!t||T>=(t.totalPages||1),title:"Next page",children:s.jsx("i",{className:"fas fa-chevron-right"})})]}),s.jsxs("div",{className:"flex items-center space-x-2 border-l pl-4",children:[s.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded",onClick:ke,title:"Zoom out",children:s.jsx("i",{className:"fas fa-search-minus"})}),s.jsxs("span",{className:"text-sm text-gray-600 min-w-[50px] text-center",children:[B,"%"]}),s.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded",onClick:ue,title:"Zoom in",children:s.jsx("i",{className:"fas fa-search-plus"})})]}),s.jsxs("button",{className:"btn-secondary px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition-colors",onClick:()=>{t&&le(t)},disabled:_,children:[s.jsx("i",{className:"fas fa-download mr-1.5"}),"Download"]})]}),s.jsx("button",{className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",onClick:()=>O(!1),children:"Close"})]}),children:t&&s.jsx("div",{className:"h-[70vh] bg-gray-100 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex h-full",children:[s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"min-h-full flex items-center justify-center p-4",style:{transform:`scale(${B/100})`,transformOrigin:"center top"},children:t.isImage&&t.previewUrl?s.jsx("img",{src:t.previewUrl,alt:t.name,className:"max-w-full h-auto object-contain"}):s.jsx(Uy,{file:qy(t.id),className:"h-full w-full"})})}),s.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-4 overflow-y-auto",children:[s.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg bg-${Ke(t.type)}-100 flex items-center justify-center text-${Ke(t.type)}-600 mr-3`,children:s.jsx("i",{className:`fas ${Ue(t.type)}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),s.jsx("p",{className:"text-sm text-gray-500",children:$e(t.type)})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Document Details"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Load ID"}),s.jsx("p",{className:"text-sm font-medium",children:t.loadId})]}),t.broker&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Broker"}),s.jsx("p",{className:"text-sm font-medium",children:t.broker})]}),t.carrier&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Carrier"}),s.jsx("p",{className:"text-sm font-medium",children:t.carrier})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),s.jsx("p",{className:"text-sm font-medium",children:t.date})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Size"}),s.jsx("p",{className:"text-sm font-medium",children:t.size})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${nt(t.status)}`,children:t.status})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:()=>ee(t),children:[s.jsx("i",{className:"fas fa-print mr-2"}),"Print Document"]}),s.jsxs("button",{className:"w-full flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:()=>{O(!1),ce(t)},children:[s.jsx("i",{className:"fas fa-share-alt mr-2"}),"Share Document"]}),t.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"w-full flex items-center justify-center px-3 py-2 border border-green-500 rounded-md text-green-600 bg-white hover:bg-green-50",onClick:()=>xe(t),children:[s.jsx("i",{className:"fas fa-check mr-2"}),"Verify Document"]}),s.jsxs("button",{className:"w-full flex items-center justify-center px-3 py-2 border border-red-500 rounded-md text-red-600 bg-white hover:bg-red-50",onClick:()=>ie(t),children:[s.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),"Dispute Document"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Document History"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-cloud-upload-alt"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Document uploaded"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 21, 2025 at 2:34 PM"})]})]}),t.status==="verified"&&s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-check"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Verified by you"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 22, 2025 at 10:15 AM"})]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-download"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Downloaded by Sarah Johnson"}),s.jsx("div",{className:"text-xs text-gray-500",children:"May 22, 2025 at 3:45 PM"})]})]})]})]})]})]})})})]})},GFe=()=>{const[t,e]=Y.useState("spend"),[r,n]=Y.useState("last30days"),[i,a]=Y.useState(!1),[o,l]=Y.useState(!1),[u,h]=Y.useState([]),[f,g]=Y.useState({start:"",end:""}),[y,N]=Y.useState(!1),[_,k]=Y.useState("overview"),[C,O]=Y.useState(""),[T,M]=Y.useState([{id:"1",name:"Q1 2025 Freight Spend Analysis",type:"spend",dateRange:"Jan 1 - Mar 31, 2025",metrics:["totalSpend","avgCostPerLoad","costPerMile"],createdAt:"2025-04-05 09:30 AM",fileSize:"2.4 MB",status:"completed"},{id:"2",name:"March Carrier Performance Report",type:"carrier",dateRange:"Mar 1 - Mar 31, 2025",metrics:["otdPercentage","carrierUtilization","transitTime"],createdAt:"2025-04-01 02:15 PM",fileSize:"1.8 MB",status:"completed"}]),B=[{id:"1",name:"Total Freight Spend",description:"Track shipping costs and budget analysis",type:"spend",icon:"fa-dollar-sign",color:"green",isPopular:!0},{id:"2",name:"On-Time Delivery",description:"Monitor delivery performance by carrier",type:"otd",icon:"fa-clock",color:"blue",isPopular:!0},{id:"3",name:"Carrier Performance",description:"Evaluate carrier reliability and ratings",type:"carrier",icon:"fa-truck",color:"purple"},{id:"4",name:"Lane Analysis",description:"Cost and volume analysis by shipping lanes",type:"lane",icon:"fa-route",color:"indigo"},{id:"5",name:"Claims & Exceptions",description:"Track damage claims and service failures",type:"claims",icon:"fa-exclamation-triangle",color:"red",isPopular:!0},{id:"6",name:"Shipment Volume",description:"Volume trends and seasonal patterns",type:"volume",icon:"fa-chart-bar",color:"yellow"},{id:"7",name:"Cost per Mile",description:"Analyze shipping costs by distance",type:"cost_analysis",icon:"fa-calculator",color:"pink"},{id:"8",name:"Compliance Report",description:"Documentation and regulatory compliance",type:"compliance",icon:"fa-clipboard-check",color:"orange"}],F=[{month:"Jan",spend:185e3,shipments:142,avgCost:1303},{month:"Feb",spend:198e3,shipments:168,avgCost:1179},{month:"Mar",spend:212e3,shipments:185,avgCost:1146},{month:"Apr",spend:195e3,shipments:164,avgCost:1189},{month:"May",spend:232e3,shipments:192,avgCost:1208},{month:"Jun",spend:276500,shipments:208,avgCost:1329}],V=[{name:"Shanahan Transportation",value:35,spend:96775},{name:"Swift Logistics",value:28,spend:77420},{name:"JB Hunt",value:20,spend:55300},{name:"Werner Enterprises",value:10,spend:27650},{name:"Others",value:7,spend:19355}],H=[{carrier:"Shanahan",otd:96,total:125,late:5},{carrier:"Swift",otd:94,total:98,late:6},{carrier:"JB Hunt",otd:92,total:76,late:6},{carrier:"Werner",otd:95,total:54,late:3},{carrier:"Schneider",otd:93,total:41,late:3}],Z=[{lane:"Chicago-Atlanta",volume:45,avgCost:3200,totalSpend:144e3},{lane:"Detroit-Houston",volume:38,avgCost:2950,totalSpend:112100},{lane:"Milwaukee-Nashville",volume:32,avgCost:2650,totalSpend:84800},{lane:"Cleveland-Charlotte",volume:28,avgCost:2100,totalSpend:58800},{lane:"Pittsburgh-Richmond",volume:22,avgCost:1850,totalSpend:40700}],re=[{month:"Jan",claims:2,value:4500},{month:"Feb",claims:1,value:2200},{month:"Mar",claims:3,value:6800},{month:"Apr",claims:1,value:1500},{month:"May",claims:2,value:3900},{month:"Jun",claims:0,value:0}],le=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],ce=[{id:"totalSpend",label:"Total Freight Spend",category:"Financial"},{id:"avgCostPerLoad",label:"Average Cost per Load",category:"Financial"},{id:"costPerMile",label:"Cost per Mile",category:"Financial"},{id:"shipmentVolume",label:"Shipment Volume",category:"Operational"},{id:"otdPercentage",label:"On-Time Delivery %",category:"Performance"},{id:"claimsRatio",label:"Claims Ratio",category:"Performance"},{id:"carrierUtilization",label:"Carrier Utilization",category:"Operational"},{id:"transitTime",label:"Average Transit Time",category:"Performance"},{id:"fuelSurcharge",label:"Fuel Surcharge Trends",category:"Financial"},{id:"accessorialCharges",label:"Accessorial Charges",category:"Financial"}],he=()=>{if(!C.trim()){lt.error("Please enter a report name");return}N(!0),lt.loading("Generating report..."),setTimeout(()=>{const G={id:Date.now().toString(),name:C,type:t,dateRange:fe(r),metrics:u,createdAt:new Date().toLocaleString(),fileSize:`${(Math.random()*3+.5).toFixed(1)} MB`,status:"completed"};M([G,...T]),N(!1),lt.dismiss(),lt.success("Report generated successfully!"),a(!1),O(""),h([]),k("generated")},3e3)},fe=G=>{const ue=new Date;switch(G){case"last7days":return`${new Date(ue.getTime()-7*24*60*60*1e3).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"last30days":return`${new Date(ue.getTime()-30*24*60*60*1e3).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"thisMonth":return`${new Date(ue.getFullYear(),ue.getMonth(),1).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"lastMonth":return`${new Date(ue.getFullYear(),ue.getMonth()-1,1).toLocaleDateString()} - ${new Date(ue.getFullYear(),ue.getMonth(),0).toLocaleDateString()}`;case"thisQuarter":const Se=Math.floor(ue.getMonth()/3)*3;return`${new Date(ue.getFullYear(),Se,1).toLocaleDateString()} - ${ue.toLocaleDateString()}`;case"thisYear":return`Jan 1, ${ue.getFullYear()} - ${ue.toLocaleDateString()}`;default:return"Custom Range"}},ee=()=>{lt.success("Report scheduled successfully"),l(!1)},xe=(G,ue)=>{var ve;const ke=ue?(ve=T.find(Se=>Se.id===ue))==null?void 0:ve.name:"report";lt.success(`Exporting ${ke} as ${G.toUpperCase()}...`),setTimeout(()=>{lt.success("Report exported successfully!");const Se=document.createElement("a");Se.href="#",Se.download=`${ke}.${G}`,Se.click()},2e3)},ie=G=>{M(T.filter(ue=>ue.id!==G)),lt.success("Report deleted successfully")},ge=()=>s.jsx(xr,{isOpen:i,onClose:()=>a(!1),children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create Custom Report"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Name"}),s.jsx("input",{type:"text",placeholder:"e.g., Q2 Shipping Cost Analysis",value:C,onChange:G=>O(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),s.jsxs("select",{value:r,onChange:G=>n(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"last7days",children:"Last 7 Days"}),s.jsx("option",{value:"last30days",children:"Last 30 Days"}),s.jsx("option",{value:"thisMonth",children:"This Month"}),s.jsx("option",{value:"lastMonth",children:"Last Month"}),s.jsx("option",{value:"thisQuarter",children:"This Quarter"}),s.jsx("option",{value:"thisYear",children:"This Year"}),s.jsx("option",{value:"custom",children:"Custom Range"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Metrics"}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto border border-gray-200 rounded-lg p-3",children:ce.map(G=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",value:G.id,checked:u.includes(G.id),onChange:ue=>{ue.target.checked?h([...u,G.id]):h(u.filter(ke=>ke!==G.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:G.label}),s.jsx("span",{className:"ml-auto text-xs text-gray-500",children:G.category})]},G.id))})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:he,disabled:y||u.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Generating...":"Generate Report"})]})]})]})});return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Shipping Reports & Analytics"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>l(!0),className:"bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded-md shadow-sm hover:bg-gray-50 flex items-center",children:[s.jsx("i",{className:"fas fa-calendar-alt mr-2"})," Schedule Report"]}),s.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md shadow-sm flex items-center",children:[s.jsx("i",{className:"fas fa-plus-circle mr-2"})," Create Report"]})]})]}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:["overview","detailed","templates","generated"].map(G=>s.jsx("button",{onClick:()=>k(G),className:`py-2 px-1 border-b-2 font-medium text-sm ${_===G?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:G.charAt(0).toUpperCase()+G.slice(1)},G))})}),_==="overview"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Total Freight Spend"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>xe("pdf"),className:"text-gray-500 hover:text-gray-700",children:s.jsx("i",{className:"fas fa-file-pdf"})}),s.jsx("button",{onClick:()=>xe("excel"),className:"text-gray-500 hover:text-gray-700",children:s.jsx("i",{className:"fas fa-file-excel"})})]})]}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(kE,{data:F,children:[s.jsx(sd,{strokeDasharray:"3 3"}),s.jsx(Ua,{dataKey:"month"}),s.jsx(Si,{}),s.jsx(cn,{formatter:G=>`$${G.toLocaleString()}`}),s.jsx(qa,{type:"monotone",dataKey:"spend",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})]})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Spend by Carrier"}),s.jsx("span",{className:"text-sm text-gray-500",children:"MTD"})]}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(SE,{children:[s.jsx(pl,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:({percent:G})=>`${(G*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:V.map((G,ue)=>s.jsx(Df,{fill:le[ue%le.length]},`cell-${ue}`))}),s.jsx(cn,{formatter:G=>`${G}%`}),s.jsx(Ao,{})]})})]})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"On-Time Delivery by Carrier"}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(_E,{data:H,children:[s.jsx(sd,{strokeDasharray:"3 3"}),s.jsx(Ua,{dataKey:"carrier"}),s.jsx(Si,{}),s.jsx(cn,{formatter:G=>`${G}%`}),s.jsx(ac,{dataKey:"otd",fill:"#10B981"})]})})]})}),s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Claims & Exceptions Trend"}),s.jsx(Fa,{width:"100%",height:300,children:s.jsxs(gSe,{data:re,children:[s.jsx(sd,{strokeDasharray:"3 3"}),s.jsx(Ua,{dataKey:"month"}),s.jsx(Si,{yAxisId:"left"}),s.jsx(Si,{yAxisId:"right",orientation:"right"}),s.jsx(cn,{}),s.jsx(Ao,{}),s.jsx(Dy,{yAxisId:"left",type:"monotone",dataKey:"claims",stroke:"#EF4444",name:"Claim Count"}),s.jsx(Dy,{yAxisId:"right",type:"monotone",dataKey:"value",stroke:"#F59E0B",name:"Claim Value ($)"})]})})]})})]}),_==="detailed"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lane Volume & Cost Analysis"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lane"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Volume"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Cost"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Spend"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost/Mile"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map((G,ue)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:G.lane}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[G.volume," loads"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",G.avgCost.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",G.totalSpend.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"$2.45/mi"})]},ue))})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(st,{className:"p-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Total Spend (YTD)"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:"$1,298,500"}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"-8% vs last year"})]}),s.jsxs(st,{className:"p-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Average OTD"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:"94.2%"}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+2.3% improvement"})]}),s.jsxs(st,{className:"p-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Claims Ratio"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:"0.8%"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"9 claims YTD"})]}),s.jsxs(st,{className:"p-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Avg Cost/Load"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:"$1,246"}),s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"+3.2% vs last year"})]})]})]}),_==="templates"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(G=>s.jsx(st,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:`p-3 rounded-lg bg-${G.color}-100`,children:s.jsx("i",{className:`fas ${G.icon} text-${G.color}-600 text-xl`})}),G.isPopular&&s.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"Popular"})]}),s.jsx("h3",{className:"text-lg font-semibold mt-4",children:G.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:G.description}),s.jsx("button",{onClick:()=>{e(G.type),O(G.name+" - "+new Date().toLocaleDateString()),h(["totalSpend","avgCostPerLoad","shipmentVolume"]),a(!0)},className:"mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Generate Report"})]})},G.id))}),_==="generated"&&s.jsx("div",{children:T.length===0?s.jsxs(st,{className:"p-8 text-center",children:[s.jsx("i",{className:"fas fa-file-alt text-gray-300 text-5xl mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reports Generated"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first custom report to see it here"}),s.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md",children:"Create Report"})]}):s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Range"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(G=>{var ue;return s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[G.metrics.length," metrics included"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:((ue=B.find(ke=>ke.type===G.type))==null?void 0:ue.name)||G.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.dateRange}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.createdAt}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.fileSize}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${G.status==="completed"?"bg-green-100 text-green-800":G.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:G.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>lt.success("Opening report preview..."),className:"text-blue-600 hover:text-blue-900",title:"View",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsx("button",{onClick:()=>xe("pdf",G.id),className:"text-gray-600 hover:text-gray-900",title:"Download PDF",children:s.jsx("i",{className:"fas fa-file-pdf"})}),s.jsx("button",{onClick:()=>xe("excel",G.id),className:"text-green-600 hover:text-green-900",title:"Download Excel",children:s.jsx("i",{className:"fas fa-file-excel"})}),s.jsx("button",{onClick:()=>ie(G.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:s.jsx("i",{className:"fas fa-trash"})})]})})]},G.id)})})]})})})}),s.jsx(ge,{}),s.jsx(xr,{isOpen:o,onClose:()=>l(!1),children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Schedule Report"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),s.jsx("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:B.map(G=>s.jsx("option",{value:G.type,children:G.name},G.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),s.jsx("input",{type:"email",placeholder:"Enter email addresses separated by commas",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:ee,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Schedule Report"})]})]})]})})]})},ZFe=({initialCompanyInfo:t})=>{const[e,r]=Y.useState(t),n=o=>{const{id:l,value:u}=o.target,h=l.replace("company-","");r({...e,[h]:u})},i=()=>{lt.success("Company information saved successfully")},a=()=>{r(t),lt.error("Changes discarded")};return s.jsxs("div",{children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Company Information"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your company details and information"})]}),s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-name",className:"form-label",children:"Company Name"}),s.jsx("input",{type:"text",id:"company-name",className:"form-control text-sm",value:e.name,onChange:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-mcNumber",className:"form-label",children:"MC Number"}),s.jsx("input",{type:"text",id:"company-mcNumber",className:"form-control text-sm",value:e.mcNumber,onChange:n})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-dotNumber",className:"form-label",children:"DOT Number"}),s.jsx("input",{type:"text",id:"company-dotNumber",className:"form-control text-sm",value:e.dotNumber,onChange:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-ein",className:"form-label",children:"EIN"}),s.jsx("input",{type:"text",id:"company-ein",className:"form-control text-sm",value:e.ein,onChange:n})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-address",className:"form-label",children:"Address"}),s.jsx("input",{type:"text",id:"company-address",className:"form-control text-sm",value:e.address,onChange:n})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-city",className:"form-label",children:"City"}),s.jsx("input",{type:"text",id:"company-city",className:"form-control text-sm",value:e.city,onChange:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-state",className:"form-label",children:"State"}),s.jsx("input",{type:"text",id:"company-state",className:"form-control text-sm",value:e.state,onChange:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-zip",className:"form-label",children:"ZIP Code"}),s.jsx("input",{type:"text",id:"company-zip",className:"form-control text-sm",value:e.zip,onChange:n})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-phone",className:"form-label",children:"Phone"}),s.jsx("input",{type:"text",id:"company-phone",className:"form-control text-sm",value:e.phone,onChange:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company-email",className:"form-label",children:"Email"}),s.jsx("input",{type:"email",id:"company-email",className:"form-control text-sm",value:e.email,onChange:n})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",className:"btn btn-white",onClick:a,children:"Cancel"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:i,children:"Save Changes"})]})]})]})},xs=({isOn:t,onToggle:e,disabled:r=!1})=>s.jsx("div",{className:`h-6 w-12 flex items-center rounded-full p-1 cursor-pointer transition-colors ${r?"opacity-50 cursor-not-allowed":t?"bg-green-100 hover:bg-green-200":"bg-gray-200 hover:bg-gray-300"}`,onClick:()=>!r&&e(),children:s.jsx("div",{className:`h-4 w-4 rounded-full transition-transform ${t?"bg-green-600 transform translate-x-6":"bg-gray-400"}`})}),KFe=({initialUsers:t,initialRoles:e})=>{const[r,n]=Y.useState(t),[i,a]=Y.useState(e),[o,l]=Y.useState(!1),[u,h]=Y.useState(!1),[f,g]=Y.useState(!1),[y,N]=Y.useState(!1),[_,k]=Y.useState(null),[C,O]=Y.useState(null),T=()=>{l(!0),lt.success("Add User modal would open here")},M=H=>{k(H),h(!0),lt.success(`Editing user: ${H.firstName} ${H.lastName}`)},B=H=>{n(r.map(Z=>{if(Z.id===H){const re=Z.status==="active"?"inactive":"active";return lt.success(`User ${Z.firstName} ${Z.lastName} ${re==="active"?"activated":"deactivated"}`),{...Z,status:re}}return Z}))},F=()=>{g(!0),lt.success("Add Role modal would open here")},V=H=>{O(H),N(!0),lt.success(`Editing permissions for role: ${H.name}`)};return s.jsxs("div",{children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users & Permissions"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage users, roles, and access permissions"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Users"}),s.jsxs("button",{className:"btn btn-sm btn-primary",onClick:T,children:[s.jsx("i",{className:"fas fa-plus mr-2"})," Add User"]})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center text-white bg-${H.avatarColor}-500`,children:H.initials}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[H.firstName," ",H.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:H.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${H.role==="Admin"?"bg-purple-100 text-purple-800":H.role==="Dispatcher"?"bg-blue-100 text-blue-800":H.role==="Accountant"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:H.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H.department}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H.lastLogin}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(xs,{isOn:H.status==="active",onToggle:()=>B(H.id)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",onClick:()=>M(H),children:"Edit"})})]},H.id))})]})})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Roles & Permissions"}),s.jsxs("button",{className:"btn btn-sm btn-primary",onClick:F,children:[s.jsx("i",{className:"fas fa-plus mr-2"})," Add Role"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map(H=>s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm hover:shadow transition-shadow",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${H.iconBg}`,children:s.jsx("i",{className:`fas ${H.icon}`})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900",children:H.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:[H.userCount," users"]})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:H.description}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",onClick:()=>V(H),children:"Edit Permissions"})]})},H.id))})]})]})},JFe=({initialIntegrations:t})=>{const[e,r]=Y.useState(t),[n,i]=Y.useState(!1),a=h=>{r(e.map(f=>{if(f.id===h){const g=!f.isConnected;return lt.success(`${f.name} ${g?"connected":"disconnected"}`),{...f,isConnected:g,apiKey:g?`${f.name.toUpperCase().replace(/\s+/g,"-")}-API-KEY-${Math.floor(Math.random()*9e4)+1e4}`:""}}return f}))},o=h=>{const f=e.find(g=>g.id===h);f&&(lt.success(`Syncing data with ${f.name}...`),setTimeout(()=>{lt.success(`Sync with ${f.name} completed successfully`)},2e3))},l=h=>{const f=e.find(g=>g.id===h);f&&lt.success(`Opening settings for ${f.name}`)},u=()=>{i(!0),lt.success("Add Integration modal would open here")};return s.jsxs("div",{children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"API Integrations"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Connect with third-party services and APIs"})]}),s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Connected Services"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage your API connections and integrations"})]}),s.jsxs("button",{className:"btn btn-sm btn-primary",onClick:u,children:[s.jsx("i",{className:"fas fa-plus mr-2"})," Add Integration"]})]}),s.jsx("div",{className:"space-y-4",children:e.map(h=>s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${h.iconBg}`,children:s.jsx("i",{className:`fas ${h.icon}`})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900",children:h.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.description})]})]}),s.jsx(xs,{isOn:h.isConnected,onToggle:()=>a(h.id)})]}),h.isConnected&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"API Key"}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",value:h.apiKey,readOnly:!0,className:"form-control text-sm bg-gray-50 flex-grow"}),s.jsx("button",{className:"btn btn-sm btn-white ml-2",onClick:()=>{navigator.clipboard.writeText(h.apiKey),lt.success("API key copied to clipboard")},children:s.jsx("i",{className:"fas fa-copy"})})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm btn-white",onClick:()=>o(h.id),children:[s.jsx("i",{className:"fas fa-sync-alt mr-1"})," Sync Now"]}),s.jsxs("button",{className:"btn btn-sm btn-white",onClick:()=>l(h.id),children:[s.jsx("i",{className:"fas fa-cog mr-1"})," Settings"]})]})]})]})},h.id))})]})},PY=[{provider:"ANTHROPIC",name:"Anthropic (Claude)",description:"Advanced AI assistant with strong reasoning capabilities"},{provider:"OPENAI",name:"OpenAI (ChatGPT)",description:"Popular AI model with versatile capabilities"},{provider:"GOOGLE",name:"Google AI (Gemini)",description:"Google's advanced multimodal AI model"}],QFe=()=>{const[t,e]=Y.useState([]),[r,n]=Y.useState(""),[i,a]=Y.useState(""),[o,l]=Y.useState(!1),[u,h]=Y.useState(null);Y.useEffect(()=>{f()},[]);const f=async()=>{try{const C=await fetch("/api/integrations/ai/configurations");if(C.ok){const O=await C.json();e(O)}}catch(C){console.error("Failed to fetch configurations:",C)}},g=async()=>{if(!r||!i){alert("Please select a provider and enter an API key");return}l(!0);try{(await fetch("/api/integrations/ai/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:r,apiKey:i})})).ok?(await f(),n(""),a("")):alert("Failed to save configuration")}catch(C){console.error("Failed to save configuration:",C),alert("Failed to save configuration")}finally{l(!1)}},y=async C=>{h(C);try{const O=await fetch("/api/integrations/ai/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:C})});O.ok&&((await O.json()).valid?alert("Connection successful!"):alert("Connection failed. Please check your API key."),await f())}catch(O){console.error("Failed to test connection:",O),alert("Failed to test connection")}finally{h(null)}},N=async C=>{try{(await fetch(`/api/integrations/ai/configurations/${C}/toggle`,{method:"PUT"})).ok&&await f()}catch(O){console.error("Failed to toggle configuration:",O)}},_=async C=>{if(confirm("Are you sure you want to delete this configuration?"))try{(await fetch(`/api/integrations/ai/configurations/${C}`,{method:"DELETE"})).ok&&await f()}catch(O){console.error("Failed to delete configuration:",O)}},k=C=>{switch(C){case"VALID":return s.jsx(Kf,{className:"w-5 h-5 text-green-600"});case"INVALID":return s.jsx(BSe,{className:"w-5 h-5 text-red-600"});default:return s.jsx(Wu,{className:"w-5 h-5 text-yellow-600"})}};return s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"AI Model Integration"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Connect AI models to enhance your TMS capabilities"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Add AI Provider"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Provider"}),s.jsxs("select",{value:r,onChange:C=>n(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Choose a provider..."}),PY.map(C=>s.jsx("option",{value:C.provider,children:C.name},C.provider))]})]}),r&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(pQ,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"password",value:i,onChange:C=>a(C.target.value),placeholder:"Enter your API key",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("button",{onClick:g,disabled:o||!i,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[s.jsx(jv,{className:"w-4 h-4"}),"Add Provider"]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Configured Providers"}),t.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Wu,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{children:"No AI providers configured yet"})]}):s.jsx("div",{className:"space-y-4",children:t.map(C=>{const O=PY.find(T=>T.provider===C.provider);return s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h4",{className:"text-lg font-medium",children:(O==null?void 0:O.name)||C.provider}),k(C.connectionStatus)]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O==null?void 0:O.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[s.jsx("span",{className:`px-2 py-1 rounded-full ${C.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.active?"Active":"Inactive"}),C.lastTested&&s.jsxs("span",{className:"text-gray-500",children:["Last tested: ",new Date(C.lastTested).toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>y(C.provider),disabled:u===C.provider,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md disabled:opacity-50",title:"Test Connection",children:s.jsx(yke,{className:`w-4 h-4 ${u===C.provider?"animate-spin":""}`})}),s.jsx("button",{onClick:()=>N(C.id),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-md",title:C.active?"Deactivate":"Activate",children:C.active?"Deactivate":"Activate"}),s.jsx("button",{onClick:()=>_(C.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md",title:"Delete",children:s.jsx(dN,{className:"w-4 h-4"})})]})]})},C.id)})})]})]})]})},eBe=({initialNotificationChannels:t,initialNotificationTypes:e})=>{const[r,n]=Y.useState(t),[i,a]=Y.useState(e),o=f=>{n({...r,[f]:!r[f]}),lt.success(`${f.toUpperCase()} notifications ${r[f]?"disabled":"enabled"}`)},l=(f,g)=>{a({...i,[f]:{...i[f],[g]:!i[f][g]}})},u=()=>{lt.success("Notification settings saved successfully")},h=()=>{n({email:!0,sms:!0,inApp:!0}),a({locationUpdates:{email:!0,sms:!1,inApp:!0},delayAlerts:{email:!0,sms:!0,inApp:!0},statusChanges:{email:!0,sms:!1,inApp:!0},weatherAlerts:{email:!0,sms:!0,inApp:!0},systemNotifications:{email:!0,sms:!1,inApp:!0}}),lt.success("Notification settings reset to defaults")};return s.jsxs("div",{children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Notification Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure how and when you receive notifications"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Channels"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium text-gray-900",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),s.jsx(xs,{isOn:r.email,onToggle:()=>o("email")})]}),s.jsx("div",{className:"border-t border-gray-100"}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium text-gray-900",children:"SMS Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via text message"})]}),s.jsx(xs,{isOn:r.sms,onToggle:()=>o("sms")})]}),s.jsx("div",{className:"border-t border-gray-100"}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium text-gray-900",children:"In-App Notifications"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications within the application"})]}),s.jsx(xs,{isOn:r.inApp,onToggle:()=>o("inApp")})]})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Types"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notification Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SMS"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"In-App"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Location Updates"}),s.jsx("div",{className:"text-xs text-gray-500",children:"When a driver's location is updated"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.locationUpdates.email,onToggle:()=>l("locationUpdates","email"),disabled:!r.email})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.locationUpdates.sms,onToggle:()=>l("locationUpdates","sms"),disabled:!r.sms})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.locationUpdates.inApp,onToggle:()=>l("locationUpdates","inApp"),disabled:!r.inApp})})]}),s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Delay Alerts"}),s.jsx("div",{className:"text-xs text-gray-500",children:"When a shipment is delayed"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.delayAlerts.email,onToggle:()=>l("delayAlerts","email"),disabled:!r.email})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.delayAlerts.sms,onToggle:()=>l("delayAlerts","sms"),disabled:!r.sms})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.delayAlerts.inApp,onToggle:()=>l("delayAlerts","inApp"),disabled:!r.inApp})})]}),s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Status Changes"}),s.jsx("div",{className:"text-xs text-gray-500",children:"When a load status changes"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.statusChanges.email,onToggle:()=>l("statusChanges","email"),disabled:!r.email})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.statusChanges.sms,onToggle:()=>l("statusChanges","sms"),disabled:!r.sms})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.statusChanges.inApp,onToggle:()=>l("statusChanges","inApp"),disabled:!r.inApp})})]}),s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Weather Alerts"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Severe weather affecting routes"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.weatherAlerts.email,onToggle:()=>l("weatherAlerts","email"),disabled:!r.email})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.weatherAlerts.sms,onToggle:()=>l("weatherAlerts","sms"),disabled:!r.sms})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.weatherAlerts.inApp,onToggle:()=>l("weatherAlerts","inApp"),disabled:!r.inApp})})]}),s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"System Notifications"}),s.jsx("div",{className:"text-xs text-gray-500",children:"System updates and maintenance"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.systemNotifications.email,onToggle:()=>l("systemNotifications","email"),disabled:!r.email})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.systemNotifications.sms,onToggle:()=>l("systemNotifications","sms"),disabled:!r.sms})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx(xs,{isOn:i.systemNotifications.inApp,onToggle:()=>l("systemNotifications","inApp"),disabled:!r.inApp})})]})]})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",className:"btn btn-white",onClick:h,children:"Reset to Defaults"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:u,children:"Save Changes"})]})]})},tBe=()=>{const t={name:"Professional",price:"$49.99",billingCycle:"monthly",nextBillingDate:"June 15, 2023",features:["Unlimited loads","Up to 25 users","Advanced reporting","API access","Email support"]},e={type:"Credit Card",last4:"4242",expiry:"05/2025",name:"John Doe"},r=[{id:"1",date:"May 15, 2023",amount:"$49.99",status:"Paid",invoice:"INV-2023-05"},{id:"2",date:"April 15, 2023",amount:"$49.99",status:"Paid",invoice:"INV-2023-04"},{id:"3",date:"March 15, 2023",amount:"$49.99",status:"Paid",invoice:"INV-2023-03"},{id:"4",date:"February 15, 2023",amount:"$49.99",status:"Paid",invoice:"INV-2023-02"},{id:"5",date:"January 15, 2023",amount:"$49.99",status:"Paid",invoice:"INV-2023-01"}],n=()=>{lt.success("Opening plan selection dialog...")},i=()=>{lt.success("Opening payment method update dialog...")},a=o=>{lt.success(`Downloading invoice ${o}...`),setTimeout(()=>{lt.success("Invoice downloaded successfully")},1500)};return s.jsxs("div",{children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Billing & Subscription"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your subscription plan and billing information"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Plan"}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden p-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:t.name}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[t.price," / ",t.billingCycle]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Next billing date: ",t.nextBillingDate]})]}),s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsx("button",{className:"btn btn-primary",onClick:n,children:"Change Plan"})})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Plan Features:"}),s.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.features.map((o,l)=>s.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("i",{className:"fas fa-check text-green-500 mr-2"})," ",o]},l))})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Method"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-8 bg-blue-100 rounded flex items-center justify-center mr-3",children:s.jsx("i",{className:"fas fa-credit-card text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-900 font-medium",children:[e.type," ending in ",e.last4]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Expires ",e.expiry,"  ",e.name]})]})]}),s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsx("button",{className:"btn btn-white",onClick:i,children:"Update"})})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Billing History"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(o=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.amount}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.status==="Paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>a(o.invoice),children:"Download"})})]},o.id))})]})})})]})]})},rBe=({initialAppearance:t})=>{const[e,r]=Y.useState(t),n=l=>{r({...e,theme:l}),lt.success(`Theme changed to ${l}`)},i=(l,u)=>{r({...e,[l]:u})},a=()=>{lt.success("Appearance settings saved successfully")},o=()=>{r({theme:"default",sidebarPosition:"left",navbarStyle:"fixed",contentWidth:"container",density:"comfortable",fontFamily:"poppins",fontSize:"medium",primaryColor:"#2563eb",secondaryColor:"#4f46e5"}),lt.success("Appearance settings reset to defaults")};return s.jsxs("div",{children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Appearance"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Customize the look and feel of your application"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Theme"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:`cursor-pointer rounded-lg border p-4 ${e.theme==="default"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("default"),children:[s.jsx("div",{className:"h-24 bg-white rounded-md border border-gray-200 mb-3 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-md"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Default"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Light theme with blue accents"})]})]}),s.jsxs("div",{className:`cursor-pointer rounded-lg border p-4 ${e.theme==="dark"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("dark"),children:[s.jsx("div",{className:"h-24 bg-gray-800 rounded-md border border-gray-700 mb-3 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-md"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Dark"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Dark theme with blue accents"})]})]}),s.jsxs("div",{className:`cursor-pointer rounded-lg border p-4 ${e.theme==="light"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("light"),children:[s.jsx("div",{className:"h-24 bg-gray-50 rounded-md border border-gray-200 mb-3 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-md"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Light"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Extra light theme with blue accents"})]})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Layout"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sidebar-position",className:"form-label",children:"Sidebar Position"}),s.jsxs("select",{id:"sidebar-position",className:"form-control",value:e.sidebarPosition,onChange:l=>i("sidebarPosition",l.target.value),children:[s.jsx("option",{value:"left",children:"Left"}),s.jsx("option",{value:"right",children:"Right"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"navbar-style",className:"form-label",children:"Navbar Style"}),s.jsxs("select",{id:"navbar-style",className:"form-control",value:e.navbarStyle,onChange:l=>i("navbarStyle",l.target.value),children:[s.jsx("option",{value:"fixed",children:"Fixed"}),s.jsx("option",{value:"static",children:"Static"}),s.jsx("option",{value:"hidden",children:"Hidden"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"content-width",className:"form-label",children:"Content Width"}),s.jsxs("select",{id:"content-width",className:"form-control",value:e.contentWidth,onChange:l=>i("contentWidth",l.target.value),children:[s.jsx("option",{value:"container",children:"Container"}),s.jsx("option",{value:"fluid",children:"Fluid"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"density",className:"form-label",children:"Density"}),s.jsxs("select",{id:"density",className:"form-control",value:e.density,onChange:l=>i("density",l.target.value),children:[s.jsx("option",{value:"comfortable",children:"Comfortable"}),s.jsx("option",{value:"compact",children:"Compact"}),s.jsx("option",{value:"spacious",children:"Spacious"})]})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Typography"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"font-family",className:"form-label",children:"Font Family"}),s.jsxs("select",{id:"font-family",className:"form-control",value:e.fontFamily,onChange:l=>i("fontFamily",l.target.value),children:[s.jsx("option",{value:"poppins",children:"Poppins"}),s.jsx("option",{value:"roboto",children:"Roboto"}),s.jsx("option",{value:"inter",children:"Inter"}),s.jsx("option",{value:"system",children:"System Default"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"font-size",className:"form-label",children:"Font Size"}),s.jsxs("select",{id:"font-size",className:"form-control",value:e.fontSize,onChange:l=>i("fontSize",l.target.value),children:[s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Colors"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"primary-color",className:"form-label",children:"Primary Color"}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"color",id:"primary-color",className:"h-10 w-10 rounded border border-gray-300 mr-2",value:e.primaryColor,onChange:l=>i("primaryColor",l.target.value)}),s.jsx("input",{type:"text",className:"form-control",value:e.primaryColor,onChange:l=>i("primaryColor",l.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"secondary-color",className:"form-label",children:"Secondary Color"}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"color",id:"secondary-color",className:"h-10 w-10 rounded border border-gray-300 mr-2",value:e.secondaryColor,onChange:l=>i("secondaryColor",l.target.value)}),s.jsx("input",{type:"text",className:"form-control",value:e.secondaryColor,onChange:l=>i("secondaryColor",l.target.value)})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",className:"btn btn-white",onClick:o,children:"Reset to Defaults"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:a,children:"Save Changes"})]})]})},sBe=({initialBackupSettings:t})=>{const[e,r]=Y.useState(t),n=[{id:"1",date:"May 15, 2023 - 08:30 AM",size:"42.5 MB",type:"Automatic"},{id:"2",date:"May 14, 2023 - 08:30 AM",size:"42.3 MB",type:"Automatic"},{id:"3",date:"May 13, 2023 - 02:15 PM",size:"42.1 MB",type:"Manual"},{id:"4",date:"May 12, 2023 - 08:30 AM",size:"41.8 MB",type:"Automatic"},{id:"5",date:"May 11, 2023 - 08:30 AM",size:"41.5 MB",type:"Automatic"}],i=()=>{r({...e,autoBackupEnabled:!e.autoBackupEnabled}),lt.success(`Automatic backups ${e.autoBackupEnabled?"disabled":"enabled"}`)},a=(f,g)=>{r({...e,[f]:g})},o=()=>{lt.success("Creating manual backup..."),setTimeout(()=>{lt.success("Manual backup created successfully")},2e3)},l=f=>{lt.success(`Downloading backup from ${f}...`),setTimeout(()=>{lt.success("Backup downloaded successfully")},1500)},u=f=>{lt.success(`Preparing to restore from backup (${f})...`),setTimeout(()=>{lt.success("System restored successfully from backup")},2500)},h=f=>{lt.success(`Exporting data as ${f.toUpperCase()}...`),setTimeout(()=>{lt.success(`Data exported as ${f.toUpperCase()} successfully`)},1500)};return s.jsxs("div",{children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Backup & Restore"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage system backups and data exports"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Backup Settings"}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium text-gray-900",children:"Automatic Backups"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Schedule regular system backups"})]}),s.jsx(xs,{isOn:e.autoBackupEnabled,onToggle:i})]}),e.autoBackupEnabled&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"backup-frequency",className:"form-label",children:"Backup Frequency"}),s.jsxs("select",{id:"backup-frequency",className:"form-control",value:e.frequency,onChange:f=>a("frequency",f.target.value),children:[s.jsx("option",{value:"hourly",children:"Hourly"}),s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"retention-period",className:"form-label",children:"Retention Period (days)"}),s.jsxs("select",{id:"retention-period",className:"form-control",value:e.retentionPeriod,onChange:f=>a("retentionPeriod",f.target.value),children:[s.jsx("option",{value:"7",children:"7 days"}),s.jsx("option",{value:"14",children:"14 days"}),s.jsx("option",{value:"30",children:"30 days"}),s.jsx("option",{value:"60",children:"60 days"}),s.jsx("option",{value:"90",children:"90 days"})]})]})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manual Backup"}),s.jsxs("button",{className:"btn btn-sm btn-primary",onClick:o,children:[s.jsx("i",{className:"fas fa-download mr-2"})," Create Backup Now"]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a manual backup of your system data"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Backup History"}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(f=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.date}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.size}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.type==="Automatic"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:f.type})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",onClick:()=>l(f.date),children:"Download"}),s.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>u(f.date),children:"Restore"})]})]},f.id))})]})})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Export"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Export your data in different formats"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{className:"btn btn-white",onClick:()=>h("excel"),children:[s.jsx("i",{className:"fas fa-file-excel mr-2 text-green-600"})," Export as Excel"]}),s.jsxs("button",{className:"btn btn-white",onClick:()=>h("csv"),children:[s.jsx("i",{className:"fas fa-file-csv mr-2 text-blue-600"})," Export as CSV"]}),s.jsxs("button",{className:"btn btn-white",onClick:()=>h("pdf"),children:[s.jsx("i",{className:"fas fa-file-pdf mr-2 text-red-600"})," Export as PDF"]})]})]})]})},nBe=()=>{const[t,e]=Y.useState([{id:"1",timestamp:"May 15, 2023 - 10:23:45 AM",level:"ERROR",message:"Failed to connect to payment gateway",source:"PaymentService"},{id:"2",timestamp:"May 15, 2023 - 09:45:12 AM",level:"INFO",message:"User john.doe@example.com logged in",source:"AuthService"},{id:"3",timestamp:"May 15, 2023 - 09:30:05 AM",level:"WARNING",message:"High CPU usage detected (85%)",source:"SystemMonitor"},{id:"4",timestamp:"May 15, 2023 - 08:15:30 AM",level:"INFO",message:"System backup completed successfully",source:"BackupService"},{id:"5",timestamp:"May 14, 2023 - 11:42:18 PM",level:"ERROR",message:"Database query timeout after 30 seconds",source:"DatabaseService"},{id:"6",timestamp:"May 14, 2023 - 10:30:45 PM",level:"INFO",message:'Load #12345 status changed to "Delivered"',source:"LoadService"},{id:"7",timestamp:"May 14, 2023 - 08:22:10 PM",level:"WARNING",message:"Low disk space warning (15% remaining)",source:"SystemMonitor"},{id:"8",timestamp:"May 14, 2023 - 05:17:42 PM",level:"INFO",message:"New user jane.smith@example.com created",source:"UserService"}]),[r,n]=Y.useState({level:"all",source:"all",dateFrom:"",dateTo:""}),i=()=>{lt.success("Clearing system logs..."),setTimeout(()=>{e([]),lt.success("System logs cleared successfully")},1e3)},a=()=>{lt.success("Exporting system logs..."),setTimeout(()=>{lt.success("System logs exported successfully")},1500)},o=(f,g)=>{n({...r,[f]:g})},l=()=>{lt.success("Refreshing system logs..."),setTimeout(()=>{lt.success("System logs refreshed")},1e3)},u=t.filter(f=>!(r.level!=="all"&&f.level!==r.level||r.source!=="all"&&f.source!==r.source)),h=Array.from(new Set(t.map(f=>f.source)));return s.jsxs("div",{children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"System Logs"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage system logs and events"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Log Filters"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm btn-white",onClick:l,children:[s.jsx("i",{className:"fas fa-sync-alt mr-1"})," Refresh"]}),s.jsxs("button",{className:"btn btn-sm btn-white",onClick:a,children:[s.jsx("i",{className:"fas fa-download mr-1"})," Export"]}),s.jsxs("button",{className:"btn btn-sm btn-danger",onClick:i,children:[s.jsx("i",{className:"fas fa-trash-alt mr-1"})," Clear Logs"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"log-level",className:"form-label",children:"Log Level"}),s.jsxs("select",{id:"log-level",className:"form-control",value:r.level,onChange:f=>o("level",f.target.value),children:[s.jsx("option",{value:"all",children:"All Levels"}),s.jsx("option",{value:"INFO",children:"Info"}),s.jsx("option",{value:"WARNING",children:"Warning"}),s.jsx("option",{value:"ERROR",children:"Error"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"log-source",className:"form-label",children:"Source"}),s.jsxs("select",{id:"log-source",className:"form-control",value:r.source,onChange:f=>o("source",f.target.value),children:[s.jsx("option",{value:"all",children:"All Sources"}),h.map(f=>s.jsx("option",{value:f,children:f},f))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"date-from",className:"form-label",children:"Date From"}),s.jsx("input",{type:"date",id:"date-from",className:"form-control",value:r.dateFrom,onChange:f=>o("dateFrom",f.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"date-to",className:"form-label",children:"Date To"}),s.jsx("input",{type:"date",id:"date-to",className:"form-control",value:r.dateTo,onChange:f=>o("dateTo",f.target.value)})]})]})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length>0?u.map(f=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.timestamp}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.level==="ERROR"?"bg-red-100 text-red-800":f.level==="WARNING"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.level})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.source}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:f.message})]},f.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No logs found matching the current filters"})})})]})})}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Log Settings"}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"log-retention",className:"form-label",children:"Log Retention Period"}),s.jsxs("select",{id:"log-retention",className:"form-control",children:[s.jsx("option",{value:"7",children:"7 days"}),s.jsx("option",{value:"14",children:"14 days"}),s.jsx("option",{value:"30",selected:!0,children:"30 days"}),s.jsx("option",{value:"60",children:"60 days"}),s.jsx("option",{value:"90",children:"90 days"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"log-level-setting",className:"form-label",children:"Minimum Log Level"}),s.jsxs("select",{id:"log-level-setting",className:"form-control",children:[s.jsx("option",{value:"DEBUG",children:"Debug"}),s.jsx("option",{value:"INFO",selected:!0,children:"Info"}),s.jsx("option",{value:"WARNING",children:"Warning"}),s.jsx("option",{value:"ERROR",children:"Error"})]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx("button",{className:"btn btn-primary",onClick:()=>lt.success("Log settings saved successfully"),children:"Save Settings"})})]})]})]})},Qne=()=>{const{user:t}=_g(),e=Yu(),r=(t==null?void 0:t.role)===ln.BROKER||(t==null?void 0:t.role)===ln.ADMIN,[n,i]=Y.useState("company");Y.useEffect(()=>{e.state&&e.state.activeTab&&i(e.state.activeTab)},[e.state]);const a={name:"Octopus Transport LLC",mcNumber:"MC-123456",dotNumber:"DOT-789012",ein:"12-3456789",address:"123 Logistics Way",city:"Chicago",state:"IL",zip:"60007",phone:"(555) 123-4567",email:"info@octopustms.com"},o=[{id:"1",firstName:"Salim",lastName:"Vaid",email:"salim@octopustms.com",role:"Admin",department:"Super Admin",status:"active",lastLogin:"Today, 9:45 AM",initials:"SA",avatarColor:"blue"},{id:"2",firstName:"Maria",lastName:"Rodriguez",email:"maria@octopustms.com",role:"Dispatcher",department:"Operations",status:"active",lastLogin:"Today, 8:30 AM",initials:"MR",avatarColor:"green"},{id:"3",firstName:"James",lastName:"Wilson",email:"james@octopustms.com",role:"Accountant",department:"Finance",status:"active",lastLogin:"Yesterday, 5:15 PM",initials:"JW",avatarColor:"orange"},{id:"4",firstName:"Sarah",lastName:"Johnson",email:"sarah@octopustms.com",role:"Dispatcher",department:"Operations",status:"inactive",lastLogin:"May 15, 2025",initials:"SJ",avatarColor:"gray"}],l=[{id:"1",name:"Admin",description:"Full system access and control",userCount:1,icon:"fa-user-shield",iconBg:"bg-purple-100 text-purple-600"},{id:"2",name:"Dispatcher",description:"Manage loads and drivers",userCount:2,icon:"fa-tasks",iconBg:"bg-blue-100 text-blue-600"},{id:"3",name:"Accountant",description:"Access to financial data and reports",userCount:1,icon:"fa-calculator",iconBg:"bg-yellow-100 text-yellow-600"},{id:"4",name:"Viewer",description:"Read-only access to system",userCount:0,icon:"fa-eye",iconBg:"bg-gray-100 text-gray-600"}],u=[{id:"1",name:"QuickBooks Integration",description:"Sync invoices, expenses, and payments with QuickBooks",isConnected:!0,apiKey:"QB-API-KEY-12345-ABCDE",icon:"fa-calculator",iconBg:"bg-blue-100 text-blue-600"},{id:"2",name:"Samsara ELD Integration",description:"Connect to Samsara for real-time ELD and GPS data",isConnected:!0,apiKey:"SAMSARA-API-67890-FGHIJ",icon:"fa-truck",iconBg:"bg-green-100 text-green-600"},{id:"3",name:"DAT Load Board API",description:"Connect to DAT Load Board for automated load searches",isConnected:!1,apiKey:"",icon:"fa-search",iconBg:"bg-gray-100 text-gray-600"}],h={email:!0,sms:!0,inApp:!0},f={locationUpdates:{email:!0,sms:!1,inApp:!0},delayAlerts:{email:!0,sms:!0,inApp:!0},statusChanges:{email:!0,sms:!1,inApp:!0},weatherAlerts:{email:!0,sms:!0,inApp:!0},systemNotifications:{email:!0,sms:!1,inApp:!0}},g={theme:"default",sidebarPosition:"left",navbarStyle:"fixed",contentWidth:"container",density:"comfortable",fontFamily:"poppins",fontSize:"medium",primaryColor:"#2563eb",secondaryColor:"#4f46e5"},y={autoBackupEnabled:!0,frequency:"daily",retentionPeriod:"30"},[N,_]=Y.useState([{id:"1",name:"DAT Load Board",description:"Real-time load posting and searching on DAT network",isConnected:!0,apiKey:"DAT-API-KEY-12345-ABCDE",icon:"fa-truck-loading",iconBg:"bg-blue-100 text-blue-600",category:"loadboard"},{id:"2",name:"Truck Stop Load Board",description:"Access to Truckstop.com load network and carrier verification",isConnected:!0,apiKey:"TRUCKSTOP-API-67890-FGHIJ",icon:"fa-truck",iconBg:"bg-green-100 text-green-600",category:"loadboard"},{id:"3",name:"123LoadBoard",description:"Connect to 123LoadBoard for additional load opportunities",isConnected:!1,apiKey:"",icon:"fa-search",iconBg:"bg-gray-100 text-gray-600",category:"loadboard"},{id:"4",name:"Project44 Visibility",description:"Real-time shipment tracking and visibility platform",isConnected:!0,apiKey:"P44-API-KEY-98765-LMNOP",icon:"fa-map-marked-alt",iconBg:"bg-purple-100 text-purple-600",category:"tracking"},{id:"5",name:"FourKites Tracking",description:"Supply chain visibility and predictive analytics",isConnected:!1,apiKey:"",icon:"fa-satellite",iconBg:"bg-gray-100 text-gray-600",category:"tracking"},{id:"6",name:"QuickBooks Integration",description:"Sync invoices, payments, and financial data",isConnected:!0,apiKey:"QB-API-KEY-45678-QRSTU",icon:"fa-calculator",iconBg:"bg-yellow-100 text-yellow-600",category:"accounting"},{id:"7",name:"Triumph Factoring",description:"Automated factoring and quick pay services",isConnected:!1,apiKey:"",icon:"fa-money-check-alt",iconBg:"bg-gray-100 text-gray-600",category:"accounting"},{id:"8",name:"RMIS Insurance",description:"Carrier insurance verification and monitoring",isConnected:!0,apiKey:"RMIS-API-KEY-87654-VWXYZ",icon:"fa-shield-alt",iconBg:"bg-red-100 text-red-600",category:"compliance"},{id:"9",name:"CarrierWatch",description:"Carrier vetting and compliance monitoring",isConnected:!1,apiKey:"",icon:"fa-user-check",iconBg:"bg-gray-100 text-gray-600",category:"compliance"},{id:"10",name:"Twilio SMS",description:"Automated SMS notifications for carriers and customers",isConnected:!0,apiKey:"TWILIO-API-KEY-34567-ABCDE",icon:"fa-sms",iconBg:"bg-indigo-100 text-indigo-600",category:"communication"}]),[k,C]=Y.useState({autoPostLoads:!0,autoMatchCarriers:!0,autoSendRateConfirmations:!1,autoTrackShipments:!0,autoUpdateCustomers:!0,carrierResponseTimeout:30,minCarrierRating:4,maxLoadsPerCarrier:5}),[O,T]=Y.useState({baseRate:6,tier1Rate:8,tier1Threshold:1e5,tier2Rate:10,tier2Threshold:25e4,tier3Rate:12,tier3Threshold:5e5,paymentSchedule:"monthly",paymentDay:15}),[M,B]=Y.useState({requireLoadApproval:!1,approvalThreshold:5e4,enableTeamChat:!0,shareCommissions:!1,loadAssignmentMethod:"round-robin"}),F=[{id:"company",label:"Company Information",icon:"fa-building"},{id:"users",label:"Users & Permissions",icon:"fa-users"},{id:"integrations",label:"API Integrations",icon:"fa-plug"},{id:"ai-integration",label:"AI Integration",icon:"fa-robot"},{id:"notifications",label:"Notification Settings",icon:"fa-bell"},{id:"billing",label:"Billing & Subscription",icon:"fa-credit-card"},{id:"appearance",label:"Appearance",icon:"fa-paint-brush"},{id:"backup",label:"Backup & Restore",icon:"fa-database"},{id:"logs",label:"System Logs",icon:"fa-history"}],V=[{id:"broker-integrations",label:"Broker Integrations",icon:"fa-link"},{id:"automation",label:"Automation",icon:"fa-cogs"},{id:"commissions",label:"Commission Structure",icon:"fa-percentage"},{id:"team",label:"Team Settings",icon:"fa-users-cog"}],H=r?[...F.slice(0,3),...V,...F.slice(3)]:F,Z=ie=>{_(N.map(ge=>{if(ge.id===ie){const G=!ge.isConnected;return lt.success(`${ge.name} ${G?"connected":"disconnected"}`),{...ge,isConnected:G,apiKey:G?`${ge.name.toUpperCase().replace(/\s+/g,"-")}-API-KEY-${Math.floor(Math.random()*9e4)+1e4}`:""}}return ge}))},re=ie=>{const ge=N.find(G=>G.id===ie);ge&&(lt.success(`Syncing data with ${ge.name}...`),setTimeout(()=>{lt.success(`Sync with ${ge.name} completed successfully`)},2e3))},le=ie=>{const ge=N.find(G=>G.id===ie);ge&&(lt.success(`Testing connection to ${ge.name}...`),setTimeout(()=>{lt.success(`${ge.name} connection test successful`)},1500))},ce=()=>{lt.success("Automation settings saved successfully")},he=()=>{lt.success("Commission settings updated successfully")},fe=()=>{lt.success("Team settings saved successfully")},ee=N.reduce((ie,ge)=>(ie[ge.category]||(ie[ge.category]=[]),ie[ge.category].push(ge),ie),{}),xe={loadboard:"Load Boards",tracking:"Tracking & Visibility",accounting:"Accounting & Finance",communication:"Communication",compliance:"Compliance & Verification"};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-gray-600",children:"Configure your TMS system settings and preferences"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(st,{className:"shadow-sm overflow-hidden",children:s.jsx("nav",{className:"flex flex-col",children:H.map(ie=>s.jsxs("button",{className:`flex items-center px-4 py-3 text-left transition-colors hover:bg-gray-50 focus:outline-none
                    ${n===ie.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-500":"text-gray-700 border-l-4 border-transparent"}`,onClick:()=>i(ie.id),children:[s.jsx("i",{className:`fas ${ie.icon} w-5 mr-3 ${n===ie.id?"text-blue-600":"text-gray-500"}`}),s.jsx("span",{className:"font-medium",children:ie.label})]},ie.id))})})}),s.jsxs("div",{className:"lg:col-span-3",children:[n==="company"&&s.jsx(st,{className:"shadow-sm",children:s.jsx(ZFe,{initialCompanyInfo:a})}),n==="users"&&s.jsx(st,{className:"shadow-sm",children:s.jsx(KFe,{initialUsers:o,initialRoles:l})}),n==="integrations"&&s.jsx(st,{className:"shadow-sm",children:s.jsx(JFe,{initialIntegrations:u})}),n==="ai-integration"&&s.jsx(QFe,{}),n==="notifications"&&s.jsx(st,{className:"shadow-sm",children:s.jsx(eBe,{initialNotificationChannels:h,initialNotificationTypes:f})}),n==="billing"&&s.jsx(st,{className:"shadow-sm",children:s.jsx(tBe,{})}),n==="appearance"&&s.jsx(st,{className:"shadow-sm",children:s.jsx(rBe,{initialAppearance:g})}),n==="backup"&&s.jsx(st,{className:"shadow-sm",children:s.jsx(sBe,{initialBackupSettings:y})}),n==="logs"&&s.jsx(st,{className:"shadow-sm",children:s.jsx(nBe,{})}),n==="broker-integrations"&&s.jsx("div",{children:s.jsx(st,{className:"shadow-sm mb-6",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Broker Services"}),s.jsxs("button",{className:"btn btn-sm btn-primary",children:[s.jsx("i",{className:"fas fa-plus mr-2"})," Add Integration"]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Connect your broker account with industry-leading platforms for seamless operations"}),Object.entries(ee).map(([ie,ge])=>s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:xe[ie]}),s.jsx("div",{className:"space-y-4",children:ge.map(G=>s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${G.iconBg}`,children:s.jsx("i",{className:`fas ${G.icon}`})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-base font-medium text-gray-900",children:G.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:G.description})]})]}),s.jsx(xs,{isOn:G.isConnected,onToggle:()=>Z(G.id)})]}),G.isConnected&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"API Key"}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",value:G.apiKey,readOnly:!0,className:"form-control text-sm bg-gray-50 flex-grow"}),s.jsx("button",{className:"btn btn-sm btn-white ml-2",onClick:()=>{navigator.clipboard.writeText(G.apiKey),lt.success("API key copied to clipboard")},children:s.jsx("i",{className:"fas fa-copy"})})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm btn-white",onClick:()=>re(G.id),children:[s.jsx("i",{className:"fas fa-sync-alt mr-1"})," Sync Now"]}),s.jsxs("button",{className:"btn btn-sm btn-white",onClick:()=>le(G.id),children:[s.jsx("i",{className:"fas fa-vial mr-1"})," Test Connection"]}),s.jsxs("button",{className:"btn btn-sm btn-white",children:[s.jsx("i",{className:"fas fa-cog mr-1"})," Settings"]})]})]})]})},G.id))})]},ie))]})})}),n==="automation"&&s.jsx(st,{className:"shadow-sm",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Automation Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure automated workflows to streamline your brokerage operations"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Load Management"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Auto-post loads to connected boards"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Automatically post new loads to DAT, Truckstop, etc."})]}),s.jsx(xs,{isOn:k.autoPostLoads,onToggle:()=>C({...k,autoPostLoads:!k.autoPostLoads})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Auto-match carriers"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Automatically suggest best carrier matches for loads"})]}),s.jsx(xs,{isOn:k.autoMatchCarriers,onToggle:()=>C({...k,autoMatchCarriers:!k.autoMatchCarriers})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Auto-send rate confirmations"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Automatically email rate cons when loads are booked"})]}),s.jsx(xs,{isOn:k.autoSendRateConfirmations,onToggle:()=>C({...k,autoSendRateConfirmations:!k.autoSendRateConfirmations})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tracking & Updates"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Auto-track shipments"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Automatically fetch tracking updates from integrated systems"})]}),s.jsx(xs,{isOn:k.autoTrackShipments,onToggle:()=>C({...k,autoTrackShipments:!k.autoTrackShipments})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Auto-update customers"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Send automatic status updates to customers"})]}),s.jsx(xs,{isOn:k.autoUpdateCustomers,onToggle:()=>C({...k,autoUpdateCustomers:!k.autoUpdateCustomers})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Carrier Settings"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Carrier Response Timeout"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"number",value:k.carrierResponseTimeout,onChange:ie=>C({...k,carrierResponseTimeout:parseInt(ie.target.value)}),className:"form-control"}),s.jsx("span",{className:"ml-2 text-gray-500",children:"minutes"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Carrier Rating"}),s.jsx("input",{type:"number",step:"0.1",min:"1",max:"5",value:k.minCarrierRating,onChange:ie=>C({...k,minCarrierRating:parseFloat(ie.target.value)}),className:"form-control"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Loads per Carrier"}),s.jsx("input",{type:"number",value:k.maxLoadsPerCarrier,onChange:ie=>C({...k,maxLoadsPerCarrier:parseInt(ie.target.value)}),className:"form-control"})]})]})]}),s.jsx("div",{className:"pt-4 flex justify-end",children:s.jsx("button",{onClick:ce,className:"btn btn-primary",children:"Save Automation Settings"})})]})]})}),n==="commissions"&&s.jsx(st,{className:"shadow-sm",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Commission Structure"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure commission rates and payment schedules for your sales team"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Commission Tiers"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Base Rate (0 - $",O.tier1Threshold.toLocaleString(),")"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"number",step:"0.5",value:O.baseRate,onChange:ie=>T({...O,baseRate:parseFloat(ie.target.value)}),className:"form-control"}),s.jsx("span",{className:"ml-2 text-gray-500",children:"%"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier 1 Threshold"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",value:O.tier1Threshold,onChange:ie=>T({...O,tier1Threshold:parseInt(ie.target.value)}),className:"form-control"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tier 1 Rate ($",O.tier1Threshold.toLocaleString()," - $",O.tier2Threshold.toLocaleString(),")"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"number",step:"0.5",value:O.tier1Rate,onChange:ie=>T({...O,tier1Rate:parseFloat(ie.target.value)}),className:"form-control"}),s.jsx("span",{className:"ml-2 text-gray-500",children:"%"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier 2 Threshold"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",value:O.tier2Threshold,onChange:ie=>T({...O,tier2Threshold:parseInt(ie.target.value)}),className:"form-control"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tier 2 Rate ($",O.tier2Threshold.toLocaleString()," - $",O.tier3Threshold.toLocaleString(),")"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"number",step:"0.5",value:O.tier2Rate,onChange:ie=>T({...O,tier2Rate:parseFloat(ie.target.value)}),className:"form-control"}),s.jsx("span",{className:"ml-2 text-gray-500",children:"%"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier 3 Threshold"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",value:O.tier3Threshold,onChange:ie=>T({...O,tier3Threshold:parseInt(ie.target.value)}),className:"form-control"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tier 3 Rate ($",O.tier3Threshold.toLocaleString(),"+)"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"number",step:"0.5",value:O.tier3Rate,onChange:ie=>T({...O,tier3Rate:parseFloat(ie.target.value)}),className:"form-control"}),s.jsx("span",{className:"ml-2 text-gray-500",children:"%"})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Schedule"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Frequency"}),s.jsxs("select",{value:O.paymentSchedule,onChange:ie=>T({...O,paymentSchedule:ie.target.value}),className:"form-control",children:[s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"biweekly",children:"Bi-weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Day"}),s.jsx("input",{type:"number",min:"1",max:"31",value:O.paymentDay,onChange:ie=>T({...O,paymentDay:parseInt(ie.target.value)}),className:"form-control"})]})]})]}),s.jsx("div",{className:"pt-4 flex justify-end",children:s.jsx("button",{onClick:he,className:"btn btn-primary",children:"Save Commission Settings"})})]})]})}),n==="team"&&s.jsx(st,{className:"shadow-sm",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Team Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure how your brokerage team collaborates and manages loads"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Load Management"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Require approval for high-value loads"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loads above threshold require supervisor approval"})]}),s.jsx(xs,{isOn:M.requireLoadApproval,onToggle:()=>B({...M,requireLoadApproval:!M.requireLoadApproval})})]}),M.requireLoadApproval&&s.jsxs("div",{className:"ml-12",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approval Threshold"}),s.jsxs("div",{className:"flex items-center w-64",children:[s.jsx("span",{className:"mr-2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",value:M.approvalThreshold,onChange:ie=>B({...M,approvalThreshold:parseInt(ie.target.value)}),className:"form-control"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Load Assignment Method"}),s.jsxs("select",{value:M.loadAssignmentMethod,onChange:ie=>B({...M,loadAssignmentMethod:ie.target.value}),className:"form-control w-64",children:[s.jsx("option",{value:"manual",children:"Manual Assignment"}),s.jsx("option",{value:"round-robin",children:"Round Robin"}),s.jsx("option",{value:"performance",children:"Performance-based"}),s.jsx("option",{value:"territory",children:"Territory-based"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Collaboration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Enable team chat"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Allow brokers to communicate within the platform"})]}),s.jsx(xs,{isOn:M.enableTeamChat,onToggle:()=>B({...M,enableTeamChat:!M.enableTeamChat})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-medium text-gray-700",children:"Share commissions on team deals"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Split commissions when multiple brokers work on a load"})]}),s.jsx(xs,{isOn:M.shareCommissions,onToggle:()=>B({...M,shareCommissions:!M.shareCommissions})})]})]})]}),s.jsx("div",{className:"pt-4 flex justify-end",children:s.jsx("button",{onClick:fe,className:"btn btn-primary",children:"Save Team Settings"})})]})]})})]})]})]})},iBe=ki.icon({iconUrl:$F,shadowUrl:zF,iconSize:[25,41],iconAnchor:[12,41]});ki.Marker.prototype.options.icon=iBe;const aBe=()=>{const[t,e]=Y.useState("1"),r=Y.useRef(null),n=[{id:"1",loadId:"LD1003",origin:"Miami, FL",destination:"Atlanta, GA",driver:"Robert Johnson",brokerName:"Sarah Thompson",brokerCompany:"Express Logistics LLC",brokerPhone:"(555) 123-4567",brokerEmail:"sarah.thompson@expresslogistics.com",status:"en_route",equipment:"Reefer",eta:"May 24, 2025 - 14:30",distance:685,distanceTraveled:425,currentLocation:"Macon, GA",coordinates:{origin:{lat:25.7617,lng:-80.1918},current:{lat:32.8407,lng:-83.6324},destination:{lat:33.749,lng:-84.388}}},{id:"2",loadId:"LD1006",origin:"San Francisco, CA",destination:"Los Angeles, CA",driver:"David Brown",brokerName:"Michael Chen",brokerCompany:"Pacific Transport Solutions",brokerPhone:"(555) 234-5678",brokerEmail:"michael.chen@pacifictransport.com",status:"delayed",equipment:"Dry Van",eta:"May 25, 2025 - 10:15",distance:382,distanceTraveled:150,currentLocation:"Bakersfield, CA",coordinates:{origin:{lat:37.7749,lng:-122.4194},current:{lat:35.3733,lng:-119.0187},destination:{lat:34.0522,lng:-118.2437}}},{id:"3",loadId:"LD1007",origin:"Denver, CO",destination:"Phoenix, AZ",driver:"John Smith",brokerName:"Emily Rodriguez",brokerCompany:"Mountain View Freight",brokerPhone:"(555) 345-6789",brokerEmail:"emily.rodriguez@mountainviewfreight.com",status:"arriving_soon",equipment:"Flatbed",eta:"May 23, 2025 - 16:45",distance:865,distanceTraveled:820,currentLocation:"Flagstaff, AZ",coordinates:{origin:{lat:39.7392,lng:-104.9903},current:{lat:35.1983,lng:-111.6513},destination:{lat:33.4484,lng:-112.074}}},{id:"4",loadId:"LD1002",origin:"Dallas, TX",destination:"Houston, TX",driver:"Maria Garcia",brokerName:"James Wilson",brokerCompany:"Texas Star Logistics",brokerPhone:"(555) 456-7890",brokerEmail:"james.wilson@texasstarlogistics.com",status:"en_route",equipment:"Dry Van",eta:"May 23, 2025 - 18:30",distance:240,distanceTraveled:90,currentLocation:"Corsicana, TX",coordinates:{origin:{lat:32.7767,lng:-96.797},current:{lat:32.0954,lng:-96.4688},destination:{lat:29.7604,lng:-95.3698}}},{id:"5",loadId:"LD1008",origin:"Chicago, IL",destination:"Detroit, MI",driver:"William Davis",brokerName:"Jennifer Anderson",brokerCompany:"Midwest Express Inc",brokerPhone:"(555) 567-8901",brokerEmail:"jennifer.anderson@midwestexpress.com",status:"en_route",equipment:"Reefer",eta:"May 24, 2025 - 09:00",distance:280,distanceTraveled:195,currentLocation:"Kalamazoo, MI",coordinates:{origin:{lat:41.8781,lng:-87.6298},current:{lat:42.2917,lng:-85.5872},destination:{lat:42.3314,lng:-83.0458}}},{id:"6",loadId:"LD1009",origin:"Seattle, WA",destination:"Portland, OR",driver:"Linda Martinez",brokerName:"Robert Taylor",brokerCompany:"Northwest Carriers",brokerPhone:"(555) 678-9012",brokerEmail:"robert.taylor@northwestcarriers.com",status:"arriving_soon",equipment:"Flatbed",eta:"May 23, 2025 - 15:00",distance:173,distanceTraveled:165,currentLocation:"Olympia, WA",coordinates:{origin:{lat:47.6062,lng:-122.3321},current:{lat:47.0379,lng:-122.9007},destination:{lat:45.5152,lng:-122.6784}}}],i=[{id:"1",time:"10:45 AM",loadId:"LD1003",type:"location_update",message:"Your shipment has arrived in Macon, GA"},{id:"2",time:"09:30 AM",loadId:"LD1006",type:"delay_alert",message:"Shipment delayed due to traffic on I-5. ETA updated by 45 min."},{id:"3",time:"08:15 AM",loadId:"LD1007",type:"status_change",message:"Your shipment is entering final delivery zone. Expected arrival soon."},{id:"4",time:"Yesterday",loadId:"LD1002",type:"weather_alert",message:"Heavy rain expected along route. Broker has been notified."}],a={1:[{id:"1",title:"Pickup Complete",timestamp:"May 22, 2025 - 08:15",location:"Miami, FL",status:"completed"},{id:"2",title:"Rest Stop",timestamp:"May 22, 2025 - 15:30",location:"Jacksonville, FL",status:"completed"},{id:"3",title:"Current Location",timestamp:"May 23, 2025 - 10:45",location:"Macon, GA",status:"current"},{id:"4",title:"Expected Delivery",timestamp:"May 24, 2025 - 14:30",location:"Atlanta, GA",status:"upcoming"}],2:[{id:"1",title:"Pickup Complete",timestamp:"May 22, 2025 - 09:30",location:"San Francisco, CA",status:"completed"},{id:"2",title:"Rest Stop",timestamp:"May 22, 2025 - 16:45",location:"San Jose, CA",status:"completed"},{id:"3",title:"Delay Reported",timestamp:"May 23, 2025 - 09:15",location:"Bakersfield, CA",status:"current"},{id:"4",title:"Expected Delivery",timestamp:"May 25, 2025 - 10:15",location:"Los Angeles, CA",status:"upcoming"}],3:[{id:"1",title:"Pickup Complete",timestamp:"May 21, 2025 - 07:30",location:"Denver, CO",status:"completed"},{id:"2",title:"Rest Stop",timestamp:"May 21, 2025 - 18:15",location:"Albuquerque, NM",status:"completed"},{id:"3",title:"Current Location",timestamp:"May 23, 2025 - 08:30",location:"Flagstaff, AZ",status:"current"},{id:"4",title:"Expected Delivery",timestamp:"May 23, 2025 - 16:45",location:"Phoenix, AZ",status:"upcoming"}],4:[{id:"1",title:"Pickup Complete",timestamp:"May 23, 2025 - 10:00",location:"Dallas, TX",status:"completed"},{id:"2",title:"Current Location",timestamp:"May 23, 2025 - 11:45",location:"Corsicana, TX",status:"current"},{id:"3",title:"Expected Delivery",timestamp:"May 23, 2025 - 18:30",location:"Houston, TX",status:"upcoming"}],5:[{id:"1",title:"Pickup Complete",timestamp:"May 23, 2025 - 06:00",location:"Chicago, IL",status:"completed"},{id:"2",title:"Current Location",timestamp:"May 23, 2025 - 12:00",location:"Kalamazoo, MI",status:"current"},{id:"3",title:"Expected Delivery",timestamp:"May 24, 2025 - 09:00",location:"Detroit, MI",status:"upcoming"}],6:[{id:"1",title:"Pickup Complete",timestamp:"May 23, 2025 - 08:00",location:"Seattle, WA",status:"completed"},{id:"2",title:"Current Location",timestamp:"May 23, 2025 - 12:30",location:"Olympia, WA",status:"current"},{id:"3",title:"Expected Delivery",timestamp:"May 23, 2025 - 15:00",location:"Portland, OR",status:"upcoming"}]},o=n.find(_=>_.id===t)||n[0],l=a[t]||a[1],u=_=>{switch(_){case"en_route":return"bg-blue-100 text-blue-800";case"delayed":return"bg-red-100 text-red-800";case"arriving_soon":return"bg-green-100 text-green-800";case"delivered":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},h=_=>{switch(_){case"location_update":return"bg-blue-100 text-blue-800";case"delay_alert":return"bg-red-100 text-red-800";case"status_change":return"bg-green-100 text-green-800";case"weather_alert":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},f=_=>{switch(_){case"en_route":return"En Route";case"delayed":return"Delayed";case"arriving_soon":return"Arriving Soon";case"delivered":return"Delivered";default:return _}},g=_=>{switch(_){case"location_update":return"Location Update";case"delay_alert":return"Delay Alert";case"status_change":return"Status Change";case"weather_alert":return"Weather Alert";default:return _}},y=({shipments:_})=>{const k=IF();return Y.useEffect(()=>{if(_.length>0){const C=ki.latLngBounds([]);_.forEach(O=>{C.extend([O.coordinates.origin.lat,O.coordinates.origin.lng]),C.extend([O.coordinates.current.lat,O.coordinates.current.lng]),C.extend([O.coordinates.destination.lat,O.coordinates.destination.lng])}),k.fitBounds(C,{padding:[50,50]})}},[k,_]),null},N=_=>{switch(_){case"en_route":return"blue";case"delayed":return"red";case"arriving_soon":return"green";case"delivered":return"purple";default:return"gray"}};return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shipment Tracking"}),s.jsx("p",{className:"text-gray-600",children:"Monitor real-time location of your shipments"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-outline-primary flex items-center",children:[s.jsx("i",{className:"fas fa-sync-alt mr-2"}),"Refresh Data"]}),s.jsxs("button",{className:"btn btn-outline-secondary flex items-center",children:[s.jsx("i",{className:"fas fa-bell mr-2"}),"Notifications"]})]})]}),s.jsx(st,{className:"mb-8 shadow-md overflow-hidden",children:s.jsxs("div",{className:"relative h-96 w-full",children:[s.jsxs(FF,{center:[39.8283,-98.5795],zoom:4,style:{height:"100%",width:"100%",zIndex:0},children:[s.jsx(BF,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(y,{shipments:n}),n.map(_=>{const k=N(_.status),C=_.id===t,O=ki.divIcon({className:`bg-gray-100 rounded-full border-2 border-${k}-500 shadow-md flex items-center justify-center`,iconSize:[24,24],iconAnchor:[12,12],html:`<div class="flex items-center justify-center w-full h-full">
                  <div class="w-2 h-2 bg-${k}-500 rounded-full"></div>
                </div>`}),T=ki.divIcon({className:`bg-gray-100 rounded-full border-2 border-${k}-500 shadow-md flex items-center justify-center`,iconSize:[24,24],iconAnchor:[12,12],html:`<div class="flex items-center justify-center w-full h-full">
                  <div class="w-3 h-3 bg-${k}-500 rounded-full"></div>
                </div>`}),M=ki.divIcon({className:`bg-${k}-500 rounded-full border-2 border-white shadow-md flex items-center justify-center`,iconSize:[C?32:24,C?32:24],iconAnchor:[C?16:12,C?16:12],html:`<div class="flex items-center justify-center w-full h-full text-white">
                  <i class="fas fa-truck-moving text-xs"></i>
                </div>`});return s.jsxs(Oe.Fragment,{children:[s.jsx(Lu,{position:[_.coordinates.origin.lat,_.coordinates.origin.lng],icon:O,eventHandlers:{click:()=>e(_.id)},children:s.jsx(Ou,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:_.origin}),s.jsx("div",{className:"text-xs text-gray-500",children:"Origin"})]})})}),s.jsx(Lu,{position:[_.coordinates.current.lat,_.coordinates.current.lng],icon:M,eventHandlers:{click:()=>e(_.id)},children:s.jsx(Ou,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:_.loadId}),s.jsx("div",{className:"text-sm",children:_.currentLocation}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Driver: ",_.driver]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",f(_.status)]})]})})}),s.jsx(Lu,{position:[_.coordinates.destination.lat,_.coordinates.destination.lng],icon:T,eventHandlers:{click:()=>e(_.id)},children:s.jsx(Ou,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:_.destination}),s.jsx("div",{className:"text-xs text-gray-500",children:"Destination"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["ETA: ",_.eta]})]})})}),s.jsx(Xy,{positions:[[_.coordinates.origin.lat,_.coordinates.origin.lng],[_.coordinates.current.lat,_.coordinates.current.lng]],color:k,weight:C?4:3,opacity:C?.8:.5}),s.jsx(Xy,{positions:[[_.coordinates.current.lat,_.coordinates.current.lng],[_.coordinates.destination.lat,_.coordinates.destination.lng]],color:k,weight:C?4:3,opacity:C?.5:.3,dashArray:"5, 10"})]},_.id)})]}),s.jsx("div",{className:"absolute top-4 right-4 bg-white shadow-md rounded-lg p-2 z-10",children:s.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 mr-1"}),s.jsx("span",{children:"En Route"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500 mr-1"}),s.jsx("span",{children:"Delayed"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500 mr-1"}),s.jsx("span",{children:"Arriving"})]})]})}),s.jsx("div",{className:"absolute bottom-4 left-4 bg-white shadow-md rounded-lg p-2 z-10",children:s.jsx("div",{className:"text-xs text-gray-500",children:"Last Updated: 12:45 PM - May 23, 2025"})}),s.jsxs("div",{className:"absolute top-4 left-4 z-10 flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm bg-white shadow-md hover:bg-gray-50 flex items-center",children:[s.jsx("i",{className:"fas fa-truck mr-1"}),"Show All"]}),s.jsxs("button",{className:"btn btn-sm bg-white shadow-md hover:bg-gray-50 flex items-center",children:[s.jsx("i",{className:"fas fa-layer-group mr-1"}),"Layers"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-truck-moving mr-2 text-blue-600"}),"Active Shipments (",n.length,")"]}),s.jsx("div",{ref:r,className:"space-y-3 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"},children:n.map(_=>{const k=_.id===t,C=Math.round(_.distanceTraveled/_.distance*100);return s.jsx("div",{className:`bg-white rounded-xl shadow-sm border overflow-hidden transition-all duration-300 cursor-pointer
                    ${k?"border-blue-300 ring-2 ring-blue-300 transform scale-[1.02] shadow-md":"border-gray-200 hover:border-blue-200 hover:shadow"}`,onClick:()=>e(_.id),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:[_.loadId,": ",_.origin,"  ",_.destination]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 
                        ${u(_.status)}`,children:f(_.status)})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-building mr-1 text-gray-400"}),s.jsxs("span",{children:["Broker: ",_.brokerName]})]})}),s.jsxs("div",{className:"mt-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[s.jsx("span",{children:_.currentLocation}),s.jsxs("span",{children:[C,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:`h-1.5 rounded-full ${_.status==="delayed"?"bg-red-500":_.status==="arriving_soon"?"bg-green-500":"bg-blue-500"}`,style:{width:`${C}%`}})})]})]})},_.id)})})]}),s.jsxs("div",{className:"lg:col-span-8",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-boxes mr-2 text-blue-600"}),"Shipment Details"]}),s.jsx(st,{className:"shadow-sm",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Load Information"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Load ID"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.loadId})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Status"}),s.jsx("div",{children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(o.status)}`,children:f(o.status)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Origin"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.origin})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.destination})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Driver"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.driver})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Equipment"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.equipment})]})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Broker Information"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Broker Name"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.brokerName})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Company"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.brokerCompany})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.brokerPhone})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Email"}),s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:o.brokerEmail})]})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Delivery Information"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"ETA"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.eta})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Current Location"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.currentLocation})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Distance"}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[o.distance," miles"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Distance Traveled"}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[o.distanceTraveled," miles"]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[s.jsx("span",{children:"Delivery Progress"}),s.jsxs("span",{children:[Math.round(o.distanceTraveled/o.distance*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`h-2.5 rounded-full ${o.status==="delayed"?"bg-red-500":o.status==="arriving_soon"?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.round(o.distanceTraveled/o.distance*100)}%`}})})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-3",children:"Shipment Timeline"}),s.jsx("div",{className:"relative pl-8 border-l-2 border-gray-200 space-y-6 py-2",children:l.map(_=>s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute -left-10 w-5 h-5 rounded-full flex items-center justify-center ${_.status==="completed"?"bg-green-500":_.status==="current"?"bg-blue-500":"bg-gray-300"}`,children:_.status==="completed"?s.jsx("i",{className:"fas fa-check text-white text-xs"}):_.status==="current"?s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}):s.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-50"})}),s.jsx("div",{className:`mb-1 font-medium ${_.status==="current"?"text-blue-600":"text-gray-900"}`,children:_.title}),s.jsx("div",{className:"text-sm text-gray-500",children:_.timestamp}),s.jsx("div",{className:"text-sm text-gray-600",children:_.location})]},_.id))}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"btn btn-sm btn-outline-primary flex items-center",children:[s.jsx("i",{className:"fas fa-phone mr-1"}),"Contact ",o.brokerName]}),s.jsxs("button",{className:"btn btn-sm btn-outline-secondary flex items-center",children:[s.jsx("i",{className:"fas fa-file-download mr-1"}),"Download Details"]})]})})]})]})})})]})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-bell mr-2 text-blue-600"}),"Recent Notifications"]}),s.jsxs(st,{className:"shadow-sm",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Load"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(_=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.time}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:_.loadId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h(_.type)}`,children:g(_.type)})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:_.message}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsx("button",{className:"btn-sm btn-outline-primary",onClick:()=>{const k=n.find(C=>C.loadId===_.loadId);k&&e(k.id)},children:"View"})})]},_.id))})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-sm",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:["Showing ",s.jsx("span",{className:"font-medium",children:"4"})," of ",s.jsx("span",{className:"font-medium",children:"12"})," notifications"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"View All"}),s.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Mark All as Read"})]})]})})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg mt-8 p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 text-blue-600 mr-3 shrink-0",children:s.jsx("i",{className:"fas fa-mobile-alt"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Track your shipments on the go"}),s.jsx("p",{className:"text-sm text-blue-600 mb-2 md:mb-0",children:"Download our mobile app to monitor your shipments from anywhere."})]})]}),s.jsxs("div",{className:"mt-3 md:mt-0 flex flex-shrink-0 space-x-2",children:[s.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-blue-300 shadow-sm text-sm font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:[s.jsx("i",{className:"fab fa-apple mr-2"}),"App Store"]}),s.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-blue-300 shadow-sm text-sm font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:[s.jsx("i",{className:"fab fa-google-play mr-2"}),"Google Play"]})]})]})})]})},oBe=({item:t,stockLevel:e,onEdit:r,onViewDetails:n})=>{const i=e.availableQuantity/(e.quantity||1)*100,a=e.availableQuantity<=t.reorderPoint,o=e.availableQuantity===0;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${o?"bg-red-100":a?"bg-yellow-100":"bg-blue-100"}`,children:s.jsx(If,{className:`h-5 w-5 ${o?"text-red-600":a?"text-yellow-600":"text-blue-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",t.sku]})]})]}),(a||o)&&s.jsxs("div",{className:`flex items-center space-x-1 ${o?"text-red-600":"text-yellow-600"}`,children:[o?s.jsx(eF,{className:"h-4 w-4"}):s.jsx(Tke,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:o?"Out of Stock":"Low Stock"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Available"}),s.jsxs("span",{className:"font-medium",children:[e.availableQuantity," ",t.unitOfMeasure]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Reserved"}),s.jsxs("span",{className:"font-medium",children:[e.reservedQuantity," ",t.unitOfMeasure]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Location"}),s.jsxs("span",{className:"text-sm font-medium",children:[e.location.zone,"-",e.location.aisle,"-",e.location.rack,"-",e.location.bin]})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${o?"bg-red-500":a?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(i,100)}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.toFixed(0),"% stock available"]})]}),s.jsxs("div",{className:"flex space-x-2 mt-4",children:[s.jsx("button",{onClick:n,className:"flex-1 px-3 py-1.5 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors",children:"View Details"}),s.jsx("button",{onClick:r,className:"flex-1 px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Edit"})]})]})},lBe=({warehouse:t,metrics:e,onManageClick:r})=>{const n=t.usedCapacity/t.capacity*100;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(RA,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",t.code]})]})]}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${t.status==="active"?"bg-green-100 text-green-800":t.status==="maintenance"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Manager"}),s.jsx("p",{className:"font-medium text-gray-900",children:t.manager.name}),s.jsx("p",{className:"text-xs text-gray-500",children:t.manager.phone})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),s.jsxs("p",{className:"text-sm text-gray-900",children:[t.address.city,", ",t.address.state," ",t.address.zipCode]})]})]}),s.jsx("div",{className:"space-y-3 mb-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Capacity Utilization"}),s.jsxs("span",{className:"text-sm font-medium",children:[n.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${n>90?"bg-red-500":n>75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(n,100)}%`}})}),s.jsx("div",{className:"flex justify-between mt-1",children:s.jsxs("span",{className:"text-xs text-gray-500",children:[t.usedCapacity.toLocaleString()," / ",t.capacity.toLocaleString()," units"]})})]})}),e&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(If,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-lg font-semibold",children:e.totalItems})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Total Items"})]}),s.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Wu,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"text-lg font-semibold",children:e.lowStockItems})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Low Stock"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(uN,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-lg font-semibold",children:e.pendingShipments})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Pending Shipments"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx($ke,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-lg font-semibold",children:[e.utilizationRate,"%"]})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Utilization"})]})]}),s.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium text-sm",children:"Manage Warehouse"})]})},cBe=({readiness:t,onNotifyTMS:e,onViewDetails:r,onCreatePickList:n})=>{const i=t.items.filter(h=>h.status==="picked"||h.status==="packed").length,a=t.items.length,o=i/a*100,l=h=>{switch(h){case"ready":return"bg-green-100 text-green-800";case"partially_ready":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},u=h=>{switch(h){case"urgent":return s.jsx(eF,{className:"h-4 w-4 text-red-600"});case"high":return s.jsx(cN,{className:"h-4 w-4 text-orange-600"});default:return null}};return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${t.status==="ready"?"bg-green-100":"bg-yellow-100"}`,children:s.jsx(dg,{className:`h-5 w-5 ${t.status==="ready"?"text-green-600":"text-yellow-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:t.orderId?`Order #${t.orderId}`:`Readiness #${t.id.slice(0,8)}`}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Required by ",new Date(t.requiredDate).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[u(t.priority),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l(t.status)}`,children:t.status.replace("_"," ").charAt(0).toUpperCase()+t.status.slice(1).replace("_"," ")})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Items Ready"}),s.jsxs("span",{className:"text-sm font-medium",children:[i," of ",a]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${o===100?"bg-green-500":o>0?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${o}%`}})})]}),s.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-2",children:[t.items.slice(0,3).map((h,f)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(If,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{className:"text-gray-700",children:h.name})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-gray-500",children:[h.pickedQuantity,"/",h.requiredQuantity]}),h.status==="picked"||h.status==="packed"?s.jsx(Kf,{className:"h-3 w-3 text-green-500"}):s.jsx("div",{className:"h-3 w-3 rounded-full border border-gray-300"})]})]},f)),t.items.length>3&&s.jsxs("p",{className:"text-xs text-gray-500",children:["+",t.items.length-3," more items"]})]}),t.specialInstructions&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2",children:s.jsxs("p",{className:"text-xs text-yellow-800",children:[s.jsx("span",{className:"font-medium",children:"Special Instructions:"})," ",t.specialInstructions]})})]}),s.jsxs("div",{className:"flex space-x-2 mt-4 pt-4 border-t border-gray-100",children:[t.status==="pending"&&s.jsx("button",{onClick:n,className:"flex-1 px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Create Pick List"}),(t.status==="ready"||t.status==="partially_ready")&&s.jsx("button",{onClick:e,className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 transition-colors",children:"Notify TMS"}),s.jsx("button",{onClick:r,className:"flex-1 px-3 py-1.5 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors",children:"View Details"})]})]})},dBe=({alert:t,onAcknowledge:e,onViewDetails:r})=>{const n=()=>{switch(t.severity){case"critical":return s.jsx(Wu,{className:"h-5 w-5 text-red-600"});case"warning":return s.jsx(eF,{className:"h-5 w-5 text-yellow-600"});default:return s.jsx(YSe,{className:"h-5 w-5 text-blue-600"})}},i=()=>{switch(t.severity){case"critical":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}},a=()=>{switch(t.type){case"low_stock":return"Low Stock";case"expiration":return"Expiration Warning";case"damage":return"Damage Report";case"cycle_count":return"Cycle Count Due";case"reorder":return"Reorder Needed";default:return t.type}},o=l=>{const u=Math.floor((new Date().getTime()-new Date(l).getTime())/1e3);if(u<60)return"just now";const h=Math.floor(u/60);if(h<60)return`${h}m ago`;const f=Math.floor(h/60);return f<24?`${f}h ago`:`${Math.floor(f/24)}d ago`};return s.jsxs("div",{className:`rounded-lg border p-4 ${i()} ${t.acknowledged?"opacity-75":""}`,children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:n()}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:`text-sm font-medium ${t.severity==="critical"?"text-red-900":t.severity==="warning"?"text-yellow-900":"text-blue-900"}`,children:a()}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(cN,{className:"h-3 w-3 mr-1"}),o(t.createdAt)]})]}),s.jsx("p",{className:`text-sm ${t.severity==="critical"?"text-red-800":t.severity==="warning"?"text-yellow-800":"text-blue-800"}`,children:t.message}),t.acknowledged&&s.jsxs("p",{className:"text-xs text-gray-600 mt-2 flex items-center",children:[s.jsx(DSe,{className:"h-3 w-3 mr-1"}),"Acknowledged by ",t.acknowledgedBy,"  ",o(t.acknowledgedAt)]})]})]})}),!t.acknowledged&&s.jsxs("div",{className:"flex space-x-2 mt-3",children:[s.jsx("button",{onClick:e,className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-gray-800 rounded-md hover:bg-gray-900 transition-colors",children:"Acknowledge"}),s.jsx("button",{onClick:r,className:"flex-1 px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"View Details"})]})]})},uBe=()=>{const[t,e]=Y.useState(""),[r,n]=Y.useState([]),[i,a]=Y.useState([]),[o,l]=Y.useState([]),[u,h]=Y.useState([]),[f,g]=Y.useState([]),[y,N]=Y.useState(!0),[_,k]=Y.useState("inventory"),[C,O]=Y.useState("");Y.useEffect(()=>{T()},[]),Y.useEffect(()=>{t&&M()},[t]);const T=async()=>{try{const re=[{id:"wh-001",name:"Main Distribution Center",code:"MDC-001",address:{street:"123 Logistics Way",city:"Atlanta",state:"GA",zipCode:"30301",country:"USA"},capacity:5e4,usedCapacity:35e3,status:"active",manager:{name:"John Smith",email:"john.smith@company.com",phone:"+1 (404) 555-0123"},operatingHours:{monday:{open:"06:00",close:"22:00"},tuesday:{open:"06:00",close:"22:00"},wednesday:{open:"06:00",close:"22:00"},thursday:{open:"06:00",close:"22:00"},friday:{open:"06:00",close:"22:00"},saturday:{open:"08:00",close:"18:00"},sunday:{open:"closed",close:"closed"}},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}];n(re),re.length>0&&e(re[0].id)}catch(re){console.error("Error loading warehouses:",re),lt.error("Failed to load warehouses")}},M=async()=>{N(!0);try{const re=[{id:"item-001",sku:"WIDGET-001",name:"Premium Widget",description:"High-quality widget for industrial use",category:"Widgets",unitOfMeasure:"each",weight:2.5,dimensions:{length:10,width:8,height:6,unit:"in"},value:150,reorderPoint:100,reorderQuantity:500,hazmat:!1,fragile:!1,temperatureControlled:!1,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"item-002",sku:"GADGET-002",name:"Electronic Gadget",description:"Advanced electronic component",category:"Electronics",unitOfMeasure:"case",weight:15,dimensions:{length:20,width:15,height:10,unit:"in"},value:500,reorderPoint:50,reorderQuantity:200,hazmat:!1,fragile:!0,temperatureControlled:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],le=[{id:"stock-001",itemId:"item-001",warehouseId:t,quantity:450,availableQuantity:85,reservedQuantity:365,location:{zone:"A",aisle:"12",rack:"3",bin:"B"},lastCountDate:"2024-01-15T00:00:00Z",status:"available"},{id:"stock-002",itemId:"item-002",warehouseId:t,quantity:200,availableQuantity:45,reservedQuantity:155,location:{zone:"B",aisle:"5",rack:"2",bin:"A"},lastCountDate:"2024-01-15T00:00:00Z",status:"available"}],ce=[{id:"ready-001",orderId:"ORD-2024-001",warehouseId:t,status:"partially_ready",items:[{itemId:"item-001",sku:"WIDGET-001",name:"Premium Widget",requiredQuantity:50,availableQuantity:85,pickedQuantity:35,status:"picking"},{itemId:"item-002",sku:"GADGET-002",name:"Electronic Gadget",requiredQuantity:20,availableQuantity:45,pickedQuantity:20,status:"picked"}],requiredDate:"2024-01-28T00:00:00Z",priority:"high",specialInstructions:"Handle with care - fragile items",createdAt:"2024-01-25T00:00:00Z",updatedAt:"2024-01-25T00:00:00Z"}],he=[{id:"alert-001",type:"low_stock",severity:"warning",itemId:"item-001",warehouseId:t,message:"Premium Widget stock level is below reorder point (85 units remaining)",acknowledged:!1,createdAt:new Date().toISOString()},{id:"alert-002",type:"cycle_count",severity:"info",warehouseId:t,message:"Monthly cycle count scheduled for Zone A",acknowledged:!1,createdAt:new Date(Date.now()-36e5).toISOString()}];a(re),l(le),h(ce),g(he)}catch(re){console.error("Error loading warehouse data:",re),lt.error("Failed to load warehouse data")}finally{N(!1)}},B=async re=>{try{const le=u.find(fe=>fe.id===re);if(!le)return;const ce={readinessId:re,warehouseId:t,type:le.status==="ready"?"shipment_ready":"partial_ready",recipients:["tms@company.com"],message:`Shipment ${le.orderId?`for Order ${le.orderId}`:re} is ${le.status==="ready"?"ready":"partially ready"} for pickup`,metadata:{orderId:le.orderId,items:le.items.map(fe=>({sku:fe.sku,name:fe.name,quantity:fe.pickedQuantity})),estimatedPickupTime:new Date(Date.now()+72e5).toISOString()},acknowledged:!1};lt.success("TMS notified successfully! Load/Order will be created.");const he=u.map(fe=>fe.id===re?{...fe,status:"shipped"}:fe);h(he)}catch(le){console.error("Error notifying TMS:",le),lt.error("Failed to notify TMS")}},F=async re=>{try{const le=f.map(ce=>ce.id===re?{...ce,acknowledged:!0,acknowledgedBy:"current-user",acknowledgedAt:new Date().toISOString()}:ce);g(le),lt.success("Alert acknowledged")}catch(le){console.error("Error acknowledging alert:",le),lt.error("Failed to acknowledge alert")}},V=i.filter(re=>re.name.toLowerCase().includes(C.toLowerCase())||re.sku.toLowerCase().includes(C.toLowerCase())),H=r.find(re=>re.id===t),Z=f.filter(re=>!re.acknowledged).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Warehouse Management System"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage inventory, track shipments, and monitor warehouse operations"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"relative",children:s.jsxs("button",{className:"p-2 rounded-lg bg-white border border-gray-200 hover:bg-gray-50 relative",children:[s.jsx(hQ,{className:"h-5 w-5 text-gray-600"}),Z>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:Z})]})}),s.jsx("select",{value:t,onChange:re=>e(re.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.map(re=>s.jsx("option",{value:re.id,children:re.name},re.id))})]})]}),H&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(lBe,{warehouse:H,metrics:{totalItems:i.length,lowStockItems:o.filter(re=>{const le=i.find(ce=>ce.id===re.itemId);return le&&re.availableQuantity<=le.reorderPoint}).length,pendingShipments:u.filter(re=>re.status==="pending"||re.status==="partially_ready").length,utilizationRate:Math.round(H.usedCapacity/H.capacity*100)}}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>k("inventory"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="inventory"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(If,{className:"h-4 w-4"}),s.jsxs("span",{children:["Inventory (",i.length,")"]})]})}),s.jsx("button",{onClick:()=>k("readiness"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="readiness"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dg,{className:"h-4 w-4"}),s.jsxs("span",{children:["Shipments (",u.length,")"]})]})}),s.jsx("button",{onClick:()=>k("alerts"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors relative ${_==="alerts"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wu,{className:"h-4 w-4"}),s.jsxs("span",{children:["Alerts (",f.length,")"]}),Z>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"})]})})]}),_==="inventory"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(yQ,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search inventory...",value:C,onChange:re=>O(re.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsx("button",{className:"p-2 rounded-lg bg-white border border-gray-200 hover:bg-gray-50",children:s.jsx(mQ,{className:"h-4 w-4 text-gray-600"})}),s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx(jv,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Item"})]})]})]}),s.jsx("div",{className:"space-y-4",children:y?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading..."})]}):s.jsxs(s.Fragment,{children:[_==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:V.map(re=>{const le=o.find(ce=>ce.itemId===re.id);return le?s.jsx(oBe,{item:re,stockLevel:le,onEdit:()=>console.log("Edit item:",re.id),onViewDetails:()=>console.log("View details:",re.id)},re.id):null})}),_==="readiness"&&s.jsx("div",{className:"space-y-4",children:u.map(re=>s.jsx(cBe,{readiness:re,onNotifyTMS:()=>B(re.id),onViewDetails:()=>console.log("View readiness:",re.id),onCreatePickList:()=>console.log("Create pick list:",re.id)},re.id))}),_==="alerts"&&s.jsx("div",{className:"space-y-3",children:f.map(re=>s.jsx(dBe,{alert:re,onAcknowledge:()=>F(re.id),onViewDetails:()=>console.log("View alert:",re.id)},re.id))})]})})]})})]})]})},hBe=()=>s.jsx(lB,{moduleType:"shipper"}),fBe=()=>s.jsx(oB,{moduleType:"shipper"});function MY({data:t,columns:e,onRowClick:r,rowClassName:n,emptyMessage:i="No data available",loading:a=!1}){return a?s.jsx(st,{children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t.length===0?s.jsx(st,{children:s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("i",{className:"fas fa-inbox text-4xl mb-4"}),s.jsx("p",{children:i})]})}):s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:e.map(o=>s.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${o.headerClassName||""}`,children:o.label},o.key))})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(o=>s.jsx("tr",{onClick:()=>r&&r(o),className:`
                  ${r?"hover:bg-gray-50 cursor-pointer":""}
                  ${n?n(o):""}
                  transition-colors
                `,children:e.map(l=>s.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${l.className||""}`,children:l.render?l.render(o):o[l.key]},l.key))},o.id))})]})})})}const mBe=()=>{const[t,e]=Y.useState("invoices"),[r,n]=Y.useState([]),[i,a]=Y.useState(!1),[o,l]=Y.useState(!1),[u,h]=Y.useState(null),[f,g]=Y.useState("ach"),[y,N]=Y.useState(""),[_,k]=Y.useState(!1),C=[{id:"INV001",invoiceNumber:"INV-2024-001",brokerName:"John Smith",brokerCompany:"ABC Logistics",loadNumbers:["LOAD001","LOAD002"],issueDate:"2024-05-01",dueDate:"2024-05-31",amount:5850,status:"pending"},{id:"INV002",invoiceNumber:"INV-2024-002",brokerName:"Sarah Johnson",brokerCompany:"XYZ Freight",loadNumbers:["LOAD003"],issueDate:"2024-04-15",dueDate:"2024-05-15",amount:3200,status:"overdue"},{id:"INV003",invoiceNumber:"INV-2024-003",brokerName:"Mike Davis",brokerCompany:"Quick Transport",loadNumbers:["LOAD004","LOAD005","LOAD006"],issueDate:"2024-04-01",dueDate:"2024-05-01",amount:8750,status:"partial",remainingBalance:4e3,lastPaymentDate:"2024-04-25"},{id:"INV004",invoiceNumber:"INV-2024-004",brokerName:"Lisa Brown",brokerCompany:"Express Logistics",loadNumbers:["LOAD007"],issueDate:"2024-03-15",dueDate:"2024-04-15",amount:2100,status:"paid",paymentMethod:"ACH Transfer",lastPaymentDate:"2024-04-10"}],O=[{id:"PAY001",invoiceId:"INV004",invoiceNumber:"INV-2024-004",amount:2100,paymentDate:"2024-04-10",paymentMethod:"ACH Transfer",referenceNumber:"ACH-2024041001",status:"completed"},{id:"PAY002",invoiceId:"INV003",invoiceNumber:"INV-2024-003",amount:4750,paymentDate:"2024-04-25",paymentMethod:"Wire Transfer",referenceNumber:"WIRE-2024042501",status:"completed"}],[T]=Y.useState(C),[M]=Y.useState(O),B=T.filter(ee=>ee.status==="pending"||ee.status==="overdue").reduce((ee,xe)=>ee+(xe.remainingBalance||xe.amount),0),F=T.filter(ee=>ee.status==="overdue").reduce((ee,xe)=>ee+xe.amount,0),V=M.filter(ee=>ee.status==="completed").reduce((ee,xe)=>ee+xe.amount,0),H=ee=>{n(xe=>xe.includes(ee)?xe.filter(ie=>ie!==ee):[...xe,ee])},Z=async()=>{if(r.length===0){At("Please select at least one invoice to pay","error");return}if(!y||parseFloat(y)<=0){At("Please enter a valid payment amount","error");return}k(!0);try{await new Promise(ee=>setTimeout(ee,2e3)),At("Payment processed successfully","success"),a(!1),n([]),N("")}catch{At("Payment failed. Please try again.","error")}finally{k(!1)}},re=ee=>{h(ee),l(!0)},le=ee=>{n([ee.id]),N((ee.remainingBalance||ee.amount).toString()),a(!0)},ce=r.reduce((ee,xe)=>{const ie=T.find(ge=>ge.id===xe);return ee+((ie==null?void 0:ie.remainingBalance)||(ie==null?void 0:ie.amount)||0)},0),he=[{key:"select",label:"",render:ee=>s.jsx("input",{type:"checkbox",checked:r.includes(ee.id),onChange:()=>H(ee.id),disabled:ee.status==="paid",className:"rounded border-gray-300"}),className:"w-12"},{key:"invoiceNumber",label:"Invoice #",render:ee=>s.jsx("button",{onClick:()=>re(ee),className:"text-blue-600 hover:text-blue-700 font-medium",children:ee.invoiceNumber})},{key:"broker",label:"Broker",render:ee=>s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:ee.brokerCompany}),s.jsx("div",{className:"text-sm text-gray-500",children:ee.brokerName})]})},{key:"loads",label:"Loads",render:ee=>s.jsxs("div",{className:"text-sm",children:[ee.loadNumbers.length," load",ee.loadNumbers.length>1?"s":""]})},{key:"amount",label:"Amount",render:ee=>s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["$",ee.amount.toLocaleString()]}),ee.remainingBalance&&s.jsxs("div",{className:"text-sm text-orange-600",children:["Balance: $",ee.remainingBalance.toLocaleString()]})]})},{key:"dueDate",label:"Due Date",render:ee=>s.jsx("div",{className:ee.status==="overdue"?"text-red-600 font-medium":"",children:new Date(ee.dueDate).toLocaleDateString()})},{key:"status",label:"Status",render:ee=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ee.status==="paid"?"bg-green-100 text-green-800":ee.status==="pending"?"bg-yellow-100 text-yellow-800":ee.status==="overdue"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:ee.status.charAt(0).toUpperCase()+ee.status.slice(1)})},{key:"actions",label:"Actions",render:ee=>s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>re(ee),className:"text-gray-600 hover:text-gray-800",title:"View Invoice",children:s.jsx("i",{className:"fas fa-eye"})}),ee.status!=="paid"&&s.jsx("button",{onClick:()=>le(ee),className:"text-green-600 hover:text-green-800",title:"Pay Invoice",children:s.jsx("i",{className:"fas fa-credit-card"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800",title:"Download PDF",children:s.jsx("i",{className:"fas fa-download"})})]})}],fe=[{key:"referenceNumber",label:"Reference #",render:ee=>s.jsx("span",{className:"font-medium text-gray-900",children:ee.referenceNumber})},{key:"invoiceNumber",label:"Invoice #",render:ee=>s.jsx("span",{className:"text-blue-600",children:ee.invoiceNumber})},{key:"amount",label:"Amount",render:ee=>s.jsxs("span",{className:"font-medium",children:["$",ee.amount.toLocaleString()]})},{key:"paymentDate",label:"Payment Date",render:ee=>new Date(ee.paymentDate).toLocaleDateString()},{key:"paymentMethod",label:"Method",render:ee=>ee.paymentMethod},{key:"status",label:"Status",render:ee=>s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ee.status==="completed"?"bg-green-100 text-green-800":ee.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ee.status.charAt(0).toUpperCase()+ee.status.slice(1)})},{key:"actions",label:"Actions",render:()=>s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-gray-600 hover:text-gray-800",title:"View Receipt",children:s.jsx("i",{className:"fas fa-receipt"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-800",title:"Download",children:s.jsx("i",{className:"fas fa-download"})})]})}];return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payments"}),s.jsx("p",{className:"text-gray-600",children:"Manage invoices and payments to brokers"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(st,{className:"bg-gradient-to-br from-red-50 to-red-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-600",children:"Total Outstanding"}),s.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["$",B.toLocaleString()]})]}),s.jsx("div",{className:"bg-red-200 p-3 rounded-full",children:s.jsx("i",{className:"fas fa-exclamation-circle text-red-600 text-xl"})})]})}),s.jsx(st,{className:"bg-gradient-to-br from-orange-50 to-orange-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Overdue"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:["$",F.toLocaleString()]})]}),s.jsx("div",{className:"bg-orange-200 p-3 rounded-full",children:s.jsx("i",{className:"fas fa-clock text-orange-600 text-xl"})})]})}),s.jsx(st,{className:"bg-gradient-to-br from-green-50 to-green-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Paid (MTD)"}),s.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["$",V.toLocaleString()]})]}),s.jsx("div",{className:"bg-green-200 p-3 rounded-full",children:s.jsx("i",{className:"fas fa-check-circle text-green-600 text-xl"})})]})}),s.jsx(st,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Next Payment Due"}),s.jsx("p",{className:"text-lg font-bold text-blue-700",children:"May 15, 2024"}),s.jsx("p",{className:"text-sm text-blue-600",children:"$3,200.00"})]}),s.jsx("div",{className:"bg-blue-200 p-3 rounded-full",children:s.jsx("i",{className:"fas fa-calendar-alt text-blue-600 text-xl"})})]})})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>e("invoices"),className:`px-4 py-2 font-medium rounded-lg transition-colors ${t==="invoices"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx("i",{className:"fas fa-file-invoice mr-2"}),"Invoices"]}),s.jsxs("button",{onClick:()=>e("payments"),className:`px-4 py-2 font-medium rounded-lg transition-colors ${t==="payments"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx("i",{className:"fas fa-history mr-2"}),"Payment History"]})]}),t==="invoices"&&r.length>0&&s.jsxs("button",{onClick:()=>a(!0),className:"btn btn-primary",children:[s.jsx("i",{className:"fas fa-credit-card mr-2"}),"Pay Selected (",r.length,")"]})]}),s.jsx(st,{children:t==="invoices"?s.jsxs(s.Fragment,{children:[r.length>0&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-blue-700",children:[r.length," invoice",r.length>1?"s":""," selected"]}),s.jsxs("span",{className:"font-bold text-blue-800",children:["Total: $",ce.toLocaleString()]})]})}),s.jsx(MY,{data:T,columns:he})]}):s.jsx(MY,{data:M,columns:fe})}),s.jsx(xr,{isOpen:i,onClose:()=>a(!1),title:"Process Payment",size:"lg",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Selected Invoices"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[r.map(ee=>{const xe=T.find(ie=>ie.id===ee);return xe?s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:xe.invoiceNumber}),s.jsxs("span",{className:"text-gray-500 ml-2",children:["- ",xe.brokerCompany]})]}),s.jsxs("span",{className:"font-medium",children:["$",(xe.remainingBalance||xe.amount).toLocaleString()]})]},ee):null}),s.jsxs("div",{className:"border-t pt-2 flex justify-between items-center font-bold",children:[s.jsx("span",{children:"Total Amount:"}),s.jsxs("span",{className:"text-lg",children:["$",ce.toLocaleString()]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"ach",label:"ACH Transfer",icon:"fa-university"},{value:"wire",label:"Wire Transfer",icon:"fa-exchange-alt"},{value:"check",label:"Check",icon:"fa-money-check"},{value:"credit_card",label:"Credit Card",icon:"fa-credit-card"}].map(ee=>s.jsxs("button",{onClick:()=>g(ee.value),className:`p-3 border rounded-lg flex items-center justify-center space-x-2 transition-colors ${f===ee.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("i",{className:`fas ${ee.icon}`}),s.jsx("span",{children:ee.label})]},ee.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx("input",{type:"number",value:y,onChange:ee=>N(ee.target.value),className:"pl-8 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",step:"0.01"})]}),s.jsxs("button",{onClick:()=>N(ce.toString()),className:"text-blue-600 text-sm mt-1 hover:text-blue-700",children:["Pay full amount ($",ce.toLocaleString(),")"]})]}),f==="ach"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Account"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Business Checking ****1234"}),s.jsx("option",{children:"Business Savings ****5678"})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-700",children:[s.jsx("i",{className:"fas fa-info-circle mr-2"}),"ACH transfers typically process within 1-2 business days"]})]}),f==="wire"&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-sm",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Wire Transfer Instructions"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Bank:"})," First National Bank"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Routing:"})," 123456789"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Account:"})," 987654321"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Reference:"})," Include invoice numbers"]})]})]}),f==="credit_card"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"1234 5678 9012 3456"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"MM/YY"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"123"})]})]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 text-sm text-orange-700",children:[s.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),"Credit card payments incur a 2.9% processing fee"]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:_,children:"Cancel"}),s.jsx("button",{onClick:Z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400",disabled:_||!y||parseFloat(y)<=0,children:_?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-check mr-2"}),"Process Payment"]})})]})]})}),s.jsx(xr,{isOpen:o,onClose:()=>l(!1),title:"Invoice Details",size:"lg",children:u&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"border-b pb-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:u.invoiceNumber}),s.jsxs("p",{className:"text-gray-600",children:["Issued: ",new Date(u.issueDate).toLocaleDateString()]})]}),s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-medium rounded-full ${u.status==="paid"?"bg-green-100 text-green-800":u.status==="pending"?"bg-yellow-100 text-yellow-800":u.status==="overdue"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Broker"}),s.jsxs("div",{className:"text-gray-900",children:[s.jsx("p",{className:"font-medium",children:u.brokerCompany}),s.jsx("p",{children:u.brokerName})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Payment Terms"}),s.jsxs("div",{className:"text-gray-900",children:[s.jsxs("p",{children:["Due: ",new Date(u.dueDate).toLocaleDateString()]}),s.jsx("p",{className:u.status==="overdue"?"text-red-600 font-medium":"",children:u.status==="overdue"?"Overdue":"Net 30"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Associated Loads"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600",children:[s.jsx("th",{className:"pb-2",children:"Load #"}),s.jsx("th",{className:"pb-2",children:"Route"}),s.jsx("th",{className:"pb-2 text-right",children:"Amount"})]})}),s.jsx("tbody",{children:u.loadNumbers.map(ee=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2",children:ee}),s.jsx("td",{className:"py-2",children:"Chicago, IL  New York, NY"}),s.jsx("td",{className:"py-2 text-right",children:"$2,925.00"})]},ee))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"border-t font-medium",children:[s.jsx("td",{colSpan:2,className:"pt-2",children:"Total"}),s.jsxs("td",{className:"pt-2 text-right",children:["$",u.amount.toLocaleString()]})]})})]})})]}),u.status==="paid"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Payment Information"}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Paid on:"})," ",u.lastPaymentDate]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Method:"})," ",u.paymentMethod]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[s.jsx("i",{className:"fas fa-download mr-2"}),"Download PDF"]}),u.status!=="paid"&&s.jsxs("button",{onClick:()=>{le(u),l(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[s.jsx("i",{className:"fas fa-credit-card mr-2"}),"Pay Invoice"]})]})]})})]})},Go=({children:t})=>{const{user:e,isAuthenticated:r}=_g();return r?(e==null?void 0:e.role)!==ln.SHIPPER&&(e==null?void 0:e.role)!==ln.ADMIN?s.jsx(Of,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:t}):s.jsx(Of,{to:"/login",replace:!0})},pBe=[{path:"shipper",element:s.jsx(Go,{children:s.jsx(TY,{})}),children:[]},{path:"shipper/dashboard",element:s.jsx(Go,{children:s.jsx(TY,{})})},{path:"shipper/loads",element:s.jsx(Go,{children:s.jsx(qFe,{})})},{path:"shipper/create-load",element:s.jsx(Go,{children:s.jsx(XFe,{})})},{path:"shipper/documents",element:s.jsx(Go,{children:s.jsx(YFe,{})})},{path:"shipper/reports",element:s.jsx(Go,{children:s.jsx(GFe,{})})},{path:"shipper/settings",element:s.jsx(Go,{children:s.jsx(Qne,{})})},{path:"shipper/tracking",element:s.jsx(Go,{children:s.jsx(aBe,{})})},{path:"shipper/warehouse",element:s.jsx(Go,{children:s.jsx(uBe,{})})},{path:"shipper/payments",element:s.jsx(Go,{children:s.jsx(mBe,{})})},{path:"shipper/workflows",element:s.jsx(Go,{children:s.jsx(hBe,{})})},{path:"shipper/workflows/builder",element:s.jsx(Go,{children:s.jsx(fBe,{})})}],gBe=()=>{const[t,e]=Y.useState("revenue"),[r,n]=Y.useState("this-month"),i=[{id:"1",title:"Monthly Revenue Report",type:"revenue",date:"May 15, 2025"},{id:"2",title:"Driver Performance Q2",type:"drivers",date:"May 10, 2025"},{id:"3",title:"Customer Profitability Analysis",type:"profit",date:"May 5, 2025"},{id:"4",title:"Route Efficiency Report",type:"routes",date:"April 28, 2025"}],a=[{customer:"Acme Co",loads:22,revenue:32450,avgRate:1475,percentOfTotal:25.8,yoyChange:15.2},{customer:"Global Logistics",loads:18,revenue:28750,avgRate:1597,percentOfTotal:22.8,yoyChange:8.7},{customer:"Fast Freight",loads:15,revenue:25300,avgRate:1687,percentOfTotal:20.1,yoyChange:12.3},{customer:"Speedy Shipping",loads:12,revenue:19850,avgRate:1654,percentOfTotal:15.8,yoyChange:-2.1},{customer:"Reliable Transport",loads:10,revenue:15200,avgRate:1520,percentOfTotal:12.1,yoyChange:5.4}],o=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l);return s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),s.jsx("p",{className:"text-gray-600",children:"Generate custom reports and analyze your business performance"})]}),s.jsx("div",{children:s.jsxs("button",{className:"btn btn-primary flex items-center",children:[s.jsx("i",{className:"fas fa-star mr-2"}),"Save Current Report"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs(st,{className:"shadow-sm",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4 pb-3 border-b border-gray-100",children:"Report Parameters"}),s.jsxs("form",{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"report-type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),s.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",id:"report-type",value:t,onChange:l=>e(l.target.value),children:[s.jsx("option",{value:"revenue",children:"Revenue Report"}),s.jsx("option",{value:"loads",children:"Load Report"}),s.jsx("option",{value:"drivers",children:"Driver Performance"}),s.jsx("option",{value:"customers",children:"Customer Analysis"}),s.jsx("option",{value:"profit",children:"Profitability Analysis"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"time-period",className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Period"}),s.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",id:"time-period",value:r,onChange:l=>n(l.target.value),children:[s.jsx("option",{value:"this-week",children:"This Week"}),s.jsx("option",{value:"this-month",children:"This Month"}),s.jsx("option",{value:"last-month",children:"Last Month"}),s.jsx("option",{value:"quarter",children:"Last Quarter"}),s.jsx("option",{value:"year",children:"Year to Date"}),s.jsx("option",{value:"custom",children:"Custom Range"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-calendar-alt text-gray-400"})}),s.jsx("input",{type:"date",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",id:"start-date",disabled:r!=="custom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-calendar-alt text-gray-400"})}),s.jsx("input",{type:"date",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",id:"end-date",disabled:r!=="custom"})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"group-by",className:"block text-sm font-medium text-gray-700 mb-1",children:"Group By"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("i",{className:"fas fa-layer-group text-gray-400"})}),s.jsxs("select",{className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",id:"group-by",children:[s.jsx("option",{value:"day",children:"Day"}),s.jsx("option",{value:"week",children:"Week"}),s.jsx("option",{value:"month",children:"Month"}),s.jsx("option",{value:"customer",children:"Customer"}),s.jsx("option",{value:"driver",children:"Driver"}),s.jsx("option",{value:"state",children:"State/Region"})]})]})]}),s.jsxs("div",{className:"mb-5",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Filters"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"filter-customer",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"filter-customer",className:"ml-2 block text-sm text-gray-700",children:"Filter by Customer"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"filter-region",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"filter-region",className:"ml-2 block text-sm text-gray-700",children:"Filter by Region"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"filter-driver",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"filter-driver",className:"ml-2 block text-sm text-gray-700",children:"Filter by Driver"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"filter-load-type",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"filter-load-type",className:"ml-2 block text-sm text-gray-700",children:"Filter by Load Type"})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:s.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-800",children:"+ Add Custom Filter"})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reset"}),s.jsxs("button",{type:"button",className:"btn btn-primary",children:[s.jsx("i",{className:"fas fa-chart-bar mr-2"}),"Generate Report"]})]})]})]}),s.jsxs(st,{className:"shadow-sm",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 pb-3 border-b border-gray-100 flex justify-between items-center",children:[s.jsx("span",{children:"Saved Reports"}),s.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[s.jsx("i",{className:"fas fa-plus-circle mr-1"}),"Create Schedule"]})]}),s.jsx("div",{className:"space-y-3",children:i.map(l=>s.jsxs("div",{className:"group bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center mr-3 ${l.type==="revenue"?"bg-green-100 text-green-600":l.type==="drivers"?"bg-blue-100 text-blue-600":l.type==="profit"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:s.jsx("i",{className:`fas ${l.type==="revenue"?"fa-chart-line":l.type==="drivers"?"fa-users":l.type==="profit"?"fa-percentage":"fa-route"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:l.title}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Last Generated: ",l.date]})]})]})}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 rounded-md hover:bg-gray-100 transition-colors",children:s.jsx("i",{className:"fas fa-download"})}),s.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-600 rounded-md hover:bg-gray-100 transition-colors",children:s.jsx("i",{className:"fas fa-sync-alt"})}),s.jsx("button",{className:"p-2 text-gray-500 hover:text-red-600 rounded-md hover:bg-gray-100 transition-colors",children:s.jsx("i",{className:"fas fa-trash-alt"})})]})]}),s.jsx("div",{className:"bg-gray-50 text-sm p-3 border-t border-gray-200 hidden group-hover:block",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Type:"}),s.jsx("span",{className:"ml-1 text-gray-900 font-medium",children:l.type==="revenue"?"Revenue Report":l.type==="drivers"?"Driver Performance":l.type==="profit"?"Profitability Analysis":"Route Efficiency"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Period:"}),s.jsx("span",{className:"ml-1 text-gray-900 font-medium",children:"Last Month"})]})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Load Parameters"})]})})]},l.id))}),s.jsx("div",{className:"mt-6 bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-blue-100 rounded-full p-2 text-blue-600",children:s.jsx("i",{className:"fas fa-calendar-check"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Automatic Report Delivery"}),s.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Set up scheduled reports to be automatically generated and emailed to your team."}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{className:"inline-flex items-center px-3 py-1.5 border border-blue-300 shadow-sm text-xs font-medium rounded-md text-blue-700 bg-white hover:bg-blue-50",children:"Manage Schedules"})})]})]})})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx("i",{className:"fas fa-chart-line mr-2 text-blue-600"}),"Revenue Report (April 2025)"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"appearance-none bg-white border border-gray-300 rounded-md pl-3 pr-8 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("option",{children:"Last 30 Days"}),s.jsx("option",{children:"Last Quarter"}),s.jsx("option",{children:"Last Year"}),s.jsx("option",{children:"Custom Range"})]}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:s.jsx("i",{className:"fas fa-chevron-down text-gray-400 text-xs"})})]}),s.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:s.jsx("i",{className:"fas fa-download"})})]})]}),s.jsxs(st,{className:"shadow-sm",children:[s.jsx("div",{className:"h-72 mb-6 bg-gray-50 rounded-lg flex flex-col items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-lg p-4",children:[s.jsx("i",{className:"fas fa-chart-bar text-5xl text-blue-300 mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Chart visualization will be implemented with ApexCharts or a similar library."})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-400 to-green-600 rounded-lg p-4 text-white",children:[s.jsx("div",{className:"text-4xl font-bold mb-1",children:"$125,850"}),s.jsx("div",{className:"text-lg font-medium mb-2",children:"Total Revenue"}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),s.jsx("span",{children:"12.5% vs. previous month"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg p-4 text-white",children:[s.jsx("div",{className:"text-4xl font-bold mb-1",children:"86"}),s.jsx("div",{className:"text-lg font-medium mb-2",children:"Total Loads"}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),s.jsx("span",{children:"8.9% vs. previous month"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg p-4 text-white",children:[s.jsx("div",{className:"text-4xl font-bold mb-1",children:"$1,463"}),s.jsx("div",{className:"text-lg font-medium mb-2",children:"Average Rate"}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),s.jsx("span",{children:"3.2% vs. previous month"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-600 rounded-lg p-4 text-white",children:[s.jsx("div",{className:"text-4xl font-bold mb-1",children:"42.5%"}),s.jsx("div",{className:"text-lg font-medium mb-2",children:"Profit Margin"}),s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("i",{className:"fas fa-arrow-up mr-1"}),s.jsx("span",{children:"1.8% vs. previous month"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-8",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-trophy mr-2 text-blue-600"}),"Top 5 Customers by Revenue"]}),s.jsxs(st,{className:"shadow-sm",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loads"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Rate"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% of Total"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"YoY Change"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((l,u)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.customer}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:l.loads}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:o(l.revenue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:o(l.avgRate)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("span",{className:"mr-2",children:[l.percentOfTotal,"%"]}),s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${l.percentOfTotal}%`}})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("span",{className:`${l.yoyChange>=0?"text-green-600":"text-red-600"} font-medium`,children:[l.yoyChange>=0?"+":"",l.yoyChange,"%"]})})]},u))})]})}),s.jsx("div",{className:"border-t border-gray-200 px-6 py-3 bg-gray-50 text-right",children:s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All Customers"})})]})]}),s.jsxs("div",{className:"lg:col-span-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-file-export mr-2 text-blue-600"}),"Export Options"]}),s.jsx(st,{className:"shadow-sm overflow-hidden",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-red-100 rounded-full p-2 text-red-500 mr-3",children:s.jsx("i",{className:"fas fa-file-pdf"})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Export as PDF"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-2 text-green-500 mr-3",children:s.jsx("i",{className:"fas fa-file-excel"})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Export as Excel"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 rounded-full p-2 text-blue-500 mr-3",children:s.jsx("i",{className:"fas fa-file-csv"})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Export as CSV"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-2 text-gray-500 mr-3",children:s.jsx("i",{className:"fas fa-print"})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Print Report"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-purple-100 rounded-full p-2 text-purple-500 mr-3",children:s.jsx("i",{className:"fas fa-envelope"})}),s.jsx("span",{className:"font-medium text-gray-900",children:"Schedule Email Delivery"})]}),s.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})]})}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center mb-4",children:[s.jsx("i",{className:"fas fa-sliders-h mr-2 text-blue-600"}),"Data Visualization"]}),s.jsx(st,{className:"shadow-sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Type"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-md text-sm font-medium",children:"Bar Chart"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-200",children:"Line Chart"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-200",children:"Pie Chart"}),s.jsx("button",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-200",children:"Area Chart"})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("label",{htmlFor:"data-series",className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Series"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"series-revenue",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",defaultChecked:!0}),s.jsxs("label",{htmlFor:"series-revenue",className:"ml-2 flex items-center",children:[s.jsx("div",{className:"h-3 w-3 bg-blue-500 rounded-full mr-1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Revenue"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"series-loads",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",defaultChecked:!0}),s.jsxs("label",{htmlFor:"series-loads",className:"ml-2 flex items-center",children:[s.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full mr-1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Loads"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"series-profit",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",defaultChecked:!0}),s.jsxs("label",{htmlFor:"series-profit",className:"ml-2 flex items-center",children:[s.jsx("div",{className:"h-3 w-3 bg-purple-500 rounded-full mr-1"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Profit"})]})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comparison"}),s.jsx("span",{className:"text-sm text-gray-500",children:"vs. Previous Period"})]}),s.jsx("div",{className:"w-full h-8 flex items-center",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"65%"}})})})]})]})})]})]})]})]})},xBe=()=>{const t=Bn(),{login:e,isLoading:r}=_g(),[n,i]=Y.useState({username:"",password:"",rememberMe:!1}),[a,o]=Y.useState(null),l=g=>{const{name:y,value:N,type:_,checked:k}=g.target;i({...n,[y]:_==="checkbox"?k:N})},u=async g=>{g.preventDefault(),o(null);try{const y=await e({username:n.username,password:n.password,rememberMe:n.rememberMe});y.user.role==="broker"?t("/broker/dashboard"):y.user.role==="shipper"?t("/shipper/dashboard"):t("/dashboard")}catch(y){o("Invalid username or password. Please try again."),console.error("Login error:",y)}},h={carrier:{name:"Carrier Group",color:"gray",users:[{role:"Dispatcher",username:"dispatcher1",password:"password"},{role:"Operator",username:"operator1",password:"password"},{role:"Supervisor",username:"supervisor1",password:"password"},{role:"Admin",username:"admin",password:"password"},{role:"Carrier",username:"carrier1",password:"password"}]},broker:{name:"Broker Group",color:"blue",users:[{role:"Broker 1",username:"broker1",password:"password",description:"Emily Anderson"},{role:"Broker 2",username:"broker2",password:"password",description:"David Martinez"},{role:"Broker 3",username:"broker3",password:"password",description:"Jessica Williams"}]},shipper:{name:"Shipper Group",color:"green",users:[{role:"Shipper 1",username:"shipper1",password:"password",description:"Tom Shanahan"},{role:"Shipper 2",username:"shipper2",password:"password",description:"Lisa Chen"},{role:"Shipper 3",username:"shipper3",password:"password",description:"Mark Thompson"}]}},f=g=>{i({...n,username:g,password:"password"})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 flex items-center justify-center px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"h-24 w-24 rounded-full bg-white shadow-lg flex items-center justify-center",children:s.jsx("div",{className:"h-20 w-20 rounded-full bg-blue-600 flex items-center justify-center text-white text-4xl font-bold",children:"O"})})}),s.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"Octopus TMS"}),s.jsx("p",{className:"text-xl text-blue-100",children:"Transportation Management System"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-10",children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-8",children:"Log In to Your Account"}),a&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded",role:"alert",children:s.jsx("p",{children:a})}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),s.jsx("input",{type:"text",id:"username",name:"username",value:n.username,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Enter your username",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200",placeholder:"Enter your password",required:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",checked:n.rememberMe,onChange:l,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),s.jsx("div",{className:"text-sm",children:s.jsx(yo,{to:"/forgot-password",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Forgot password?"})})]}),s.jsx("button",{type:"submit",className:"w-full py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-200 transform hover:scale-[1.02]",disabled:r,children:r?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Log in"})]}),s.jsxs("div",{className:"mt-10 pt-8 border-t border-gray-200",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-4",children:"Demo Accounts (Click to fill):"}),Object.entries(h).map(([g,y])=>s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:`text-sm font-semibold mb-3 ${g==="carrier"?"text-gray-700":g==="broker"?"text-blue-700":"text-green-700"}`,children:y.name}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:y.users.map((N,_)=>s.jsxs("button",{onClick:()=>f(N.username),className:`py-3 px-4 rounded-lg border-2 transition-all duration-200 hover:shadow-md transform hover:scale-[1.02] ${g==="carrier"?"border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-gray-400":g==="broker"?"border-blue-300 bg-blue-50 hover:bg-blue-100 hover:border-blue-400":"border-green-300 bg-green-50 hover:bg-green-100 hover:border-green-400"}`,title:N.description||N.role,children:[s.jsx("div",{className:"font-medium text-gray-800",children:N.role}),N.description&&s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:N.description})]},_))})]},g)),s.jsx("p",{className:"text-sm text-gray-500 mt-6 text-center",children:'All demo accounts use password: "password"'})]})]}),s.jsx("p",{className:"mt-8 text-center text-sm text-blue-100",children:" 2025 Octopus TMS. All rights reserved."})]})})},yBe=()=>{const{user:t}=_g(),[e,r]=Y.useState(!1),[n,i]=Y.useState(!1),a={fullName:"Emily Anderson",email:"emily.anderson@octopus-tms.com",username:"broker1",phone:"(555) 789-0123",department:"Brokerage",lastLogin:"5/21/2025, 6:16:00 AM",role:"broker"},o={activeDriversToday:28,totalDriversManaged:42,totalCustomersServed:76,avgResponseTime:"2.4 min"},l={actionsToday:38,loadsDispatched:156,tasksCompleted:324,performanceScore:92},[u,h]=Y.useState({theme:"light",language:"English",defaultView:"Dashboard",emailNotifications:!0,smsNotifications:!1,inAppNotifications:!0}),f=(y,N)=>{h(_=>({..._,[y]:N}))},g=()=>{console.log("Saving preferences:",u),alert("Preferences saved successfully!")};return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Profile"}),s.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[s.jsx(Dke,{className:"w-5 h-5 text-blue-600"}),"Profile Information"]}),s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-3xl font-bold",children:"EA"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.fullName}),s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:a.role})]}),s.jsxs("div",{className:"space-y-2 text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"Email:"}),s.jsx("span",{className:"font-medium",children:a.email})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"Username:"}),s.jsx("span",{className:"font-medium",children:a.username})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"Phone:"}),s.jsx("span",{className:"font-medium",children:a.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"Department:"}),s.jsx("span",{className:"font-medium",children:a.department})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"Last Login:"}),s.jsx("span",{className:"font-medium",children:a.lastLogin})]})]}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(uke,{className:"w-4 h-4"}),"Edit Profile"]}),s.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(pQ,{className:"w-4 h-4"}),"Change Password"]})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Jm,{className:"w-5 h-5 text-blue-600"}),"Your Activity"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Actions Today"}),s.jsx(Jm,{className:"w-6 h-6 opacity-80"})]}),s.jsx("p",{className:"text-3xl font-bold",children:l.actionsToday})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Loads Dispatched"}),s.jsx(dg,{className:"w-6 h-6 opacity-80"})]}),s.jsx("p",{className:"text-3xl font-bold",children:l.loadsDispatched})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Tasks Completed"}),s.jsx(Ske,{className:"w-6 h-6 opacity-80"})]}),s.jsx("p",{className:"text-3xl font-bold",children:l.tasksCompleted})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Performance Score"}),s.jsx(Q6,{className:"w-6 h-6 opacity-80"})]}),s.jsxs("p",{className:"text-3xl font-bold",children:[l.performanceScore,"%"]})]})]})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Jm,{className:"w-5 h-5 text-blue-600"}),"Statistics"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Active Drivers Today"}),s.jsx("span",{className:"font-bold text-lg",children:o.activeDriversToday})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Total Drivers Managed"}),s.jsx("span",{className:"font-bold text-lg",children:o.totalDriversManaged})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-gray-600",children:"Total Customers Served"}),s.jsx("span",{className:"font-bold text-lg",children:o.totalCustomersServed})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-600",children:"Avg. Response Time"}),s.jsx("span",{className:"font-bold text-lg",children:o.avgResponseTime})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(oke,{className:"w-5 h-5 text-blue-600"}),"Preferences"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),s.jsxs("select",{value:u.theme,onChange:y=>f("theme",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"light",children:"Light"}),s.jsx("option",{value:"dark",children:"Dark"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),s.jsxs("select",{value:u.language,onChange:y=>f("language",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"English",children:"English"}),s.jsx("option",{value:"Spanish",children:"Spanish"}),s.jsx("option",{value:"French",children:"French"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default View"}),s.jsxs("select",{value:u.defaultView,onChange:y=>f("defaultView",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Dashboard",children:"Dashboard"}),s.jsx("option",{value:"Loads",children:"Loads"}),s.jsx("option",{value:"Tracking",children:"Tracking"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Notifications"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:u.emailNotifications,onChange:y=>f("emailNotifications",y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Email Notifications"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:u.smsNotifications,onChange:y=>f("smsNotifications",y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"SMS Notifications"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:u.inAppNotifications,onChange:y=>f("inAppNotifications",y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"In-App Notifications"})]})]})]}),s.jsx("button",{onClick:g,className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Save Preferences"})]})]})]})]}),e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Edit Profile"}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",defaultValue:a.fullName,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",defaultValue:a.email,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",defaultValue:a.phone,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),s.jsx("input",{type:"text",defaultValue:a.department,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Change Password"}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),s.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Password"})]})]})]})})]})},vBe=t=>{const e=t==="day"?"Today":t==="week"?"This Week":"This Month",r=t==="day"?1:t==="week"?.8:.6;return[{title:`On-Time Delivery Rate (${e})`,value:`${Math.min(99,92+(t==="month"?3:t==="week"?1:0))}%`,change:2.5*r,icon:"fas fa-clock",color:"blue"},{title:`Team Efficiency (${e})`,value:`${Math.min(99,87+(t==="month"?4:t==="week"?2:0))}%`,change:3.2*r,icon:"fas fa-bolt",color:"green"},{title:`Customer Satisfaction (${e})`,value:`${4.7+(t==="month"?.2:t==="week"?.1:0)}/5`,change:-.1*r,icon:"fas fa-smile",color:"orange"},{title:`Utilization Rate (${e})`,value:`${Math.min(99,94+(t==="month"?2:t==="week"?1:0))}%`,change:1.8*r,icon:"fas fa-chart-line",color:"purple"},{title:`Active Incidents (${e})`,value:3*(t==="day"?1:t==="week"?5:20),change:-2*r,icon:"fas fa-exclamation-triangle",color:"red"},{title:`Revenue per Mile (${e})`,value:`$${(2.34+(t==="month"?.11:t==="week"?.05:0)).toFixed(2)}`,change:.12*r,icon:"fas fa-dollar-sign",color:"teal"}]},bBe=t=>{const e=[{id:"FO-12345",location:"Dallas, TX",timestamp:"2025-05-20T14:30:00Z",driver:"Michael Rodriguez",type:"Delivery Delay",status:"In Progress",details:"Customer requested late delivery window due to warehouse staffing",priority:"medium"},{id:"FO-12346",location:"Chicago, IL",timestamp:"2025-05-20T15:15:00Z",driver:"Sarah Johnson",type:"Route Deviation",status:"Requires Attention",details:"Driver reported road closure, needs alternate route approval",priority:"high"},{id:"FO-12347",location:"Atlanta, GA",timestamp:"2025-05-20T13:45:00Z",driver:"David Chen",type:"Equipment Issue",status:"Resolved",details:"Trailer brake light replaced by roadside service",priority:"medium"},{id:"FO-12348",location:"Miami, FL",timestamp:"2025-05-20T16:00:00Z",driver:"Emily Wilson",type:"Customer Complaint",status:"Needs Follow-up",details:"Customer reported minor damage to two cartons",priority:"high"},{id:"FO-12349",location:"Phoenix, AZ",timestamp:"2025-05-20T12:30:00Z",driver:"Jose Martinez",type:"Schedule Adjustment",status:"Approved",details:"Added pickup at secondary location",priority:"low"}];return(t==="week"||t==="month")&&e.push({id:"FO-12350",location:"Boston, MA",timestamp:"2025-05-19T10:15:00Z",driver:"Lisa Thompson",type:"Weather Delay",status:"Resolved",details:"Heavy snow caused 3-hour delay in departure",priority:"medium"},{id:"FO-12351",location:"Seattle, WA",timestamp:"2025-05-18T09:30:00Z",driver:"Robert Johnson",type:"Mechanical Issue",status:"Resolved",details:"Tire replacement completed by roadside service",priority:"high"}),t==="month"&&e.push({id:"FO-12352",location:"Denver, CO",timestamp:"2025-05-10T11:45:00Z",driver:"James Wilson",type:"Customer Request",status:"Approved",details:"Customer requested specific delivery time window",priority:"low"},{id:"FO-12353",location:"San Francisco, CA",timestamp:"2025-05-05T13:20:00Z",driver:"Maria Garcia",type:"Route Optimization",status:"Completed",details:"Route adjusted to accommodate multiple pickups",priority:"medium"}),e},wBe=t=>{const e=[{id:"SA-001",title:"API Integration Error",message:"EDI connection with Customer #1352 failed, retrying in 5 minutes",timestamp:"2025-05-20T16:45:00Z",type:"error",resolved:!1},{id:"SA-002",title:"Geofence Alert",message:"Driver Michael Rodriguez entered unplanned location",timestamp:"2025-05-20T15:30:00Z",type:"warning",resolved:!0},{id:"SA-003",title:"Detention Time Alert",message:"Truck #1077 at customer site for 2+ hours beyond appointment",timestamp:"2025-05-20T14:15:00Z",type:"warning",resolved:!1},{id:"SA-004",title:"System Maintenance",message:"Scheduled maintenance tonight at 2:00 AM ET, expect 30 min downtime",timestamp:"2025-05-20T13:00:00Z",type:"info",resolved:!1}];return(t==="week"||t==="month")&&e.push({id:"SA-005",title:"ELD Compliance Warning",message:"Driver John Smith approaching HOS limit",timestamp:"2025-05-19T10:30:00Z",type:"warning",resolved:!0}),t==="month"&&e.push({id:"SA-006",title:"System Update Completed",message:"TMS software updated to version 4.2.1",timestamp:"2025-05-10T02:15:00Z",type:"info",resolved:!0}),e},jBe=()=>[{region:"Midwest",alert:"Heavy Snow Warning",impact:"High",affectedLoads:12},{region:"Southeast",alert:"Severe Thunderstorms",impact:"Medium",affectedLoads:7},{region:"West Coast",alert:"High Winds Advisory",impact:"Low",affectedLoads:3}],NBe=t=>[{member:"Sarah Operator",role:"Operator",activeLoads:12*(t==="day"?1:t==="week"?4:15),pendingTasks:5*(t==="day"?1:t==="week"?3:10),lastActive:"2 min ago",utilization:Math.min(99,85+(t==="month"?5:t==="week"?2:0))},{member:"John Dispatcher",role:"Dispatcher",activeLoads:18*(t==="day"?1:t==="week"?4:15),pendingTasks:3*(t==="day"?1:t==="week"?3:10),lastActive:"Just now",utilization:Math.min(99,92+(t==="month"?3:t==="week"?1:0))},{member:"Robert Manager",role:"Customer Manager",activeLoads:7*(t==="day"?1:t==="week"?4:15),pendingTasks:9*(t==="day"?1:t==="week"?3:10),lastActive:"15 min ago",utilization:Math.min(99,76+(t==="month"?8:t==="week"?4:0))},{member:"Lisa Coordinator",role:"Operations Coordinator",activeLoads:15*(t==="day"?1:t==="week"?4:15),pendingTasks:2*(t==="day"?1:t==="week"?3:10),lastActive:"5 min ago",utilization:Math.min(99,88+(t==="month"?4:t==="week"?2:0))},{member:"Carlos Planner",role:"Load Planner",activeLoads:9*(t==="day"?1:t==="week"?4:15),pendingTasks:7*(t==="day"?1:t==="week"?3:10),lastActive:"30 min ago",utilization:Math.min(99,65+(t==="month"?10:t==="week"?5:0))}],_Be=t=>[{name:"John Smith",miles:2450,deliveries:12,rating:4.8,onTime:95},{name:"Sarah Johnson",miles:1890,deliveries:8,rating:4.6,onTime:88},{name:"Mike Rodriguez",miles:3200,deliveries:15,rating:4.9,onTime:97},{name:"Lisa Davis",miles:2100,deliveries:10,rating:4.5,onTime:85},{name:"David Wilson",miles:2780,deliveries:13,rating:4.7,onTime:92},{name:"Jennifer Brown",miles:1650,deliveries:7,rating:4.4,onTime:78}].map(r=>t==="week"?{...r,miles:Math.round(r.miles*5.5),deliveries:Math.round(r.deliveries*5),onTime:Math.min(100,Math.round(r.onTime*1.05))}:t==="month"?{...r,miles:Math.round(r.miles*22),deliveries:Math.round(r.deliveries*20),onTime:Math.min(100,Math.round(r.onTime*1.1))}:r),SBe=()=>{const[t,e]=Y.useState([]),[r,n]=Y.useState([]),[i,a]=Y.useState([]),[o,l]=Y.useState([]),[u,h]=Y.useState([]),[f,g]=Y.useState([]),[y,N]=Y.useState([]),[_,k]=Y.useState(!0),[C,O]=Y.useState([]),[T,M]=Y.useState("day"),[B,F]=Y.useState("grid"),[V,H]=Y.useState("all"),[Z,re]=Y.useState(""),[le,ce]=Y.useState(!1),[he,fe]=Y.useState(!1),[ee,xe]=Y.useState(!1),[ie,ge]=Y.useState(!1),[G,ue]=Y.useState(""),[ke,ve]=Y.useState(""),[Se,He]=Y.useState("normal"),[De,$e]=Y.useState([]),[Ue,Ke]=Y.useState(""),[nt,Me]=Y.useState(""),[qe,ht]=Y.useState(""),[ye,Xe]=Y.useState(""),[dt,Tt]=Y.useState("performance"),[Ct,or]=Y.useState("week"),[Cr,cs]=Y.useState("pdf");Y.useEffect(()=>{(async()=>{try{k(!0);const yt=await LO.getDashboardData(),zt=vBe(T),ts=_Be(T),An=bBe(T),qs=wBe(T),Ts=NBe(T),pi=jBe();e(zt),n(ts),a(yt.recentActivity),l(pi),h(An),g(qs),N(Ts)}catch(yt){console.error("Error fetching supervisor dashboard data:",yt)}finally{k(!1)}})()},[T]);const Ie=Ee=>{g(yt=>yt.map(zt=>zt.id===Ee?{...zt,resolved:!0}:zt))},Ge=(Ee,yt)=>{console.log(`Action ${yt} taken on operation ${Ee}`),h(zt=>zt.map(ts=>ts.id===Ee?{...ts,status:"In Progress"}:ts))},it=()=>{if(!G.trim()||!ke.trim()){alert(` Please fill in all required fields:
 Announcement Title
 Message Content`);return}console.log("Sending announcement:",{title:G,message:ke,priority:Se,recipients:De.length?De:"All Team Members"});const Ee=De.length>0?De.join(", "):"All Team Members";alert(` Announcement Sent Successfully!

Title: "${G}"
Priority: ${Se.toUpperCase()}
Recipients: ${Ee}

Your team will be notified via their preferred notification channels.`),ue(""),ve(""),He("normal"),$e([]),ce(!1)},kt=()=>{if(!Ue.trim()||!nt.trim()||!qe.trim()||!ye.trim()){alert(` Please fill in all required fields:
 Customer Name
 Email Address
 Subject
 Message Content`);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(nt.trim())){alert(" Please enter a valid email address.");return}console.log("Sending customer outreach:",{name:Ue,email:nt,subject:qe,message:ye}),alert(` Customer Outreach Sent Successfully!

To: ${Ue} (${nt})
Subject: "${qe}"

The message has been sent from your company email and a copy has been saved to your outreach log.`),Ke(""),Me(""),ht(""),Xe(""),fe(!1)},jt=()=>{console.log("Generating report:",{type:dt,period:Ct,format:Cr}),alert(` Report Generation Started

Report Type: ${dt.charAt(0).toUpperCase()+dt.slice(1)}
Time Period: ${Ct}
Format: ${Cr.toUpperCase()}

Processing... You'll receive an email notification when the report is ready for download.`),setTimeout(()=>{alert(` Report Generated Successfully!

${dt.charAt(0).toUpperCase()+dt.slice(1)} report for ${Ct} has been generated in ${Cr.toUpperCase()} format.

The report has been saved to your reports folder and emailed to your account.`)},2e3),xe(!1)},bt=()=>{console.log("Saving team settings"),alert(` Team Settings Saved Successfully!

All notification preferences, dashboard settings, and access controls have been updated.

Changes will take effect immediately for all team members.`),ge(!1)},Ot=(Ee,yt)=>{if(console.log(`Action ${yt} for driver ${Ee}`),yt==="view")alert(`Viewing detailed performance for ${Ee}

This would open a detailed driver profile page.`);else if(yt==="message"){const zt=window.prompt(`Send message to ${Ee}:`,"");zt&&alert(`Message sent to ${Ee}: "${zt}"`)}else if(yt==="assign"){const zt=window.prompt("Enter Load ID to assign:","LOAD-"+Math.floor(Math.random()*1e3));zt&&alert(`Load ${zt} assigned to ${Ee}`)}},rr=Ee=>{if(C.length===0){alert("Please select at least one driver first.");return}if(Ee==="message"){const yt=window.prompt(`Send message to ${C.length} drivers:`,"");yt&&(alert(`Message sent to ${C.length} drivers: "${yt}"`),O([]))}else if(Ee==="training"){const yt=window.prompt("Enter training type:","Safety Refresher");yt&&(alert(`${yt} training assigned to ${C.length} drivers`),O([]))}else Ee==="batch"&&alert(`Batch actions menu would open for ${C.length} selected drivers`)},lr=r.filter(Ee=>{const yt=Ee.name.toLowerCase().includes(Z.toLowerCase());if(V==="all")return yt;const zt=Math.round(Ee.rating/5*.5*100+Ee.onTime*.5);return V==="top"?yt&&zt>=90:V==="attention"?yt&&zt<75:yt}),Er=Ee=>Ee>0?s.jsxs("span",{className:"text-green-600",children:["+",Ee,"%"]}):Ee<0?s.jsxs("span",{className:"text-red-600",children:[Ee,"%"]}):s.jsx("span",{className:"text-gray-600",children:"0%"}),_s=Ee=>Ee>=90?"bg-green-500":Ee>=75?"bg-yellow-500":"bg-red-500";return _?s.jsx("div",{className:"flex justify-center items-center my-10",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Supervisor Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Comprehensive overview of operations, team performance, and business metrics"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("div",{className:"inline-flex rounded-md shadow-sm",children:[s.jsx("button",{type:"button",onClick:()=>M("day"),className:`px-4 py-2 text-sm font-medium rounded-l-md ${T==="day"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300`,children:"Day"}),s.jsx("button",{type:"button",onClick:()=>M("week"),className:`px-4 py-2 text-sm font-medium border-t border-b ${T==="week"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-r border-gray-300`,children:"Week"}),s.jsx("button",{type:"button",onClick:()=>M("month"),className:`px-4 py-2 text-sm font-medium rounded-r-md border ${T==="month"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-r border-gray-300`,children:"Month"})]}),s.jsxs("div",{className:"inline-flex rounded-md shadow-sm",children:[s.jsx("button",{type:"button",onClick:()=>F("grid"),className:`px-3 py-2 text-sm font-medium rounded-l-md ${B==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300`,title:"Grid View",children:s.jsx("i",{className:"fas fa-th-large"})}),s.jsx("button",{type:"button",onClick:()=>F("detail"),className:`px-3 py-2 text-sm font-medium rounded-r-md border ${B==="detail"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-r border-gray-300`,title:"Detail View",children:s.jsx("i",{className:"fas fa-list"})})]}),s.jsxs("button",{type:"button",onClick:()=>{const Ee=window.confirm(` Export Dashboard Data

Choose format:
 OK for PDF (Formatted Report)
 Cancel for Excel (Data Spreadsheet)`)?"PDF":"Excel";alert(` Exporting dashboard data as ${Ee}...

Including:
 KPI Metrics (${T})
 Team Performance Data
 System Alerts Summary
 Field Operations Log

 Export completed! File saved to Downloads folder.`)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("i",{className:"fas fa-download mr-2"}),"Export"]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-tachometer-alt mr-2 text-blue-600"}),"Key Performance Indicators",s.jsxs("span",{className:"ml-2 text-sm text-gray-500 font-normal",children:["View: ",B==="grid"?"Grid":"Detail"]})]}),B==="grid"?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((Ee,yt)=>s.jsx(st,{className:"hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:Ee.title}),s.jsx("h3",{className:"text-2xl font-bold mt-1",children:Ee.value}),s.jsxs("p",{className:"text-sm mt-1",children:["vs last period: ",Er(Ee.change)]})]}),s.jsx("div",{className:`bg-${Ee.color}-100 p-3 rounded-full`,children:s.jsx("i",{className:`${Ee.icon} text-${Ee.color}-500 text-xl`})})]}),s.jsx("div",{className:"mt-3",children:s.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-${Ee.color}-500 rounded-full`,style:{width:typeof Ee.value=="string"&&Ee.value.includes("%")?Ee.value:"75%"}})})})]})},yt))}):s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Metric"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Change"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trend"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((Ee,yt)=>{const zt=Ee.change>0?"Improving":Ee.change<0?"Declining":"Stable",ts=Ee.change>0?"text-green-600":Ee.change<0?"text-red-600":"text-gray-600";return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full bg-${Ee.color}-100 flex items-center justify-center mr-3`,children:s.jsx("i",{className:`${Ee.icon} text-${Ee.color}-500`})}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ee.title})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-bold",children:Ee.value})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm",children:Er(Ee.change)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-${Ee.color}-500 rounded-full`,style:{width:typeof Ee.value=="string"&&Ee.value.includes("%")?Ee.value:"75%"}})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${ts} bg-opacity-10`,children:zt})})]},yt)})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("section",{className:"mb-6",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-users-cog mr-2 text-blue-600"}),"Team Workload & Utilization"]}),s.jsx(st,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Member"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active Loads"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending Tasks"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilization"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((Ee,yt)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-800 font-bold mr-3",children:Ee.member.split(" ").map(zt=>zt[0]).join("")}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ee.member})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.activeLoads}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.pendingTasks}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.lastActive}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`${Ee.utilization>85?"bg-green-500":Ee.utilization>70?"bg-yellow-500":"bg-red-500"} h-2.5 rounded-full`,style:{width:`${Ee.utilization}%`}})}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1 text-right",children:[Ee.utilization,"%"]})]})]},yt))})]})})})]}),s.jsxs("section",{className:"mb-6",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-truck-moving mr-2 text-blue-600"}),"Driver Performance"]}),s.jsxs(st,{children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>H("all"),className:`px-3 py-1 text-xs font-medium rounded-md ${V==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"All Drivers"}),s.jsx("button",{onClick:()=>H("top"),className:`px-3 py-1 text-xs font-medium rounded-md ${V==="top"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Top Performers"}),s.jsx("button",{onClick:()=>H("attention"),className:`px-3 py-1 text-xs font-medium rounded-md ${V==="attention"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Needs Attention"})]}),s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:"Search drivers...",value:Z,onChange:Ee=>re(Ee.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",onChange:Ee=>{Ee.target.checked?O(lr.map(yt=>yt.name)):O([])}}),s.jsx("span",{className:"ml-2",children:"Driver"})]})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miles"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deliveries"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"On-Time %"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:lr.map((Ee,yt)=>{const zt=Math.round(Ee.rating/5*.5*100+Ee.onTime*.5),ts=_s(zt),An=C.includes(Ee.name);return s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${An?"bg-blue-50":""}`,children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:An,onChange:qs=>{qs.target.checked?O([...C,Ee.name]):O(C.filter(Ts=>Ts!==Ee.name))},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("div",{className:"h-8 w-8 ml-2 rounded-full bg-blue-100 flex items-center justify-center text-blue-800 font-bold mr-3",children:Ee.name.split(" ").map(qs=>qs[0]).join("")}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ee.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.miles.toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.deliveries}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-600 mr-2",children:Ee.rating.toFixed(1)}),s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((qs,Ts)=>s.jsx("svg",{className:`w-4 h-4 ${Ts<Math.floor(Ee.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ts))})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[Ee.onTime,"%"]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`${ts} h-2.5 rounded-full transition-all duration-500`,style:{width:`${zt}%`}})}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1 text-right",children:[zt,"%"]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Ot(Ee.name,"view"),className:"text-blue-600 hover:text-blue-800",title:"View Details",children:s.jsx("i",{className:"fas fa-eye"})}),s.jsx("button",{onClick:()=>Ot(Ee.name,"message"),className:"text-green-600 hover:text-green-800",title:"Message",children:s.jsx("i",{className:"fas fa-comment"})}),s.jsx("button",{onClick:()=>Ot(Ee.name,"assign"),className:"text-purple-600 hover:text-purple-800",title:"Assign Load",children:s.jsx("i",{className:"fas fa-truck-loading"})})]})})]},yt)})})]})}),C.length>0&&s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm text-gray-700",children:[s.jsx("b",{children:C.length})," drivers selected"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>rr("message"),className:"px-3 py-1 text-xs font-medium rounded-md bg-blue-600 text-white hover:bg-blue-700",children:[s.jsx("i",{className:"fas fa-envelope mr-1"})," Message All"]}),s.jsxs("button",{onClick:()=>rr("training"),className:"px-3 py-1 text-xs font-medium rounded-md bg-green-600 text-white hover:bg-green-700",children:[s.jsx("i",{className:"fas fa-certificate mr-1"})," Assign Training"]}),s.jsxs("button",{onClick:()=>rr("batch"),className:"px-3 py-1 text-xs font-medium rounded-md bg-purple-600 text-white hover:bg-purple-700",children:[s.jsx("i",{className:"fas fa-cog mr-1"})," Batch Actions"]})]})]})})]})]})]}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("section",{className:"mb-6",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-bell mr-2 text-blue-600"}),"System Alerts",s.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:f.filter(Ee=>!Ee.resolved).length})]}),s.jsxs(st,{children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Active Alerts"}),s.jsx("button",{onClick:()=>alert(`Alert History

This would show a comprehensive history of all system alerts, including resolved and archived alerts with filtering and search capabilities.`),className:"text-xs text-blue-600 hover:text-blue-800",children:"View History"})]})}),s.jsx("ul",{className:"divide-y divide-gray-200",children:f.map((Ee,yt)=>s.jsx("li",{className:`p-4 hover:bg-gray-50 ${Ee.resolved?"opacity-60":""}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:Ee.type==="error"?s.jsx("i",{className:"fas fa-exclamation-circle text-red-500"}):Ee.type==="warning"?s.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-500"}):s.jsx("i",{className:"fas fa-info-circle text-blue-500"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:Ee.title}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(Ee.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Ee.message}),!Ee.resolved&&s.jsxs("div",{className:"mt-2 flex space-x-2",children:[s.jsx("button",{onClick:()=>Ie(Ee.id),className:"px-2 py-1 text-xs font-medium rounded bg-green-100 text-green-800 hover:bg-green-200",children:"Mark Resolved"}),s.jsx("button",{onClick:()=>alert(`Alert Details: ${Ee.title}

${Ee.message}

Timestamp: ${new Date(Ee.timestamp).toLocaleString()}
Type: ${Ee.type.toUpperCase()}`),className:"px-2 py-1 text-xs font-medium rounded bg-blue-100 text-blue-800 hover:bg-blue-200",children:"View Details"})]}),Ee.resolved&&s.jsx("span",{className:"inline-flex mt-2 items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Resolved"})]})]})},yt))})]})]}),s.jsxs("section",{className:"mb-6",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-cloud-sun-rain mr-2 text-blue-600"}),"Weather Alerts"]}),s.jsx(st,{children:s.jsx("div",{className:"space-y-3 p-4",children:o.map((Ee,yt)=>{const zt=Ee.impact==="High"?"bg-red-50 border-red-400 text-red-800":Ee.impact==="Medium"?"bg-yellow-50 border-yellow-400 text-yellow-800":"bg-blue-50 border-blue-400 text-blue-800",ts=Ee.impact==="High"?"fa-exclamation-triangle":Ee.impact==="Medium"?"fa-exclamation-circle":"fa-info-circle";return s.jsx("div",{className:`${zt} border-l-4 p-4 rounded-md`,children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("i",{className:`fas ${ts}`})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("h3",{className:"text-sm font-medium",children:[s.jsxs("span",{className:"font-bold",children:[Ee.region,":"]})," ",Ee.alert]}),s.jsxs("div",{className:"mt-1 text-xs",children:[s.jsx("span",{className:"font-semibold",children:"Impact: "}),Ee.impact,s.jsx("span",{className:"mx-1",children:""}),s.jsx("span",{className:"font-semibold",children:"Loads Affected: "}),Ee.affectedLoads]}),s.jsx("div",{className:"mt-2",children:s.jsx("button",{onClick:()=>alert(`Weather Alert Details:

Region: ${Ee.region}
Alert: ${Ee.alert}
Impact Level: ${Ee.impact}
Affected Loads: ${Ee.affectedLoads}

This would typically show a list of affected loads and their current status.`),className:"text-xs font-medium underline hover:no-underline",children:"View Affected Loads"})})]})]})},yt)})})})]}),s.jsxs("section",{className:"mb-6",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-bolt mr-2 text-blue-600"}),"Quick Actions"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>ce(!0),className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-blue-50 hover:border-blue-200 transition-colors text-center",children:[s.jsx("i",{className:"fas fa-bullhorn text-blue-500 text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Team Announcement"})]}),s.jsxs("button",{onClick:()=>fe(!0),className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-blue-50 hover:border-blue-200 transition-colors text-center",children:[s.jsx("i",{className:"fas fa-headset text-blue-500 text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Customer Outreach"})]}),s.jsxs("button",{onClick:()=>xe(!0),className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-blue-50 hover:border-blue-200 transition-colors text-center",children:[s.jsx("i",{className:"fas fa-file-alt text-blue-500 text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Generate Reports"})]}),s.jsxs("button",{onClick:()=>ge(!0),className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-blue-50 hover:border-blue-200 transition-colors text-center",children:[s.jsx("i",{className:"fas fa-cogs text-blue-500 text-2xl mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Team Settings"})]})]})]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsxs("h2",{className:"flex items-center text-xl font-semibold mb-4",children:[s.jsx("i",{className:"fas fa-clipboard-list mr-2 text-blue-600"}),"Field Operations"]}),s.jsxs(st,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Driver"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((Ee,yt)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:Ee.id}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.location}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(Ee.timestamp).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.driver}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${Ee.status==="Requires Attention"?"bg-red-100 text-red-800":Ee.status==="In Progress"?"bg-blue-100 text-blue-800":Ee.status==="Resolved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Ee.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${Ee.priority==="high"?"bg-red-100 text-red-800":Ee.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:Ee.priority.charAt(0).toUpperCase()+Ee.priority.slice(1)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Ge(Ee.id,"approve"),className:"text-green-600 hover:text-green-900",title:"Approve",children:s.jsx("i",{className:"fas fa-check"})}),s.jsx("button",{onClick:()=>Ge(Ee.id,"assign"),className:"text-blue-600 hover:text-blue-900",title:"Assign",children:s.jsx("i",{className:"fas fa-user-plus"})}),s.jsx("button",{className:"text-purple-600 hover:text-purple-900",title:"Details",children:s.jsx("i",{className:"fas fa-info-circle"})})]})})]},yt))})]})}),s.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:"5"})," of ",s.jsx("span",{className:"font-medium",children:"24"})," operations"]}),s.jsxs("nav",{className:"flex space-x-2","aria-label":"Pagination",children:[s.jsx("a",{href:"#",className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Previous"}),s.jsx("a",{href:"#",className:"px-3 py-1 text-sm font-medium text-white bg-blue-600 border border-blue-600 rounded-md",children:"1"}),s.jsx("a",{href:"#",className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"2"}),s.jsx("a",{href:"#",className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Next"})]})]})]})]}),s.jsx(xr,{isOpen:le,onClose:()=>ce(!1),title:"Send Team Announcement",size:"lg",footer:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>ce(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:it,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Send Announcement"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Announcement Title *"}),s.jsx("input",{type:"text",value:G,onChange:Ee=>ue(Ee.target.value),placeholder:"Enter announcement title...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{value:ke,onChange:Ee=>ve(Ee.target.value),placeholder:"Enter your announcement message...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),s.jsxs("select",{value:Se,onChange:Ee=>He(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"low",children:"Low Priority"}),s.jsx("option",{value:"normal",children:"Normal Priority"}),s.jsx("option",{value:"high",children:"High Priority"}),s.jsx("option",{value:"urgent",children:"Urgent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"all-team",checked:De.length===0,onChange:Ee=>{Ee.target.checked&&$e([])},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"all-team",className:"ml-2 text-sm text-gray-700",children:"All Team Members (Default)"})]}),["Dispatchers","Drivers","Customer Service","Operations"].map(Ee=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:Ee.toLowerCase(),checked:De.includes(Ee),onChange:yt=>{yt.target.checked?$e([...De,Ee]):$e(De.filter(zt=>zt!==Ee))},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("label",{htmlFor:Ee.toLowerCase(),className:"ml-2 text-sm text-gray-700",children:[Ee," Only"]})]},Ee))]})]})]})}),s.jsx(xr,{isOpen:he,onClose:()=>fe(!1),title:"Send Customer Outreach",size:"lg",footer:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>fe(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:kt,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Send Message"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),s.jsx("input",{type:"text",value:Ue,onChange:Ee=>Ke(Ee.target.value),placeholder:"Enter customer name...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",value:nt,onChange:Ee=>Me(Ee.target.value),placeholder:"customer@company.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),s.jsx("input",{type:"text",value:qe,onChange:Ee=>ht(Ee.target.value),placeholder:"Enter email subject...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{value:ye,onChange:Ee=>Xe(Ee.target.value),placeholder:"Enter your message to the customer...",rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("i",{className:"fas fa-info-circle text-blue-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Professional Communication"}),s.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"This message will be sent from the company email with your supervisor signature."})]})]})})]})}),s.jsx(xr,{isOpen:ee,onClose:()=>xe(!1),title:"Generate Reports",footer:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>xe(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:jt,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Generate Report"})]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),s.jsxs("select",{value:dt,onChange:Ee=>Tt(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"performance",children:"Team Performance Report"}),s.jsx("option",{value:"financial",children:"Financial Summary Report"}),s.jsx("option",{value:"operational",children:"Operational Metrics Report"}),s.jsx("option",{value:"customer",children:"Customer Satisfaction Report"}),s.jsx("option",{value:"driver",children:"Driver Analytics Report"}),s.jsx("option",{value:"compliance",children:"Compliance & Safety Report"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Period"}),s.jsxs("select",{value:Ct,onChange:Ee=>or(Ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"quarter",children:"This Quarter"}),s.jsx("option",{value:"year",children:"This Year"}),s.jsx("option",{value:"custom",children:"Custom Date Range"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export Format"}),s.jsx("div",{className:"space-y-2",children:["pdf","excel","csv"].map(Ee=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"radio",id:Ee,name:"reportFormat",value:Ee,checked:Cr===Ee,onChange:yt=>cs(yt.target.value),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),s.jsxs("label",{htmlFor:Ee,className:"ml-2 text-sm text-gray-700",children:[Ee.toUpperCase()," - ",Ee==="pdf"?"Professional formatted document":Ee==="excel"?"Spreadsheet with charts and calculations":"Raw data for analysis"]})]},Ee))})]}),s.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("i",{className:"fas fa-clock text-gray-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Report Generation"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Large reports may take a few minutes to generate. You'll receive an email when ready."})]})]})})]})}),s.jsx(xr,{isOpen:ie,onClose:()=>ge(!1),title:"Team Settings",size:"xl",footer:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>ge(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:bt,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Save Settings"})]}),children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Notification Settings"}),s.jsx("div",{className:"space-y-3",children:[{key:"email_alerts",label:"Email Alerts for Critical Issues",desc:"Receive email notifications for high-priority alerts"},{key:"sms_alerts",label:"SMS Alerts for Emergencies",desc:"Get text messages for emergency situations"},{key:"daily_digest",label:"Daily Performance Digest",desc:"Daily summary of team performance via email"},{key:"weekly_reports",label:"Weekly Team Reports",desc:"Comprehensive weekly team performance reports"}].map(Ee=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{type:"checkbox",id:Ee.key,defaultChecked:!0,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("label",{htmlFor:Ee.key,className:"text-sm font-medium text-gray-700",children:Ee.label}),s.jsx("p",{className:"text-sm text-gray-500",children:Ee.desc})]})]},Ee.key))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Dashboard Preferences"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default View Mode"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"grid",children:"Grid View"}),s.jsx("option",{value:"detail",children:"Detail View"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Time Period"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"day",children:"Day"}),s.jsx("option",{value:"week",children:"Week"}),s.jsx("option",{value:"month",children:"Month"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto-refresh Interval"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"30",children:"30 seconds"}),s.jsx("option",{value:"60",children:"1 minute"}),s.jsx("option",{value:"300",children:"5 minutes"}),s.jsx("option",{value:"600",children:"10 minutes"}),s.jsx("option",{value:"0",children:"Manual only"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Team Access Control"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permissions"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.slice(0,3).map((Ee,yt)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ee.member}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("select",{className:"text-sm border border-gray-300 rounded px-2 py-1",children:[s.jsx("option",{children:"Full Access"}),s.jsx("option",{children:"Limited Access"}),s.jsx("option",{children:"View Only"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})})]},yt))})]})})]})]})})]})},kBe=()=>{const[t,e]=Y.useState(""),[r,n]=Y.useState(!1),[i,a]=Y.useState(null),[o,l]=Y.useState(!1),u=async h=>{if(h.preventDefault(),!t){a("Please enter your email address");return}n(!0),a(null);try{await qm.requestPasswordReset({email:t}),l(!0)}catch(f){a("An error occurred. Please try again later."),console.error("Password reset error:",f)}finally{n(!1)}};return s.jsx("div",{className:"flex flex-col min-h-screen bg-gradient-to-b from-blue-700 to-blue-900",children:s.jsx("div",{className:"container mx-auto px-4 py-6 flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"h-16 w-16 rounded-full bg-white text-blue-700 flex items-center justify-center text-3xl font-bold",children:"O"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Octopus TMS"}),s.jsx("p",{className:"text-blue-100",children:"Transportation Management System"})]}),s.jsx(st,{className:"shadow-lg",children:o?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("i",{className:"fas fa-check-circle text-green-500 text-5xl"})}),s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reset Link Sent!"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["If an account exists with the email address ",s.jsx("strong",{children:t}),", you'll receive password reset instructions shortly."]}),s.jsx(yo,{to:"/login",className:"block w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out",children:"Return to Login"})]}):s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-center mb-6",children:"Reset Your Password"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your email address below and we'll send you instructions to reset your password."}),i&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded",role:"alert",children:s.jsx("p",{children:i})}),s.jsxs("form",{onSubmit:u,children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email",required:!0})]}),s.jsx("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out",disabled:r,children:r?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Instructions..."]}):"Send Reset Instructions"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(yo,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-500",children:"Back to Login"})})]})}),s.jsx("p",{className:"mt-4 text-center text-sm text-blue-100",children:" 2025 Octopus TMS. All rights reserved."})]})})})},ABe=()=>{const{id:t}=Yae(),e=Bn(),r=Yu(),[n,i]=Y.useState(null),[a,o]=Y.useState(!0),[l,u]=Y.useState(!1),[h,f]=Y.useState(null),[g,y]=Y.useState(null);Y.useEffect(()=>{(async()=>{var B;o(!0);try{if((B=r.state)!=null&&B.load){const F=r.state.load,V={id:F.id,origin:F.origin,destination:F.destination,customer:"Acme Corporation",equipment:F.equipmentType,date:F.pickupDate,price:parseFloat(F.rate),status:F.status,miles:Math.floor(Math.random()*500)+300,weight:F.weight+" lbs",broker:F.carrier||"ABC Logistics",notes:"Customer requires delivery confirmation. Call ahead 2 hours before arrival.",pickupDate:F.pickupDate,deliveryDate:F.deliveryDate,driver:F.status!=="Posted"?"John Doe":void 0,eta:F.status==="En Route"?new Date(F.deliveryDate).toLocaleString():void 0,documents:[{id:"DOC1001",name:"Bill of Lading",type:"Image",uploadDate:new Date(F.pickupDate).toLocaleDateString(),size:"1.2 MB",path:"/sample-docs/BOL_sample.jpg"},{id:"DOC1002",name:"Rate Confirmation",type:"Image",uploadDate:new Date(F.pickupDate).toLocaleDateString(),size:"0.8 MB",path:"/sample-docs/rate_con.png"},{id:"DOC1003",name:"Proof of Delivery",type:"PDF",uploadDate:F.status==="Delivered"?new Date(F.deliveryDate).toLocaleDateString():"Pending",size:"2.4 MB",path:null}]};i(V)}else await new Promise(V=>setTimeout(V,800)),i({id:t||"LD1001",origin:"New York, NY",destination:"Chicago, IL",customer:"Acme Co",equipment:"Dry Van",date:"5/22/2025",price:2850,status:"Booked",miles:750,weight:"42,000 lbs",broker:"ABC Logistics",notes:"Customer requires delivery confirmation. Call ahead 2 hours before arrival.",documents:[{id:"DOC1001",name:"Bill of Lading",type:"Image",uploadDate:"5/22/2025",size:"1.2 MB",path:"/sample-docs/BOL_sample.jpg"},{id:"DOC1002",name:"Rate Confirmation",type:"Image",uploadDate:"5/21/2025",size:"0.8 MB",path:"/sample-docs/rate_con.png"},{id:"DOC1003",name:"Proof of Delivery",type:"PDF",uploadDate:"5/24/2025",size:"2.4 MB",path:null}]})}catch(F){console.error("Error fetching load details:",F),At("Error fetching load details. Please try again.","error")}finally{o(!1)}})()},[t,r.state]);const N=async()=>{u(!0);try{if(!n)return;const M=window.open("","_blank");if(!M){At("Please allow pop-ups to export PDF","error");return}M.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Load Details - ${n.id}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; color: #333; }
            .header { text-align: center; margin-bottom: 30px; }
            .header h1 { margin-bottom: 5px; color: #2563eb; }
            .section { margin-bottom: 20px; }
            .section h2 { border-bottom: 1px solid #ddd; padding-bottom: 5px; margin-bottom: 15px; }
            .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
            .item { margin-bottom: 10px; }
            .label { font-weight: bold; color: #666; }
            .value { }
            .status { display: inline-block; padding: 5px 10px; border-radius: 15px; font-size: 14px; }
            .status-booked { background-color: #6b7280; color: white; }
            .status-assigned { background-color: #2563eb; color: white; }
            .status-picked-up { background-color: #f59e0b; color: white; }
            .status-delivered { background-color: #10b981; color: white; }
            .footer { margin-top: 50px; text-align: center; font-size: 12px; color: #666; }
            @media print {
              body { margin: 0; }
              button { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Octopus TMS</h1>
            <p>Load Details Report</p>
          </div>

          <div class="section">
            <h2>Load Information</h2>
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <h3>Load ID: ${n.id}</h3>
              <span class="status status-${n.status.toLowerCase().replace(" ","-")}">${n.status}</span>
            </div>
          </div>

          <div class="section grid">
            <div>
              <h2>Shipment Details</h2>
              <div class="item">
                <div class="label">Customer</div>
                <div class="value">${n.customer}</div>
              </div>
              <div class="item">
                <div class="label">Broker</div>
                <div class="value">${n.broker}</div>
              </div>
              <div class="item">
                <div class="label">Equipment</div>
                <div class="value">${n.equipment}</div>
              </div>
              <div class="item">
                <div class="label">Weight</div>
                <div class="value">${n.weight}</div>
              </div>
            </div>

            <div>
              <h2>Route Information</h2>
              <div class="item">
                <div class="label">Origin</div>
                <div class="value">${n.origin}</div>
              </div>
              <div class="item">
                <div class="label">Destination</div>
                <div class="value">${n.destination}</div>
              </div>
              <div class="item">
                <div class="label">Distance</div>
                <div class="value">${n.miles} miles</div>
              </div>
              <div class="item">
                <div class="label">Date</div>
                <div class="value">${n.date}</div>
              </div>
              ${n.eta?`
              <div class="item">
                <div class="label">ETA</div>
                <div class="value">${n.eta}</div>
              </div>
              `:""}
            </div>
          </div>

          <div class="section">
            <h2>Financial Details</h2>
            <div class="grid">
              <div class="item">
                <div class="label">Rate</div>
                <div class="value" style="font-size: 18px; color: #10b981;">$${n.price.toLocaleString()}</div>
              </div>
              <div class="item">
                <div class="label">Rate per Mile</div>
                <div class="value" style="font-size: 18px; color: #10b981;">$${n.miles?(n.price/n.miles).toFixed(2):"N/A"}</div>
              </div>
            </div>
          </div>

          ${n.notes?`
          <div class="section">
            <h2>Notes</h2>
            <div style="background-color: #fefce8; border-left: 4px solid #fbbf24; padding: 10px;">
              ${n.notes}
            </div>
          </div>
          `:""}

          <div class="section">
            <h2>Status Timeline</h2>
            <div class="item">
              <div class="label">Booked</div>
              <div class="value">${n.date}</div>
            </div>
            ${n.driver&&n.status!=="Booked"?`
            <div class="item">
              <div class="label">Assigned</div>
              <div class="value">Driver: ${n.driver}</div>
            </div>
            `:""}
            ${n.pickupDate&&!["Booked","Assigned"].includes(n.status)?`
            <div class="item">
              <div class="label">Picked Up</div>
              <div class="value">${n.pickupDate}</div>
            </div>
            `:""}
            ${n.deliveryDate&&n.status==="Delivered"?`
            <div class="item">
              <div class="label">Delivered</div>
              <div class="value">${n.deliveryDate}</div>
            </div>
            `:""}
          </div>

          <div class="footer">
            <p>Generated on ${new Date().toLocaleString()} by Octopus TMS</p>
          </div>

          <div style="text-align: center; margin-top: 30px;">
            <button onclick="window.print()" style="padding: 10px 20px; background-color: #2563eb; color: white; border: none; border-radius: 5px; cursor: pointer;">
              Print PDF
            </button>
          </div>
        </body>
        </html>
      `),M.document.close(),await new Promise(B=>setTimeout(B,800)),At("Load details exported to PDF successfully")}catch(M){console.error("Error exporting to PDF:",M),At("Error exporting to PDF. Please try again.","error")}finally{u(!1)}},_=async M=>{if(h!==M.id){f(M.id);try{if(M.name==="Proof of Delivery"){await k();return}if(!M.path){At("Document not available","error");return}await new Promise(F=>setTimeout(F,800));const B=document.createElement("a");B.href=M.path,B.download=M.name,document.body.appendChild(B),B.click(),document.body.removeChild(B),At(`${M.name} downloaded successfully`)}catch(B){console.error(`Error downloading ${M.name}:`,B),At(`Error downloading ${M.name}. Please try again.`,"error")}finally{f(null)}}},k=async()=>{if(n)try{const M=window.open("","_blank");if(!M){At("Please allow pop-ups to generate POD","error");return}M.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Proof of Delivery - ${n.id}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; color: #333; }
            .header { text-align: center; margin-bottom: 30px; }
            .header h1 { margin-bottom: 5px; color: #2563eb; }
            .section { margin-bottom: 20px; }
            .section h2 { border-bottom: 1px solid #ddd; padding-bottom: 5px; margin-bottom: 15px; }
            .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
            .item { margin-bottom: 10px; }
            .label { font-weight: bold; color: #666; }
            .value { }
            .signature-box { border: 1px solid #ddd; padding: 20px; margin-top: 10px; height: 100px; display: flex; align-items: center; justify-content: center; }
            .footer { margin-top: 50px; text-align: center; font-size: 12px; color: #666; }
            @media print {
              body { margin: 0; }
              button { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Proof of Delivery</h1>
            <p>Load ID: ${n.id}</p>
          </div>

          <div class="section">
            <h2>Basic Information</h2>
            <div class="grid">
              <div>
                <div class="item">
                  <div class="label">Recipient's Name</div>
                  <div class="value">John Smith</div>
                </div>
                <div class="item">
                  <div class="label">Recipient's Address</div>
                  <div class="value">${n.destination}</div>
                </div>
              </div>
              <div>
                <div class="item">
                  <div class="label">Order Details</div>
                  <div class="value">Order #${n.id.substring(2)}</div>
                  <div class="value">Item: ${n.equipment} - ${n.weight}</div>
                </div>
                <div class="item">
                  <div class="label">Tracking Number</div>
                  <div class="value">TRK-${n.id}-${new Date().getFullYear()}</div>
                </div>
              </div>
            </div>
          </div>

          <div class="section">
            <h2>Delivery Confirmation</h2>
            <div class="grid">
              <div>
                <div class="item">
                  <div class="label">Recipient's Signature</div>
                  <div class="signature-box">
                    <p style="color: #999;">Signature on File</p>
                  </div>
                </div>
              </div>
              <div>
                <div class="item">
                  <div class="label">Date and Time of Delivery</div>
                  <div class="value">${n.deliveryDate||new Date().toLocaleDateString()} - ${new Date().toLocaleTimeString()}</div>
                </div>
                <div class="item">
                  <div class="label">Delivery Address</div>
                  <div class="value">${n.destination}</div>
                </div>
                <div class="item">
                  <div class="label">GPS Coordinates</div>
                  <div class="value">40.7128 N, 74.0060 W</div>
                </div>
              </div>
            </div>
          </div>

          <div class="section">
            <h2>Additional Information</h2>
            <div class="grid">
              <div>
                <div class="item">
                  <div class="label">Condition of Goods</div>
                  <div class="value">Good condition, no damage reported</div>
                </div>
                <div class="item">
                  <div class="label">Special Instructions</div>
                  <div class="value">${n.notes||"None"}</div>
                </div>
              </div>
              <div>
                <div class="item">
                  <div class="label">Driver's Name</div>
                  <div class="value">${n.driver||"Not assigned"}</div>
                </div>
                <div class="item">
                  <div class="label">Vehicle Information</div>
                  <div class="value">Truck #T-2025-${n.id.substring(2)}</div>
                </div>
              </div>
            </div>
          </div>

          <div class="footer">
            <p>This electronic Proof of Delivery (ePOD) was generated on ${new Date().toLocaleString()} by Octopus TMS</p>
          </div>

          <div style="text-align: center; margin-top: 30px;">
            <button onclick="window.print()" style="padding: 10px 20px; background-color: #2563eb; color: white; border: none; border-radius: 5px; cursor: pointer;">
              Print POD
            </button>
          </div>
        </body>
        </html>
      `),M.document.close(),await new Promise(B=>setTimeout(B,800)),At("Proof of Delivery generated successfully")}catch(M){console.error("Error generating POD:",M),At("Error generating Proof of Delivery. Please try again.","error")}finally{f(null)}},C=M=>{switch(M){case"Booked":return"bg-gray-600 text-white";case"Posted":return"bg-blue-100 text-blue-800";case"Assigned":return"bg-green-100 text-green-800";case"En Route":return"bg-yellow-100 text-yellow-800";case"Picked Up":return"bg-yellow-500 text-white";case"Delivered":return"bg-purple-100 text-purple-800";case"Awaiting Docs":return"bg-orange-100 text-orange-800";case"Paid":return"bg-gray-100 text-gray-800";default:return"bg-gray-600 text-white"}},O=()=>{var M;(M=r.state)!=null&&M.load?e("/broker/loads"):e("/all-loads")},T=M=>{if(M.name==="Proof of Delivery"&&!M.path){k();return}if(!M.path){At("Document preview not available","error");return}y(M.id);const B=document.createElement("div");B.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",B.onclick=()=>{document.body.removeChild(B),y(null)};const F=document.createElement("div");F.className="bg-white rounded-lg shadow-xl max-w-4xl max-h-[90vh] overflow-hidden",F.onclick=Z=>Z.stopPropagation();const V=document.createElement("div");V.className="flex justify-between items-center p-4 border-b",V.innerHTML=`
      <h3 class="text-lg font-semibold">${M.name}</h3>
      <button class="text-gray-500 hover:text-gray-700" onclick="this.closest('.fixed').remove()">
        <i class="fas fa-times"></i>
      </button>
    `;const H=document.createElement("div");if(H.className="p-4 overflow-auto",H.style.maxHeight="calc(90vh - 120px)",M.type==="Image"){const Z=document.createElement("img");Z.src=M.path,Z.className="w-full h-auto",Z.alt=M.name,H.appendChild(Z)}else H.innerHTML='<p class="text-center text-gray-500">PDF preview would be displayed here</p>';F.appendChild(V),F.appendChild(H),B.appendChild(F),document.body.appendChild(B)};return a?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?s.jsxs("div",{className:"fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{className:"mr-4 text-blue-600 hover:text-blue-800",onClick:O,children:s.jsx("i",{className:"fas fa-arrow-left"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Load Details: ",n.id]}),s.jsxs("p",{className:"text-gray-600",children:[n.origin,"  ",n.destination]})]})]}),s.jsx("div",{children:s.jsx("button",{className:"btn btn-primary flex items-center",onClick:N,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent mr-2"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-file-pdf mr-2"}),"Export PDF"]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Load Information"}),s.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${C(n.status)}`,children:n.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Shipment Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Load ID"}),s.jsx("span",{className:"font-medium",children:n.id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Customer"}),s.jsx("span",{className:"font-medium",children:n.customer})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Broker"}),s.jsx("span",{className:"font-medium",children:n.broker})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Equipment"}),s.jsx("span",{className:"font-medium",children:n.equipment})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Weight"}),s.jsx("span",{className:"font-medium",children:n.weight})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Route Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Origin"}),s.jsx("span",{className:"font-medium",children:n.origin})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Destination"}),s.jsx("span",{className:"font-medium",children:n.destination})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Distance"}),s.jsxs("span",{className:"font-medium",children:[n.miles," miles"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Date"}),s.jsx("span",{className:"font-medium",children:n.date})]}),n.eta&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"ETA"}),s.jsx("span",{className:"font-medium",children:n.eta})]})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Financial Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Rate"}),s.jsxs("span",{className:"text-xl font-semibold text-green-600",children:["$",n.price.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Rate per Mile"}),s.jsxs("span",{className:"text-xl font-semibold text-green-600",children:["$",n.miles?(n.price/n.miles).toFixed(2):"N/A"]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Payment Status"}),s.jsx("span",{className:"text-xl font-semibold",children:n.status==="Delivered"?"Ready for Invoice":"Pending Delivery"})]})]})]}),n.notes&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Notes"}),s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:s.jsx("p",{className:"text-sm text-gray-700",children:n.notes})})]})]})})}),s.jsxs("div",{children:[s.jsx(st,{children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Status Timeline"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative flex items-start",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center z-10 mr-4",children:s.jsx("i",{className:"fas fa-clipboard-check text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-medium",children:n.status==="Posted"?"Posted":"Booked"}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.date).toLocaleDateString()})]})]}),s.jsxs("div",{className:`relative flex items-start ${["Posted","Booked"].includes(n.status)?"opacity-50":""}`,children:[s.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full ${["Posted","Booked"].includes(n.status)?"bg-gray-100":"bg-green-100"} flex items-center justify-center z-10 mr-4`,children:s.jsx("i",{className:`fas fa-user-check ${["Posted","Booked"].includes(n.status)?"text-gray-400":"text-green-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-medium",children:"Assigned"}),n.driver&&!["Posted","Booked"].includes(n.status)?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm text-gray-500",children:["Carrier: ",n.broker]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Driver: ",n.driver]})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]})]}),s.jsxs("div",{className:`relative flex items-start ${["Posted","Booked","Assigned"].includes(n.status)?"opacity-50":""}`,children:[s.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full ${["En Route","Picked Up","Delivered","Awaiting Docs","Paid"].includes(n.status)?"bg-yellow-100":"bg-gray-100"} flex items-center justify-center z-10 mr-4`,children:s.jsx("i",{className:`fas fa-truck ${["En Route","Picked Up","Delivered","Awaiting Docs","Paid"].includes(n.status)?"text-yellow-600":"text-gray-400"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-medium",children:n.status==="En Route"?"En Route":"Picked Up"}),n.pickupDate&&!["Posted","Booked","Assigned"].includes(n.status)?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.pickupDate).toLocaleDateString()}),n.eta&&s.jsxs("p",{className:"text-sm text-gray-500",children:["ETA: ",n.eta]})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]})]}),s.jsxs("div",{className:`relative flex items-start ${["Delivered","Awaiting Docs","Paid"].includes(n.status)?"":"opacity-50"}`,children:[s.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full ${["Delivered","Awaiting Docs","Paid"].includes(n.status)?"bg-purple-100":"bg-gray-100"} flex items-center justify-center z-10 mr-4`,children:s.jsx("i",{className:`fas fa-check-circle ${["Delivered","Awaiting Docs","Paid"].includes(n.status)?"text-purple-600":"text-gray-400"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-medium",children:"Delivered"}),n.deliveryDate&&["Delivered","Awaiting Docs","Paid"].includes(n.status)?s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.deliveryDate).toLocaleDateString()}):s.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]})]}),["Awaiting Docs","Paid"].includes(n.status)&&s.jsxs("div",{className:"relative flex items-start",children:[s.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full ${n.status==="Paid"?"bg-gray-100":"bg-orange-100"} flex items-center justify-center z-10 mr-4`,children:s.jsx("i",{className:`fas ${n.status==="Paid"?"fa-dollar-sign text-gray-600":"fa-file-alt text-orange-600"}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-medium",children:n.status}),s.jsx("p",{className:"text-sm text-gray-500",children:n.status==="Paid"?"Payment processed":"Waiting for documents"})]})]})]})]})]})}),n.documents&&n.documents.length>0&&s.jsx(st,{className:"mt-6",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Documents"}),s.jsx("div",{className:"space-y-4",children:n.documents.map(M=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-3",children:s.jsx("i",{className:`fas ${M.type==="PDF"?"fa-file-pdf text-red-500":"fa-file-image text-blue-500"} text-lg`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:M.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[M.uploadDate,"  ",M.size]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-gray-600 hover:text-gray-800",onClick:()=>T(M),disabled:g!==null,title:"Preview",children:g===M.id?s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-gray-600 rounded-full border-t-transparent"}):s.jsx("i",{className:"fas fa-eye"})}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800",onClick:()=>_(M),disabled:h!==null,title:"Download",children:h===M.id?s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 rounded-full border-t-transparent"}):s.jsx("i",{className:"fas fa-download"})})]})]},M.id))})]})})]})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-gray-100 rounded-full p-4 mb-4",children:s.jsx("i",{className:"fas fa-exclamation-triangle text-3xl text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Load not found"}),s.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-4",children:"The load you are looking for does not exist or has been removed."}),s.jsx("button",{className:"btn btn-primary",onClick:O,children:"Back to All Loads"})]})})},kO="http://localhost:8080/api",eie=async()=>{console.log("Testing backend connection...");try{console.log("1. Testing health endpoint...");const e=await(await fetch(`${kO}/health`)).json();console.log("Health check response:",e),console.log(`
2. Testing login endpoint...`);const r=await fetch(`${kO}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"admin",password:"password123"})});if(r.ok){const n=await r.json();console.log("Login successful:",n),console.log(`
3. Testing token validation...`);const i=await fetch(`${kO}/auth/validate`,{headers:{Authorization:`Bearer ${n.token}`}});if(i.ok){const a=await i.json();console.log("Token validation successful:",a)}else console.error("Token validation failed:",i.status)}else console.error("Login failed:",r.status,await r.text())}catch(t){console.error("Connection error:",t)}};typeof window<"u"&&(window.testBackend=eie);const CBe=()=>{const[t,e]=Y.useState([]),[r,n]=Y.useState(!1),i=async()=>{n(!0),e(["Starting backend connection tests..."]);const a=console.log,o=console.error,l=[];console.log=(...u)=>{l.push("[LOG] "+u.join(" ")),a(...u)},console.error=(...u)=>{l.push("[ERROR] "+u.join(" ")),o(...u)};try{await eie()}catch(u){l.push("[ERROR] Test failed: "+u)}console.log=a,console.error=o,e(l),n(!1)};return s.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Backend Connection Test"}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx("button",{onClick:i,disabled:r,className:"bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 disabled:bg-gray-400",children:r?"Running Tests...":"Run Connection Tests"})}),s.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded font-mono text-sm overflow-auto max-h-96",children:t.length===0?s.jsx("div",{className:"text-gray-500",children:'Click "Run Connection Tests" to start...'}):t.map((a,o)=>s.jsx("div",{className:a.includes("[ERROR]")?"text-red-400":"",children:a},o))}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Test Information:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:" Backend URL: http://localhost:8080"}),s.jsx("li",{children:" Test credentials: admin / password123"}),s.jsx("li",{children:" Make sure the backend is running on port 8080"}),s.jsx("li",{children:" Check browser console for detailed logs"})]})]})]})]})})},EBe=({children:t})=>localStorage.getItem("octopus_tms_token")||sessionStorage.getItem("octopus_tms_token")?s.jsx(s.Fragment,{children:t}):s.jsx(Of,{to:"/login",replace:!0}),TBe=xoe([{path:"/login",element:s.jsx(I2,{children:s.jsx(xBe,{})})},{path:"/forgot-password",element:s.jsx(I2,{children:s.jsx(kBe,{})})},{path:"/test-backend",element:s.jsx(I2,{children:s.jsx(CBe,{})})},{path:"/",element:s.jsx(I2,{children:s.jsx(EBe,{children:s.jsx(tde,{})})}),children:[{path:"/",element:s.jsx(Of,{to:"/dashboard",replace:!0})},{path:"/reports",element:s.jsx(gBe,{})},{path:"/settings",element:s.jsx(Qne,{})},{path:"/profile",element:s.jsx(yBe,{})},{path:"/supervisor",element:s.jsx(SBe,{})},{path:"/load-details/:id",element:s.jsx(ABe,{})},{path:"carrier",children:EY},...EY,...gFe,...pBe]}]);function PBe(){return s.jsxs(Nle,{children:[s.jsx(koe,{router:TBe}),s.jsx(jle,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",borderRadius:"8px"},success:{style:{background:"#22c55e"}},error:{style:{background:"#ef4444"},duration:4e3}}})]})}qie.createRoot(document.getElementById("root")).render(s.jsx(Y.StrictMode,{children:s.jsx(PBe,{})}));
